"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{73185:function(e,t,l){l.d(t,{Z:function(){return T}});var n=l(70917),r=l(90116),i=l(59499),o=(l(67294),l(2736)),c=l(91462),a=l(42750),s=l(73133),u=l(89788),d=l(99478),p=l(94830),h=l(13634),Z=l(70464),g=l(753),m=l(86343),v=l(76259),f=l(70522),b=l(39109),x=l(56276),w=l(34399),B=l(80291),P=l(69608),y=l(53209),I=l(55162),O=l(86611),X=l(88942),G=l(34666),W=l(50535),C=l(35944);function k(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function V(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?k(Object(l),!0).forEach((function(t){(0,i.Z)(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):k(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var j=(0,o.K)("form"),S=(0,o.K)("button");function R(){return(0,C.BX)(o.Z,{css:[c.l0.rowWithGap(4),c.l0.align.center,c.l0.py(12),"",""],children:[(0,C.tZ)(x.Z,{}),(0,C.tZ)(s.x,{children:"Add a Post to your Repl"})]})}function U(e){var t=e.onClick;return(0,C.BX)(S,{onClick:t,css:[c.l0.rowWithGap(8),c.l0.align.center,c.l0.justify.spaceBetween,c.l0.px(8),c.l0.color.foregroundDefault,a.gU.outlined,"",""],children:[(0,C.tZ)(R,{}),(0,C.tZ)(o.Z,{children:(0,C.tZ)(b.Z,{})})]})}function A(e){var t=e.onClose;return(0,C.BX)(o.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center,c.l0.justify.spaceBetween,"",""],children:[(0,C.tZ)(R,{}),(0,C.tZ)(o.Z,{children:(0,C.tZ)(h.Z,{alt:"Remove post",onClick:function(){return t()},children:(0,C.tZ)(w.Z,{})})})]})}function T(e){var t=e.replId,l=(0,y.c)({replId:t}),i=l.replIdField,a=l.titleField,h=l.bodyField,b=l.replIconUrlField,x=l.tagsField,k=l.addPostIsExpanded,S=l.setAddPostIsExpanded,R=l.input,T=l.inputError,D=l.selectedRepl,E=(0,d.cX)(),F=(0,X.Kb)({items:E.repls,initialHighlightedIndex:-1,onInputValueChange:function(e){var t=e.inputValue;E.setSearchValue(t)},onSelectedItemChange:function(e){null!==e&&void 0!==e&&e.selectedItem&&(i.setValue(e.selectedItem.id),F.closeMenu())},itemToString:d._J}),L=(0,y.Z)({source:"replTalk"}),_=L.createReplPost,z=L.error,M=L.loading,K=Boolean(b.value&&!b.value.endsWith(".svg")),N=(0,O.W)(b.setValue);return(0,C.BX)(u.Z,{elevated:!0,css:[c.l0.p(16),c.l0.colWithGap(16),c.l0.borderRadius(8),"",""],children:[(0,C.BX)(s.x,{variant:"subheadBig",children:["Publish ",t?"this":"a"," Repl"]}),(0,C.BX)(j,{onSubmit:function(e){e.preventDefault(),null!==R&&_(R)},css:[c.l0.colWithGap(24),"",""],children:[(0,C.BX)(o.Z,{css:[c.l0.colWithGap(8),"",""],children:[(0,C.tZ)(s.x,{variant:"small",color:"dimmer",children:"REPL"}),t&&D?(0,C.BX)(o.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center,"",""],children:[(0,C.tZ)(I.Z,{size:24,iconUrl:b.value||D.iconUrl,alt:D.title}),(0,C.tZ)(s.x,{variant:"subheadBig",children:D.title})]}):null,t?null:(0,C.tZ)(d.BP,{getComboboxProps:F.getComboboxProps,getInputProps:F.getInputProps,getItemProps:F.getItemProps,getMenuProps:F.getMenuProps,isOpen:F.isOpen,highlightedIndex:F.highlightedIndex,inputValue:F.inputValue,selectedRepl:F.selectedItem?V(V({},F.selectedItem),{},{iconUrl:b.value||F.selectedItem.iconUrl}):void 0,repls:E.repls,loading:E.loading,onFocus:function(e){F.selectedItem&&(e.preventDefault(),e.currentTarget.select(),E.setSearchValue("")),F.openMenu()}})]}),(0,C.BX)(o.Z,{css:[c.l0.colWithGap(8),"",""],children:[(0,C.BX)(o.Z,{css:[c.l0.rowWithGap(4),"",""],children:[(0,C.tZ)(s.x,{variant:"small",color:"dimmer",children:"TAGS"})," ",(0,C.BX)(s.x,{variant:"small",color:"dimmest",children:[x.value.length,"/",5]})]}),(0,C.BX)(o.Z,{css:[c.l0.colWithGap(4),"",""],children:[(0,C.tZ)(f.Z,{max:5,tags:x.value,onAdd:function(e){return x.setValue([].concat((0,r.Z)(x.value),[e]))},onRemove:function(e){return x.setValue([].concat((0,r.Z)(x.value.slice(0,e)),(0,r.Z)(x.value.slice(e+1))))}}),(0,C.tZ)(s.x,{multiline:!0,color:"dimmest",variant:"small",children:(0,W.Z)(x.value)})]})]}),(0,C.BX)(o.Z,{css:[c.l0.colWithGap(8),"",""],children:[(0,C.tZ)(s.x,{variant:"small",color:"dimmer",children:"ICON"}),(0,C.BX)(o.Z,{css:[c.l0.rowWithGap(8),c.l0.align.start,"",""],children:[(0,C.tZ)(I.L,{alt:"icon",size:84,iconUrl:N.previewUrl||b.value||(null===D||void 0===D?void 0:D.templateInfo.iconUrl),isLoading:Boolean(N.previewUrl)}),(0,C.BX)(o.Z,{css:[c.l0.colWithGap(8),c.l0.flex.growAndShrink(1),"",""],children:[K?(0,C.BX)(o.Z,{css:[c.l0.rowWithGap(8),c.l0.flex.growAndShrink(1),"",""],children:[(0,C.tZ)(o.Z,{css:[c.l0.flex.growAndShrink(1),"",""],children:(0,C.tZ)(G.T,{text:"Change image",onFile:N.uploadImage})}),(0,C.tZ)(o.Z,{css:[c.l0.flex.growAndShrink(1),"",""],children:(0,C.tZ)(p.zx,{text:"Remove image",onClick:function(){return b.setValue(null)},outlined:!0,stretch:!0,iconLeft:(0,C.tZ)(w.Z,{}),type:"button"})})]}):(0,C.tZ)(o.Z,{css:[c.l0.flex.growAndShrink(1),"",""],children:(0,C.tZ)(G.T,{text:"Upload custom image",onFile:N.uploadImage})}),N.error?(0,C.tZ)(o.Z,{children:(0,C.tZ)(g.Z,{icon:(0,C.tZ)(v.Z,{}),colorway:"negative",text:N.error,closable:!0,closeAction:N.clearError})}):null]})]})]}),(0,C.tZ)(o.Z,{css:(0,n.iv)({borderBottom:"1px solid "+c.TV.outlineDimmest},"","")}),(0,C.BX)(o.Z,{css:[c.l0.colWithGap(8),"",""],children:[(0,C.BX)(o.Z,{css:[c.l0.rowWithGap(4),"",""],children:[(0,C.tZ)(s.x,{variant:"small",color:"dimmer",children:"POST"})," ",(0,C.tZ)(s.x,{variant:"small",color:"dimmest",children:"(Optional)"})]}),k?(0,C.BX)(o.Z,{css:[c.l0.borderRadius(8),c.l0.px(8),c.l0.pb(8),{border:"1px solid "+c.TV.outlineDefault},"",""],children:[(0,C.tZ)(A,{onClose:function(){return S(!1)}}),(0,C.BX)(o.Z,{css:[c.l0.colWithGap(8),"",""],children:[(0,C.tZ)(m.ZP,{autoFocus:!0,value:a.value,onChange:function(e){return a.setValue(e.currentTarget.value)},placeholder:"Give your post a title"}),(0,C.tZ)(P.Z,{onChange:h.setValue,placeholder:"You can write a Post to explain why you are sharing your Repl in detail. Posts can be about project updates, bug fixes, launches, questions, and more."}),(0,C.tZ)(Z.Z,{})]})]}):(0,C.tZ)(U,{onClick:function(){return S(!0)}})]}),z?(0,C.tZ)(g.Z,{colorway:"negative",icon:(0,C.tZ)(v.Z,{}),text:z}):null,(0,C.tZ)(o.Z,V(V({},T?{"aria-label":T,"data-microtip-position":"bottom",role:"tooltip"}:{}),{},{children:(0,C.tZ)(p.zx,{iconLeft:(0,C.tZ)(B.Z,{}),disabled:M||Boolean(T),colorway:"primary",text:M?"Publishing...":"Publish Repl",type:"submit",stretch:!0})}))]})]})}}}]);
//# sourceMappingURL=3185-c2635fdbbfba42da.js.map