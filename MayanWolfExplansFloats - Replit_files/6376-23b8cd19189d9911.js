(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6376],{34837:function(e){e.exports=e=>{const t=o("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAAQCAYAAAAoEfIQAAAAAXNSR0IArs4c6QAAActJREFUaIHtmttuwyAMQEm1//9l9kTEHGyMb4HVR6rSJYAdX8CDlpIkSZIkSbITFXxO5WTdT8fd9pe3AANqidWzGR3KxO7DNhpde4dj8mc6aPtYEO0zS0ZJJ3mXENvvbuQVI6zOdqPxOIE3a6MJXgv5fTvI7v5+m2ZbGHerPtXYHpM1vP+zoMCqEpr+UrT6WemwwwrU5EfqwrGrNpAlaMda9anG9iNZ6DhYAltAlYAcYHvvQOSOz3GmNIm58iksKgTpBGxVJXlMsJIEhPciJsMKrv39h+yPszLfDCzFItAmSNuwowKYI0Pz3hV8l2wkYv0i/DHSlfsO2D7LBZ7feK7AGqgAe7s0XSGynKYCdWRPdpnWEVGW9xPfqIqTVCCcDUgLqMlv1obrvz/9d03g/0RUEmOBP0pU2Ibq3xOVCB7VS9QmlKbP7L0fzz0TWOMA7EU8A4ebaFYbE9KxqTbcwKf6Nxkrcrms9Lf09UlVWynzFfoGS+BIR1FjvHWO6UHkSqx5zm0zYzaReJ1lnxo3V3etyPf++vzjcCzOgftxvP6PopLY8occeQ4sY1bCavpzx2CTDsWBjjjRVrutRKdtQibJ60QfZSVJkiQcfgHLRY8eT2qnRAAAAABJRU5ErkJggg=="),a=o("data:image/png;base64,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"),r={};a.onload=()=>{const e=a.width/8;" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split("").forEach(((t,a)=>{r[t]=[~~(a%e),~~(a/e)]}))};const s={pen:{cursor:"crosshair",key:"q",icon:0},erasor:{cursor:"crosshair",key:"w",icon:1},bucket:{cursor:"crosshair",key:"e",icon:2},rect:{cursor:"crosshair",key:"a",icon:3},circle:{cursor:"crosshair",key:"s",icon:4},line:{cursor:"crosshair",key:"d",icon:5},select:{cursor:"cell",key:"z",icon:6},move:{cursor:"move",key:"x",icon:7},eyedropper:{cursor:"crosshair",key:"c",icon:8}};function o(e,t){const a=new window.Image;return a.src=e,t&&(a.onload=()=>{t(a)}),a}function n(e,t,a){return Math.max(Math.min(e,a),t)}function i(e){return function(e){const t=new Image;return t.src=e,new Promise(((e,a)=>{t.onload=()=>{e(t)},t.onerror=()=>{a()}}))}(e).then((e=>c(e)))}const c=(e,t)=>{const a=document.createElement("canvas");let r=(()=>{if(e instanceof window.ImageData)return new window.ImageData(new Uint8ClampedArray(e.data),e.width,e.height);if(e instanceof window.Image){a.width=e.width,a.height=e.height;const t=a.getContext("2d");return t.drawImage(e,0,0),t.getImageData(0,0,e.width,e.height)}return new window.ImageData(new Uint8ClampedArray(e*t*4).fill(0),e,t)})();function s(){a.width=r.width,a.height=r.height;a.getContext("2d").putImageData(r,0,0)}function o(e,t){return 4*(t*r.width+e)}return{blend:"alpha",scissorRect:null,width:()=>r.width,height:()=>r.height,toImageData:()=>new window.ImageData(new Uint8ClampedArray(r.data),r.width,r.height),clone(){return c(this.toImageData())},clear(){r=new window.ImageData(new Uint8ClampedArray(r.width*r.height*4).fill(0),r.width,r.height)},set(e,t,a){if(!this.checkPt(e,t))return!1;const s=o(e,t);switch(this.blend){case"alpha":{const e=a[3]/255;r.data[s+0]=r.data[s+0]*(1-e)+a[0]*e,r.data[s+1]=r.data[s+1]*(1-e)+a[1]*e,r.data[s+2]=r.data[s+2]*(1-e)+a[2]*e,r.data[s+3]=r.data[s+3]*(1-e)+a[3]*e;break}case"replace":r.data[s+0]=a[0],r.data[s+1]=a[1],r.data[s+2]=a[2],r.data[s+3]=a[3];break;case"add":{const e=r.data[s+3]/255,t=a[3]/255;r.data[s+0]=r.data[s+0]*e+a[0]*t,r.data[s+1]=r.data[s+1]*e+a[1]*t,r.data[s+2]=r.data[s+2]*e+a[2]*t,r.data[s+3]=r.data[s+3]*e+a[3]*t;break}}return!0},get(e,t){const a=o(e,t);return[r.data[a+0],r.data[a+1],r.data[a+2],r.data[a+3]]},line(e,t,a,r,s){const o=a-e,n=r-t,i=Math.abs(o),c=Math.abs(n);let l=0;const f=o>0?1:-1,h=n>0?1:-1;if(i>c)for(let d=e,u=t;f<0?d>=a:d<=a;d+=f)this.set(d,u,s),l+=c,l<<1>=i&&(u+=h,l-=i);else for(let d=e,u=t;h<0?u>=r:u<=r;u+=h)this.set(d,u,s),l+=i,l<<1>=c&&(d+=f,l-=c)},fillRect(e,t,a,r,s){a<0&&(e+=a,a=-a),r<0&&(t+=r,r=-r);for(let o=e;o<e+a;o++)for(let e=t;e<t+r;e++)this.set(o,e,s)},strokeRect(e,t,a,r,s){a<0&&(e+=a,a=-a),r<0&&(t+=r,r=-r),this.line(e,t,e+a,t,s),this.line(e+a,t,e+a,t+r,s),this.line(e+a,t+r,e,t+r,s),this.line(e,t+r,e,t,s)},fillCircle(e,t,a,r){for(let s=e-(a=Math.abs(a));s<=e+a;s++)for(let o=t-a;o<=t+a;o++){Math.sqrt((s-e)**2+(o-t)**2)<=a&&this.set(s,o,r)}},bucket(e,t,a){if(!this.checkPt(e,t))return!1;const r=this.get(e,t);if(l(r,a))return!1;const s=[];for(s.push([e,t]);s.length;){const[e,t]=s.pop();this.checkPt(e,t)&&(l(this.get(e,t),r)&&(this.set(e,t,a),s.push([e,t-1]),s.push([e-1,t]),s.push([e+1,t]),s.push([e,t+1])))}return!0},merge(e,t=0,a=0){for(let s=0;s<r.width;s++)for(let o=0;o<r.height;o++){const n=e.get(s,o);n&&s+t>=0&&s+t<r.width&&o+a>=0&&o+a<r.height&&this.set(s+t,o+a,n)}},checkPt(e,t){if(this.scissorRect){const a=this.scissorRect;return e>=a[0][0]&&e<a[1][0]&&t>=a[0][1]&&t<a[1][1]}return e>=0&&e<r.width&&t>=0&&t<r.height},clampPt:e=>[n(e[0],0,r.width),n(e[1],0,r.height)],bbox(){let e=[0,0],t=[r.width-1,r.height-1];e:for(let a=e[0];a<=t[0];a++)for(let s=e[1];s<=t[1];s++){const t=o(a,s);if(0!==r.data[t+3]){e[0]=a;break e}}e:for(let a=t[0];a>=e[0];a--)for(let s=e[1];s<=t[1];s++){const e=o(a,s);if(0!==r.data[e+3]){t[0]=a;break e}}e:for(let a=e[1];a<=t[1];a++)for(let s=e[0];s<=t[0];s++){const t=o(s,a);if(0!==r.data[t+3]){e[1]=a;break e}}e:for(let a=t[1];a>=e[1];a--)for(let s=e[0];s<=t[0];s++){const e=o(s,a);if(0!==r.data[e+3]){t[1]=a;break e}}return[e,t]},crop(e,t){const a=t[0]-e[0]+1,s=t[1]-e[1]+1,o=c(a,s);for(let r=e[0];r<=t[0];r++)for(let a=e[1];a<=t[1];a++)o.set(r-e[0],a-e[1],this.get(r,a));r=o.toImageData()},toDataURL:()=>(s(),a.toDataURL("image/png")),toPNG(){const e=this.toDataURL().replace(/^data:image\/png;base64,/,""),t=window.atob(e),a=new Uint8Array(t.length);for(let r=0;r<a.length;r++)a[r]=t.charCodeAt(r);return a.buffer},drawable:()=>(s(),a),game(){const e=this.toImageData();for(let t=0;t<r.height;t++)for(let a=0;a<r.width;a++){let s=0,o=0,n=0,i=0;for(let e=-1;e<=1;e++)for(let c=-1;c<=1;c++)if((0!==e||0!==c)&&a-e>=0&&a+e<r.width&&t-c>=0&&t+c<r.height){const l=4*((t+c)*r.width+a+e);r.data[l+3]>0&&(o+=r.data[l+0],n+=r.data[l+1],i+=r.data[l+2],s++)}const c=4*(t*r.width+a);s<2||s>3?(e.data[c+0]=0,e.data[c+1]=0,e.data[c+2]=0,e.data[c+3]=0):3===s&&(e.data[c+0]=o/s,e.data[c+1]=n/s,e.data[c+2]=i/s,e.data[c+3]=255)}return c(e)}}};function l(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function f(e){return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}const h=e.canvas,d=e.canvas.getContext("2d"),u={width:e.width,height:e.height,curFrame:0,frames:[c(e.width||64,e.height||64)],fCanvas:c(64|e.width,e.height||64),anims:{},tool:"pen",color:[0,0,0,255],palette:e.palette||[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],view:{offset:[0,0],scale:1},state:{stack:[],offset:0},modified:!1,readOnly:e.readOnly,events:{},curAnim:null,animTimer:0,animSpeed:200,gaming:!1,gameTimer:0,gameSpeed:100},m={mouseDown:!1,mousePressed:!1,mouseMoved:!1,mousePos:[0,0],mousePosPrev:[0,0],mouseStartPos:null,grabbin:!1,delCb:()=>{},hideUI:!1,loopID:null,time:0};b(),d.imageSmoothingEnabled=!1;const g={game:{icon:14,action:function(){u.gaming=!0,u.readOnly=!0,D()}},export:{icon:13,action:()=>R("export")},save:{icon:12,action:()=>R("save")},crop:{icon:9,action:function(){let e,t;u.frames.forEach((a=>{const[r,s]=a.bbox();e&&t?(e[0]=Math.min(e[0],r[0]),e[1]=Math.min(e[1],r[0]),t[0]=Math.max(t[0],s[0]),t[1]=Math.max(t[1],s[0])):(e=r,t=s)})),u.frames.forEach((a=>a.crop(e,t))),u.width=K().width(),u.height=K().height(),D()}},undo:{icon:10,key:"shift+z",action:z},redo:{icon:11,key:"meta+shift+z",action:S}},p=document.createElement("input");function w(e){return[~~((e[0]-u.view.offset[0])/u.view.scale),~~((e[1]-u.view.offset[1])/u.view.scale)]}function v(){u.view.scale<=2||(u.view.scale--,u.view.offset[0]+=u.width/2,u.view.offset[1]+=u.height/2)}function y(){u.view.scale>=64||(u.view.scale++,u.view.offset[0]-=u.width/2,u.view.offset[1]-=u.height/2)}function b(){const e=h.width,t=h.height,a=(e-120)/u.width,r=(t-120)/u.height;u.view.scale=~~Math.min(a,r),u.view.offset=[(e-u.width*u.view.scale)/2,(t-u.height*u.view.scale)/2]}function k(e=u.curFrame){u.frames.splice(u.curFrame,0,K().clone()),e===u.curFrame&&P(u.curFrame+1),D()}function A(e=u.curFrame){u.frames.length>1&&(u.frames.splice(e,1),u.curFrame===u.frames.length&&P(u.frames.length-1)),D()}function P(e){u.curFrame=e,m.delCb=()=>{confirm(`removed frame ${e}?`)&&A(e)}}function O(e){u.color=e,m.delCb=()=>{confirm("remove selected color?")&&(u.palette=u.palette.filter((e=>!l(e,u.color))),R("change",u.palette))}}function E(){P(0===u.curFrame?u.frames.length-1:u.curFrame-1)}function U(){P((u.curFrame+1)%u.frames.length)}function C(){const e=K(),[t,a]=e.scissorRect;e.blend="replace",e.fillRect(t[0],t[1],a[0]-t[0],a[1]-t[1],[0,0,0,0]),e.blend="alpha",D()}function R(e,...t){if(u.events[e])for(const a of u.events[e])a(...t)}function D(){u.state.stack.length>=64||(u.state.offset>0&&(u.state.stack.splice(u.state.stack.length-u.state.offset,u.state.offset),u.state.offset=0),u.state.stack.push({frames:x(),curFrame:u.curFrame}),R("change"))}function I(e){u.frames=e.frames.map(c),P(e.curFrame),R("change")}function z(){u.state.offset>=u.state.stack.length-1||(u.state.offset++,I(u.state.stack[u.state.stack.length-u.state.offset-1]))}function S(){0!==u.state.offset&&(u.state.offset--,I(u.state.stack[u.state.stack.length-u.state.offset-1]))}function x(){return u.frames.map((e=>e.toImageData()))}function Y(){u.curAnim=null,u.animTimer=0,u.readOnly=e.readOnly}function F(e){u.curAnim?Y():function(e){u.curAnim=e,u.animTimer=0,P(u.anims[e].from),u.readOnly=!0}(e)}p.type="color",p.addEventListener("change",(e=>{const t=function(e){const t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t,255]}(e.target.value.substring(1));u.palette.push(t),O(t),R("change",u.palette)})),m.loopID=window.requestAnimationFrame((function e(o){const n=o-m.time;if(m.time=o,u.gaming&&(u.gameTimer+=n,u.gameTimer>=u.gameSpeed&&(u.frames[u.curFrame]=K().game(),u.gameTimer=0)),u.curAnim&&(u.animTimer+=n,u.animTimer>=u.animSpeed)){const e=u.anims[u.curAnim];e.to<e.from?u.curFrame>e.to?E():P(e.from):u.curFrame<e.to?U():P(e.from),u.animTimer=0}let i=!1,c=!1,v=null;const y=K(),b=h.width,A=h.height,D=u.view.scale,I=u.view.offset[0],z=u.view.offset[1];function S(e,t,a={}){const r=a.lineWidth||2;let s;return{width:e,height:t,update(){s&&(a.click||a.hover)&&function(e,t,a,r){a<0&&(e+=a,a=-a),r<0&&(t+=r,r=-r);const[s,o]=m.mousePos;return s>=e&&s<=e+a&&o>=t&&o<=t+r}(s.x,s.y,e,t)&&(i=!0,a.hover&&a.hover(),m.mousePressed&&!c&&(a.click&&a.click(),c=!0))},draw(){s=d.getTransform().transformPoint(),this.update(),a.bg&&(d.fillStyle=f(a.bg),d.fillRect(0,0,e,t)),a.border&&(d.lineWidth=r,d.strokeStyle=f(a.border),d.strokeRect(0,0,e,t))}}}function x(e,t={}){const a=t.align||"left",r=t.margin||0,s=t.padding||0;let o=0,n=0;for(const f of e)f&&(o=Math.max(f.width,o),n+=f.height+r);const i=o+2*s,c=n+2*s,l=S(i,c,t);return{width:i,height:c,update(){e.reverse().forEach((e=>{e.update()}))},draw(){l.draw(),d.save(),d.translate(s,s),e.forEach((e=>{if(!e)return;const t=(()=>{switch(a){case"left":return 0;case"center":return(o-e.width)/2;case"left":return o-e.width}})();d.translate(t,0),e.draw(),d.translate(-t,e.height+r)})),d.restore()}}}function Y(e,t={}){const a=t.align||"top",r=t.margin||0,s=t.padding||0;let o=0,n=0;for(const f of e)f&&(o+=f.width,n=Math.max(f.height,n));const i=o+2*s,c=n+2*s,l=S(i,c,t);return{width:i,height:c,update(){e.reverse().forEach((e=>{e.update()}))},draw(){l.draw(),d.save(),d.translate(s,s),e.forEach((e=>{if(!e)return;const t=(()=>{switch(a){case"top":return 0;case"center":return(n-2*s-e.height)/2;case"bottom":return n-2*s-e.height}})();d.translate(0,t),e.draw(),d.translate(e.width+r,-t)})),d.restore()}}}function j(e,t={}){const a=t.padding||0,r=t.sw||e.width,s=t.sh||e.height,o=(t.width||r)+2*a,n=(t.height||s)+2*a,i=o+2*a,c=n+2*a,l=t.sx||0,f=t.sy||0,h=(t.lineWidth,S(i,c,t));return{width:i,height:c,update(){h.update()},draw(){h.draw(),d.drawImage(e,l,f,r,s,a,a,o,n)}}}function L(e,t={}){e+="";const s=t.size||12,o=t.padding||0,n=e.length*s+2*o,i=s+2*o,c=t.color||[0,0,0,255],l=(t.lineWidth,S(n,i,t));return{width:n,height:i,update(){l.update()},draw(){l.draw(),d.fillStyle=f(c);const t=e.split("");let n=0;for(const e of t)if(r[e]){const[t,i]=r[e];d.drawImage(a,8*t,8*i,8,8,o+n,o,s,s),n+=s}}}}function J(e,t,a){t||a?function(e,t,a,r={}){return{width:a.width,height:a.height,update(){a.update()},draw(){d.save(),d.translate(e,t),a.draw(),d.restore()}}}(t,a,e).draw():e.draw()}function M(e,t,a,r={}){const s=S(e,t,r);return{width:e,height:t,update(){a.reverse().forEach((([e])=>{e.update()}))},draw(){s.draw(),a.forEach((([e,[t,a]])=>{d.save(),d.translate(t,a),e.draw(),d.restore()}))}}}const N=S(b,A,{bg:[170,170,170,255]}),T=Y([...u.frames.map(((e,t)=>{const a=t===u.curFrame;return L(t,{padding:a?6:3,bg:a?[255,255,255,255]:[230,230,230,255],border:[0,0,0,255],size:16,click(){P(t)}})})),!u.readOnly&&L("+",{padding:3,bg:[230,230,230,255],border:[0,0,0,255],size:16,click(){k()}})],{align:"bottom"}),q=S(y.width()*D,y.height()*D,{bg:[255,255,255,255]}),G=S(y.width()*D,y.height()*D,{border:[0,0,0,255]});function V(e,t={}){const a=t.dx||0,r=t.dy||0;return{width:e.width()*D,height:e.height()*D,draw(){d.save(),d.scale(D,D),d.translate(a,r),d.drawImage(e.drawable(),0,0),d.restore()}}}if(M(b,A,[[N,[0,0]],[q,[I,z]],[V(y),[I,z]],[(()=>{if("move"===u.tool&&m.mouseStartPos){const[e,t]=w(m.mousePos),[a,r]=w(m.mouseStartPos),[s,o]=[e-a,t-r];return V(u.fCanvas,{dx:s,dy:o})}return V(u.fCanvas)})(),[I,z]],[T,[I,z-T.height]],[G,[I,z]]]).draw(),y.scissorRect){const e=y.scissorRect[0],t=y.scissorRect[1];d.lineDashOffset=o/100,d.strokeStyle=f([0,0,0,255]),d.setLineDash([5,5]),d.strokeRect(e[0]*D+I,e[1]*D+z,(t[0]-e[0])*D,(t[1]-e[1])*D),d.strokeStyle=f([255,255,255,255]),d.setLineDash([0,5,5,0]),d.strokeRect(e[0]*D+I,e[1]*D+z,(t[0]-e[0])*D,(t[1]-e[1])*D),d.setLineDash([])}if(!u.readOnly){const[e,t]=w(m.mousePos),a=e*D+I,r=t*D+z;if(y.checkPt(e,t))switch(u.tool){case"pen":case"rect":case"line":case"circle":case"bucket":J(S(D,D,{bg:u.color}),a,r);break;case"erasor":J(S(D,D,{bg:[255,255,255,255],border:[0,0,0,255]}),a,r)}}const H={padding:3,size:16,bg:[255,255,255,255],border:[0,0,0,255]},W=x([...u.palette.map((e=>S(24,24,{bg:e,border:[0,0,0,255],lineWidth:l(e,u.color)?4:2,click(){O(e)}}))),L("+",{size:24,bg:[255,255,255,255],border:[0,0,0,255],click(){p.click()}})]),X=x([...Object.keys(s).map((e=>{const a=s[e];return j(t,{sx:16*a.icon,sw:16,sh:16,width:32,height:32,bg:[255,255,255,255],border:[0,0,0,255],lineWidth:u.tool===e?4:2,click(){u.tool=e},hover(){v={msg:`${e} (${a.key})`,pos:[-1,1]}}})}))]),B=Y([...Object.keys(g).map((e=>{const a=g[e];return j(t,{sx:16*a.icon,sw:16,sh:16,width:32,height:32,bg:[255,255,255,255],border:[0,0,0,255],click(){a.action()},hover(){v={msg:`${e}`,pos:[-1,-1]}}})}))]),Q=x([!u.readOnly&&L("+",{...H,click(){const e=prompt("add anim:");e&&(u.anims[e]={from:0,to:0,loop:!0},R("change"))}}),...Object.keys(u.anims).map((e=>{const t=u.anims[e],a=e===u.curAnim;return Y([L((a?">":"")+e,{...H,lineWidth:a?4:2,click(){F(e)}}),L(t.from,{...H,lineWidth:a?4:2,click(){t.from=(t.from+1)%u.frames.length,R("change")}}),L(t.to,{...H,lineWidth:a?4:2,click(){t.to=(t.to+1)%u.frames.length,R("change")}})])}))]);if(m.hideUI||function(e,t,a,r={}){return M(e,t,a.filter((e=>e)).map((([a,r])=>[a,[r[0]*(e-a.width),r[1]*(t-a.height)]])),r)}(b,A,[!u.readOnly&&[W,[0,0]],!u.readOnly&&[X,[1,0]],!u.readOnly&&[B,[1,1]],[Q,[0,1]]]).draw(),v){const e=6,[t,a]=m.mousePos,r=L(v.msg,{padding:3,bg:[255,255,255,255],border:[0,0,0,255]});J(r,t+(r.width*(v.pos[0]-1)/2+v.pos[0]*e),a+(r.height*(v.pos[1]-1)/2+v.pos[1]*e))}if(i?h.style.cursor="pointer":m.grabbin?h.style.cursor="grab":h.style.cursor=s[u.tool].cursor,m.mousePressed&&!c){const[e,t]=w(m.mousePos);if(m.mouseDown=!0,!u.readOnly)switch(u.tool){case"pen":y.set(e,t,u.color);break;case"erasor":y.blend="replace",y.set(e,t,[0,0,0,0]),y.blend="alpha";break;case"bucket":y.bucket(e,t,u.color);break;case"move":y.scissorRect&&(u.fCanvas.scissorRect=y.scissorRect,u.fCanvas.merge(y),u.fCanvas.scissorRect=null,C());break;case"eyedropper":u.color=y.get(e,t)}}m.mousePressed=!1,m.loopID=window.requestAnimationFrame(e)}));const j={wheel(e){e.preventDefault(),e.altKey?e.deltaY<0?y():e.deltaY>0&&v():(u.view.offset[0]-=e.deltaX,u.view.offset[1]-=e.deltaY)},mousedown(e){m.mousePressed=!0,m.mousePosPrev=[...m.mousePos],m.mousePos=[e.offsetX,e.offsetY],m.mouseStartPos=[...m.mousePos]},mousemove(e){if(u.readOnly)return;if(m.mousePosPrev=[...m.mousePos],m.mousePos=[e.offsetX,e.offsetY],m.mouseMoved=!0,m.grabbin&&(u.view.offset[0]+=e.movementX,u.view.offset[1]+=e.movementY),!m.mouseDown)return;const t=K(),[a,r]=w(m.mousePos),[s,o]=w(m.mousePosPrev),[n,i]=w(m.mouseStartPos);switch(u.tool){case"pen":t.line(s,o,a,r,u.color);break;case"erasor":t.blend="replace",t.line(s,o,a,r,[0,0,0,0]),t.blend="alpha";break;case"rect":u.fCanvas.clear(),u.fCanvas.fillRect(n,i,a-n,r-i,u.color);break;case"line":u.fCanvas.clear(),u.fCanvas.line(n,i,a,r,u.color);break;case"circle":u.fCanvas.clear(),u.fCanvas.fillCircle(n,i,Math.max(a-n,r-i),u.color);break;case"select":{const[e,s]=t.clampPt([n,i]),[o,c]=t.clampPt([a,r]);t.scissorRect=[[e,s],[o,c]];break}case"move":{const[e,n]=[a-s,r-o];t.scissorRect[0][0]+=e,t.scissorRect[1][0]+=e,t.scissorRect[0][1]+=n,t.scissorRect[1][1]+=n;break}}},mouseup(e){if(u.readOnly)return;m.mouseDown=!1,m.mousePosPrev=[m.mousePos,m.mousePos],m.mousePos=[e.offsetX,e.offsetY];const t=K(),[a,r]=w(m.mousePos),[s,o]=w(m.mouseStartPos);switch(m.mouseStartPos=null,u.tool){case"pen":case"erasor":case"bucket":D();break;case"rect":case"circle":case"line":t.merge(u.fCanvas),u.fCanvas.clear(),D();break;case"move":if(t.scissorRect){const[e,n]=[a-s,r-o];t.merge(u.fCanvas,e,n),u.fCanvas.clear(),D()}}},keydown(t){if(!t.metaKey)for(const e in s){if(s[e].key===t.key)return void(u.tool=e)}const a=K();switch(t.key){case"-":v();break;case"=":y();break;case"0":b();break;case"ArrowLeft":E();break;case"ArrowRight":U();break;case" ":m.grabbin=!0,t.preventDefault();break;case"Escape":Y(),u.gaming=!1,u.gameTimer=0,u.readOnly=e.readOnly,z()}if(!u.readOnly)switch(t.key){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":O(u.palette[parseInt(t.key,10)-1]||u.color);break;case"+":k();break;case"_":A();break;case"z":t.metaKey&&(t.preventDefault(),t.shiftKey?S():z());break;case"s":t.metaKey&&(t.preventDefault(),R("save"));break;case"l":t.metaKey&&(t.preventDefault(),R("load"));break;case"Backspace":a.scissorRect?(C(),a.scissorRect=null):m.delCb();break;case"Escape":a.scissorRect=null;break;case"Tab":t.preventDefault(),m.hideUI=!m.hideUI}},keyup(e){if(" "===e.key)m.grabbin=!1}};h.onselectstart=()=>!1;for(const T in j)h.addEventListener(T,j[T]);function K(){return u.frames[u.curFrame]}function L(){return{version:"1",width:u.width,height:u.height,palette:u.palette,anims:u.anims,frames:u.frames.map((e=>e.toDataURL()))}}function J(e){return u.width=e.width,u.height=e.height,u.palette=e.palette,u.anims=e.anims,Promise.all(e.frames.map(((e,t)=>i(e).then((e=>{u.frames[t]=e}))))).then((()=>{u.frames.length=e.frames.length,P(0),N(),b()}))}function M(e,...t){const a=URL.createObjectURL(new Blob(...t)),r=document.createElement("a");r.href=a,r.download=e,r.click()}function N(){u.state.stack=[{frames:x(),curFrame:u.curFrame}]}return N(),e.data&&J(e.data),{frames:function(){return u.frames},curFrame:K,on:function(e,t){u.events[e]||(u.events[e]=[]),u.events[e].push(t)},setTool:function(e){if(!s[e])throw new Error(`no tool called ${e} bro`);u.tool=e},setColor:O,setPalette:function(e){u.palette=e},save:L,load:J,undo:z,redo:S,pushState:D,scaleUp:y,scaleDown:v,scaleFit:b,newFrame:k,delFrame:A,prevFrame:E,nextFrame:U,download:function(e){M(e,[JSON.stringify(L())])},downloadPNG:function(e){M(e,[K().toPNG()])},cleanUp:function(){for(const e in j)h.removeEventListener(e,j[e]);window.cancelAnimationFrame(m.loopID)}}}},24561:function(e,t,a){"use strict";var r=a(67294),s=function(){return s=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)};var o=function(){return Math.random().toString(36).substring(2)},n=function(e){var t=e.rtl,a=e.speed,n=e.interval,i=e.style,c=e.width,l=e.height,f=e.baseUrl,h=e.gradientRatio,d=e.animate,u=e.ariaLabel,m=e.children,g=e.className,p=e.uniquekey,w=e.primaryColor,v=e.primaryOpacity,y=e.secondaryColor,b=e.secondaryOpacity,k=e.preserveAspectRatio,A=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),P=p?p+"-idClip":o(),O=p?p+"-idGradient":o(),E=t?{transform:"scaleX(-1)"}:{},U="0; "+n+"; 1",C=a+"s";return(0,r.createElement)("svg",s({role:"img",style:s({},i,E),className:g,"aria-label":u||null,viewBox:"0 0 "+c+" "+l,preserveAspectRatio:k},A),u?(0,r.createElement)("title",null,u):null,(0,r.createElement)("rect",{x:"0",y:"0",width:c,height:l,clipPath:"url("+f+"#"+P+")",style:{fill:"url("+f+"#"+O+")"}}),(0,r.createElement)("defs",null,(0,r.createElement)("clipPath",{id:P},m),(0,r.createElement)("linearGradient",{id:O},(0,r.createElement)("stop",{offset:"0%",stopColor:w,stopOpacity:v},d&&(0,r.createElement)("animate",{attributeName:"offset",values:-h+"; "+-h+"; 1",keyTimes:U,dur:C,repeatCount:"indefinite"})),(0,r.createElement)("stop",{offset:"50%",stopColor:y,stopOpacity:b},d&&(0,r.createElement)("animate",{attributeName:"offset",values:-h/2+"; "+-h/2+"; "+(1+h/2),keyTimes:U,dur:C,repeatCount:"indefinite"})),(0,r.createElement)("stop",{offset:"100%",stopColor:w,stopOpacity:v},d&&(0,r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+h),keyTimes:U,dur:C,repeatCount:"indefinite"})))))},i={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},c=function(e){return(0,r.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},l=function(e){var t=s({},i,e);return(0,r.createElement)(n,s({},t),e.children||(0,r.createElement)(c,s({},t)))};t.ZP=l},59204:function(e){var t;t=function(){var e=JSON.parse('{"$":"dollar","&":"and","<":"less",">":"greater","|":"or","\xa2":"cent","\xa3":"pound","\xa4":"currency","\xa5":"yen","\xa9":"(c)","\xaa":"a","\xae":"(r)","\xba":"o","\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xfe":"th","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010c":"C","\u010d":"c","\u010e":"D","\u010f":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011a":"E","\u011b":"e","\u011e":"G","\u011f":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012a":"i","\u012b":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013b":"L","\u013c":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0158":"R","\u0159":"r","\u015a":"S","\u015b":"s","\u015e":"S","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016a":"u","\u016b":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01c8":"LJ","\u01c9":"lj","\u01cb":"NJ","\u01cc":"nj","\u0218":"S","\u0219":"s","\u021a":"T","\u021b":"t","\u02da":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038a":"I","\u038c":"O","\u038e":"Y","\u038f":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u03aa":"I","\u03ab":"Y","\u03ac":"a","\u03ad":"e","\u03ae":"h","\u03af":"i","\u03b0":"y","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c2":"s","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ca":"i","\u03cb":"y","\u03cc":"o","\u03cd":"y","\u03ce":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040a":"NJ","\u040b":"C","\u040f":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045f":"dz","\u0490":"G","\u0491":"g","\u0e3f":"baht","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"f","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u1e9e":"SS","\u1ea0":"A","\u1ea1":"a","\u1ea2":"A","\u1ea3":"a","\u1ea4":"A","\u1ea5":"a","\u1ea6":"A","\u1ea7":"a","\u1ea8":"A","\u1ea9":"a","\u1eaa":"A","\u1eab":"a","\u1eac":"A","\u1ead":"a","\u1eae":"A","\u1eaf":"a","\u1eb0":"A","\u1eb1":"a","\u1eb2":"A","\u1eb3":"a","\u1eb4":"A","\u1eb5":"a","\u1eb6":"A","\u1eb7":"a","\u1eb8":"E","\u1eb9":"e","\u1eba":"E","\u1ebb":"e","\u1ebc":"E","\u1ebd":"e","\u1ebe":"E","\u1ebf":"e","\u1ec0":"E","\u1ec1":"e","\u1ec2":"E","\u1ec3":"e","\u1ec4":"E","\u1ec5":"e","\u1ec6":"E","\u1ec7":"e","\u1ec8":"I","\u1ec9":"i","\u1eca":"I","\u1ecb":"i","\u1ecc":"O","\u1ecd":"o","\u1ece":"O","\u1ecf":"o","\u1ed0":"O","\u1ed1":"o","\u1ed2":"O","\u1ed3":"o","\u1ed4":"O","\u1ed5":"o","\u1ed6":"O","\u1ed7":"o","\u1ed8":"O","\u1ed9":"o","\u1eda":"O","\u1edb":"o","\u1edc":"O","\u1edd":"o","\u1ede":"O","\u1edf":"o","\u1ee0":"O","\u1ee1":"o","\u1ee2":"O","\u1ee3":"o","\u1ee4":"U","\u1ee5":"u","\u1ee6":"U","\u1ee7":"u","\u1ee8":"U","\u1ee9":"u","\u1eea":"U","\u1eeb":"u","\u1eec":"U","\u1eed":"u","\u1eee":"U","\u1eef":"u","\u1ef0":"U","\u1ef1":"u","\u1ef2":"Y","\u1ef3":"y","\u1ef4":"Y","\u1ef5":"y","\u1ef6":"Y","\u1ef7":"y","\u1ef8":"Y","\u1ef9":"y","\u2018":"\'","\u2019":"\'","\u201c":"\\"","\u201d":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20a0":"ecu","\u20a2":"cruzeiro","\u20a3":"french franc","\u20a4":"lira","\u20a5":"mill","\u20a6":"naira","\u20a7":"peseta","\u20a8":"rupee","\u20a9":"won","\u20aa":"new shequel","\u20ab":"dong","\u20ac":"euro","\u20ad":"kip","\u20ae":"tugrik","\u20af":"drachma","\u20b0":"penny","\u20b1":"peso","\u20b2":"guarani","\u20b3":"austral","\u20b4":"hryvnia","\u20b5":"cedi","\u20b9":"indian rupee","\u20bd":"russian ruble","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221e":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\ufdfc":"rial"}');function t(t,a){if("string"!==typeof t)throw new Error("slugify: string argument expected");a="string"===typeof a?{replacement:a}:a||{};var r=t.split("").reduce((function(t,r){return t+(e[r]||r).replace(a.remove||/[^\w\s$*_+~.()'"!\-:@]/g,"")}),"").trim().replace(/[-\s]+/g,a.replacement||"-").replace("#{replacement}$","");return a.lower?r.toLowerCase():r}return t.extend=function(t){for(var a in t)e[a]=t[a]},t},e.exports=t(),e.exports.default=t()},90420:function(e){"use strict";e.exports={i8:"2.20.0"}}}]);
//# sourceMappingURL=6376-23b8cd19189d9911.js.map