"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4766],{43686:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(50988),o=n(55110),i=n(58526);function a(e){var t=e.filePath,n=e.replId,a=(0,r.gs8)({variables:{replId:n}}).data,c=(0,i.Z)("flag-codex-java"),s=(0,o.eC)(t,c);return"Repl"===(null===a||void 0===a?void 0:a.repl.__typename)&&a.repl.hasExplainCode&&s}},33854:function(e,t,n){var r=n(67294).createContext(null);t.Z=r},57638:function(e,t,n){n.d(t,{Y:function(){return f},F:function(){return d}});var r=n(65988),o=n.n(r),i=n(67294),a=n(18952),c=n(36732),s=n(41850),u=n(86374),l=n(35944);function f(){return i.useEffect((function(){(0,u.track)(u.events.WS_REPLCO_UNREACHABLE)}),[]),(0,l.BX)("div",{className:"jsx-2441068684 unreachable",children:[(0,l.BX)(s.gC,{align:"center",spacing:4,children:[(0,l.BX)(s.gC,{align:"center",children:[(0,l.tZ)(c.Z,{level:1,children:"\ud83d\ude48"}),(0,l.tZ)(c.Z,{level:4,children:"This repl link isn't broken!"}),(0,l.tZ)(c.Z,{level:4,foreground:2,children:"It's just blocked."})]}),(0,l.BX)(s.gC,{spacing:2,className:"why",children:[(0,l.tZ)(a.Z,{foreground:2,children:"Why this might be happening:"}),(0,l.tZ)(a.Z,{foreground:2,children:(0,l.BX)("ul",{className:"jsx-2441068684",children:[(0,l.BX)("li",{className:"jsx-2441068684",children:["repl.co URLs could be"," ",(0,l.tZ)(a.Z,{fontWeight:"medium",foreground:1,children:"blocked by a firewall,"})," ","so contact your IT administrator"]}),(0,l.BX)("li",{className:"jsx-2441068684",children:["repl.co URLs could be"," ",(0,l.tZ)(a.Z,{fontWeight:"medium",foreground:1,children:"blocked by your ISP,"})," ","so try getting in touch with them"]})]})})]}),(0,l.BX)(a.Z,{foreground:2,align:"center",children:["If you have any other questions, please check out"," ",(0,l.tZ)("a",{href:"https://docs.replit.com/Teams/IT_Toolkit",target:"_blank",rel:"noopener noreferrer",className:"jsx-2441068684",children:"our IT docs"})," ","or"," ",(0,l.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",className:"jsx-2441068684",children:"contact support"}),"."]})]}),(0,l.tZ)(o(),{id:"2441068684",children:[".unreachable.jsx-2441068684{padding:var(--space-32);}",".unreachable.jsx-2441068684 ul.jsx-2441068684{list-style-position:inside;}",".unreachable.jsx-2441068684 li.jsx-2441068684{padding-bottom:var(--space-16);}"]})]})}var d=i.createContext(!1)},3658:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(17674),o=n(67294),i=n(79367),a=n.n(i);function c(){var e=o.useState(null),t=(0,r.Z)(e,2),n=t[0],i=t[1];return o.useLayoutEffect((function(){if(n)return a()(n),function(){a().destroy(n)}}),[n]),{ref:i,update:function(){n&&a().update(n)}}}},46486:function(e,t,n){n.d(t,{f6:function(){return u},xZ:function(){return f}});var r=n(17674),o=n(67294),i=n(26936),a=n(97498),c=n(49753);function s(e){var t=o.useState(!1),n=(0,r.Z)(t,2),c=n[0],s=n[1],u=(0,i.Z)(),l=(0,a.Z)().dotReplit;return o.useEffect((function(){l.getConfig().then((function(t){!t.error&&u.current&&t.config.language===e&&s(!0)}))}),[e,l,u]),c}function u(){return s("kaboomdraw")}var l=/^draw.[tj]s$/;function f(){var e=(0,c.Z)();return u()&&Boolean(null===e||void 0===e?void 0:e.match(l))}},12661:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(67294),o=n(63805);function i(){var e=(0,r.useRef)(0),t=(0,r.useState)(!1),n=t[0],i=t[1],a=window.visualViewport;return(0,r.useEffect)((function(){if(a&&(0,o.isMobile)({tablet:!1})){var t=function(){var t=a.height<.8*e.current;i(t)};return e.current=a.height,a.addEventListener("resize",t),function(){a.removeEventListener("resize",t)}}}),[a]),n}},11655:function(e,t,n){function r(e){if(!e)return!1;try{var t=new URL(e);return Boolean(t)}catch(n){return!1}}n.d(t,{Z:function(){return r}})},72779:function(e,t,n){n.d(t,{H:function(){return r},E:function(){return L}});var r,o=n(59499),i=n(50029),a=n(17674),c=n(87794),s=n.n(c),u=n(14998),l=n(73133),f=n(2736),d=n(91462),p=n(67294),h=n(58526),v=n(86374),m=n(27881),g=n(20278),b=n(66941),y=n(41951),w=n(50988),x=n(20159),Z=n(35944);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.Video="Video",e.Editor="Editor",e.Examples="Examples",e.Run="Run",e.Output="Output",e.Sidepane="Sidepane",e.Share="Share"}(r||(r={}));var O="workspace-desktop-tour",C=[{id:r.Video,title:"Get started with the Workspace",content:A,isModal:!0},{id:r.Editor,title:"Code Editor",content:"This is where you write code. Code describes how programs work. The editor helps you write code, by coloring certain types, and giving you suggestions when you type. Click on one of the examples to see how code looks."},{id:r.Examples,title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:r.Run,title:"Running Code",content:'This button takes your code and executes, or "runs", it. You can also run your code using the '.concat(b.V5?"Cmd":"Ctrl","+Return shortcut.")},{id:r.Output,title:"Program Output",content:"This is where the results of the code appear when you run it. Results can be console output (just text), a website, game, or graphics display, depending on the programming language and setup."},{id:r.Sidepane,title:"Filetree & Sidepanes",content:"Here are all the files in this project. There's usually a starter file, but you can make more files and folders as your project grows. The sidepane also contains different features for working on your program."},{id:r.Share,title:"Invite & Collaborate",content:"Invite others to your repl to collaborate and work together at the same time."}],S=C.filter((function(e){return e.id!==r.Video})),j={id:O,steps:C},P={id:O,steps:S};function D(){var e=(0,m.X)(),t=e&&!e.isDone&&!e.isLoading;return(0,p.useEffect)((function(){if(t){var e=window.store,n=function(t){var n=e.getState().plugins,r=Object.entries(n).find((function(e){var n=(0,a.Z)(e,2);n[0];return n[1].type===t}));return r?r[0]:null},r=setInterval((function(){!function(){var t=e.getState(),r=t.layout,o=t.plugins,i=g.PP(r,o,"terminal2");if(i){var a=g.Il(g.Il(i)),c=g.QK(r,a);if("tabs"===c.type){var s=n("terminal2"),u=c.tabs.findIndex((function(e){return"pane"===e.type&&e.pud===s}));c.active!==u&&e.dispatch({type:"SET_ACTIVE_TAB",path:a,tabIndex:u})}}}(),function(){var t=e.getState(),r=t.layout,o=t.plugins;if(!g.PP(r,o,"filetree")){var i=n("filetree");e.dispatch({type:"OPEN_SIDE_NAV_ITEM",navItem:{pud:i}})}}()}),200);return function(){clearInterval(r)}}}),[t]),null}if(!C.find((function(e){return e.id===r.Video})))throw new Error("Expected video step");var T=!1;var I="ws-tour-youtube-video",R={name:"1pvalt1",styles:"width:560px;height:340px"};function A(){return(0,p.useEffect)((function(){var e=null,t=!1;function n(){return r.apply(this,arguments)}function r(){return(r=(0,i.Z)(s().mark((function n(){var r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,new Promise((function(t){e=new window.YT.Player(I,{height:"360",width:"640",videoId:"TK_pvR672o0",playerVars:{origin:window.location.origin},events:{onReady:function(){return setTimeout(t,100)}}})}));case 4:if(!t){n.next=7;break}return null===(r=e)||void 0===r||r.destroy(),n.abrupt("return");case 7:if(e){n.next=9;break}throw new Error("expected player");case 9:e.cueVideoById({videoId:"TK_pvR672o0"});case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return T||(T=!0,(0,x.iM)("https://www.youtube.com/player_api")),window.YT?n():window.onYouTubePlayerAPIReady=n,function(){var n,r,o,i;t=!0,window.onYouTubePlayerAPIReady=null;var a=null===(n=e)||void 0===n?void 0:n.getCurrentTime(),c=null===(r=e)||void 0===r?void 0:r.getDuration();"function"===typeof(null===(o=window.analytics)||void 0===o?void 0:o.user)&&(0,v.identify)({id:window.analytics.user().id(),workspaceTourVideoWatchPercentage:c&&a?Math.floor(a/c*100):0}),null===(i=e)||void 0===i||i.destroy()}}),[]),(0,Z.BX)(f.Z,{children:[(0,Z.tZ)(l.x,{variant:"subheadDefault",css:d.l0.mb(8),children:"Watch this 1 minute video to learn how to build on Replit"}),(0,Z.tZ)("div",{id:I,css:R})]})}function _(){var e=(0,w.PpL)({variables:{tours:O}}),t=e.data,n=e.loading,o=(0,w.oep)({variables:{name:O},optimisticResponse:{markTourAsSeen:{__typename:"TourSeen",id:O,seen:!0}}}),i=(0,a.Z)(o,1)[0],c=Boolean(!n&&t&&t.currentUser&&!t.currentUser.toursSeen[0].seen);return(0,Z.tZ)(y.Z,{centered:!0,maxWidth:"fit-content",isOpen:c,onRequestClose:function(){var e;i(),"function"===typeof(null===(e=window.analytics)||void 0===e?void 0:e.user)&&(0,v.identify)({id:window.analytics.user().id(),workspaceTourStatus:r.Video.toLowerCase()})},children:(0,Z.tZ)(A,{})})}function L(e){var t=e.children,n=(0,h.Q)("flag-workspace-tour-multivariate");if("videoOnly"===n)return(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(_,{}),t]});function r(e){var t;"function"===typeof(null===(t=window.analytics)||void 0===t?void 0:t.user)&&(0,v.identify)({id:window.analytics.user().id(),workspaceTourStatus:e===C[C.length-1].id?"completed":e.toLowerCase()})}var o={tour:"full"===n?j:P,onStep:r,onDone:r};return n&&"off"!==n||(o.isDoneInitialOverride=!0),(0,Z.BX)(u.rk,E(E({},o),{},{children:[(0,Z.tZ)(D,{}),t]}))}},55162:function(e,t,n){n.d(t,{Z:function(){return d},L:function(){return p}});n(67294);var r=n(89788),o=n(91462),i=n(2736),a=n(28100),c=n(70917),s=n(5699),u=n(35944),l=(0,c.iv)([o.l0.overflow("hidden"),o.l0.position.relative,{border:"1px solid "+o.TV.outlineDimmest}],"",""),f={16:4,24:4,32:4,64:8,84:16};function d(e){var t=e.alt,n=e.iconUrl,c=e.size,s=void 0===c?32:c,d=s<32?4:8;if(n.endsWith(".svg")){var p=f[s],h=s-2*p;return(0,u.tZ)(r.Z,{elevated:!0,css:[o.l0.p(p),o.l0.borderRadius(d),l,o.l0.width(s),o.l0.height(s),"",""],children:(0,u.tZ)(i.Z,{css:[o.l0.position.relative,o.l0.width(h),o.l0.height(h),"",""],children:(0,u.tZ)(a.Z,{alt:t,src:n,layout:"fill",objectFit:"contain"})})})}return(0,u.tZ)(r.Z,{elevated:!0,css:[l,o.l0.borderRadius(d),o.l0.width(s),o.l0.height(s),"",""],children:(0,u.tZ)(a.Z,{alt:t,src:n,layout:"fill",objectFit:"cover"})})}function p(e){var t=e.isLoading,n=e.alt,a=e.iconUrl,c=e.size,l=void 0===c?32:c,f=a?(0,u.tZ)(d,{alt:n,iconUrl:a,size:l}):null;return!t&&f?f:(0,u.BX)(i.Z,{css:[o.l0.position.relative,o.l0.width(l),o.l0.height(l),"",""],children:[f,(0,u.tZ)(r.Z,{elevated:!0,css:[o.l0.borderRadius(8),o.l0.coverContainer,"opacity:0.8;",""]}),t?(0,u.tZ)(i.Z,{css:[o.l0.coverContainer,o.l0.center,o.l0.color.accentPrimaryDefault,"",""],children:(0,u.tZ)(s.Z,{})}):null]})}},54047:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(17674),o=n(67294);function i(e){var t=e.container,n=e.service,i=e.name,a=e.skip,c=void 0!==a&&a,s=o.useState({isConnecting:!0,channel:null,error:null,context:null}),u=(0,r.Z)(s,2),l=u[0],f=u[1];return o.useEffect((function(){var e=t.openChannel({service:n,name:i,skip:function(){return c}},(function(e){if(!e.error)return f({context:e.context,channel:e.channel,error:null,isConnecting:!1}),function(e){f({isConnecting:e.willReconnect,channel:null,error:null,context:null})};f({context:e.context,channel:null,error:e.error,isConnecting:!1})}));return function(){e()}}),[t,n,i,c]),l}},85636:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(17674),o=n(67294),i=n(97498),a=n(67966);function c(){var e,t,n=(0,i.Z)().container,c=o.useState(null!==(e=null===(t=n.getContext())||void 0===t?void 0:t.repl)&&void 0!==e?e:null),s=(0,r.Z)(c,2),u=s[0],l=s[1];return o.useEffect((function(){return n.onConnectionStateChanged((function(e){var t,r;e===a.e.CONNECTED&&l(null!==(t=null===(r=n.getContext())||void 0===r?void 0:r.repl)&&void 0!==t?t:null)}))}),[l,n]),u}},3728:function(e,t,n){n.d(t,{Z:function(){return $e}});var r,o=n(50029),i=n(87794),a=n.n(i),c=n(67966),s=n(4412);!function(e){e.USER_JOIN="USER_JOIN",e.USER_LEAVE="USER_LEAVE",e.USERS_UPDATE="USERS_UPDATE",e.USER_OPENED_FILE="USER_OPENED_FILE",e.FOLLOWED_USER_CHANGED="FOLLOWED_USER_CHANGED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED"}(r||(r={}));var u=n(90116),l=n(50055),f=n(78068);function d(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=Object.values(f.Z.multiplayer);function v(e){var t={};return h.forEach((function(e){t[e]=0})),e.forEach((function(e){t[e.color]++})),Object.keys(t).sort((function(e,n){return t[e]-t[n]}))[0]}function m(e){var t,n=d(e.sessions.sort((function(e,t){return e.timestamp-t.timestamp})));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.activeFile)return r.activeFile}}catch(o){n.e(o)}finally{n.f()}return null}function g(e,t){var n=t.find((function(t){return t.sessions.some((function(t){return t.id===e}))}));if(!n)throw new Error("Expected user with session ID ".concat(e));return n}function b(e){var t=e.seconds,n=e.nanos;return Number(t||0)+(n||0)/1e9}var y=n(86374);var w=n(74307),x=n(94690),Z=n(62991),k=n.n(Z);function E(e){var t=e.container,n=(0,w.Z)();n.setMaxListeners(1/0);var i=[],c=null,s=[],f={},d=null,p=window.performance.now();function h(){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return",d);case 2:return e.abrupt("return",new Promise((function(e){n.once(r.USERS_UPDATE,(function(){if(!d)throw new Error("Expected presenceChannel to be set");e(d)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){k()(c,e)||(c=e,n.emit(r.FOLLOWED_USER_CHANGED,e))}function O(){return(O=(0,o.Z)(a().mark((function e(t){var n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(n=c)||void 0===n?void 0:n.username)!==t){e.next=2;break}throw new Error("Already following user with username ".concat(t));case 2:if(!c){e.next=5;break}return e.next=5,C();case 5:return e.next=7,h();case 7:if(r=e.sent,o=i.find((function(e){return e.username===t}))){e.next=11;break}return e.abrupt("return");case 11:E(o),o.sessions.forEach((function(e){r.send({followUser:{session:e.id}})})),p=window.performance.now(),(0,y.track)(y.events.LOCAL_USER_CURSOR_FOLLOWED);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return S.apply(this,arguments)}function S(){return(S=(0,o.Z)(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}throw new Error("No user to unfollow");case 2:return t=c,E(null),e.next=6,h();case 6:n=e.sent,t.sessions.forEach((function(e){n.send({unfollowUser:{session:e.id}})})),r=window.performance.now()-p,(0,y.track)(y.events.LOCAL_USER_CURSOR_UNFOLLOWED,{sessionLength:r});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.openChannel({service:"presence",name:"presencer"},(function(e){var t=e.channel;if(!e.error){if(!t)throw new Error("Expected channel");return t.onCommand((function(e){var t={cmd:e,emitter:n,activeUsers:i,userIdToFile:f,followedUser:c,setFollowedUser:E,followingUsers:s};switch(e.body){case"roster":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=e.followedUser,c=e.followingUsers,s=e.setFollowedUser,l=t.roster;if(l){var f=l.user,d=l.files;if(f&&d){var p=new Set;if(o.splice(0,o.length),f.forEach((function(e){if(e.id&&e.name&&e.roles&&!p.has(e.id)){var t=d.filter((function(t){return t.userId===e.id})).map((function(e){if(!e.session||!e.timestamp)throw new Error("Expected session and associated with user");return{id:e.session,activeFile:e.file||null,timestamp:b(e.timestamp)}}));o.push({id:e.id,username:e.name,roles:e.roles,color:v(o),sessions:t}),p.add(e.id)}})),o.forEach((function(e){i[e.id]=m(e)})),n.emit(r.USERS_UPDATE,(0,u.Z)(o)),o.length>1&&(0,y.track)(y.events.MP2_USER_JOINED,{count:o.length}),c.filter((function(e){return!o.some((function(t){return t.id===e.id}))})).forEach((function(e){var t=c.indexOf(e);-1!==t&&(c.splice(t,1),n.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:(0,u.Z)(c),user:e,type:"unfollow"}))})),a)if(o.some((function(e){return e.id===a.id}))){var h=i[a.id];n.emit(r.USER_OPENED_FILE,{user:a,file:h})}else s(null)}}}(t);break;case"join":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=t.join;if(a.id&&a.name&&a.roles&&a.session){var c=o.find((function(e){return e.id===a.id})),s=Math.floor(Date.now()/1e3),f=b(l.google.protobuf.Timestamp.create({seconds:s}));if(c)c.sessions.push({id:a.session,activeFile:null,timestamp:f});else{var d={id:a.id,username:a.name,roles:a.roles,color:v(o),sessions:[{id:a.session,activeFile:null,timestamp:f}]};i[a.id]=null,o.push(d),n.emit(r.USER_JOIN,d),n.emit(r.USERS_UPDATE,(0,u.Z)(o)),(0,y.track)(y.events.MP2_USER_JOINED,{count:o.length})}}}(t);break;case"part":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=e.followedUser,c=e.followingUsers,s=e.setFollowedUser;if(t.part&&t.part.id&&t.part.session){var l=t.part,f=l.id,d=l.session,p=o.findIndex((function(e){return e.id===f})),h=o[p];if(1===h.sessions.length){o.splice(p,1),delete i[h.id],n.emit(r.USER_LEAVE,h),n.emit(r.USERS_UPDATE,(0,u.Z)(o)),a&&s(null);var v=c.findIndex((function(e){return e.id===h.id}));-1!==v&&(c.splice(v,1),n.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:(0,u.Z)(c),user:h,type:"unfollow"}))}else{h.sessions=h.sessions.filter((function(e){return e.id!==d}));var g=m(h);i[h.id]!==g&&(i[h.id]=g,n.emit(r.USER_OPENED_FILE,{user:h,file:g}))}}}(t);break;case"fileOpened":!function(e){var t=e.emitter,n=e.cmd,o=e.activeUsers,i=e.userIdToFile;if(n.fileOpened){var a=n.fileOpened,c=a.userId,s=a.file,u=a.timestamp,l=a.session,f=s||null;if(!c||!u)throw new Error("Expected userId and timestamp associated with file opened command");var d=o.find((function(e){return e.id===c}));if(!d)throw new Error("Expected user with ID ".concat(c));var p=d.sessions.find((function(e){return e.id===l}));if(!p)throw new Error("Expected session with ID ".concat(p));p.activeFile=f,p.timestamp=b(u),i[c]=f,t.emit(r.USER_OPENED_FILE,{user:d,file:f})}}(t);break;case"followUser":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.followingUsers,a=t.followUser;if(!a.session)throw new Error("Expected session associated with follow user");var c=g(a.session,o);i.some((function(e){return e.id===c.id}))||(i.push(c),n.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:(0,u.Z)(i),user:c,type:"follow"}))}(t);break;case"unfollowUser":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.followingUsers,a=t.unfollowUser;if(!a.session)throw new Error("Expected session associated with follow user");var c=g(a.session,o),s=i.findIndex((function(e){return e.id===c.id}));-1!==s&&(i.splice(s,1),n.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:(0,u.Z)(i),user:c,type:"unfollow"}))}(t);break;case"sessionTimestampUpdated":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=t.sessionTimestampUpdated;if(!a.session||!a.timestamp)throw new Error("Expected session and tiemstamp associated with update");var c=a.session,s=g(c,o),u=i[s.id],l=s.sessions.find((function(e){return e.id===c}));if(!l)throw new Error("Expected user ".concat(s.id," to have a session with ID ").concat(c));l.timestamp=b(a.timestamp);var f=l.activeFile;f!==u&&(i[s.id]=f,n.emit(r.USER_OPENED_FILE,{user:s,file:f}))}(t)}})),d=t,function(){d=null}}})),{onUserLeave:function(e){return n.on(r.USER_LEAVE,e),function(){n.removeListener(r.USER_LEAVE,e)}},onUserJoin:function(e){return n.on(r.USER_JOIN,e),function(){n.removeListener(r.USER_LEAVE,e)}},onActiveUsersChange:function(e){return n.on(r.USERS_UPDATE,e),function(){n.removeListener(r.USERS_UPDATE,e)}},onUserOpenedFile:function(e){return n.on(r.USER_OPENED_FILE,e),function(){n.removeListener(r.USER_OPENED_FILE,e)}},onFollowedUserChanged:function(e){return n.on(r.FOLLOWED_USER_CHANGED,e),function(){n.removeListener(r.FOLLOWED_USER_CHANGED,e)}},onFollowingUsersChanged:function(e){return n.on(r.FOLLOWING_USERS_CHANGED,e),function(){n.removeListener(r.FOLLOWING_USERS_CHANGED,e)}},getActiveFileForUser:function(e){var t=f[e];if("undefined"===typeof t)throw new Error("Expected file for user with ID ".concat(e," to be defined"));return t},updateOpenFile:function(e){return(0,o.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:t.sent.send({openFile:{file:e}});case 4:case"end":return t.stop()}}),t)})))()},updateSessionTimestamp:function(){return(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:e.sent.send({updateSessionTimestamp:{}});case 4:case"end":return e.stop()}}),e)})))()},followUser:function(e){return O.apply(this,arguments)},unfollowUser:C,getActiveUsers:function(){return i},getFollowedUser:function(){return c},getFollowingUsers:function(){return s},getUserIdToFile:function(){return f},getPathToUserIds:function(){var e=new Map;function t(n,r){var o;if(""!==n){e.has(n)||e.set(n,[]);var i=e.get(n);if(!i)throw new Error("Expected user Ids");i.some((function(e){return e===r}))||(null===(o=e.get(n))||void 0===o||o.push(r),t((0,x.Il)(n),r))}}return i.forEach((function(e){var n=e.id,r=f[n];r&&t(r,n)})),e}}}var O=n(59499),C=n(98474),S=n(90579);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D,T=n(86962);!function(e){e.MESSAGES_LOADED="MESSAGES_LOADED",e.MESSAGE_RECEIVED="MESSAGE_RECEIVED",e.MESSAGE_SENT="MESSAGE_SENT",e.USER_TYPING_UPDATED="USER_TYPING_UPDATED"}(D||(D={}));var I,R=n(68417),A=n(70945),_=n(34548);!function(e){e.MESSAGE_RECEIVED="MESSAGE_RECEIVED"}(I||(I={}));var L=n(80077),N=n(17674),U=n(6170),F=n(40802),B=n(92777),M=n(82262),H=n(48764).Buffer,X=8192,G="utf8",V=function(){function e(){(0,B.Z)(this,e),this.index=void 0,this.buffer=void 0,this.index=0,this.buffer=new H(X)}return(0,M.Z)(e,[{key:"append",value:function(e){var t=H.from(e,G);if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var n=(Math.ceil((this.index+t.length)/X)+1)*X;0===this.index?(this.buffer=new H(n),t.copy(this.buffer,0,0,t.length)):this.buffer=H.concat([this.buffer.slice(0,this.index),t],n)}this.index+=t.length}},{key:"tryReadHeaders",value:function(){for(var e,t=0;t+3<this.index&&(13!==this.buffer[t]||10!==this.buffer[t+1]||13!==this.buffer[t+2]||10!==this.buffer[t+3]);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((function(t){var n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");var r=t.substr(0,n),o=t.substr(n+1).trim();if(!e)throw new Error("Expected result");e[r]=o}));var n=t+4;return this.buffer=this.buffer.slice(n),this.index-=n,e}},{key:"tryReadContent",value:function(e){if(this.index<e)return null;var t=this.buffer.toString(G,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index-=n,t}},{key:"numberOfBytes",value:function(){return this.index}}]),e}();function z(e){var t=new V,n=-1;return{read:function(r){for(t.append(r);;){if(-1===n){var o=t.tryReadHeaders();if(!o)return;var i=o["Content-Length"];if(!i)return F.Tb(new Error("Header must provide a Content-Length property.")),!1;var a=parseInt(i,10);if(isNaN(a))return F.Tb(new Error("Content-Length value must be a number.")),!1;n=a}var c=t.tryReadContent(n);if(null===c)return;n=-1;try{var s=JSON.parse(c);e(s)}catch(u){F.Tb(u)}}}}}var W=a().mark($);function J(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.length===t.length){r.next=2;break}return r.abrupt("return");case 2:n=0;case 3:if(!(n<e.length)){r.next=9;break}return r.next=6,[e[n],t[n]];case 6:n++,r.next=3;break;case 9:case"end":return r.stop()}}),W)}var Q=n(48764).Buffer;function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){var t=e.channel,n=e.beforeRun,r=(0,L.u)("terminated"),i=(0,L.u)([]),c=(0,L.u)([]),s=(0,L.u)(new Map),f=(0,L.u)(null),d=(0,w.Z)(),p=function(e,t){var n=new Map,r=new Map,i=new Map;function c(){return(c=(0,o.Z)(a().mark((function t(o){var c,s,u,l,f,d,p,h,v,m,g,b,y,w,x,Z,k,E,O,C,S,j,P,D,T;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=J(n.entries()),t.prev=1,c.s();case 3:if((s=c.n()).done){t.next=21;break}if(u=(0,N.Z)(s.value,2),l=u[0],f=u[1],void 0===o||o===l){t.next=7;break}return t.abrupt("continue",19);case 7:return t.next=9,e({command:"setBreakpoints",arguments:{source:{name:l,path:l},breakpoints:f.map((function(e){return{line:e.line,logMessage:e.logMessage||void 0}}))}});case 9:if((d=t.sent).success){t.next=12;break}return t.abrupt("continue",19);case 12:p=J(r);try{for(p.s();!(h=p.n()).done;){m=(0,N.Z)(h.value,2),g=m[0],b=m[1],(null===(v=b.source)||void 0===v?void 0:v.name)===l&&r.delete(g),y=J(i);try{for(y.s();!(w=y.n()).done;)x=(0,N.Z)(w.value,2),Z=x[0],x[1]===g&&i.delete(Z)}catch(a){y.e(a)}finally{y.f()}}}catch(a){p.e(a)}finally{p.f()}E=J((k=d).body.breakpoints);try{for(E.s();!(O=E.n()).done;)null!=(C=O.value).id&&r.set(C.id,K({source:{name:l,path:l}},C))}catch(a){E.e(a)}finally{E.f()}S=J($(f,k.body.breakpoints));try{for(S.s();!(j=S.n()).done;)P=(0,N.Z)(j.value,2),D=P[0],T=P[1],D.breakpointId&&null!=T.id&&i.set(D.breakpointId,T.id)}catch(a){S.e(a)}finally{S.f()}case 19:t.next=3;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(1),c.e(t.t0);case 26:return t.prev=26,c.f(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[1,23,26,29]])})))).apply(this,arguments)}function s(){var e,t=new Map,o=new Set,a=J(n.entries());try{for(a.s();!(e=a.n()).done;){var c=(0,N.Z)(e.value,2),s=c[0],u=c[1];if(0!==u.length){var l,f=[],d=J(u);try{for(d.s();!(l=d.n()).done;){var p=l.value;if(p.breakpointId&&p.line){var h=i.get(p.breakpointId),v=void 0===h?void 0:r.get(h);v&&o.add(h),f.push({dapId:h,pid1Id:p.breakpointId,line:v&&v.line||p.line,verified:Boolean(null===v||void 0===v?void 0:v.verified),logMessage:p.logMessage||void 0})}}}catch(D){d.e(D)}finally{d.f()}t.set(s,f)}}}catch(D){a.e(D)}finally{a.f()}var m,g=J(r.entries());try{for(g.s();!(m=g.n()).done;){var b,y,w=(0,N.Z)(m.value,2),x=w[0],Z=w[1];if(!o.has(x)){var k=(0,U.IT)((null===(b=Z.source)||void 0===b?void 0:b.path)||(null===(y=Z.source)||void 0===y?void 0:y.name)||""),E=Z.line;if(k&&E){var O=t.get(k);O||(O=[],t.set(k,O));var C,S=!1,j=J(O);try{for(j.s();!(C=j.n()).done;){var P=C.value;if(P.line===Z.line){P.dapId=x,P.verified=Z.verified,S=!0;break}}}catch(D){j.e(D)}finally{j.f()}S||O.push({dapId:x,line:E,verified:Z.verified})}}}}catch(D){g.e(D)}finally{g.f()}return t}return{findPathByBreakpointId:function(e){var t,r=J(n.entries());try{for(r.s();!(t=r.n()).done;){var o=(0,N.Z)(t.value,2),i=o[0];if(o[1].some((function(t){return t.breakpointId===e})))return i}}catch(a){r.e(a)}finally{r.f()}return null},getBreakpoints:s,flush:function(e){return c.apply(this,arguments)},handleDAPBreakpointEvent:function(e){var n=e.body,o=n.reason,i=n.breakpoint,a=i.id;if(null!==a&&void 0!==a){switch(o){case"changed":case"new":r.set(a,K(K({},r.get(a)),i));break;case"removed":r.delete(a);break;default:return}t(s())}},handlePID1BreakpointEvent:function(e){var r=e.absolutePath?(0,U.IT)(e.absolutePath):null;r&&(n.set(r,e.breakpoints||[]),t(s()))},handleDebugSessionEnded:function(){r.clear(),i.clear();var e,o=J(n.entries());try{for(o.s();!(e=o.n()).done;){var a=(0,N.Z)(e.value,2),c=a[0];0===a[1].length&&n.delete(c)}}catch(u){o.e(u)}finally{o.f()}t(s())}}}(Z,(function(e){s.current=e})),h=(0,L.u)(!1),v=[],m=z((function(e){var t;if(v.push({time:Date.now(),direction:"in",data:e}),"event"===e.type)switch(e.event){case"continued":r.current="running";break;case"stopped":r.current="paused",f.current=null!==(t=e.body.threadId)&&void 0!==t?t:null,d.emit("paused",e.body.reason),function(){C.apply(this,arguments)}();break;case"breakpoint":p.handleDAPBreakpointEvent(e)}else if("response"===e.type){var n=e,o=g.get(n.request_seq);o&&(g.delete(n.request_seq),o(e))}})),g=new Map,b=100;function y(){r.current="terminated",i.current=[],c.current=[],f.current=null,p.handleDebugSessionEnded(),h.current=!1}var x=!1;function Z(e){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=b++;g.set(r,e);var o=te(te({},n),{},{type:"request",seq:r});v.push({time:Date.now(),direction:"out",data:o});var i={debugInput:{session:"main",adapterInput:re(o)}};v.push({time:Date.now(),direction:"out",data:i}),t.send(i)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.push({time:Date.now(),direction:"out",data:n}),e.next=3,t.request(n);case 3:if(r=e.sent,v.push({time:Date.now(),direction:"in",data:r}),!r.error){e.next=7;break}throw r.error;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=(0,o.Z)(a().mark((function e(){var t,n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current=[],c.current=[],e.next=4,Z({command:"stackTrace",arguments:{threadId:f.current}});case 4:if((t=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:if(i.current=t.body.stackFrames,0!==i.current.length){e.next=10;break}return e.abrupt("return");case 10:return n=i.current[0],e.next=13,Z({command:"scopes",arguments:{frameId:n.id}});case 13:if((r=e.sent).success){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Promise.all(r.body.scopes.map((function(e){return Z({command:"variables",arguments:{variablesReference:e.variablesReference}}).then((function(t){return{response:t,parentVariableReference:e.variablesReference}}))})));case 18:o=e.sent,c.current=o.filter((function(e){return e.response.success})).reduce((function(e,t){var n=t.response,r=t.parentVariableReference;return e.concat(n.body.variables.map((function(e){return te(te({},e),{},{parentVariableReference:r})})))}),[]);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)(a().mark((function e(){var o,c,s,u,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("terminated"===r.current){e.next=2;break}throw new Error("Cant start while debugger is already running");case 2:return r.current="preinitializing",i.current=[],e.next=6,n();case 6:if("stopping"!==r.current){e.next=9;break}return r.current="terminated",e.abrupt("return");case 9:return x=!0,r.current="initializing",s={debugMain:{session:"main",readOnly:!1}},v.push({time:Date.now(),direction:"out",data:s}),e.next=15,t.request(s);case 15:if(u=e.sent,v.push({time:Date.now(),direction:"in",data:u}),!u.error){e.next=21;break}return d.emit("output",u.error),r.current="terminated",e.abrupt("return");case 21:return e.next=23,Z({command:"initialize",arguments:{clientID:"replit",clientName:"replit.com",adapterID:"cppdbg",pathFormat:"path",linesStartAt1:!0,columnsStartAt1:!0,supportsVariableType:!0,supportsVariablePaging:!0,supportsRunInTerminalRequest:!1,locale:"en-us",supportsProgressReporting:!0,supportsInvalidatedEvent:!0}});case 23:if((l=e.sent).success){e.next=27;break}return r.current="terminated",e.abrupt("return");case 27:return h.current=Boolean(null===(o=l.body)||void 0===o?void 0:o.supportsStepBack),f=!(null!==(c=l.body)&&void 0!==c&&c.supportsConfigurationDoneRequest),e.next=31,p.flush();case 31:if(f){e.next=34;break}return e.next=34,Z({command:"configurationDone"});case 34:"initializing"===r.current&&(r.current="running"),d.emit("started",f);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)(a().mark((function e(t,n){var o,i,c,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.line,i=n.otIndex,c=n.otVersion,s=n.logMessage,u=(0,U.om)(t)||t,e.next=4,E({debugAddBreakpointRequest:{path:u,line:o,otIndex:i,otVersion:c,logMessage:s}});case 4:if("terminated"===r.current){e.next=7;break}return e.next=7,p.flush(t);case 7:d.emit("breakpoint","added");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return I.apply(this,arguments)}function I(){return(I=(0,o.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.findPathByBreakpointId(t),e.next=3,E({debugRemoveBreakpointRequest:{breakpointId:t}});case 3:if("terminated"===r.current||!n){e.next=6;break}return e.next=6,p.flush(n);case 6:d.emit("breakpoint","removed");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=(0,o.Z)(a().mark((function e(t,n){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p.findPathByBreakpointId(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,E({debugUpdateBreakpointRequest:{breakpointId:t,logMessage:n.logMessage}});case 5:if("terminated"===r.current){e.next=8;break}return e.next=8,p.flush(o);case 8:d.emit("breakpoint","updated");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=(0,o.Z)(a().mark((function e(t,n){var r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=null===(r=s.current.get(t))||void 0===r||null===(o=r.find((function(e){return e.line===n.line&&void 0!==e.pid1Id})))||void 0===o?void 0:o.pid1Id)){e.next=6;break}return e.next=4,T(i);case 4:e.next=8;break;case 6:return e.next=8,P(t,n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return d.on("started",e),function(){d.removeListener("started",e)}}return t.onCommand((function(e){var t,n;v.push({time:Date.now(),direction:"in",data:e});var o=e.debugOutput,i=e.debugState,a=e.debugBreakpointEvent,c=e.debugSessions;if(o){if("main"!==o.session)return;o.adapterOutput&&m.read(o.adapterOutput),o.output&&d.emit("output",o.output)}if(a&&p.handlePID1BreakpointEvent(a),i&&i.state===l.api.State.Stopped&&y(),(null===c||void 0===c||null===(t=c.sessions)||void 0===t?void 0:t.main)!==l.api.State.Running&&(null===i||void 0===i?void 0:i.state)!==l.api.State.Running||"terminated"===r.current&&S(),(null===c||void 0===c||null===(n=c.sessions)||void 0===n?void 0:n.main)===l.api.State.Stopped||(null===i||void 0===i?void 0:i.state)===l.api.State.Stopped){if(x)return void(x=!1);y()}})),{state:r,stackFrames:i,variables:c,breakpoints:s,supportsStepBack:h,onOutput:function(e){return d.on("output",e),function(){d.removeListener("output",e)}},onStarted:_,onPaused:function(e){return d.on("paused",e),function(){d.removeListener("paused",e)}},onBreakpoint:function(e){return d.on("breakpoint",e),function(){d.removeListener("breakpoint",e)}},sendInput:function(e){return(0,o.Z)(a().mark((function n(){var r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={debugInput:{session:"main",input:e}},v.push({time:Date.now(),direction:"out",data:r}),n.next=4,t.request(r);case 4:if(o=n.sent,v.push({time:Date.now(),direction:"in",data:o}),!o.error){n.next=8;break}throw o.error;case 8:case"end":return n.stop()}}),n)})))()},fetchVariables:function(e){return(0,o.Z)(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z({command:"variables",arguments:{variablesReference:e}});case 2:if(!(n=t.sent).success){t.next=5;break}return t.abrupt("return",n.body.variables.map((function(t){return te(te({},t),{},{parentVariableReference:e})})));case 5:throw new Error(n.message);case 6:case"end":return t.stop()}}),t)})))()},addBreakpoint:P,removeBreakpoint:T,updateBreakpoint:function(e,t){return R.apply(this,arguments)},toggleBreakpoint:function(e,t){return A.apply(this,arguments)},start:S,continue:function(){return(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current=[],r.current="running",e.next=4,Z({command:"continue",arguments:{threadId:f.current}});case 4:case"end":return e.stop()}}),e)})))()},reverseContinue:function(){return(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current=[],r.current="running",e.next=4,Z({command:"reverseContinue",arguments:{threadId:f.current}});case 4:case"end":return e.stop()}}),e)})))()},back:function(){return(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.current="running",e.next=3,Z({command:"stepBack",arguments:{threadId:f.current}});case 3:case"end":return e.stop()}}),e)})))()},next:function(){return(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.current="running",e.next=3,Z({command:"stepIn",arguments:{threadId:f.current}});case 3:case"end":return e.stop()}}),e)})))()},skip:function(){return(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.current="running",e.next=3,Z({command:"next",arguments:{threadId:f.current,granularity:"line"}});case 3:case"end":return e.stop()}}),e)})))()},stepOut:function(){return(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.current="running",e.next=3,Z({command:"stepOut",arguments:{threadId:f.current}});case 3:case"end":return e.stop()}}),e)})))()},stop:function(){return(0,o.Z)(a().mark((function e(){var n,o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("terminated"!==r.current){e.next=2;break}throw new Error("Debugger already terminated");case 2:if(n=r.current,r.current="stopping","preinitializing"!==n){e.next=6;break}return e.abrupt("return");case 6:if("initializing"!==n){e.next=13;break}return o=[],e.next=10,Promise.race([new Promise((function(e){o.push(r.subscribe((function(){return e()})))})),new Promise((function(e){o.push(_((function(){return e()})))}))]);case 10:if(o.forEach((function(e){return e()})),"terminated"!==r.current){e.next=13;break}return e.abrupt("return");case 13:return i={debugStop:{session:"main"}},v.push({time:Date.now(),direction:"out",data:i}),e.next=17,t.request(i);case 17:if(c=e.sent,v.push({time:Date.now(),direction:"in",data:c}),!c.error){e.next=21;break}throw new Error("Failed to stop debugger "+c.error);case 21:case"end":return e.stop()}}),e)})))()},getSource:function(e){return(0,o.Z)(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z({command:"source",arguments:{source:{path:e}}});case 2:if((n=t.sent).success){t.next=5;break}throw new Error(n.message);case 5:return t.abrupt("return",n.body.content);case 6:case"end":return t.stop()}}),t)})))()},getDebugLogs:function(){return Object.entries({state:r,stackFrames:i,variables:c,breakpoints:s,threadId:f}).map((function(e){var t=(0,N.Z)(e,2),n=t[0],r=t[1];return"".concat(n," = ").concat(JSON.stringify(r.current instanceof Map?(0,u.Z)(r.current):r.current,void 0,2))})).join("\n")+"\n\n"+v.map((function(e){return[new Date(e.time).toLocaleString(),"in"===e.direction?"->":"<-",JSON.stringify(e.data)].join(" ")})).join("\n")}}}function re(e){var t=JSON.stringify(e);return"Content-Length: ".concat(Q.byteLength(t),"\r\n\r\n").concat(t)}var oe,ie=n(82706),ae=n(19484),ce=n(51077),se=n(79453),ue=n.n(se),le=n(67005),fe=function(e){var t=e.configurationSupport;return{textDocument:{synchronization:{dynamicRegistration:!0,didSave:!0},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["plaintext","markdown"]}},publishDiagnostics:{relatedInformation:!0},formatting:{dynamicRegistration:!0},definition:{dynamicRegistration:!0},typeDefinition:{dynamicRegistration:!0},implementation:{dynamicRegistration:!0},references:{dynamicRegistration:!0},rename:{dynamicRegistration:!0,prepareSupport:!0},completion:{dynamicRegistration:!0,completionItem:{documentationFormat:["plaintext","markdown"]}},codeAction:{dynamicRegistration:!0,codeActionLiteralSupport:{codeActionKind:{valueSet:Object.values(le.CodeActionKind)}}},hover:{dynamicRegistration:!0,contentFormat:["plaintext"]}},workspace:{applyEdit:!0,didChangeConfiguration:t.clientToServer?{dynamicRegistration:!0}:void 0,configuration:t.serverToClient,executeCommand:{dynamicRegistration:!0},workspaceEdit:{documentChanges:!0,resourceOperations:[le.ResourceOperationKind.Create,le.ResourceOperationKind.Delete,le.ResourceOperationKind.Rename]}}}},de=n(29208),pe=n.n(de),he=n(48764).Buffer;function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e){var t=e.channel,n=e.isSupportedFile,r=e.languageId,i=e.getWorkspaceConfiguration,c=e.onWorkspaceConfigurationChange,s=(0,w.Z)(),u=null,l=ce.aL.OFFLINE,f=null,d={},p={};function h(e){if(!u)throw new Error("Expected rootUri");return e.slice(u.length+1)}function v(e){if(!u)throw new Error("Expected rootUri");if(e.startsWith("/"))throw new Error("Path must be relative. Got: ".concat(e));return u+"/"+e}function m(e){l=e,s.emit(oe.SERVER_STATE_CHANGE,l)}function g(e,t){return e.line<t.line||e.line===t.line&&e.character<=t.character}function b(e){var t=JSON.stringify(me(me({},e),{},{jsonrpc:"2.0"})),n=he.byteLength(t,"utf8");return"Content-Length: ".concat(n,"\r\n\r\n").concat(t)}function y(e){"open"===t.status&&t.send({input:b(e)})}function x(){return Math.floor(Math.random()*(Math.pow(2,31)-1))}function Z(e,n){var r=n||x();if(!Number.isInteger(r))throw new Error("Request ID must be an integer");return"open"!==t.status?Promise.resolve({result:null,cancelled:!0}):(t.send({input:b(me(me({},e),{},{id:r}))}),new Promise((function(e){p[r]=e})))}function k(e,n){"open"===t.status&&t.send({input:b(me(me({},n),{},{id:e}))})}function E(e){var t=p[e];t&&(t({result:null,cancelled:!0}),delete p[e],y({method:"$/cancelRequest",params:{id:e}}))}var O=z((function(e){if(e.id&&p[e.id]){var t=p[e.id];delete p[e.id];var n=e.result,o=e.error;if("undefined"!==typeof n)return void t({result:n,cancelled:!1});if(o){var a=o.code,c=o.message,u=o.data;return ae.kg.error("LSP request failed",{code:a,languageId:r,errorMessage:c,data:JSON.stringify(u)}),void t({error:o})}throw ae.kg.error("LSP response message contained neither error nor result"),new Error("Expected either message or error in LSP response")}var l=e.method;if("client/registerCapability"!==l)if("workspace/applyEdit"!==l){if("textDocument/publishDiagnostics"===l){var v=h(e.params.uri);if(!d[v])return;var m=e.params.diagnostics;return d[v].diagnostics=m,void s.emit(oe.DIAGNOSTICS,{path:v,diagnostics:m})}if("workspace/configuration"===l){var g,b=e.params,y=Array(b.items.length).fill(null),w=null!==(g=null===i||void 0===i?void 0:i())&&void 0!==g?g:null;w&&(y=b.items.map((function(e){return e.section?pe()(w,e.section):w}))),k(e.id,{result:y,cancelled:!1})}}else{var x=me({id:e.id},e.params);s.emit(oe.WORKSPACE_EDIT,x)}else{var Z=e.params.registrations;if(!Z||!Array.isArray(Z))throw new Error("Expected registrations array");Z.forEach((function(e){var t=e.method;if(!t)throw new Error("Expected registration method");if(!f)throw new Error("Expected server capabilities");var n=e.registerOptions||!0;switch(t){case"textDocument/definition":f.definitionProvider=!0;break;case"textDocument/typeDefinition":f.typeDefinitionProvider=!0;break;case"textDocument/implementation":f.implementationProvider=!0;break;case"textDocument/references":f.referencesProvider=!0;break;case"textDocument/hover":f.hoverProvider=!0;break;case"textDocument/completion":f.completionProvider=n;break;case"textDocument/formatting":f.documentFormattingProvider=n;break;case"textDocument/rename":f.renameProvider=n;break;case"textDocument/codeAction":f.codeActionProvider=n;break;case"textDocument/signatureHelp":f.signatureHelpProvider=n;break;case"textDocument/didSave":if("number"===typeof f.textDocumentSync)break;f.textDocumentSync=me(me({},f.textDocumentSync||{}),{},{save:n});break;case"textDocument/willSaveWaitUntil":if("number"===typeof f.textDocumentSync)break;f.textDocumentSync=me(me({},f.textDocumentSync||{}),{},{willSave:!0});break;case"textDocument/didChange":if("number"===typeof f.textDocumentSync)break;f.textDocumentSync=me(me({},f.textDocumentSync||{}),{},{change:n});break;case"textDocument/didOpen":case"textDocument/didClose":if("number"===typeof f.textDocumentSync)break;f.textDocumentSync=me(me({},f.textDocumentSync||{}),{},{openClose:!0});break;case"workspace/executeCommand":f.executeCommandProvider=n;break;default:ae.kg.info("Unexpected dynamically registered capability in LSP client",{method:t})}s.emit(oe.SERVER_CAPABILITIES_CHANGE,f)}))}}));t.onCommand((function(e){e.output&&O.read(e.output)}));var C=function(){};return{initialize:function(e){return(0,o.Z)(a().mark((function t(){var n,r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.pwd,r=e.initializationOptions,m(ce.aL.INITIALIZING),u="file://".concat(n),t.next=5,Z({method:"initialize",params:{initializationOptions:r,capabilities:fe({configurationSupport:{serverToClient:Boolean(i),clientToServer:Boolean(c)}}),processId:null,rootUri:u,workspaceFolders:[{name:u,uri:u}]}});case 5:if(!("error"in(o=t.sent))){t.next=8;break}throw new Error("Something went wrong initializing the LSP client: ".concat(o.error.message));case 8:if(o.result){t.next=10;break}throw new Error("Expected result in initialize request");case 10:y({method:"initialized",params:{}}),f=o.result.capabilities,s.emit(oe.SERVER_CAPABILITIES_CHANGE,f),m(ce.aL.INITIALIZED),c&&(C=c((function(e){y({method:"workspace/didChangeConfiguration",params:{settings:e}})})),i&&y({method:"workspace/didChangeConfiguration",params:{settings:i()}}));case 15:case"end":return t.stop()}}),t)})))()},generateId:x,notify:{didOpen:function(e,t){var o,i;if(!n(e))throw new Error("Path not supported");if(d[e]&&0!==d[e].buffers)d[e].buffers++;else{var a=null!==(o=null===(i=d[e])||void 0===i?void 0:i.version)&&void 0!==o?o:0;d[e]={version:a,buffers:1,diagnostics:[]},y({method:"textDocument/didOpen",params:{textDocument:{uri:v(e),languageId:r,text:t,version:a}}})}},didChange:function(e,t){var n=d[e];if(!n)throw new Error('Document for "'.concat(e,'" is not open'));n.version++,y({method:"textDocument/didChange",params:{textDocument:{uri:v(e),version:n.version,languageId:r},contentChanges:t}})},didSave:function(e){var t=d[e];if(!t)throw new Error('Document for "'.concat(e,'" is not open'));if(!f)throw new Error("Expected client to be initialized");if(!f.textDocumentSync)throw new Error("LSP Server does not support text document sync");y({method:"textDocument/didSave",params:{textDocument:{uri:v(e),version:t.version,languageId:r}}})},didClose:function(e){var t=d[e];if(!t)throw new Error('Document for "'.concat(e,'" is not open'));t.buffers--,t.buffers>0||(y({method:"textDocument/didClose",params:{textDocument:{uri:v(e),version:t.version,languageId:r}}}),delete d[e])},cancelRequest:function(e){E(e)}},request:{completion:function(e,t,n,o){if(!f)throw new Error("Expected client to be initialized");if(!f.completionProvider)throw new Error("LSP Server does not support completion");return Z({method:"textDocument/completion",params:{textDocument:{uri:v(e),languageId:r},position:t,context:n}},o)},resolveCompletionItem:function(e,t){if(!f)throw new Error("Expected client to be initialized");if(!f.completionProvider)throw new Error("LSP Server does not support completion");if(!f.completionProvider.resolveProvider)throw new Error("LSP Server does not support resolving completion items");return Z({method:"completionItem/resolve",params:e},t)},signatureHelp:function(e,t,n){return Z({method:"textDocument/signatureHelp",params:{textDocument:{uri:v(e),languageId:r},position:t}},n)},hover:function(e,t,n){return Z({method:"textDocument/hover",params:{textDocument:{uri:v(e),languageId:r},position:t}},n)},codeActions:function(e,t,n){if(!d[e])throw new Error("Document is not open");var r=d[e].diagnostics.filter((function(e){return n=e.range,r=t,g(n.start,r.end)&&g(r.start,n.end);var n,r}));return Z({method:"textDocument/codeAction",params:{textDocument:{uri:v(e)},range:t,context:{diagnostics:r}}},n)},executeCommand:function(e,t,n){return Z({method:"workspace/executeCommand",params:{command:e,arguments:t}},n)},format:function(e,t,n){if(!f)throw new Error("Expected client to be initialized");if(!f.documentFormattingProvider)throw new Error("LSP server does not support formatting");return Z({method:"textDocument/formatting",params:{textDocument:{uri:v(e)},options:t}},n)},findDefinitions:function(e,t,n){return(0,o.Z)(a().mark((function o(){var i;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(f){o.next=2;break}throw new Error("Expected client to be initialized");case 2:if(f.definitionProvider){o.next=4;break}throw new Error("LSP server does not support go to definition");case 4:return o.next=6,Z({method:"textDocument/definition",params:{textDocument:{uri:v(e),languageId:r},position:t}},n);case 6:if("result"in(i=o.sent)){o.next=9;break}return o.abrupt("return",i);case 9:if(!i.result||Array.isArray(i.result)){o.next=11;break}return o.abrupt("return",{result:[i.result],cancelled:!1});case 11:return o.abrupt("return",i);case 12:case"end":return o.stop()}}),o)})))()},findTypeDefinitions:function(e,t,n){return(0,o.Z)(a().mark((function o(){var i;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(f){o.next=2;break}throw new Error("Expected client to be initialized");case 2:if(f.typeDefinitionProvider){o.next=4;break}throw new Error("LSP server does not support go to type definition");case 4:return o.next=6,Z({method:"textDocument/typeDefinition",params:{textDocument:{uri:v(e),languageId:r},position:t}},n);case 6:if("result"in(i=o.sent)){o.next=9;break}return o.abrupt("return",i);case 9:if(!i.result||Array.isArray(i.result)){o.next=11;break}return o.abrupt("return",{result:[i.result],cancelled:!1});case 11:return o.abrupt("return",i);case 12:case"end":return o.stop()}}),o)})))()},findImplementations:function(e,t,n){return(0,o.Z)(a().mark((function o(){var i;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(f){o.next=2;break}throw new Error("Expected client to be initialized");case 2:if(f.implementationProvider){o.next=4;break}throw new Error("LSP server does not support go to implementation");case 4:return o.next=6,Z({method:"textDocument/implementation",params:{textDocument:{uri:v(e),languageId:r},position:t}},n);case 6:if("result"in(i=o.sent)){o.next=9;break}return o.abrupt("return",i);case 9:if(!i.result||Array.isArray(i.result)){o.next=11;break}return o.abrupt("return",{result:[i.result],cancelled:!1});case 11:return o.abrupt("return",i);case 12:case"end":return o.stop()}}),o)})))()},findReferences:function(e,t,n,o){if(!f)throw new Error("Expected client to be initialized");if(!f.referencesProvider)throw new Error("LSP server does not support find references");return Z({method:"textDocument/references",params:{textDocument:{uri:v(e),languageId:r},position:t,context:n}},o)},rename:function(e,t,n,o){if(!f)throw new Error("Expected client to be initialized");if(!f.renameProvider)throw new Error("LSP server does not support renaming");return Z({method:"textDocument/rename",params:{textDocument:{uri:v(e),languageId:r},position:t,newName:n}},o)},prepareRename:function(e,t,n){if(!f)throw new Error("Expected client to be initialized");if(!f.renameProvider||"boolean"===typeof f.renameProvider||!f.renameProvider.prepareProvider)throw new Error("LSP server does not support prepare rename");return Z({method:"textDocument/prepareRename",params:{textDocument:{uri:v(e),languageId:r},position:t}},n)}},onDiagnostics:function(e){return s.on(oe.DIAGNOSTICS,e),function(){s.removeListener(oe.DIAGNOSTICS,e)}},onWorkspaceEdit:function(e){function t(t){var n=e(t);k(t.id,{result:n,cancelled:!1})}return s.on(oe.WORKSPACE_EDIT,t),function(){s.removeListener(oe.WORKSPACE_EDIT,t)}},onServerStateChange:function(e){return s.on(oe.SERVER_STATE_CHANGE,e),function(){s.removeListener(oe.SERVER_STATE_CHANGE,e)}},onServerCapabilitiesChange:function(e){return s.on(oe.SERVER_CAPABILITIES_CHANGE,e),function(){s.removeListener(oe.SERVER_CAPABILITIES_CHANGE,e)}},shutdown:function(){for(var e in m(ce.aL.EXITING),d)delete d[e];for(var t in p)E(Number(t));C(),Z({method:"shutdown"}).then((function(){y({method:"exit"}),m(ce.aL.EXITED),s.removeAllListeners()}))},destroy:function(){for(var e in d)delete d[e];for(var t in p)E(Number(t));C(),m(ce.aL.EXITED),s.removeAllListeners()},getServerState:function(){return l},getServerCapabilities:function(){return f},getDiagnostics:function(e){if(!d[e])throw new Error("File with path ".concat(e," is not open."));return d[e].diagnostics},isOpen:function(e){return Boolean(d[e])},documentUriToPath:h,pathToDocumentURI:v,isSupportedFile:n}}!function(e){e.INITIALIZED="INITIALIZED",e.DIAGNOSTICS="DIAGNOSTICS",e.WORKSPACE_EDIT="WORKSPACE_EDIT",e.SERVER_STATE_CHANGE="SERVER_STATE_CHANGE",e.SERVER_CAPABILITIES_CHANGE="SERVER_CAPABILITIES_CHANGE"}(oe||(oe={}));var be=n(1864),ye=function(e){switch((0,be.extname)(e).slice(1)){case"php":return"php";case"re":return"reason";case"erl":return"erlang";case"c":return"c";case"go":return"go";case"java":return"java";case"cpp":return"cpp";case"rb":return"ruby";case"py":return"python";case"js":case"sx":case"es6":return"replit-js";case"ts":case"tsx":return"replit-ts";default:return null}};var we=n(82625),xe=n(99846);function Ze(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,o.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=we.Z,e.next=4,Ce(t);case 4:return e.t2=e.sent,e.t3=e.t1.from.call(e.t1,e.t2),e.abrupt("return",e.t0.writeFile.call(e.t0,"index.html",e.t3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){return Se.apply(this,arguments)}function Se(){return(Se=(0,o.Z)(a().mark((function e(t){var n,r,o,i,c,s,u,l,f,d,p,h,v,m,g,b,y,w,Z,k,E,O,C,S,j,P,D,T,I,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r="",e.next=4,t.readFile("conf.json");case 4:if(!(o=e.sent).error){e.next=7;break}return e.abrupt("return","");case 7:return i=JSON.parse(o.content.toString()),(0,xe.h)(i.version,"0.1.0")?r+="kaboom.import();\n":(0,xe.h)(i.version,"0.4.0")&&(r+="kaboom.global();\n"),(0,xe.h)(i.version,"0.4.0")?r+="\ninit({\n  ...".concat(JSON.stringify(i),",\n  clearColor: ").concat(i.clearColor?function(){var e=i.clearColor;return JSON.stringify({r:e[0],g:e[1],b:e[2],a:e[3]})}():"undefined","\n});\n  "):r+="\nkaboom({\n  ...".concat(JSON.stringify(i),",\n  global: true,\n  plugins: [ peditPlugin, asepritePlugin, kbmspritePlugin ],\n});\n"),e.next=12,Promise.all(["scenes","sprites","sounds"].map(t.readDir));case 12:if(c=e.sent,s=(0,N.Z)(c,3),u=s[0],l=s[1],f=s[2],!l.error){d=Ze(l.children);try{for(d.s();!(p=d.n()).done;)h=p.value,v=JSON.stringify((0,x.eb)(h.filename)),m=JSON.stringify("sprites/".concat(h.filename)),(0,xe.H)(i.version,"0.4.0")?h.filename.endsWith(".pedit")?r+="loadPedit(".concat(v,", ").concat(m,");\n"):h.filename.endsWith(".kbmsprite")?r+="loadKbmsprite(".concat(v,", ").concat(m,");\n"):r+="loadSprite(".concat(v,", ").concat(m,");\n"):r+="loadSprite(".concat(v,", ").concat(m,");\n")}catch(a){d.e(a)}finally{d.f()}}if(!f.error){g=Ze(f.children);try{for(g.s();!(b=g.n()).done;)y=b.value,w=JSON.stringify((0,x.eb)(y.filename)),Z=JSON.stringify("sounds/".concat(y.filename)),r+="loadSound(".concat(w,", ").concat(Z,");\n")}catch(a){g.e(a)}finally{g.f()}}if(u.error){e.next=42;break}return e.next=22,Promise.all(u.children.map((function(e){var n=e.filename;return Promise.all([(0,x.eb)(n),t.readFile("scenes/".concat(n))])})));case 22:k=e.sent,E=Ze(k),e.prev=24,E.s();case 26:if((O=E.n()).done){e.next=34;break}if(C=O.value,S=(0,N.Z)(C,2),j=S[0],!(P=S[1]).error){e.next=31;break}return e.abrupt("continue",32);case 31:r+="scene(".concat(JSON.stringify(j),", (args = {}) => {\n").concat(P.content.toString(),"\n});\n");case 32:e.next=26;break;case 34:e.next=39;break;case 36:e.prev=36,e.t0=e.catch(24),E.e(e.t0);case 39:return e.prev=39,E.f(),e.finish(39);case 42:for(r+="start(".concat(JSON.stringify(i.startScene),");\n"),D=["kaboom.js"],(0,xe.h)(i.version,"0.1.0")?(D.push("kit/physics.js"),D.push("kit/starter.js"),D.push("kit/level.js")):(0,xe.H)(i.version,"0.4.0")&&(D.push("plugins/aseprite.js"),D.push("plugins/pedit.js")),T=0,I=D;T<I.length;T++)R=I[T],n+='<script src="https://kaboomjs.com/lib/'.concat(encodeURIComponent(i.version),"/").concat(encodeURI(R),'"><\/script>\n');return(0,xe.H)(i.version,"0.4.0")&&(n+='<script src="https://kaboomjs.com/pub/legacy/kbmsprite.js"><\/script>\n'),e.abrupt("return",'\n<!DOCTYPE html>\n\n<html>\n\n<head>\n  <title>kaboom</title>\n  <meta charset="utf-8">\n  <style>\n    * {\n      margin: 0;\n    }\n    html,\n    body {\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n    }\n    canvas {\n      display: block;\n    }\n  </style>\n</head>\n\n<body>\n'.concat(n,"\n  <script>\n").concat(r,"\n  <\/script>\n</body>\n\n</html>\n"));case 48:case"end":return e.stop()}}),e,null,[[24,36,39,42]])})))).apply(this,arguments)}var je,Pe=n(8857),De=n(73768),Te=n(24662),Ie=n(83633),Re=n.n(Ie);function Ae(e){var t=e.container,n=e.beforeRun,r=(0,w.Z)(),i=Te.Z.Idle,c=new Date(0),s=!1;r.on(Te.z.TEST_RESULT,(function(e){s=s&&"passed"===e.body}));var u=function(e){r.emit(Te.z.STATE_CHANGED,e),i=e},f=function(){var e=(0,o.Z)(a().mark((function e(t,n){var o,i,c,s,f,d,p,h,v,m,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=De.api.Payload.fromObject(n),!(i=De.api.Payload.verify(o))){e.next=4;break}throw i;case 4:return c=new(Re())((function(e){var t=De.api.Response.fromObject(e),n=De.api.Response.verify(t);if(n)F.Tb(new TypeError("invalid payload received"),(function(r){return r.setExtras({validationError:n,payload:o,message:e,response:t})}));else switch(t.body){case"error":return r.emit(Te.z.ERROR,t.error);case"instructionResult":return r.emit(Te.z.INSTRUCTION_RESULT,t.instructionResult);case"testResult":return r.emit(Te.z.TEST_RESULT,t.testResult);case"status":switch(t.status){case De.api.Status.Ready:return u(Te.Z.Ready);case De.api.Status.Building:return u(Te.Z.Building);case De.api.Status.Running:return u(Te.Z.Running)}}})),s=t.onCommand((function(e){if(e.output)try{c.submit(e.output)}catch(h){F.Tb(new SyntaxError("invalid response received from i/o testing binary"),(function(n){return n.setExtras({err:h,payload:o,cmd:e})}))}})),f=t.request({exec:{args:["io-tester"],splitStderr:!0,lifecycle:l.api.Exec.Lifecycle.STDIN,splitLogs:!0}}),e.next=9,new Promise((function(e,t){var n,o=function(){n(),e()};r.once(Te.z.STATE_CHANGED,o);var i=setTimeout((function(){n(),t(new Error("timeout while waiting for iotester to start"))}),2e4);n=function(){clearTimeout(i),r.off(Te.z.STATE_CHANGED,o)}}));case 9:return e.next=11,t.request({input:JSON.stringify(o)+"\n"});case 11:if((d=e.sent).ok){e.next=16;break}throw h=new Error(null!==(p=d.error)&&void 0!==p?p:"unexpected error occurred while sending input to i/o testing binary"),F.Tb(h,(function(e){return e.setExtra("status",d)})),h;case 16:return e.next=18,f;case 18:(v=e.sent).ok||(g=new Error(null!==(m=v.error)&&void 0!==m?m:"unexpected error occurred while executing i/o testing binary"),F.Tb(g,(function(e){return e.setExtra("result",v)}))),s();case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{run:function(e){if(i!==Te.Z.Idle)throw new Error("iotester already running");return u(Te.Z.Starting),c=new Date,s=!0,n().then((function(){return new Promise((function(n,r){var o=t.openChannel({service:"exec"},(function(t){if(t.error)return r(t.error),o;var i="",a="",c=t.channel.onCommand((function(e){e.log?i+=e.log:e.stderr&&(a+=e.stderr)}));return n(f(t.channel,e).finally((function(){c(),o(),(a||i)&&F.Tb(new Error("logs received from io tseter"),(function(t){return t.setExtras({logs:i,stderr:a,payload:e})}))}))),o}))}))})).catch((function(e){return s=!1,Promise.reject(e)})).finally((function(){return u(Te.Z.Idle)}))},get lastRunAt(){return c},get state(){return i},get lastRunDidPass(){return s},onInstructionResult:function(e){return r.on(Te.z.INSTRUCTION_RESULT,e),function(){r.off(Te.z.INSTRUCTION_RESULT,e)}},onStateChanged:function(e){return r.on(Te.z.STATE_CHANGED,e),function(){r.off(Te.z.STATE_CHANGED,e)}},onTestResult:function(e){return r.on(Te.z.TEST_RESULT,e),function(){r.off(Te.z.TEST_RESULT,e)}},onError:function(e){return r.on(Te.z.ERROR,e),function(){r.off(Te.z.ERROR,e)}}}}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.ANCHORS_ADDED="ANCHORS_ADDED",e.ANCHORS_REMOVED="ANCHORS_REMOVED",e.PORTAL_UPDATED="PORTAL_UPDATED",e.THREAD_CREATED="THREADS_CREATED",e.CODE_EXPLAINED="CODE_EXPLAINED"}(je||(je={}));var Fe=n(4730),Be=n(9595),Me=n(81700),He=n.n(Me),Xe=["client","closeChannel"];function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(e,t){return He()(e,{extended:!0,globstar:!0}).test(t)}function Je(e,t){return e&&t?e.globPattern===t.globPattern&&(JSON.stringify(e.startCommand)===JSON.stringify(t.startCommand)&&(JSON.stringify(e.startCommand)===JSON.stringify(t.startCommand)&&(e.initializationOptionsJson===t.initializationOptionsJson&&e.configurationJson===t.configurationJson))):Boolean(e)===Boolean(t)}function qe(e){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,o.Z)(a().mark((function e(t){var n,r,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,e.next=3,t.exec("pwd");case 3:if(null===(r=e.sent).error){e.next=8;break}if(!(n>5)){e.next=7;break}return e.abrupt("return",{error:new Error("Could not get cwd "+r.error),workingDirectory:null});case 7:return e.abrupt("return",qe(t,n+1));case 8:return e.abrupt("return",{error:null,workingDirectory:r.output.replace("\n","")});case 9:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function Ke(e){var t=e.container,n=e.dotReplit,r=e.allowNonNix,o=void 0!==r&&r,i=new Map,a=new Map,c={};function s(e){var t=c[e];if(!t)throw new Error("languageId was never configured");var n=t.client;if(n){t.client=null,n.destroy();var r,o=Ve(i);try{for(o.s();!(r=o.n()).done;){var s=(0,N.Z)(r.value,2),u=s[0],l=s[1];if(a.get(u)===n){a.delete(u);var f,d=Ve(l);try{for(d.s();!(f=d.n()).done;){(0,f.value)(null)}}catch(p){d.e(p)}finally{d.f()}}}}catch(p){o.e(p)}finally{o.f()}}t.closeChannel(),delete c[e]}function u(e,t){if(c[e])throw new Error("languageId is already configured");c[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,O.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({client:null,closeChannel:function(){}},t),f(e)}function f(e){if(!c[e])throw new Error("No config found for language");var n=c[e],r=n.client,s=(n.closeChannel,(0,Fe.Z)(n,Xe));if(r)throw new Error("A client is already set for language");var u=[],d=t.openChannel({service:"lsp2",skip:function(e){if(o)return!1;var t=e.repl.language;return!t.startsWith("nix")&&!t.startsWith("html")}},(function(n){var r=n.channel;if(r){r.send({startLSP:{language:e}});var o=null,p=function(){var t;u.forEach((function(e){return e()})),null===(t=o)||void 0===t||t.destroy(),c[e].client===o&&(c[e].client=null),d();var n,r=Ve(i);try{for(r.s();!(n=r.n()).done;){var s=(0,N.Z)(n.value,2),l=s[0],f=s[1];if(a.get(l)===o){a.delete(l);var p,h=Ve(f);try{for(h.s();!(p=h.n()).done;){(0,p.value)(null)}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){r.e(v)}finally{r.f()}};return u.push(r.onCommand((function(t){t.state===l.api.State.Stopped&&(p(),f(e))}))),qe(t).then((function(t){if(Je(c[e],s)&&"open"===r.status&&!t.error){var n;if(o=ge({channel:r,languageId:e,isSupportedFile:function(e){return We(s.globPattern,e)},getWorkspaceConfiguration:function(){if(!s.configurationJson)return null;var e=null;try{e=JSON.parse(s.configurationJson)}catch(t){ae.kg.error("Failed to parse LSP workspace configuration",{configurationJson:s.configurationJson})}return e}}),s.initializationOptionsJson)try{n=JSON.parse(s.initializationOptionsJson)}catch(l){ae.kg.error("Failed to parse LSP initializationOptions",{initializationOptionsJson:s.initializationOptionsJson})}o.initialize({pwd:t.workingDirectory,initializationOptions:n}),u.push(o.onServerStateChange((function(t){if("open"===r.status&&o&&Je(c[e],s)&&t===ce.aL.INITIALIZED){c[e].client=o;var n,u=Ve(i);try{for(u.s();!(n=u.n()).done;){var l=(0,N.Z)(n.value,2),f=l[0],d=l[1];if(We(s.globPattern,f)&&!a.has(f)){a.set(f,o);var p,h=Ve(d);try{for(h.s();!(p=h.n()).done;){(0,p.value)(o)}}catch(v){h.e(v)}finally{h.f()}}}}catch(v){u.e(v)}finally{u.f()}}})))}})),function(t){var n=t.willReconnect;p(),n||ae.kg.error("LSP server unexpectedly disconnected",{languageId:e,appService:"lspnix"})}}}));c[e].closeChannel=d}return n.watch((function(e){if(e.error){if(e.error===Be.Y.NotFound)for(var t=0,n=Object.keys(c);t<n.length;t++){s(n[t])}}else if(e.config.languages){for(var r={},o=0,i=Object.entries(e.config.languages);o<i.length;o++){var a,l,f=(0,N.Z)(i[o],2),d=f[0],p=f[1];if(p.pattern&&p.languageServer&&p.languageServer.startCommand)r[d]={globPattern:p.pattern,startCommand:p.languageServer.startCommand,initializationOptionsJson:null!==(a=p.languageServer.initializationOptionsJson)&&void 0!==a?a:void 0,configurationJson:null!==(l=p.languageServer.configurationJson)&&void 0!==l?l:void 0}}for(var h=0,v=Object.keys(c);h<v.length;h++){var m=v[h];r[m]||s(m)}for(var g=0,b=Object.keys(r);g<b.length;g++){var y=b[g],w=c[y],x=r[y];w?Je(w,x)||(s(y),u(y,x)):u(y,x)}}else for(var Z=0,k=Object.keys(c);Z<k.length;Z++){s(k[Z])}})),{onClient:function(e,t){var n;i.has(e)||i.set(e,[]),null===(n=i.get(e))||void 0===n||n.push(t);var r=a.get(e);if(r)t(r);else for(var o=0,s=Object.values(c);o<s.length;o++){var u=s[o];if(We(u.globPattern,e)){u.client&&t(u.client);break}}return function(){i.set(e,(i.get(e)||[]).filter((function(e){return e!==t})))}}}}function $e(e){var t=e.onUnrecoverableError,n=(0,c.Z)({onUnrecoverableError:t}),r=function(){var e=(0,w.Z)();e.setMaxListeners(20);var t=null,n=null,r=null,o=[],i=!1,a=!1,c={column:1,lineNumber:1,offset:0},s={openFiles:[],activeTab:0},u={isMonitoring:!0,interval:C.u,utilization:null};function l(t){k()(s,t)||(s=t,e.emit(C.z.SESSION_STATE_CHANGED,s))}function f(e,t){var n=t||s.openFiles.length;if(e<0||e>=n||!Number.isInteger(e))throw new Error("Invalid index: ".concat(e,". Index must be an integer between 0 and ").concat(n))}return{onResourceMonitoringStateChanged:function(t){return e.on(C.z.RESOURCE_MONITORING_STATE_CHANGED,t),function(){e.removeListener(C.z.RESOURCE_MONITORING_STATE_CHANGED,t)}},setResourceMonitoringState:function(t){k()(u,t)||(u=t,e.emit(C.z.RESOURCE_MONITORING_STATE_CHANGED,u))},getResourceMonitoringState:function(){return u},onSessionStateChanged:function(t){return e.on(C.z.SESSION_STATE_CHANGED,t),function(){e.removeListener(C.z.SESSION_STATE_CHANGED,t)}},onPreviewedFileChanged:function(t){return e.on(C.z.PREVIEWED_FILE_CHANGED,t),function(){e.removeListener(C.z.PREVIEWED_FILE_CHANGED,t)}},onPreviewedYoutubeVideoChanged:function(t){return e.on(C.z.PREVIEWED_YOUTUBE_VIDEO_CHANGED,t),function(){e.removeListener(C.z.PREVIEWED_YOUTUBE_VIDEO_CHANGED,t)}},onCursorPositionChanged:function(t){return e.on(C.z.CURSOR_POSITION_CHANGED,t),function(){e.removeListener(C.z.CURSOR_POSITION_CHANGED,t)}},onCommandBarToggled:function(t){return e.on(C.z.COMMAND_BAR_TOGGLED,t),function(){e.removeListener(C.z.COMMAND_BAR_TOGGLED,t)}},onHiddenFileVisibilityToggled:function(t){return e.on(C.z.CONFIG_FILE_VISIBILITY_TOGGLED,t),function(){e.removeListener(C.z.CONFIG_FILE_VISIBILITY_TOGGLED,t)}},onDeeplinkUpdated:function(t){return e.on(C.z.DEEPLINK_CHANGED,t),r&&(t(r),r=null),function(){e.removeListener(C.z.DEEPLINK_CHANGED,t)}},closeTab:function(e){f(e);var t=s.openFiles.slice(),n=s.activeTab;e<=s.activeTab&&0!==s.activeTab&&n--,t.splice(e,1),l({openFiles:t,activeTab:n})},openFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.tabIndex,r=t.newTab,i=o.indexOf(e);if(-1!==i?(o.splice(i),o.unshift(e)):(o.unshift(e),o.length>5&&o.pop()),void 0===n)if(s.openFiles.includes(e))l(P(P({},s),{},{activeTab:s.openFiles.indexOf(e)}));else{var a=s.openFiles.slice();if(r){var c=0===a.length?0:s.activeTab+1;return a.splice(c,0,e),void l({openFiles:a,activeTab:c})}var u=s.activeTab;a.splice(u,1,e),l({openFiles:a,activeTab:u})}else{f(n,s.openFiles.length+1);var d=s.openFiles.slice(),p=s.openFiles.indexOf(e);if(-1===p)return d.splice(n,1,e),void l({openFiles:d,activeTab:d.indexOf(e)});if(p===n)return void l(P(P({},s),{},{activeTab:d.indexOf(e)}));d.splice(p,1),d.splice(n,0,e);var h=d.indexOf(e);l({openFiles:d,activeTab:h})}},moveFile:function(e,t){var n=s.openFiles.map((function(n){return n===e?t:(0,S.yr)(e,n)?(0,S.hk)(e,t,n):n}));l(P(P({},s),{},{openFiles:n}))},deleteFile:function(e){var t=s.openFiles[s.activeTab],n=s.openFiles.filter((function(t){return t!==e&&!(0,S.yr)(e,t)})),r=n.includes(t)?n.indexOf(t):n.length-1,i=Math.max(0,r),a=o.findIndex((function(t){return t===e}));a&&o.splice(a,1),l({openFiles:n,activeTab:i})},updateDeeplink:function(t){e.emit(C.z.DEEPLINK_CHANGED,t),r=t},getActiveFile:function(){var e=s,t=e.openFiles,n=e.activeTab;if(0!==t.length)return t[n]},getCursorPosition:function(){return c},getRecentFiles:function(){return o},setPreviewedFile:function(n){t!==n&&(t=n,e.emit(C.z.PREVIEWED_FILE_CHANGED,n))},setCursorPosition:function(t){k()(t,c)||(c=t,e.emit(C.z.CURSOR_POSITION_CHANGED,t))},setIsCommandBarOpen:function(t){i!==t&&(i=t,e.emit(C.z.COMMAND_BAR_TOGGLED,i))},setAreHiddenFilesVisible:function(t){a!==t&&(a=t,e.emit(C.z.CONFIG_FILE_VISIBILITY_TOGGLED,a))},setPreviewedYoutubeVideo:function(t){n!==t&&(n=t,e.emit(C.z.PREVIEWED_YOUTUBE_VIDEO_CHANGED,t))},getPreviewedFile:function(){return t},getPreviewedYoutubeVideo:function(){return n},getIsCommandBarOpen:function(){return i},getAreHiddenFilesVisible:function(){return a},getState:function(){return s}}}(),i=(0,R.Z)({container:n}),u=E({container:n}),f=(0,ie.Z)({container:n,fs:i}),d=(0,s.Z)({container:n,dotReplit:f}),p=function(e){var t=e.container,n=(0,w.Z)(),r=null,i=[],c=[];function s(){return u.apply(this,arguments)}function u(){return(u=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:return e.abrupt("return",new Promise((function(e){n.once(D.MESSAGES_LOADED,(function(){e(r)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.openChannel({service:"chat",name:"chatter"},(function(e){var t=e.channel;if(!e.error){if(!t)throw new Error("Expected channel");return t.onCommand((function(e){switch(e.body){case"chatMessage":var o=e.chatMessage;if(!o||!o.username||!o.text)throw new Error("expected a chat message in the response");i.push(o),n.emit(D.MESSAGE_RECEIVED,{text:o.text,username:o.username});break;case"chatTyping":var a=e.chatTyping;if(!a||!a.username)return;var s=a.username,u=a.typing;u&&!c.includes(s)&&c.push(s),!u&&c.includes(s)&&c.splice(c.indexOf(s),1),n.emit(D.USER_TYPING_UPDATED,{username:s,isTyping:Boolean(u)});break;case"chatScrollback":var l=e.chatScrollback;if(null===l||void 0===l||!l.scrollback)return;l.scrollback.forEach((function(e){return i.push(e)})),r=t,n.emit(D.MESSAGES_LOADED,i)}})),function(){r=null}}})),{sendMessage:function(e){return(0,o.Z)(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:r=t.sent,i.push(e),r.send({chatMessage:e}),n.emit(D.MESSAGE_SENT,e);case 6:case"end":return t.stop()}}),t)})))()},onMessageReceived:function(e){return n.on(D.MESSAGE_RECEIVED,e),function(){n.removeListener(D.MESSAGE_RECEIVED,e)}},onMessageSent:function(e){return n.on(D.MESSAGE_SENT,e),function(){n.removeListener(D.MESSAGE_SENT,e)}},updateUserTyping:function(e){return(0,o.Z)(a().mark((function t(){var n,r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:n=t.sent,r=e.username,o=e.isTyping,n.send({chatTyping:{username:r,typing:o}});case 5:case"end":return t.stop()}}),t)})))()},onUserTypingUpdated:function(e){return n.on(D.USER_TYPING_UPDATED,e),function(){n.removeListener(D.USER_TYPING_UPDATED,e)}},onMessagesLoaded:function(e){return n.on(D.MESSAGES_LOADED,e),function(){n.removeListener(D.MESSAGES_LOADED,e)}},getMessages:function(){return i},getUsersTyping:function(){return c}}}({container:n}),h=function(){var e=(0,o.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("kaboom"!==(null===(t=n.getContext())||void 0===t?void 0:t.repl.language)){e.next=3;break}return e.next=3,Ee(i);case 3:return e.next=5,i.flush();case 5:return e.next=7,(0,Pe.Z)(n,f);case 7:if(!e.sent){e.next=10;break}return e.next=10,d.installPackages();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=(0,T.Z)({container:n,beforeRun:h}),m=function(e){var t=e.container,n=e.beforeRun,r=(0,L.u)(null);return{mainClient:r,connect:function(){return new Promise((function(e,o){r.current||t.openChannel({service:"debugger"},(function(t){if(!t.error)return r.current=ne({channel:t.channel,beforeRun:n}),e(null),function(){r.current=null};o(t.error)}))}))}}}({container:n,beforeRun:h}),g=(0,_.Z)({beforeRun:h,getMainFileContents:function(e){return(0,A.Z)({language:e,fs:i})}}),b=function(e){var t,n=e.container,r=(0,w.Z)(),i=new Promise((function(e){return t=e})),c=null;return n.openChannel({service:"chat",name:"broadcaster"},(function(e){if(!e.error){var n=e.channel,o=e.context;if(!n)throw new Error("Expected channel");return o.currentUser&&(c=o.currentUser.username),n.onCommand((function(e){if("chatMessage"===e.body){var t=e.chatMessage;if(!t||!t.username||!t.text)throw new Error("unexpected broadcast without a message");r.emit(I.MESSAGE_RECEIVED,{text:t.text,username:t.username})}})),t(n),function(){i=new Promise((function(e){return t=e}))}}})),{broadcastMessage:function(e){return(0,o.Z)(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.text,t.next=3,i;case 3:if(r=t.sent,c){t.next=6;break}throw new Error("Cannot broadcast without as username. Is currentUser in context?");case 6:r.send({chatMessage:{text:n,username:c}});case 7:case"end":return t.stop()}}),t)})))()},onBroadcastReceived:function(e){return r.on(I.MESSAGE_RECEIVED,e),function(){r.removeListener(I.MESSAGE_RECEIVED,e)}}}}({container:n}),y=function(e){var t=e.container,n=(0,w.Z)(),r=null,o=!1,i=0,a=null;function c(e){r!==e&&(r=e,n.emit(ce.zW.ON_CLIENT,r))}var s=function(){c(null)},u=!1,f={start:function(){u||(u=!0,s=t.openChannel({service:"lsp",skip:function(e){if(e.repl.language.startsWith("nix")||e.repl.language.startsWith("html"))return!0;var t=ue().get(e.repl.language).entrypoint;return!ye(t)||!ue().supportsLSP(e.repl.language)}},(function(e){if(!e.error){var n=!1,r=function(){},s=ue().get(e.context.repl.language).entrypoint,u=ye(s);if(!u)throw new Error("Expected languageId");var d=ge({channel:e.channel,languageId:u,isSupportedFile:function(e){var t=ye(e);return t===u||"replit-ts"===u&&"replit-js"===t||"replit-js"===u&&"replit-ts"===t}});t.exec("pwd").then((function(e){if(!n){var t=e.output?e.output.replace(/\n/,""):null;if(!t)throw new Error("Expected pwd");if(!d)throw new Error("Expected client");d.initialize({pwd:t}),r=d.onServerStateChange((function(e){n||e===ce.aL.INITIALIZED&&c(d)}))}}));var p=e.channel.onCommand((function(e){e.output||e.state===l.api.State.Stopped&&(i++,f.stop(),a=setTimeout((function(){return f.start()}),1e3*Math.pow(2,i)))}));return function(e){var t=e.willReconnect;d&&(d.destroy(),c(null)),n=!0,r(),p(),o?o=!1:t||ae.kg.error("LSP server unexpectedly disconnected",{languageId:u,appService:"lsp"})}}})))},getClient:function(){return r},onClient:function(e){return n.on(ce.zW.ON_CLIENT,e),function(){n.removeListener(ce.zW.ON_CLIENT,e)}},stop:function(){if(o=!0,u=!1,null!==a&&clearTimeout(a),r){var e=r.onServerStateChange((function(t){t===ce.aL.EXITED&&(e(),s())}));return r.destroy(),void c(null)}s()}};return f}({container:n}),x=Ke({container:n,dotReplit:f}),Z=Ae({container:n,beforeRun:h}),O=function(e){var t=e.fs,n={},r={},i={},c=(0,w.Z)();function s(e){return u.apply(this,arguments)}function u(){return u=(0,o.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map(function(){var e=(0,o.Z)(a().mark((function e(n){var r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){r=t.watchOtFile(n.path,{onReady:function(t){var o=t.transformSelection,i=t.version;if(r(),i===n.otVersion)return e({indexStart:n.indexStart,indexEnd:n.indexEnd,version:n.otVersion});e(o({indexStart:n.indexStart,indexEnd:n.indexEnd,versionFrom:n.otVersion,versionTo:i}))}})}));case 2:return o=e.sent,i=Le(Le({},n),{},{indexStart:o.indexStart,indexEnd:o.indexEnd,otVersion:o.version}),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}return{onAnchorPortalSet:function(e,t){var n=function(n){n.id===e&&t(n)};return c.on(je.PORTAL_UPDATED,n),function(){c.removeListener(je.PORTAL_UPDATED,n)}},addAnchors:function(e){return(0,o.Z)(a().mark((function t(){var o,i,u,l,f,d,p;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=Ne(e);try{for(o.s();!(i=o.n()).done;)u=i.value,n[u.id]=u}catch(a){o.e(a)}finally{o.f()}return t.next=4,s(e);case 4:l=t.sent,f=Ne(l);try{for(f.s();!(d=f.n()).done;)p=d.value,r[p.id]=p}catch(a){f.e(a)}finally{f.f()}c.emit(je.ANCHORS_ADDED,l);case 8:case"end":return t.stop()}}),t)})))()},removeAnchors:function(e){return(0,o.Z)(a().mark((function t(){var o,s,u,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=[],s=Ne(e),t.prev=2,s.s();case 4:if((u=s.n()).done){t.next=14;break}if(l=u.value,n[l]){t.next=8;break}return t.abrupt("continue",12);case 8:o.push(n[l]),delete i[l],delete r[l],delete n[l];case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),s.e(t.t0);case 19:return t.prev=19,s.f(),t.finish(19);case 22:c.emit(je.ANCHORS_REMOVED,o);case 23:case"end":return t.stop()}}),t,null,[[2,16,19,22]])})))()},getAnchors:function(e){return(0,o.Z)(a().mark((function t(){var o,i,c,u,l;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object.values(n).filter((function(t){return t.path===e})),t.next=3,s(o);case 3:i=t.sent,c=Ne(i);try{for(c.s();!(u=c.n()).done;)l=u.value,r[l.id]=l}catch(a){c.e(a)}finally{c.f()}return t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))()},createThread:function(e){c.emit(je.THREAD_CREATED,e)},explainCode:function(e){c.emit(je.CODE_EXPLAINED,e)},onThreadCreated:function(e){return c.on(je.THREAD_CREATED,e),function(){c.off(je.THREAD_CREATED,e)}},onCodeExplained:function(e){return c.on(je.CODE_EXPLAINED,e),function(){c.off(je.CODE_EXPLAINED,e)}},onAnchorsAdded:function(e){return c.on(je.ANCHORS_ADDED,e),function(){c.removeListener(je.ANCHORS_ADDED,e)}},onAnchorsRemoved:function(e){return c.on(je.ANCHORS_REMOVED,e),function(){c.removeListener(je.ANCHORS_REMOVED,e)}},setAnchorPortal:function(e){n[e.id]&&r[e.id]&&(i[e.id]=e,c.emit(je.PORTAL_UPDATED,e))}}}({fs:i});return{session:r,presence:u,packager:d,container:n,fs:i,chat:p,runner:v,debuggest:m,replbox:g,broadcast:b,dotReplit:f,lsp:y,lspnix:x,iotester:Z,anchorer:O}}},24662:function(e,t,n){var r,o;n.d(t,{z:function(){return r},Z:function(){return o}}),function(e){e.INSTRUCTION_RESULT="INSTRUCTION_RESULT",e.TEST_RESULT="TEST_RESULT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED"}(r||(r={})),function(e){e[e.Idle=0]="Idle",e[e.Starting=1]="Starting",e[e.Ready=2]="Ready",e[e.Building=3]="Building",e[e.Running=4]="Running"}(o||(o={}))},86140:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(17674),o=n(60172),i=n(93444),a=n(45742);function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=[];if(!e.length)return n;var s=o.xv.of(t.split("\n"));if(1===e.length){var u=(0,r.Z)(e,1)[0],l=u.range,f=l.start,d=l.end,p=u.newText;if(0===(0,i.R)(s,f))if((0,i.R)(s,d)===s.length)return(0,a.sQ)(t,p)}var h,v=c(e);try{for(v.s();!(h=v.n()).done;){var m=h.value,g=m.range,b=m.newText,y=[],w=(0,i.R)(s,g.start);w>0&&y.push(w);var x=(0,i.R)(s,g.end);x>w&&y.push({d:x-w}),b.length>0&&y.push(b),n=(0,a.qC)(n,(0,a.vs)(y,n,"right"))}}catch(Z){v.e(Z)}finally{v.f()}return n}},51077:function(e,t,n){var r,o,i,a;n.d(t,{zW:function(){return r},aL:function(){return a}}),function(e){e.ON_CLIENT="ON_CLIENT"}(r||(r={})),function(e){e[e.Invoked=1]="Invoked",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=3]="TriggerForIncompleteCompletions"}(o||(o={})),function(e){e[e.None=0]="None",e[e.Full=1]="Full",e[e.Incremental=2]="Incremental"}(i||(i={})),function(e){e.OFFLINE="OFFLINE",e.INITIALIZING="INITIALIZING",e.INITIALIZED="INITIALIZED",e.EXITING="EXITING",e.EXITED="EXITED"}(a||(a={}))},14648:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(17674),o=n(67294),i=n(97498),a=n(85636);function c(e){var t=(0,a.Z)(),n=(0,i.Z)(),c=n.lsp,s=n.lspnix,u=o.useState(null),l=(0,r.Z)(u,2),f=l[0],d=l[1];return o.useEffect((function(){if(null!==t&&void 0!==t&&t.language){var n,r;if(t.language.startsWith("nix")||t.language.startsWith("html"))n=s.onClient(e,d);else null!==(r=c.getClient())&&void 0!==r&&r.isSupportedFile(e)?d(c.getClient()):d(null),n=c.onClient((function(t){null!==t&&void 0!==t&&t.isSupportedFile(e)?d(t):d(null)}));return function(){n(),d(null)}}}),[c,s,e,null===t||void 0===t?void 0:t.language]),f}},78134:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(17674),o=n(67294);function i(e){var t=e.presence,n=o.useState(t.getActiveUsers()),i=(0,r.Z)(n,2),a=i[0],c=i[1];return o.useEffect((function(){return c(t.getActiveUsers()),t.onActiveUsersChange((function(e){return c(e)}))}),[t]),a}},71225:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(17674),o=n(67294),i=n(97498);function a(){var e=(0,i.Z)().presence,t=o.useState(e.getFollowedUser()),n=(0,r.Z)(t,2),a=n[0],c=n[1];return o.useEffect((function(){return c(e.getFollowedUser()),e.onFollowedUserChanged(c)}),[e]),a}},46290:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(71225);function o(){var e=(0,r.Z)();return e?e.color:null}},98474:function(e,t,n){var r;n.d(t,{z:function(){return r},u:function(){return o}}),function(e){e.COMMAND_BAR_TOGGLED="COMMAND_BAR_TOGGLED",e.DEEPLINK_CHANGED="DEEPLINK_CHANGED",e.SESSION_STATE_CHANGED="SESSION_STATE_CHANGED",e.PREVIEWED_FILE_CHANGED="PREVIEWED_FILE_CHANGED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED",e.CURSOR_POSITION_CHANGED="CURSOR_POSITION_CHANGED",e.PREVIEWED_YOUTUBE_VIDEO_CHANGED="PREVIEWED_YOUTUBE_VIDEO_CHANGED",e.CONFIG_FILE_VISIBILITY_TOGGLED="CONFIG_FILE_VISIBILITY_TOGGLED",e.RESOURCE_MONITORING_STATE_CHANGED="RESOURCE_MONITORING_STATE_CHANGED"}(r||(r={}));var o=2e3},49753:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(72318);function o(){var e=(0,r.Z)(),t=e.openFiles,n=e.activeTab;return t[n]?t[n]:null}},68063:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(97498),o=n(49753),i=n(67294),a=n(94690);function c(){var e=(0,r.Z)(),t=e.session,n=e.fs,c=(0,o.Z)(),s=(0,i.useCallback)((function(e){var r=e.code,o=e.insertAt,i=e.newLine,s=void 0===i||i;if(!c||(0,a.T3)(c)||(0,a.sL)(c)||(0,a.IQ)(c))throw new Error("Invalid file, this should never happen");if(0!==r.length)var u=n.watchOtFile(c,{onReady:function(e){var i,a=e.initialContent,c=e.writeOps,l=a.toString(),f=t.getCursorPosition().offset;i="end"===o?l.length:"number"===typeof o?o:f;var d=r;s&&(0!==i&&i!==l.length&&-1===(i=l.indexOf("\n",i))&&(i=l.length),0!==i&&"\n"!==l[i-1]&&(d="\n"+d),"\n"!==l[i]&&(d+="\n"));var p=[d];i>0&&p.unshift(i),c(p),n.flush().finally((function(){u()}))}})}),[c,t,n]);return!c||(0,a.T3)(c)||(0,a.sL)(c)?null:s}},72318:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(17674),o=n(67294),i=n(97498);function a(){var e=(0,i.Z)().session,t=o.useState(e.getState()),n=(0,r.Z)(t,2),a=n[0],c=n[1];return o.useEffect((function(){return c(e.getState()),e.onSessionStateChanged(c)}),[e]),a}},27881:function(e,t,n){n.d(t,{X:function(){return i},z:function(){return a}});var r=n(67294),o=r.createContext(null);function i(){return r.useContext(o)}var a=o.Provider},14998:function(e,t,n){n.d(t,{rk:function(){return g},xW:function(){return k},e$:function(){return b}});var r=n(59499),o=n(17674),i=n(50988),a=n(67294),c=n(27881),s=n(79363),u=n(8510),l=n(87045),f=n(41951),d=n(35944);function p(){var e=(0,c.X)();if(!e)return null;var t=e.activeStep,n=e.goto,r=e.steps,o=e.done;return(0,d.tZ)(f.Z,{preventClose:!0,isOpen:Boolean(t.isModal),onRequestClose:function(){},centered:!0,maxWidth:"fit-content",noPadding:!0,children:(0,d.tZ)(l.Z,{title:t.title,content:t.content,onDismiss:function(){o()},currentStepIndex:r.findIndex((function(e){return t.id===e.id})),onCurrentStepChange:n,totalSteps:r.length})})}var h=n(25108);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t,n=e.children,l=e.tour,f=e.isDoneInitialOverride,v=e.onStep,g=e.onDone,b=(0,a.useState)(l.steps[0]),y=b[0],w=b[1],x=(0,a.useState)({}),Z=x[0],k=x[1],E=function(e,t){var n,r=(0,i.PpL)({variables:{tours:e}}),c=r.data,s=r.loading,u=(0,i.oep)({variables:{name:e},optimisticResponse:{markTourAsSeen:{__typename:"TourSeen",id:e,seen:!0}}}),l=(0,o.Z)(u,1)[0],f=(0,a.useState)(t),d=f[0],p=f[1],h=Boolean(null===c||void 0===c||null===(n=c.currentUser)||void 0===n?void 0:n.toursSeen[0].seen);return"boolean"===typeof d&&(h=d),{isLoading:s,isDone:h,setIsDone:function(e){p(e),e&&l()}}}(l.id,f),O=E.isDone,C=E.isLoading,S=E.setIsDone,j=l.steps.findIndex((function(e){return y.id===e.id}));if(-1===j)throw new Error("Current tour step is not in tour steps");function P(){S(!0),null===g||void 0===g||g(y.id)}var D=(0,a.useRef)();function T(e){D.current=y,null===v||void 0===v||v(e.id),w(e)}function I(e){var t;if("number"===typeof e)t=e;else{var n=e;t=l.steps.findIndex((function(e){return n===e.id}))}if(!(t<0||t>=l.steps.length)){for(var r=l.steps[t],o=t<j;!Z[r.id]&&r.autoSkipIfNoTarget;){if((t=o?t-1:t+1)<0||t>=l.steps.length)return;r=l.steps[t]}T(r)}}function R(){I(0),S(!1)}var A=(0,a.useCallback)((function(e,t){var n=l.steps.findIndex((function(t){return e===t.id}));if(-1===n)throw new Error("Invalid step id");if(l.steps[n].isModal)throw new Error("Trying to set a target element for a modal step");k((function(n){return n[e]===t?n:m(m({},n),{},(0,r.Z)({},e,t))}))}),[l]),_=Z[y.id],L=!O&&!C;window.startTour=function(){h.log("starting tour:",l.id,"from",l.steps[0].id),R()};var N=l.steps.filter((function(e){return!e.autoSkipIfNoTarget||Boolean(Z[e.id])})),U=N.findIndex((function(e){return y.id===e.id}));return(0,d.BX)(c.z,{value:m(m({},l),{},{setStepTargetElement:A,activeStep:y,next:function(){var e=l.steps[j+1];if(e&&e.autoSkipIfNoTarget)for(var t=j+1;e&&e.autoSkipIfNoTarget&&!Z[e.id];)t++,e=l.steps[t];e?T(e):P()},prev:function(){var e=l.steps[j-1];if(e&&e.autoSkipIfNoTarget)for(var t=j-1;e&&e.autoSkipIfNoTarget&&!Z[e.id];)t--,e=l.steps[t];e&&T(e)},goto:I,isDone:O,isLoading:C,done:P,restart:R}),children:[L&&y.isModal?(0,d.tZ)(p,{}):null,L&&_?(0,d.BX)(d.HY,{children:[(0,d.tZ)(s.w,{targetElement:_}),(0,d.tZ)(u.k,{targetElement:_,activeStep:y,currentStepIndex:U,done:P,goto:function(e){I(e+j-U)},totalSteps:N.length,disableAnimation:Boolean(0===j||(null===(t=D.current)||void 0===t?void 0:t.isModal))})]}):null,n]})}function b(e){var t=(0,c.X)(),n=(0,a.useCallback)((function(n){null===t||void 0===t||t.setStepTargetElement(e,n)}),[e,null===t||void 0===t?void 0:t.setStepTargetElement]);return t&&t.steps.some((function(t){return t.id===e}))?{delegateTooltip:n,isActive:!t.isLoading&&!t.isDone&&t.activeStep.id===e,activeStep:t.activeStep,done:t.done,goto:t.goto,id:t.id,isDone:t.isDone,isLoading:t.isLoading,next:t.next,prev:t.prev,restart:t.restart,steps:t.steps}:null}var y=n(59864),w=(0,n(2736).K)("span");function x(e){return 1===a.Children.count(e)&&!y.isFragment(e)&&y.isElement(e)&&("string"===typeof e.type||y.isForwardRef(e))}var Z=function(){};function k(e){var t=e.stepId,n=e.children,r=b(t),o=r?r.delegateTooltip:Z,i=(0,a.useCallback)((function(e){if(o(e),x(n)){var t=a.Children.only(n),r=t.ref||t.props.ref;r&&("function"===typeof r?r(e):"object"===typeof r&&"current"in r&&(r.current=e))}}),[o,n]);if(!n||0===a.Children.count(n))return(0,d.tZ)(d.HY,{children:n});if(!r)return(0,d.tZ)(d.HY,{children:n});if(x(n)){var c=a.Children.only(n);return(0,a.cloneElement)(c,{ref:i})}return(0,d.tZ)(w,{ref:i,children:n})}},55076:function(e,t,n){var r;n.d(t,{z:function(){return r}}),function(e){e.FileNode="FILE_NODE",e.FileHeaderTab="FILE_HEADER_TAB",e.Code="CODE"}(r||(r={}))},35388:function(e,t,n){var r=n(65988),o=n.n(r),i=(n(67294),n(37424)),a=n(94184),c=n.n(a),s=n(35944);t.Z=function(e){var t=e.name,n=void 0===t?"toggle":t,r=e.isOn,a=e.onIcon,u=e.offIcon,l=e.onChange,f=(0,i.H)()(n);return(0,s.BX)("label",{htmlFor:f,className:"jsx-1600946318 "+(c()("toggle-label",{isOn:r})||""),children:[(0,s.tZ)("input",{name:n,checked:r,onChange:l,id:f,type:"checkbox",className:"jsx-1600946318 toggle-checkbox"}),(0,s.tZ)("span",{className:"jsx-1600946318 toggle-button",children:r&&a?a:u||null}),(0,s.tZ)(o(),{id:"1600946318",children:[".toggle-checkbox.jsx-1600946318{height:0;width:0;visibility:hidden;}",".toggle-label.jsx-1600946318{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer;width:38px;height:24px;background:var(--background-higher);border:0.5px solid var(--outline-dimmest);border-radius:100px;position:relative;-webkit-transition:background-color 0.2s;transition:background-color 0.2s;}",".toggle-button.jsx-1600946318{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;content:'';position:absolute;left:1px;width:20px;height:20px;border-radius:45px;-webkit-transition:0.2s;transition:0.2s;background:var(--white);box-shadow:var(--shadow-1);color:var(--foreground-dimmer);}",".toggle-label.isOn.jsx-1600946318{background-color:var(--accent-primary-default);border-color:var(--accent-primary-default);}",".toggle-checkbox.jsx-1600946318:checked+.toggle-button.jsx-1600946318{left:calc(100% - 1px);-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);color:var(--accent-primary-default);}",".toggle-label.jsx-1600946318:active .toggle-button.jsx-1600946318{box-shadow:var(--shadow-2);}"]})]})}},78068:function(e,t){t.Z={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",gold:"#FFC700",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"}}},82853:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.BX)(o.Z,c(c({},e),{},{children:[(0,i.tZ)("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.tZ)("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},57175:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.tZ)(o.Z,c(c({},e),{},{children:(0,i.tZ)("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}},93442:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.tZ)(o.Z,c(c({},e),{},{children:(0,i.tZ)("path",{d:"M16 4H18C18.5304 4 19.0391 4.21071 19.4142 4.58579C19.7893 4.96086 20 5.46957 20 6V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V6C4 5.46957 4.21071 4.96086 4.58579 4.58579C4.96086 4.21071 5.46957 4 6 4H8M9 2H15C15.5523 2 16 2.44772 16 3V5C16 5.55228 15.5523 6 15 6H9C8.44772 6 8 5.55228 8 5V3C8 2.44772 8.44772 2 9 2Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}},19335:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.BX)(o.Z,c(c({strokeWidth:3},e),{},{children:[(0,i.tZ)("path",{d:"M9.9 4.24002C10.5883 4.0789 11.2931 3.99836 12 4.00003C19 4.00003 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.572 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2219 9.18488 10.8539C9.34884 10.4859 9.58525 10.1547 9.88 9.88003M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06003L17.94 17.94Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.tZ)("path",{d:"M1 1L23 23",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},17130:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.BX)(o.Z,c(c({strokeWidth:3},e),{},{children:[(0,i.tZ)("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.tZ)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},24435:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.tZ)(o.Z,c(c({},e),{},{children:(0,i.tZ)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8M14 2L20 8M14 2V8H20M12 18V12M9 15H15",strokeLinecap:"round",strokeLinejoin:"round"})}))}},30535:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.BX)(o.Z,c(c({},e),{},{children:[(0,i.tZ)("path",{d:"M9 12L2 12",strokeWidth:"2",strokeLinecap:"round"}),(0,i.tZ)("path",{d:"M16 6L11 6C10.4477 6 10 6.44772 10 7L10 17C10 17.5523 10.4477 18 11 18L16 18",strokeWidth:"2"}),(0,i.tZ)("path",{d:"M16 18C16 19.6569 17.3431 21 19 21C20.6569 21 22 19.6569 22 18C22 16.3431 20.6569 15 19 15C17.3431 15 16 16.3431 16 18Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.tZ)("path",{d:"M16 6C16 4.34315 17.3431 3 19 3C20.6569 3 22 4.34315 22 6C22 7.65685 20.6569 9 19 9C17.3431 9 16 7.65685 16 6Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},95273:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.tZ)(o.Z,c(c({},e),{},{children:(0,i.tZ)("path",{d:"M22.9999 4.00001V10M22.9999 10H16.9999M22.9999 10L18.3699 5.64001C16.9905 4.25975 15.1999 3.3652 13.2678 3.09116C11.3358 2.81711 9.36705 3.17843 7.65823 4.12065C5.94942 5.06288 4.59313 6.53496 3.79374 8.31508C2.99436 10.0952 2.79519 12.0869 3.22625 13.9901C3.6573 15.8932 4.69524 17.6047 6.18363 18.8667C7.67203 20.1286 9.53026 20.8726 11.4783 20.9866C13.4263 21.1006 15.3586 20.5783 16.984 19.4985C18.6094 18.4187 19.8399 16.8399 20.4899 15",strokeLinecap:"round",strokeLinejoin:"round"})}))}},17964:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.BX)(o.Z,c(c({},e),{},{children:[(0,i.tZ)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.tZ)("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15V15Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},91331:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(59499),o=(n(67294),n(16082)),i=n(35944);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(0,i.tZ)(o.Z,c(c({},e),{},{children:(0,i.tZ)("path",{d:"M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14M9 9H9.01M15 9H15.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}},20278:function(e,t,n){n.d(t,{e$:function(){return l},$T:function(){return v},Od:function(){return m},PP:function(){return d},Bp:function(){return u},Jz:function(){return p},cV:function(){return h},i3:function(){return b},QK:function(){return g},Il:function(){return y},J9:function(){return w},JU:function(){return x}});var r=n(90116),o=n(83618),i=n(59499);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if("split"===e.type){var n=s(e.left,t);if(n)return["left"].concat(n);var r=s(e.right,t);if(r)return["right"].concat(r)}else if("tabs"===e.type)for(var o=0;o<e.tabs.length;o++){var i=s(e.tabs[o],t);if(i)return["tabs",o].concat(i)}else if("pane"===e.type&&e.pud===t)return[];return null}function u(e,t){for(var n=0;n<e.floating.length;n++)if(e.floating[n]===t)return["floating",n];var r=s(e.tiling,t);return r?["tiling"].concat(r):null}function l(e,t){return!!u(e,t)}function f(e,t,n){if("split"===e.type){var r=f(e.left,t,n);if(r)return["left"].concat(r);var o=f(e.right,t,n);if(o)return["right"].concat(o)}else if("tabs"===e.type)for(var i=0;i<e.tabs.length;i++){var a=f(e.tabs[i],t,n);if(a)return["tabs",i].concat(a)}else if("pane"===e.type){if(t[e.pud].type===n)return[];if(e.header&&t[e.header.pud].type===n)return["header"]}return null}function d(e,t,n){var r=f(e.tiling,t,n);return r?["tiling"].concat(r):null}function p(){return["tiling"]}function h(){return["floating"]}function v(e,t,n,r,o){if("inside"===n){if(1!==r.length||"floating"!==r[0])throw new Error("position 'inside' should only be used for the path ['floating']");return o&&o.once&&e.floating.includes(t)?{path:["floating"],to:e.floating}:{path:["floating"],to:e.floating.concat(t)}}var i={type:"split"};if("undefined"!==typeof o?"undefined"!==typeof o.position?i=c(c({},i),{},{fixed:!!o.fixed,position:o.position||50}):"undefined"!==typeof o.leftSize?i=c(c({},i),{},{leftSize:o.leftSize}):"undefined"!==typeof o.rightSize&&(i=c(c({},i),{},{rightSize:o.rightSize})):i=c(c({},i),{},{fixed:!1,position:50}),"leftOf"===n)i=c(c({},i),{},{stacked:!1,right:g(e,r),left:{type:"pane",pud:t}});else if("rightOf"===n)i=c(c({},i),{},{stacked:!1,right:{type:"pane",pud:t},left:g(e,r)});else if("above"===n)i=c(c({},i),{},{stacked:!0,left:{type:"pane",pud:t},right:g(e,r)});else{if("below"!==n)throw new Error("unsupported new plugin type");i=c(c({},i),{},{stacked:!0,right:{type:"pane",pud:t},left:g(e,r)})}return{path:r.map((function(e){return e.toString()})),to:i}}function m(e,t){var n,r=u(e,t);if(!r)return{path:["tiling"],to:e.tiling};if("floating"===r[0]){var o=e.floating.indexOf(t);return{path:["floating"],to:e.floating.slice(0,o).concat(e.floating.slice(o+1))}}if("split"!==g(e,r.slice(0,-1)).type)throw new Error("remove only supports splits right now");return n="left"===r[r.length-1]?"right":"left",{path:r.slice(0,-1).map((function(e){return e.toString()})),to:g(e,r.slice(0,-1).concat(n))}}var g=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(0===n.length)return t;var r=(0,o.Z)(n),i=r[0],a=r.slice(1);return e(t[i],a)};function b(e,t){return e.length!==t.length&&(e=e.slice(0,t.length),t=t.slice(0,e.length)),e.join()===t.join()?e:0===e.length?null:b(e.slice(0,-1),t.slice(0,-1))}function y(e){return e.slice(0,-1)}function w(e){return[].concat((0,r.Z)(e.slice(0,-1)),["left"===e[e.length-1]?"right":"left"])}function x(e){return"tabs"===e.slice(0,-1).pop()}},6170:function(e,t,n){function r(e){return e.startsWith("/")?e:null}function o(e){var t=r(e);if(null===t)throw new Error("Expected an absolute path but got ".concat(e));return t}function i(e){return e.startsWith("/home/runner/")?e.split("/").slice(4).join("/"):null}n.d(t,{IT:function(){return r},ZF:function(){return o},om:function(){return i}})},99846:function(e,t,n){function r(e,t){if("dev"===e)return!0;if("dev"===t)return!1;for(var n=function(e){var t=[0,0,0];return e.split(".").map(Number).forEach((function(n,r){if("number"!==typeof n||isNaN(n))throw new Error("invalid version: ".concat(e));t[r]=n})),t},r=n(e),o=n(t),i=0;i<3;i++){if(o[i]>r[i])return!1;if(r[i]>o[i])return!0}return!0}function o(e,t){return!r(e,t)}n.d(t,{H:function(){return r},h:function(){return o}})},4363:function(e,t,n){n.d(t,{Z:function(){return bi}});var r=n(59499),o=n(65988),i=n.n(o),a=n(67294),c=n(92130),s=n(97498),u=n(46290),l=n(17674),f=n(50029),d=n(87794),p=n.n(d),h=n(51077),v=n(14648);function m(e){var t,n=e.getServerCapabilities();return{isAutoCompleteSupported:Boolean(null===n||void 0===n?void 0:n.completionProvider),isCompletionItemResolveSupported:Boolean(null===n||void 0===n||null===(t=n.completionProvider)||void 0===t?void 0:t.resolveProvider),isFindReferencesSupported:Boolean(null===n||void 0===n?void 0:n.referencesProvider),isFindDefinitionSupported:Boolean(null===n||void 0===n?void 0:n.definitionProvider),isFindTypeDefinitionSupported:Boolean(null===n||void 0===n?void 0:n.typeDefinitionProvider),isFindImplementationSupported:Boolean(null===n||void 0===n?void 0:n.implementationProvider),isTextDocumentSyncSupported:Boolean(null===n||void 0===n?void 0:n.textDocumentSync),isHoverSupported:Boolean(null===n||void 0===n?void 0:n.hoverProvider),isRenameSupported:Boolean(null===n||void 0===n?void 0:n.renameProvider),isCodeActionsSupported:Boolean(null===n||void 0===n?void 0:n.codeActionProvider),isSignatureHelpSupported:Boolean(null===n||void 0===n?void 0:n.signatureHelpProvider)}}function g(e){var t=a.useState(null),n=(0,l.Z)(t,2),r=n[0],o=n[1];return a.useEffect((function(){if(e)return o(m(e)),e.onServerCapabilitiesChange((function(){o(m(e))}));o(null)}),[e]),r}var b=n(42309),y=n(73935),w=n(91296),x=n.n(w),Z=n(78120),k=n(34790),E=n(47421),O=n(73599),C=n(93444);function S(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){if(!e)return"";if(Array.isArray(e)){var t,n="",r=S(e);try{for(r.s();!(t=r.n()).done;){n+=P(t.value)+"\n\n"}}catch(o){r.e(o)}finally{r.f()}return n}return"string"===typeof e?e:"language"in e?"```"+e.language+"\n"+e.value+"\n```":e.value}var D=n(91462),T=n(37662);function I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n){if("effects"in e){var r,o=I(e.effects);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.is(t)&&n(i)}}catch(s){o.e(s)}finally{o.f()}}else{var a,c=I(e.transactions);try{for(c.s();!(a=c.n()).done;){A(a.value,t,n)}}catch(s){c.e(s)}finally{c.f()}}}var _=n(2736),L=n(35944),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Z.Py.define(),r=Z.QQ.define({create:function(){return t},update:function(t,r){return A(r,n,(function(n){t=e(n.value,t)})),t}});return{effect:n,state:r}}(),U=Z.Py.define(),F=Z.QQ.define({create:function(){return null},update:function(e,t){if(!t.isUserEvent("input.type"))return null;if(t.changes.empty)return e;var n="";return t.changes.iterChanges((function(e,t,r,o,i){n=i.sliceString(0,1)})),n||null}});function B(e){var t=e.lspClient,n=e.path,r=document.createElement("div"),o={};function i(e,t){return a.apply(this,arguments)}function a(){return(a=(0,f.Z)(p().mark((function e(r,o){var i,a,s,u,l,f;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(null===(i=t.getServerCapabilities())||void 0===i||null===(a=i.signatureHelpProvider)||void 0===a?void 0:a.triggerCharacters)||[]){e.next=3;break}return e.abrupt("return",null);case 3:if(u=r.field(c,!1),l=r.field(F,!1),u||null!=l&&s.includes(l)){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,X(r,o,t,n);case 9:if((f=e.sent)&&f.signatures.length){e.next=12;break}return e.abrupt("return",null);case 12:return e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=Z.QQ.define({create:function(){return null},update:function(e,t){return t.isUserEvent("select.pointer")?null:(t.selection||A(t,N.effect,(function(n){var i=n.value;e=i?{pos:t.state.selection.main.from,create:function(){return function(e){var t=0,n=function(n){y.render((0,L.tZ)(M,{help:e,index:t}),r,n)};return n(),o.dom=r,o.update=function(r){A(r,U,(function(o){t=(t+o.value+e.signatures.length)%e.signatures.length,n((function(){(0,O.E2)(r.view)}))}))},o}(i)},above:!0}:null})),e)},provide:function(e){return O.hJ.from(e)}}),s=E.lg.define((function(){var e=x()(function(){var e=(0,f.Z)(p().mark((function e(t){var n,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state.selection.main).empty){e.next=7;break}return e.next=4,i(t.state,n.from);case 4:(r=e.sent)&&(0,k._B)(t),t.dispatch({effects:N.effect.of(r)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),0);return{update:function(t){t.transactions.some((function(e){return e.selection}))&&t.state.selection.main.empty&&e(t.view)}}}));var u=function(e){return function(t){return!!function(e){var t=e.state.field(N.state,!1);return null!=t&&t.signatures.length>1}(t)&&(t.dispatch({effects:U.of(e)}),!0)}},l=[{key:"ArrowDown",run:u(1)},{key:"ArrowUp",run:u(-1)},{key:"Escape",run:function(e){return!!e.state.field(N.state,!1)&&(e.dispatch({effects:N.effect.of(null)}),!0)}}];return[c,N.state,F,s,Z.Wl.high(E.$f.of(l))]}var M=function(e){var t,n,r=e.help,o=e.index,i="1px solid ".concat(D.TV.outlineDimmest),a="min(425px, 80vw)",c=r.signatures[o],s=r.signatures.length>1;if(!c)return null;var u=c.documentation,l=null!=r.activeParameter&&(null===(t=c.parameters)||void 0===t||null===(n=t[r.activeParameter])||void 0===n?void 0:n.documentation);return(0,L.BX)(_.Z,{css:D.l0.flex.row,children:[s&&(0,L.tZ)(_.Z,{css:[D.l0.flex.row,D.l0.pl(4),{borderRight:i,paddingBottom:5},"",""],children:(0,L.BX)("span",{css:["align-self:flex-end;",D.l0.p(4),"",""],children:[o+1,"/",r.signatures.length]})}),(0,L.BX)(_.Z,{children:[(0,L.tZ)(_.Z,{css:[D.l0.py(4),D.l0.pl(s?4:8),D.l0.pr(8),D.l0.maxHeight(100),D.l0.overflowY("scroll"),D.l0.font.code,{lineHeight:D.TV.lineHeightSmall,maxWidth:a},"",""],children:(0,L.tZ)(H,{signature:c,activeParameter:r.activeParameter})}),Boolean(u||l)&&(0,L.BX)(_.Z,{css:[D.l0.px(s?4:8),D.l0.py(2),D.l0.maxHeight(200),D.l0.overflow("scroll"),{borderTop:i,maxWidth:a},"",""],children:[l?(0,L.tZ)(_.Z,{children:(0,L.tZ)(T.Z,{children:P(l)})}):null,u?(0,L.tZ)(_.Z,{children:(0,L.tZ)(T.Z,{children:P(u)})}):null]})]})]})};function H(e){var t,n=e.signature,r=n.label,o=n.parameters,i=e.activeParameter;if(null==i||!o)return(0,L.tZ)("span",{children:r});var a=null===(t=o[i])||void 0===t?void 0:t.label;if(!a)return(0,L.tZ)("span",{children:r});var c="string"===typeof a?[r.indexOf(a),r.indexOf(a)+a.length]:a,s=(0,l.Z)(c,2),u=s[0],f=s[1];return(0,L.BX)("div",{children:[(0,L.tZ)("span",{children:r.slice(0,u)}),(0,L.tZ)("strong",{children:a}),(0,L.tZ)("span",{children:r.slice(f)})]})}function X(e,t,n,r){return G.apply(this,arguments)}function G(){return(G=(0,f.Z)(p().mark((function e(t,n,r,o){var i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.request.signatureHelp(o,(0,C.s)(t.doc,n));case 2:if(!("error"in(i=e.sent))){e.next=5;break}throw new Error("Something went wrong fetching signature help results: ".concat(i.error.message));case 5:return e.abrupt("return",i.result);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=n(67005);function z(e){var t=e.lspClient,n=e.path;return E.tk.updateListener.of((function(e){var r;if(e.docChanged){var o=null===(r=t.getServerCapabilities())||void 0===r?void 0:r.textDocumentSync;if(o!==V.TextDocumentSyncKind.None&&t.isOpen(n))if(o!==V.TextDocumentSyncKind.Full)t.notify.didChange(n,function(e,t){var n=[],r=t;return e.iterChanges((function(e,t,o,i,a){var c=a.sliceString(0),s=t-e,u=s+o;n.push({range:{start:(0,C.s)(r,o),end:(0,C.s)(r,u)},rangeLength:s,text:c}),r=r.replace(o,u,a)})),n}(e.changes,e.startState.doc));else{var i=e.view.state.doc.toString();t.notify.didChange(n,[{text:i}])}}}))}var W=n(91674),J=n(28519);function q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t=e.lspClient,n=e.path;return E.lg.define((function(e){var r=t.onDiagnostics((function(t){if(t.path===n){var r=function(e,t){var n,r=[],o=q(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=(0,C.R)(t.doc,i.range.start),c=(0,C.R)(t.doc,i.range.end);if(a===c){var s=t.wordAt(c);if(s)a=s.from,c=s.to;else{if(!(c<t.doc.length))continue;c+=1}}var u="info";switch(i.severity){case W.DiagnosticSeverity.Error:u="error";break;case W.DiagnosticSeverity.Warning:u="warning";break;case W.DiagnosticSeverity.Hint:case W.DiagnosticSeverity.Information:u="info"}r.push({from:a,to:c,severity:u,message:i.message,source:i.source})}}catch(l){o.e(l)}finally{o.f()}return r}(t.diagnostics,e.state);e.dispatch((0,J.p0)(e.state,r))}}));return{destroy:function(){r()}}}))}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}var re=/(\w|\.|:)+$/;function oe(e,t){var n,r=e.state,o=e.pos,i=e.explicit,a=r.doc.lineAt(o),c=V.CompletionTriggerKind.Invoked;return!i&&null!==t&&void 0!==t&&t.includes(a.text[o-a.from-1])&&(c=V.CompletionTriggerKind.TriggerCharacter,n=a.text[e.pos-a.from-1]),c!==V.CompletionTriggerKind.Invoked||e.matchBefore(re)?{triggerKind:c,triggerCharacter:n}:null}function ie(e){var t=document.createElement("div");return y.render("string"===typeof e?(0,L.tZ)(_.Z,{css:D.l0.font.code,children:e}):(0,L.tZ)(T.Z,{children:P(e)}),t),t}var ae=Object.entries(W.CompletionItemKind).reduce((function(e,t){var n=(0,l.Z)(t,2),o=n[0],i=n[1];return Q((0,r.Z)({},i,o.toLowerCase()),e)}),{});function ce(e){var t,n=e.view,r=e.item,o=e.from,i=e.to,a=n.state,c=a.doc,s=a.selection,u=[];if(r.textEdit){var l=r.textEdit,f=l.range,d=l.newText,p=(0,C.R)(c,f.start),h=(0,C.R)(c,f.end);if(null===p||null===h)return;u.push({from:p,insert:d,to:Math.max(h,s.main.to)})}else{var v=r.insertText||r.label;u.push({from:o,to:i,insert:v})}var m=u[0],g="";null===(t=r.additionalTextEdits)||void 0===t||t.forEach((function(e){var t=function(e,t){var n=(0,C.R)(e.state.doc,t.range.start),r=(0,C.R)(e.state.doc,t.range.end);if(null!==n&&null!==r)return{from:n,to:r,insert:t.newText}}(n,e);t&&("insert"in t&&"from"in t&&"from"in m&&t.from===m.from&&(g=t.insert),u.push(t))}));var b=i-o;s.ranges.forEach((function(e){if(e!==s.main){if(!("insert"in m)||!m.insert)throw new Error("Expexted insert in mainChange");var t=e.from-b,n=g+m.insert;u.push({from:t,to:e.to,insert:n})}}));var y=Z.as.of(u,c.length),w=s.ranges.map((function(e){return e.map(y)}));return{changes:y,selection:Z.jT.create(w,s.mainIndex)}}function se(e,t,n){var r=t.map((function(e){var t,r=e.additionalTextEdits;var o={label:e.label,detail:e.detail,apply:function(t,n,o,i){var a=ce({view:t,item:Q(Q({},e),{},{additionalTextEdits:r}),to:i,from:o});a&&t.dispatch({changes:a.changes,selection:a.selection,annotations:k.Jv.of(n)})},type:e.kind&&ae[e.kind],filterText:(null!==(t=e.filterText)&&void 0!==t?t:e.label).toLowerCase(),sortText:e.sortText||e.label},i=m(n).isCompletionItemResolveSupported;return n&&i?o.info=(0,f.Z)(p().mark((function t(){var o,i,a,c;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.request.resolveCompletionItem(e);case 2:if(o=t.sent,i="cancelled"in o&&o.cancelled,a="result"in o?o.result:null,!i&&a){t.next=7;break}return t.abrupt("return",null);case 7:if(a.additionalTextEdits&&(r=a.additionalTextEdits),c=[],a.detail&&a.detail!==e.detail&&a.detail!==e.label&&c.push(a.detail),a.documentation&&c.push(a.documentation),c.length){t.next=13;break}return t.abrupt("return",null);case 13:return t.abrupt("return",ie(c));case 14:case"end":return t.stop()}}),t)}))):e.documentation&&(o.info=function(){return e.documentation?ie(e.documentation):null}),o})),o=function(e){var t,n=Object.create(null),r=Object.create(null),o=ee(e);try{for(o.s();!(t=o.n()).done;){var i=t.value.label;n[i[0]]=!0;for(var a=1;a<i.length;a++)r[i[a]]=!0}}catch(s){o.e(s)}finally{o.f()}var c=ne(n)+ne(r)+"*$";return[new RegExp("^"+c),new RegExp(c)]}(r),i=(0,l.Z)(o,2),a=i[0],c=i[1],s=e.matchBefore(c),u=e.pos;if(s){u=s.from;var d=s.text.toLowerCase();/^\w+$/.test(d)&&(r=r.filter((function(e){return e.filterText.startsWith(d)})).sort((function(e,t){var n=e.sortText,r=t.sortText;return n.startsWith(s.text)&&!r.startsWith(s.text)?-1:!n.startsWith(s.text)&&r.startsWith(s.text)?1:0})))}return{from:u,options:r,span:a}}function ue(e,t,n,r){return le.apply(this,arguments)}function le(){return(le=(0,f.Z)(p().mark((function e(t,n,r,o){var i,a,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request.completion(n,(0,C.s)(o.state.doc,o.pos),r);case 2:if(!("error"in(i=e.sent))){e.next=5;break}throw new Error("Something went wrong fetching autocompletion results: ".concat(i.error.message));case 5:if(a=i.result,!o.aborted){e.next=8;break}return e.abrupt("return",null);case 8:if(a){e.next=10;break}return e.abrupt("return",null);case 10:return c=Array.isArray(a)?a:a.items,e.abrupt("return",se(o,c,t));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fe=n(17426);var de="hover-tooltip-content",pe=".rendered-markdown .".concat(de);function he(e){var t,n,r=e.hover,o=e.doc,i=e.offset,a=e.setHoverTooltipParams;return!Array.isArray(r.contents)&&"string"!==typeof r.contents||0!==r.contents.length?(r.range?(t=(0,C.R)(o,r.range.start),n=(0,C.R)(o,r.range.end)):(t=i,n=i+1),{pos:t,end:n,create:function(){var e=document.createElement("div");e.classList.add("hover-tooltip"),e.style.padding="0";var t=P(r.contents);return setTimeout((function(){a({dom:e,content:t,className:de})})),{dom:e,mount:function(e){var t;t=function(){(0,O.E2)(e)},[0,50,200,1e3].forEach((function(e){return setTimeout(t,e)}))}}},above:!0}):(a(null),null)}var ve=n(90116);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we=Z.Py.define();function xe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=Z.Py.define();function Ee(e){var t=e.lspClient,n=e.path,o=e.setLspTooltipProps,i=e.setRenameInputParams,a=e.setHoverTooltipParams,c=m(t),s=[z({lspClient:t,path:n}),K({lspClient:t,path:n})];return c.isAutoCompleteSupported&&s.push(function(e){var t=e.lspClient,n=e.path;function r(){return(r=(0,f.Z)(p().mark((function e(r){var o,i,a,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getServerCapabilities()){e.next=3;break}return e.abrupt("return",null);case 3:if(a=(null===i||void 0===i||null===(o=i.completionProvider)||void 0===o?void 0:o.triggerCharacters)||[],c=oe(r,a)){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",ue(t,n,c,r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,k.ys)({defaultKeymap:!1,override:[(0,k.eC)(["LineComment","BlockComment","String"],(function(e){return r.apply(this,arguments)}))]})}({lspClient:t,path:n})),c.isSignatureHelpSupported&&s.push(B({lspClient:t,path:n})),c.isHoverSupported&&s.push(function(e){var t,n=e.lspClient,o=e.path,i=e.setHoverTooltipParams,a=(0,O.bF)(function(){var e=(0,f.Z)(p().mark((function e(t,r){var a,c,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,C.s)(t.state.doc,r),e.next=3,n.request.hover(o,a);case 3:if(!("error"in(c=e.sent))){e.next=7;break}throw i(null),new Error("Something went wrong fetching hover results: ".concat(c.error.message));case 7:if(null!==(s=c.result)){e.next=11;break}return i(null),e.abrupt("return",null);case 11:return e.abrupt("return",he({hover:s,offset:r,doc:t.state.doc,setHoverTooltipParams:i}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return[a,E.tk.theme((t={},(0,r.Z)(t,"".concat(pe," p"),{fontSize:"calc(".concat(fe.TV.fontSizeDefault," + 1px)"),padding:"".concat(fe.TV.space2," ").concat(fe.TV.space8),lineHeight:1.4,marginBottom:0}),(0,r.Z)(t,"".concat(pe," p:last-child"),{marginBottom:"".concat(fe.TV.space4," !important")}),(0,r.Z)(t,"".concat(pe," pre"),{margin:"".concat(fe.TV.space2," ").concat(fe.TV.space8," ").concat(fe.TV.space2," ").concat(fe.TV.space4)}),(0,r.Z)(t,"".concat(pe," pre + p"),{borderTop:"1px solid ".concat(fe.TV.outlineDimmest),paddingTop:fe.TV.space4}),t))]}({setHoverTooltipParams:a,lspClient:t,path:n})),(c.isFindDefinitionSupported||c.isFindReferencesSupported)&&s.push(function(e){var t=e.setLspTooltipProps,n=e.lspClient,r=e.path,o=Z.Py.define(),i=Z.Py.define(),a=E.tk.updateListener.of(function(){var e=(0,f.Z)(p().mark((function e(t){var a,c,s,u,l,f,d,h,v,g,b,y,w,x,Z,k,E,O,S,j,P,D;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h=function(){t.view.dispatch({effects:i.of(null)})},a=null,c=be(t.transactions);try{for(c.s();!(s=c.n()).done;){u=s.value,l=be(u.effects);try{for(l.s();!(f=l.n()).done;)(d=f.value).is(we)&&(a=d.value)}catch(p){l.e(p)}finally{l.f()}}}catch(p){c.e(p)}finally{c.f()}if(a){e.next=6;break}return e.abrupt("return");case 6:if(v=m(n),g=t.state.doc,b=(0,C.s)(g,a),!v.isFindReferencesSupported){e.next=15;break}return e.next=12,n.request.findReferences(r,b,{includeDeclaration:!1});case 12:e.t0=e.sent,e.next=16;break;case 15:e.t0={result:null};case 16:if(y=e.t0,!v.isFindDefinitionSupported){e.next=23;break}return e.next=20,n.request.findDefinitions(r,b);case 20:e.t1=e.sent,e.next=24;break;case 23:e.t1={result:null};case 24:if(w=e.t1,!("error"in y)){e.next=27;break}throw new Error("Something went wrong fetching references: ".concat(y.error.message));case 27:if(!("error"in w)){e.next=29;break}throw new Error("Something went wrong fetching definition: ".concat(w.error.message));case 29:if(x=y.result,Z=w.result,k=x&&x.length>0,E=Z&&Z.length>0,k||E){e.next=36;break}return h(),e.abrupt("return");case 36:O=[],S=[],x&&x.length>0&&O.push.apply(O,(0,ve.Z)(x)),Z&&Z.length>0&&S.push.apply(S,(0,ve.Z)(Z)),j=[].concat(O,S).map((function(e){return n.documentUriToPath(e.uri)})).filter((function(e){return e!==r})),P=(0,ve.Z)(new Set(j)),D=g.toJSON().join("\n"),t.view.dispatch({effects:o.of({references:O,definitions:S,currentFile:r,currentFileContents:D,files:P})});case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return[a,Z.QQ.define({create:function(){return null},update:function(e,t){var n,r=e,a=be(t.effects);try{for(a.s();!(n=a.n()).done;){var c=n.value;c.is(o)&&(r=c.value),c.is(i)&&(r=null)}}catch(s){a.e(s)}finally{a.f()}return r},provide:function(e){return O.hJ.compute([e],(function(n){var r=n.field(e);if(!r)return t(null),null;var o=n.selection.asSingle().main;return{pos:o.from,end:o.to,create:function(e){var n=document.createElement("div");return n.classList.add("cm-lsp-tooltip"),n.classList.add("replit-tooltip"),n.style.padding="0",t(ge(ge({},r),{},{onClose:function(){e.dispatch({effects:i.of(null)})},dom:n})),{dom:n}}}}))}})]}({setLspTooltipProps:o,lspClient:t,path:n})),c.isRenameSupported&&s.push(function(e){return Z.QQ.define({create:function(){return null},update:function(e,t){var n,r=e,o=xe(t.effects);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.is(ke)&&(r=i.value)}}catch(a){o.e(a)}finally{o.f()}return r},provide:function(t){return O.hJ.compute([t],(function(n){var r=n.field(t);if(null===r)return e(null),null;var o=n.wordAt(r);return o?{pos:r,create:function(){var t=document.createElement("div");t.classList.add("cm-lsp-rename-tooltip"),t.classList.add("replit-tooltip"),t.style.padding="0";var i=n.sliceDoc(o.from,o.to);return e({position:r,variable:i,dom:t}),{dom:t}}}:null}))}})}(i)),s}var Oe=n(66941),Ce=n(20338),Se=n(86140),je=n(9571),Pe=n(82625);function De(e){var t=e.path,n=e.fs,r=e.edits,o=!1,i=n.watchOtFile(t,{onReady:function(e){var t=e.writeOps,n=e.initialContent;t((0,Se.Z)(r,n.toString())),o=!0},onStatusChange:function(e){e===je.KF.Clean&&o&&i()}})}function Te(e){var t=e.edit,n=e.fs,r=e.client,o=t.documentChanges,i=t.changes;if(o&&o.forEach((function(e){if("textDocument"in e){var t=e.edits,o=e.textDocument;De({path:r.documentUriToPath(o.uri),fs:n,edits:t})}else switch(e.kind){case"create":var i=r.documentUriToPath(e.uri),a=e.options,c=Boolean((null===a||void 0===a?void 0:a.overwrite)||!(null!==a&&void 0!==a&&a.ignoreIfExists)),s=function(){n.writeFile(i,Pe.Z.from("")).then((function(e){if(e.error)throw new Error("Something went wrong writing to a file")}))};if(c){s();break}n.stat(i).then((function(e){e.exists||s()}));break;case"delete":var u=r.documentUriToPath(e.uri),l=e.options,f=Boolean(null===l||void 0===l?void 0:l.recursive),d=Boolean(null===l||void 0===l?void 0:l.ignoreIfNotExists);n.stat(u).then((function(e){if(!e.exists)throw new Error("Expected file to exist");if(e.type===je.Tv.Directory&&!f)throw new Error("Trying to delete a directory without recursive option enabled");n.deleteFile(u).then((function(e){var t=e.error;if((t!==je.Df.NotFound||!d)&&t)throw new Error("Something went wrong deleting the file")}))}));break;case"rename":var p=r.documentUriToPath(e.oldUri),h=r.documentUriToPath(e.newUri),v=e.options,m=Boolean((null===v||void 0===v?void 0:v.overwrite)||!(null!==v&&void 0!==v&&v.ignoreIfExists)),g=function(){n.moveFile(p,h).then((function(e){if(e.error)throw new Error("Something went wrong moving the file")}))};if(m){g();break}n.stat(h).then((function(e){e.exists||g()}))}})),i)for(var a in i){var c=r.documentUriToPath(a),s=i[a];De({path:c,fs:n,edits:s})}}var Ie=n(94985);function Re(){return(Re=(0,f.Z)(p().mark((function e(t){var n,r,o,i,a,c,s,u,f,d,h,v,g,b,y,w,x,Z,k;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,r=t.view,o=t.client,i=t.session,a=t.filePath,c=t.requestIdRef,(0,Oe.jh)(n)){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=5;break}throw new Error("Expected view");case 5:if(s=n.clientX,u=n.clientY,null!==(f=r.posAtCoords({x:s,y:u}))){e.next=9;break}return e.abrupt("return");case 9:if(o){e.next=11;break}throw new Error("Expected LSP Client");case 11:if(a){e.next=13;break}throw new Error("Expected filePath");case 13:if(d=m(o),d.isFindDefinitionSupported){e.next=16;break}return e.abrupt("return");case 16:return c.current&&o.notify.cancelRequest(c.current),c.current=o.generateId(),h=(0,C.s)(r.state.doc,f),e.next=21,o.request.findDefinitions(a,h,c.current);case 21:if(v=e.sent,c.current=null,!("error"in v)){e.next=25;break}throw new Error("Something went wrong fetching definition location: ".concat(v.error.message));case 25:if(g=v.result,!v.cancelled&&g&&0!==g.length){e.next=28;break}return e.abrupt("return");case 28:b=(0,l.Z)(g,1),y=b[0],w=y.uri,x=y.range,Z=x.start,k=o.documentUriToPath(w),i.updateDeeplink({path:k,line:Z.line+1,col:Z.character});case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){var t=e.view,n=e.filePath,r=e.isLoading,o=(0,b.Z)().preferences.codeIntelligence,i=(0,s.Z)().session,c=(0,v.Z)(n),u=g(c),d=a.useState(null),y=(0,l.Z)(d,2),w=y[0],x=y[1],Z=a.useState(null),k=(0,l.Z)(Z,2),O=k[0],S=k[1],j=a.useState(null),P=(0,l.Z)(j,2),D=P[0],T=P[1];!function(e){var t=e.filePath,n=(0,s.Z)().fs,r=(0,v.Z)(t);a.useEffect((function(){if(r)return r.onWorkspaceEdit((function(e){return Te({edit:e.edit,fs:n,client:r}),{applied:!0}}))}),[n,r])}({filePath:n}),function(e){var t=e.filePath,n=(0,s.Z)().fs,r=(0,v.Z)(t);a.useEffect((function(){if(r&&m(r).isTextDocumentSyncSupported)return n.watchOtFile(t,{onFlush:function(){r.isOpen(t)&&r.notify.didSave(t)}})}),[n,t,r])}({filePath:n});var I=function(e){var t=e.view,n=e.filePath,r=e.renameInputParams,o=a.useRef(null),i=(0,s.Z)().fs,c=(0,v.Z)(n),u=a.useCallback(function(){var e=(0,f.Z)(p().mark((function e(a){var s,u,l,f;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Expected view");case 2:if(c){e.next=4;break}throw new Error("Expected client");case 4:if(n){e.next=6;break}throw new Error("Expected non-null file path");case 6:if(r){e.next=8;break}throw new Error("Expected rename input params");case 8:return s=(0,C.s)(t.state.doc,r.position),o.current&&c.notify.cancelRequest(o.current),u=c.generateId(),o.current=u,e.next=14,(0,Ie.M)(t,c.request.rename(n,s,a,u));case 14:if(l=e.sent,o.current=null,!("error"in l)){e.next=18;break}throw new Error("Something went wrong renaming ".concat(l.error.message));case 18:if(!l.cancelled){e.next=20;break}return e.abrupt("return");case 20:if(f=l.result){e.next=23;break}return e.abrupt("return");case 23:Te({edit:f,fs:i,client:c}),t.dispatch({effects:[ke.of(null)]});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,t,n,i,r]);return{onRename:u,closeRenameInput:a.useCallback((function(){if(!t)throw new Error("Expected view");t.dispatch({effects:[ke.of(null)]}),t.focus()}),[t])}}({view:t,filePath:n,renameInputParams:D}),R=I.onRename,A=I.closeRenameInput,_=(0,Ce.Z)({view:t});return a.useEffect((function(){if(!r&&o&&t&&c&&u&&c.isSupportedFile(n)){c.notify.didOpen(n,t.state.doc.toString());var e=u.isFindDefinitionSupported,a={current:null};return t.dispatch({effects:_.reconfigure([Ee({lspClient:c,path:n,setLspTooltipProps:x,setRenameInputParams:T,setHoverTooltipParams:S}),e?E.tk.domEventHandlers({click:function(e){return function(e){Re.apply(this,arguments)}({event:e,view:t,filePath:n,client:c,session:i,requestIdRef:a}),!1}}):[]])}),function(){c.getServerState()===h.aL.INITIALIZED&&c.isOpen(n)&&c.notify.didClose(n),t.dispatch({effects:_.reconfigure([])})}}}),[c,t,u,_,n,r,i,o,x,T,S]),{lspTooltipProps:w,hoverTooltipParams:O,renameInputParams:D,closeRenameInput:A,onRename:R}}var _e=n(5882),Le=n(92777),Ne=n(82262),Ue=n(81531),Fe=n(63553),Be=n(37247),Me=n(29737),He=n(80382),Xe=n(6170);function Ge(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Be.Z)(e);if(t){var o=(0,Be.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,Fe.Z)(this,n)}}var We=new(function(e){(0,Ue.Z)(n,e);var t=ze(n);function n(){return(0,Le.Z)(this,n),t.apply(this,arguments)}return(0,Ne.Z)(n,[{key:"toDOM",value:function(){return document.createTextNode("\u25cf")}}]),n}(Me.SJ)),Je=Z.Py.define({}),qe=Z.Py.define({}),Ye=E.p.line({attributes:{class:"cm-debuggerLine"}}),Ke=Z.Py.define({}),$e=Z.QQ.define({create:function(){return null},update:function(e,t){var n,r=Ge(t.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.is(Ke))return o.value}}catch(i){r.e(i)}finally{r.f()}return e}});function Qe(e){var t=new He.f_,n=e.state.field($e);if(null!==n){var r=e.state.doc.line(n);t.add(r.from,r.from,Ye)}return t.finish()}var et=E.lg.fromClass(function(){function e(t){(0,Le.Z)(this,e),this.decorations=void 0,this.decorations=Qe(t)}return(0,Ne.Z)(e,[{key:"update",value:function(e){this.decorations=Qe(e.view)}}]),e}(),{decorations:function(e){return e.decorations}});function tt(e,t){e.dispatch({effects:qe.of({pos:t})})}var nt=Z.QQ.define({create:function(){return He.Xs.empty},update:function(e,t){e=e.map(t.changes);var n,r=Ge(t.effects);try{var o=function(){var r=n.value;if(r.is(qe)){var o=!1;e.between(r.value.pos,r.value.pos+1,(function(){o=!0})),e=o?e.update({filter:function(e){return e!==r.value.pos}}):e.update({add:[We.range(r.value.pos)]})}r.is(Je)&&(e=He.Xs.of(r.value.lines.map((function(e){return We.range(t.state.doc.line(e).from)})),!0))};for(r.s();!(n=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return e}});function rt(e,t){var n;return e&&0!==e.length?null===t||(null===(n=e[0].source)||void 0===n?void 0:n.path)!==t?null:e[0].line:null}var ot=n(85636);function it(e){var t=e.view,n=e.debuggest,r=e.filePath,o=e.isLoading,i=(0,s.Z)().fs,c=(0,ot.Z)(),u=(0,_e.Z)(n.mainClient),l=(0,Ce.Z)({view:t});a.useEffect((function(){if(!o&&c&&u&&t){var e=(0,Xe.ZF)("/home/runner/".concat(c.slug,"/").concat(r)),n=function(e,t,n,r){var o,i=[];i.push(t.breakpoints.subscribe((function(t){var r=t.get(n);r&&e.dispatch({effects:Je.of({lines:r.map((function(e){return e.line}))})})})));var a=E.tk.updateListener.of((function(o){o.transactions.forEach((function(o){o.effects.forEach((function(o){if(o.is(qe)){var i=(0,Xe.om)(n);if(!i)throw new Error("Expected relative path");t.toggleBreakpoint(n,{line:e.state.doc.lineAt(o.value.pos).number,otVersion:r.getOTVersion(i),otIndex:o.value.pos})}}))}))}));i.push(t.stackFrames.subscribe((function(t){var r=rt(t,n);e.dispatch({effects:Ke.of(r)})})));var c=(0,Me.v5)({class:"cm-breakpoint-gutter",markers:function(e){return e.state.field(nt)},initialSpacer:function(){return We},domEventHandlers:{mousedown:function(e,t){return tt(e,t.from),!0}}}),s=(null===(o=t.breakpoints.current.get(n))||void 0===o?void 0:o.map((function(e){return e.line})))||[];return{extensions:[Z.Wl.highest(c),nt.init((function(e){return He.Xs.of(s.filter((function(t){return t<=e.doc.lines})).map((function(t){return We.range(e.doc.line(t).from)})),!0)})),a,E.tk.baseTheme({".cm-breakpoint-gutter .cm-gutterElement":{color:D.TV.accentPrimaryDefault,paddingLeft:D.TV.space4,paddingRight:D.TV.space2,cursor:"default"}}),$e.init((function(){return rt(t.stackFrames.current,n)})),et,E.tk.baseTheme({".cm-debuggerLine":{backgroundColor:D.TV.accentPrimaryDimmest,borderRadius:D.TV.borderRadius4,marginRight:D.TV.space4}})],dispose:function(){return i.forEach((function(e){return e()}))}}}(t,u,e,i),a=n.extensions,s=n.dispose;return t.dispatch({effects:l.reconfigure(a)}),function(){t.dispatch({effects:l.reconfigure([])}),s()}}}),[u,t,c,r,o,i,l])}var at,ct=n(4730),st=n(60172),ut=n(5318),lt=n(34399),ft=n(13261),dt=n(53526),pt=n(39976),ht=n(73133),vt=n(76931),mt=["dom"];function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e){var t=e.dom,n=(0,ct.Z)(e,mt);return y.createPortal((0,L.tZ)(Zt,bt({},n)),t)}function wt(e){var t=e.matchesMap,n=e.fileToContents,r=e.type,o=e.onClose,i=Object.keys(t),a=(0,s.Z)().session;if(0===i.length){var c=r===at.REFERENCES?"No references found":"No definitions found";return(0,L.tZ)(ht.x,{color:"dimmer",css:[D.l0.pl(4),D.l0.py(8),"",""],children:c})}return(0,L.tZ)(_.Z,{children:i.map((function(e){var r=t[e],c=n[e],s=(0,pt.Z)(r,c);return(0,L.tZ)(_.Z,{css:[D.l0.p(4),""],children:(0,L.tZ)(dt.Vw,{path:e,extensions:[s],doc:c,numMatches:r.length,initiallyExpanded:1===i.length,onNavigateToCode:function(t){if(null!==t)a.updateDeeplink({path:e,line:t.line+1,col:t.character});else{var n=(0,l.Z)(r,1)[0],i=c.lineAt(n.from),s=n.from-i.from;a.updateDeeplink({path:e,line:i.number,col:s})}o()}})},e)}))})}!function(e){e.DEFINITION="DEFINITION",e.REFERENCES="REFERENCES"}(at||(at={}));var xt={name:"2j46dr",styles:"border-bottom:1px solid var(--background-highest)"};function Zt(e){var t=e.files,n=e.onClose,o=e.references,i=e.definitions,c=e.currentFile,u=e.currentFileContents,d=(0,s.Z)().fs,h=(0,v.Z)(c),m=(0,vt.Z)(n,[]),g=a.useState((0,r.Z)({},c,st.xv.of(u.split("\n")))),b=(0,l.Z)(g,2),y=b[0],w=b[1];a.useEffect((function(){if(t.length){var e=!1;return function(){n.apply(this,arguments)}(),function(){e=!0}}function n(){return n=(0,f.Z)(p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={},n.next=3,Promise.all(t.map(function(){var e=(0,f.Z)(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.readFile(t);case 2:if(!(n=e.sent).error){e.next=5;break}throw new Error("Something went wrong reading file with path ".concat(t,". Received error: ").concat(n.error));case 5:r[t]=st.xv.of(n.content.toString().split("\n"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:if(!e){n.next=5;break}return n.abrupt("return");case 5:w((function(e){return bt(bt({},e),r)}));case 6:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}}),[d,t]);var x=[].concat((0,ve.Z)(o),(0,ve.Z)(i));if(!h||x.some((function(e){return!(h.documentUriToPath(e.uri)in y)})))return(0,L.tZ)(_.Z,{style:{width:D.TV.space128,height:D.TV.space128,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,L.tZ)(ft.Z,{style:{padding:"10px auto",width:"35px",height:"35px"}})});var Z={},k={};function E(e,t){if(!h)throw new Error("Expected LSP Client");var n=h.documentUriToPath(e.uri),r=e.range,o=r.start,i=r.end;n in t||(t[n]=[]);var a=y[n],c=a.line(o.line+1),s=a.line(i.line+1);t[n].push({from:c.from+o.character,to:s.from+i.character})}return o.forEach((function(e){E(e,Z)})),i.forEach((function(e){E(e,k)})),(0,L.BX)(_.Z,{innerRef:m,css:[D.l0.minWidth("375px"),D.l0.maxWidth("500px"),D.l0.pt(4),"",""],children:[(0,L.tZ)(_.Z,{css:xt,children:(0,L.BX)(_.Z,{css:[D.l0.p(4),"",""],children:[(0,L.BX)(_.Z,{css:[D.l0.flex.row,D.l0.justify.spaceBetween,D.l0.align.center,D.l0.pr(4),"",""],children:[(0,L.tZ)(ht.h,{level:2,variant:"subheadDefault",css:[D.l0.p(4),D.l0.pl(8),"",""],children:"Definitions"}),(0,L.tZ)(ut.Z,{filled:!1,border:!1,onClick:n,children:(0,L.tZ)(lt.Z,{})})]}),(0,L.tZ)(wt,{matchesMap:k,fileToContents:y,type:at.DEFINITION,onClose:n})]})}),(0,L.tZ)(_.Z,{children:(0,L.BX)(_.Z,{css:[D.l0.p(4),"",""],children:[(0,L.tZ)(ht.h,{level:2,variant:"subheadDefault",css:[D.l0.p(4),D.l0.pl(8),"",""],children:"References"}),(0,L.tZ)(wt,{matchesMap:Z,fileToContents:y,type:at.REFERENCES,onClose:n})]})})]})}var kt=n(16082);function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=n(7903),St=n(56276),jt=n(79985),Pt=n(1564),Dt=n(57175);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=n(61940),At=n(93442),_t=n(92120),Lt=n(89788),Nt=n(42750),Ut=n(5196),Ft=n(83806);function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=n(43340),Xt=n(60914),Gt=n(40802),Vt=n(86374),zt=n(5699),Wt=n(13634),Jt=n(33893),qt=n(39109),Yt=n(49753),Kt=n(3316);function $t(e){var t=e.view,n=e.metadata,r=e.closeMenu,o=n.text,i=n.icon,c=(0,Kt.Z)().showError,u=a.useRef(!1),f=a.useState(!1),d=(0,l.Z)(f,2),p=d[0],h=d[1],m=a.useState(null),g=(0,l.Z)(m,2),b=g[0],y=g[1],w=(0,s.Z)().fs,x=(0,Yt.Z)(),Z=(0,v.Z)(x||"");return a.useEffect((function(){if(Z&&x&&p&&!u.current){var e=t.state,n=e.selection.main,r={start:(0,C.s)(e.doc,n.from),end:(0,C.s)(e.doc,n.to)};u.current=!0,Z.request.codeActions(x,r).then((function(e){if((0,Vt.track)(Vt.events.EDITOR_CONTEXT_MENU_CODE_ACTIONS_REQUESTED,{success:!("error"in e),numActions:"result"in e&&e.result?e.result.length:null}),"error"in e)return u.current=!1,y([]),c("Something went wrong fetching code actions"),void Gt.Tb(new Error(e.error.message));null!==e.result&&0!==e.result.length?y(e.result):y([])}))}}),[Z,p,x,b,t,c]),(0,L.BX)(_.Z,{tag:"li",onClick:function(e){e.stopPropagation(),h((function(e){return!e}))},children:[(0,L.BX)(_.Z,{css:[Nt.gU.listItem,D.l0.p(8),D.l0.flex.row,D.l0.align.center,"",""],children:[i,(0,L.tZ)(_.Z,{css:[D.l0.pl(8),"",""],children:(0,L.tZ)(ht.x,{children:o})}),(0,L.tZ)(_.Z,{css:[D.l0.position.absolute,D.l0.right(4),"",""],children:(0,L.tZ)(Wt.Z,{alt:"Toggle Code Actions",tooltipHidden:!0,onClick:function(){return h((function(e){return!e}))},children:(0,L.tZ)(qt.Z,{rotate:p?90:0,style:{transition:"200ms ease"}})})})]}),p&&!b?(0,L.BX)(_.Z,{css:[D.l0.p(8),D.l0.flex.row,D.l0.align.center,"",""],children:[(0,L.tZ)(ht.x,{color:"dimmer",children:"Loading actions..."}),(0,L.tZ)(_.Z,{css:[D.l0.align.center,D.l0.justify.center,D.l0.position.absolute,D.l0.right(4),D.l0.width(24),D.l0.height(24),"",""],children:(0,L.tZ)(zt.Z,{})})]}):null,p&&b&&Z?(0,L.BX)(_.Z,{tag:"ul",children:[b.map((function(e,t){return(0,L.tZ)(_.Z,{tag:"li",onClick:function(t){if(t.stopPropagation(),W.Command.is(e))return Z.request.executeCommand(e.command,e.arguments),void r();var n=e.edit,o=e.command;n&&Te({edit:n,fs:w,client:Z}),o&&Z.request.executeCommand(o.command,o.arguments),r()},children:(0,L.tZ)(_.Z,{css:[Nt.gU.listItem,D.l0.p(8),D.l0.flex.row,D.l0.align.center,""],children:(0,L.BX)(_.Z,{css:[D.l0.flex.row,D.l0.justify.spaceBetween,D.l0.width("100%"),""],children:[(0,L.tZ)(ht.x,{css:[D.l0.maxWidth("90%"),""],children:e.title}),(0,L.tZ)(_.Z,{tag:"span",children:(0,L.tZ)(Jt.Z,{size:12})})]})})},t)})),0===b.length?(0,L.tZ)(_.Z,{css:[D.l0.p(8),D.l0.flex.row,D.l0.align.center,"",""],children:(0,L.tZ)(ht.x,{color:"dimmer",children:"No actions available"})}):null]}):null]})}var Qt,en=n(76259);var tn,nn="Divider";!function(e){e.Cut="Cut",e.Copy="Copy",e.Paste="Paste",e.JumpToDefinition="JumpToDefinition",e.JumpToTypeDefinition="JumpToTypeDefinition",e.JumpToImplementation="JumpToImplementation",e.FindReferences="FindReferences",e.Rename="Rename",e.SelectAllOccurrences="SelectAllOccurrences",e.CodeActions="CodeActions",e.CopyLinkToPos="CopyLinkToPos",e.ToggleBreakpoint="ToggleBreakpoint",e.StartThread="StartThread",e.ExplainCode="ExplainCode",e.LookForErrors="LookForErrors"}(tn||(tn={}));var rn=(Qt={},(0,r.Z)(Qt,tn.Cut,{text:"Cut",icon:(0,L.tZ)((function(e){return(0,L.tZ)(kt.Z,It(It({},e),{},{children:(0,L.tZ)("path",{d:"M15 17L6 2M9 17L10.5 14.5M13.8 9L18 2M10 19.5C10 20.8807 8.88071 22 7.5 22C6.11929 22 5 20.8807 5 19.5C5 18.1193 6.11929 17 7.5 17C8.88071 17 10 18.1193 10 19.5ZM19 19.5C19 20.8807 17.8807 22 16.5 22C15.1193 22 14 20.8807 14 19.5C14 18.1193 15.1193 17 16.5 17C17.8807 17 19 18.1193 19 19.5Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}),{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"X"}}),(0,r.Z)(Qt,tn.Copy,{text:"Copy",icon:(0,L.tZ)(Rt.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"C"}}),(0,r.Z)(Qt,tn.Paste,{text:"Paste",icon:(0,L.tZ)(At.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"V"}}),(0,r.Z)(Qt,tn.JumpToDefinition,{text:"Jump to definition",icon:(0,L.tZ)(_t.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"F12"}}),(0,r.Z)(Qt,tn.JumpToTypeDefinition,{text:"Jump to type definition",icon:(0,L.tZ)(Ht.Z,{})}),(0,r.Z)(Qt,tn.JumpToImplementation,{text:"Jump to implementation",icon:(0,L.tZ)(Xt.Z,{})}),(0,r.Z)(Qt,tn.FindReferences,{text:"Find references",icon:(0,L.tZ)(Ct.Z,{}),keyboardShortcut:{shiftKey:!0,key:"F12"}}),(0,r.Z)(Qt,tn.Rename,{text:"Rename all occurrences",icon:(0,L.tZ)(St.Z,{}),keyboardShortcut:{key:"F2"}}),(0,r.Z)(Qt,tn.SelectAllOccurrences,{text:"Select all occurrences",icon:(0,L.tZ)((function(e){return(0,L.tZ)(kt.Z,Ot(Ot({},e),{},{children:(0,L.tZ)("path",{d:"M6 16C6 17.1046 6.89543 18 8 18H16C17.1046 18 18 17.1046 18 16V8C18 7.49278 17.8112 7.02965 17.5 6.67709C17.1335 6.26188 16.5973 6 16 6M9 19C9 20.1046 9.89543 21 11 21H19C20.1046 21 21 20.1046 21 19V11C21 10.4928 20.8112 10.0297 20.5 9.67709C20.1335 9.26188 19.5973 9 19 9M5 15H13C14.1046 15 15 14.1046 15 13V5C15 3.89543 14.1046 3 13 3H5C3.89543 3 3 3.89543 3 5V13C3 14.1046 3.89543 15 5 15Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}),{}),keyboardShortcut:{key:"F2",cmdOrCtrlKey:!0}}),(0,r.Z)(Qt,tn.CodeActions,{text:"Code actions",icon:(0,L.tZ)((function(e){return(0,L.tZ)(kt.Z,Mt(Mt({},e),{},{children:(0,L.tZ)("path",{d:"M9 19H15M10 22H14M6 8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8C18 11.5 15 12 15 16H9C9 12 6 11.5 6 8Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}),{})}),(0,r.Z)(Qt,tn.CopyLinkToPos,{text:"Copy link to position",icon:(0,L.tZ)(jt.Z,{})}),(0,r.Z)(Qt,tn.ToggleBreakpoint,{text:"Toggle breakpoint",icon:(0,L.tZ)(Pt.Z,{})}),(0,r.Z)(Qt,tn.StartThread,{text:"Start thread",icon:(0,L.tZ)(Dt.Z,{}),keyboardShortcut:{key:"/",cmdOrCtrlKey:!0,shiftKey:!0}}),(0,r.Z)(Qt,tn.LookForErrors,{text:"Look for errors",icon:(0,L.tZ)(en.Z,{})}),(0,r.Z)(Qt,tn.ExplainCode,{text:"Explain code",icon:(0,L.tZ)(Ft.Z,{})}),Qt);function on(e){return e===nn}function an(e){var t=e.dom,n=e.actions,r=e.coords,o=0;n.forEach((function(e){var t=on(e)?1:35;o+=t}));var i=r.x,a=r.y,c=t.getBoundingClientRect().bottom;if(a+o>c){var s=a-o;return s<0?{x:i+5,y:0}:{x:i,y:s}}return{x:i,y:a}}var cn={name:"2j46dr",styles:"border-bottom:1px solid var(--background-highest)"};function sn(e){var t=e.view,n=e.coords,r=e.closeMenu,o=e.actions,i=e.onAction,c=t.dom,s=(0,vt.Z)(r,[]),u=a.useState(an({dom:c,actions:o,coords:n})),f=(0,l.Z)(u,2),d=f[0],p=d.x,h=d.y,v=f[1];return a.useEffect((function(){v(an({dom:c,actions:o,coords:n}))}),[n,o,c]),(0,L.tZ)(Lt.Z,{innerRef:s,background:"higher",css:[D.l0.position.fixed,D.l0.flex.column,D.l0.justify.center,D.l0.borderRadius(8),D.l0.shadow(1),D.l0.width(275),D.l0.zIndex(101),{border:"1px solid ".concat(D.TV.outlineDimmest)},{left:p,top:h},"",""],children:(0,L.tZ)(_.Z,{tag:"ul",children:o.map((function(e,n){return on(e)?(0,L.tZ)(_.Z,{css:cn},n):e===tn.CodeActions?(0,L.tZ)($t,{view:t,closeMenu:r,metadata:rn[e]},e):(0,L.tZ)(_.Z,{tag:"li",onClick:function(t){t.stopPropagation(),i(e),r()},children:(0,L.tZ)(un,{item:e,isFirst:0===n,isLast:n===o.length-1})},e)}))})})}function un(e){var t=e.item,n=e.isFirst,r=e.isLast,o=rn[t],i=o.text,a=o.icon,c=o.keyboardShortcut;return(0,L.BX)(_.Z,{css:[Nt.gU.listItem,D.l0.p(8),D.l0.flex.row,D.l0.align.center,n&&{borderTopLeftRadius:4,borderTopRightRadius:4},r&&{borderBottomLeftRadius:4,borderBottomRightRadius:4},"",""],children:[a,(0,L.tZ)(_.Z,{css:[D.l0.pl(8),"",""],children:(0,L.tZ)(ht.x,{children:i})}),c?(0,L.tZ)(_.Z,{css:[D.l0.position.absolute,D.l0.right(4),"",""],children:(0,L.tZ)(Ut.Z,{shortcut:c,small:!0,hideBorder:!0})}):null]})}var ln=n(42177),fn=n(84062),dn=n(94830),pn=n(19463),hn=["dom"];function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){var t=e.dom,n=(0,ct.Z)(e,hn);return y.createPortal((0,L.tZ)(gn,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n)),t)}function gn(e){var t=e.onRename,n=e.closeInput,r=e.variable,o=(0,vt.Z)(n,[]),i=(0,fn.Y)(r,(function(e){return e?e===r?{message:"Must pick a new name"}:void 0:{message:"New name can't be empty"}}));return a.useEffect((function(){function e(e){"Escape"===e.key&&n()}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]),a.useEffect((function(){setTimeout((function(){i.ref.current&&i.ref.current.focus()}))}),[i]),(0,L.tZ)(_.Z,{innerRef:o,css:[D.l0.backgroundColor.backgroundDefault,D.l0.flex.column,D.l0.justify.center,D.l0.borderRadius(4),D.l0.shadow(2),D.l0.width(200),"",""],children:(0,L.tZ)("form",{onSubmit:function(e){e.preventDefault(),i.error||(n(),t(i.value))},children:(0,L.BX)(_.Z,{css:[D.l0.justify.center,"",""],children:[(0,L.BX)(_.Z,{css:[D.l0.flex.row,D.l0.align.center,D.l0.pr(4),"",""],children:[(0,L.tZ)(ht.h,{level:2,variant:"subheadDefault",css:[D.l0.p(4),D.l0.pl(8),"",""],children:"Rename"}),(0,L.tZ)(ht.h,{level:2,variant:"subheadDefault",color:"dimmer",css:[D.l0.maxWidth(100),D.l0.overflow("hidden"),"white-space:nowrap;text-overflow:ellipsis;",""],children:r}),(0,L.tZ)(Wt.Z,{alt:"Close rename input",tooltipHidden:!0,onClick:n,css:[D.l0.position.absolute,D.l0.top(4),D.l0.right(4),"",""],children:(0,L.tZ)(lt.Z,{})})]}),(0,L.tZ)(_.Z,{css:[D.l0.justify.center,D.l0.align.center,D.l0.p(8),D.l0.pt(4),"",""],children:(0,L.tZ)(ln.ZP,{name:"rename",ref:i.ref,onBlur:i.handleBlur,onChange:function(e){return i.setValue(e.target.value)},value:i.value,placeholder:"New name",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",autoComplete:"off",validationResults:i.error?[{message:i.error.message,state:"error"}]:void 0,style:{padding:D.TV.space4,borderRadius:D.TV.borderRadius4}})}),(0,L.tZ)(_.Z,{css:[D.l0.flex.rowReverse,D.l0.p(8),D.l0.pt(0),"",""],children:(0,L.tZ)(dn.ZP,{type:"submit",text:"Rename",colorway:"primary",iconLeft:(0,L.tZ)(pn.Z,{}),disabled:Boolean(i.error)||!i.value})})]})})})}var bn=n(79453),yn=n.n(bn),wn=n(58526),xn=n(59259),Zn=n(68063),kn=n(50988),En=n(99996),On=n(70917),Cn=n(35992);function Sn(e){var t=e.name,n=e.children,r=e.onClick;return(0,L.BX)(_.Z,{onClick:function(){return r()},css:[D.l0.p(16),D.l0.borderRadius(8),{cursor:"pointer",border:"1px solid transparent",":hover":{borderColor:D.TV.accentPrimaryDefault}},"",""],children:[(0,L.tZ)(ht.x,{variant:"subheadBig",css:D.l0.pb(16),children:t}),n]})}var jn="@media (min-width: ".concat(En.j.tabletMax,"px)"),Pn=(0,On.iv)((0,r.Z)({},jn,{width:"50%",flex:"0 0 auto"}),"","");function Dn(e){var t,n=e.children;return(0,L.tZ)(_.Z,{css:[D.l0.pt(16),D.l0.pb(16),D.l0.pr(8),D.l0.pl(8),(t={},(0,r.Z)(t,jn,[D.l0.flex.row,D.l0.p(16)]),(0,r.Z)(t,"color",D.TV.foregroundDefault),t),"",""],children:n})}function Tn(e){var t=e.mainFile,n=e.examples,r=e.onSelect;return(0,L.BX)(Dn,{children:[(0,L.tZ)(_.Z,{css:Pn,children:n.slice(0,(n.length+1)/2).map((function(e){return(0,L.tZ)(Sn,{name:e.name,onClick:function(){return r(e)},children:(0,L.tZ)(Cn.Z,{hideGutter:!0,filePath:t,code:e.code,fontSize:12})},e.name)}))}),(0,L.tZ)(_.Z,{css:Pn,children:n.slice((n.length+1)/2).map((function(e){return(0,L.tZ)(Sn,{name:e.name,onClick:function(){return r(e)},children:(0,L.tZ)(Cn.Z,{hideGutter:!0,filePath:t,code:e.code,fontSize:12})},e.name)}))})]})}function In(e){var t=e.replId,n=e.onSelect,r=(0,kn.h6q)({variables:{replId:t}}),o=r.data,i=r.loading,a=r.error;if(i)return(0,L.tZ)(Dn,{children:"Loading..."});if(a)return(0,L.tZ)(Dn,{children:a.message});var c="Repl"===(null===o||void 0===o?void 0:o.repl.__typename)?o.repl:null;if(!c)return null;var s=c.deprecatedLanguageConfig,u=s.mainFile,l=s.examples;return null!==l&&void 0!==l&&l.length?(0,L.tZ)(Tn,{mainFile:u,examples:l,onSelect:n}):(0,L.tZ)(Dn,{children:"Sorry, this language doesnt have any examples. Want to add some? Contact us!"})}var Rn=n(5884),An=n(14998),_n=n(72779);function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){var t=e.onRequestClose,n=(0,An.e$)(_n.H.Examples),r=(0,An.e$)(_n.H.Editor),o=a.useState(!1),i=(0,l.Z)(o,2),c=i[0],s=i[1],u=(0,Zn.Z)(),f=(0,Rn.Z)(),d=a.useRef(null===n||void 0===n?void 0:n.isActive),p=a.useRef();p.current=null===n||void 0===n?void 0:n.isActive;var h=a.useRef(null===n||void 0===n?void 0:n.goto);return h.current=null===n||void 0===n?void 0:n.goto,a.useEffect((function(){return function(){var e;p.current&&(null===(e=h.current)||void 0===e||e.call(h,_n.H.Editor))}}),[]),a.useEffect((function(){null!==r&&void 0!==r&&r.isActive&&!d.current&&(c?r.goto(_n.H.Examples):s(!0))}),[r,t,c]),a.useEffect((function(){null!==n&&void 0!==n&&n.isActive?d.current=!0:d.current&&t(null)}),[null===n||void 0===n?void 0:n.isActive]),u?(0,L.tZ)("div",{ref:null===n||void 0===n?void 0:n.delegateTooltip,children:(0,L.tZ)(In,{replId:f,onSelect:function(e){u({code:e.code,insertAt:0}),t({exampleName:e.name})}})}):(0,L.tZ)("div",{children:"Please make sure you have a file open"})}var Un=function(){var e=(0,ot.Z)(),t=a.useState(!1),n=(0,l.Z)(t,2),o=n[0],c=n[1],s=(null===e||void 0===e?void 0:e.language)||"",u=yn().getDocs(s),f=(0,wn.Z)("flag-editor-community-link"),d=a.useCallback((function(t){(0,Vt.track)(Vt.events.LANGUAGE_EXAMPLES_VIEWED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({language:null===e||void 0===e?void 0:e.language,replId:null===e||void 0===e?void 0:e.id},t)),c(!1)}),[e]);return(0,L.BX)("div",{className:"jsx-2081803370 placeholder",children:[(0,L.tZ)(xn.Z,{width:"large",isOpen:o,onRequestClose:function(){return d(null)},children:(0,L.tZ)(Nn,{onRequestClose:d})}),"Not sure what to do? Run some"," ",(0,L.tZ)("span",{"data-cy":"ws-editor-examples",onClick:function(){c(!0)},className:"jsx-2081803370 link",children:"examples"}),u&&(0,L.BX)(L.HY,{children:[", ",f?"":"or ","view"," ",(0,L.tZ)("a",{target:"_blank",href:u,className:"jsx-2081803370 link",children:"documentation"})]}),f&&(0,L.BX)(L.HY,{children:[", or check out some"," ",(0,L.tZ)("a",{target:"_blank",href:"/apps/".concat(s),className:"jsx-2081803370 link",children:"community repls"})]})," ","(start typing to dismiss)",(0,L.tZ)(i(),{id:"2081803370",children:[".placeholder.jsx-2081803370{font-family:var(--font-family-code);color:var(--foreground-dimmest);}",".link.jsx-2081803370{cursor:pointer;pointer-events:all;color:var(--accent-primary-default);-webkit-text-decoration:none;text-decoration:none;}",".link.jsx-2081803370:hover{-webkit-text-decoration:underline;text-decoration:underline;}"]})]})};function Fn(e){var t=e.dom;return y.createPortal((0,L.tZ)(Un,{}),t)}var Bn=n(63805),Mn=n(12661),Hn=function(e){var t=e.buttons,n=e.onClick;return(0,L.BX)("nav",{className:"jsx-2231279437",children:[t.map((function(e){return(0,L.tZ)("button",{onClick:function(t){t.stopPropagation(),t.preventDefault(),n(e)},className:"jsx-2231279437",children:void 0!==e.label?e.label:e.value},e.value)})),(0,L.tZ)(i(),{id:"2231279437",children:["nav.jsx-2231279437{font-family:Monaco,Menlo,'Ubuntu Mono',Consolas,source-code-pro, monospace;height:48px;background-color:var(--background-root);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;}","button.jsx-2231279437{color:var(--foreground-default);padding:10px;font-family:inherit;font-size:16px;background-color:transparent;border:0 none;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}"]})]})},Xn=[{value:"{}",cursorOffset:1},{value:"()",cursorOffset:1},{value:'""',cursorOffset:1}],Gn=function(e){var t=e.path,n=[].concat(Xn,[{value:"= ",cursorOffset:0}]);return t.endsWith(".html")&&(n.unshift({value:"<>",cursorOffset:1}),n.unshift({label:"div",value:"<div></div>",cursorOffset:5})),n};function Vn(e){var t=e.view,n=e.filePath,r=e.isLoading,o=(0,Mn.Z)(),i=Boolean(window.navigator.userAgent.match(/iPhone|iPad|iPod/i));if(a.useEffect((function(){o&&t&&t.requestMeasure({read:function(){return{cursor:t.coordsAtPos(t.state.selection.main.head),scroller:t.scrollDOM.getBoundingClientRect()}},write:function(e){var n=e.cursor,r=e.scroller;if(n){var o=(n.top+n.bottom)/2,a=(r.top+r.bottom)/2;Math.abs(o-a)>5&&(t.scrollDOM.scrollTop+=o-a+(i?50:0))}}})}),[o,t,i]),!o||r)return null;if(!(0,Bn.isMobile)({tablet:!1}))return null;var c=(0,L.tZ)(Hn,{onClick:function(e){var n;if(t){var r=null!==(n=t.state.selection.ranges[0].from)&&void 0!==n?n:0;t.dispatch({changes:{from:r,insert:e.value},selection:{anchor:r+e.cursorOffset}}),t.focus()}},buttons:Gn({path:n})});return i?c:(0,L.tZ)(_.Z,{css:[D.l0.position.fixed,D.l0.width("100%"),D.l0.zIndex(100),D.l0.bottom(0),D.l0.left(0),"",""],children:c})}var zn=n(38217),Wn=["dom"];function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e){var t=e.dom,n=(0,ct.Z)(e,Wn);return y.createPortal((0,L.tZ)(Kn,qn({},n)),t)}function Kn(e){var t=e.className,n=e.content;return(0,L.tZ)(_.Z,{css:[D.l0.maxWidth(400),D.l0.maxHeight(190),D.l0.overflowY("auto"),D.l0.borderRadius(4),D.l0.backgroundColor.backgroundDefault,"",""],children:(0,L.tZ)(T.Z,{className:t,components:{code:function(e){return(0,L.tZ)(zn.Z,qn({disableCopy:!0},e))}},children:n})})}var $n=n(49892),Qn=Z.Py.define();var er=n(86343),tr=n(73960),nr=n(53339);function rr(e){return e>600?"large":e>400?"medium":"small"}var or=(0,_.K)("div");function ir(e){var t=e.view,n=a.useState(!1),r=(0,l.Z)(n,2),o=r[0],i=r[1],c=a.useState(!1),s=(0,l.Z)(c,2),u=s[0],f=s[1],d=a.useState(!1),p=(0,l.Z)(d,2),h=p[0],v=p[1],m=a.useState(""),g=(0,l.Z)(m,2),b=g[0],y=g[1],w=a.useState(""),x=(0,l.Z)(w,2),k=x[0],O=x[1],C=a.useState([]),S=(0,l.Z)(C,2),j=S[0],P=S[1],T=a.useState(null),I=(0,l.Z)(T,2),R=I[0],A=I[1],N=a.useRef(new $n.Jb({search:""})),U=j.length;function F(){if(!t)throw new Error("Expected view");(0,$n.g)(t),U<=1||A((function(e){if(null===e){var n=t.state.selection.main,r=j.findIndex((function(e){return e.from===n.from&&e.to===n.to}));return-1===r?1:r+1}return e>=U?1:e+1}))}function B(){if(!t)throw new Error("Expected view");(0,$n.a7)(t),U<=1||A((function(e){if(null===e){var n=t.state.selection.main,r=j.findIndex((function(e){return e.from===n.from&&e.to===n.to}));return-1===r?1:r+1}return e<=1?U||1:e-1}))}var M=a.useCallback((function(e){e.eq(N.current)||(y(e.search),O(e.replace),f(e.caseSensitive),v(e.regexp),N.current=e)}),[]),H=a.useCallback((function(){i(!0)}),[]);!function(e){var t=e.view,n=e.onSearchQuery,r=e.onExpandSearchPanel;a.useEffect((function(){t&&t.dispatch({effects:Z.Py.appendConfig.of([E.tk.updateListener.of((function(e){e.transactions.forEach((function(e){e.effects.forEach((function(e){e.is($n.ql)&&n(e.value),e.is(Qn)&&r()}))}))}))])})}),[t,n,r])}({view:t,onSearchQuery:M,onExpandSearchPanel:H}),a.useEffect((function(){if(t){var e=(0,$n.uP)(t.state);y(e.search),O(e.replace),f(e.caseSensitive),v(e.regexp),N.current=e}}),[t]),a.useEffect((function(){if(t){var e=new $n.Jb({search:b,replace:k,caseSensitive:u,regexp:h}),n=N.current;e.eq(n)||(N.current=e,t.dispatch({effects:$n.ql.of(e)}),P(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;if(!e.valid)return[];for(var r=[],o=e.getCursor(t),i=o.next();!i.done&&r.length<n;)r.push(i.value),i=o.next();return r}(e,t.state.doc)),A(null))}}),[t,b,k,u,h]);var X=a.useState(rr(0)),G=(0,l.Z)(X,2),V=G[0],z=G[1],W=(0,nr.Z)((function(e){e.width&&z(rr(e.width))}));if(!t)return null;function J(e){var n=e;return!!t&&(0,E.$1)(t,n,"search-panel")}var q=U>0,Y=q?"".concat(R||1," / ").concat(U):null,K=Y?8*Y.length:null,$=(0,L.BX)(_.Z,{css:[D.l0.flex.row,D.l0.align.center,D.l0.rowWithGap(8),"",""],children:[(0,L.tZ)(tr.Z,{id:"Match case",name:"case",checked:u,onChange:function(){f((function(e){return!e}))}}),(0,L.tZ)(ht.x,{variant:"small",color:u?"default":"dimmer",children:"Match case"}),(0,L.tZ)(tr.Z,{id:"Regexp",name:"re",checked:h,onChange:function(){v((function(e){return!e}))}}),(0,L.tZ)(ht.x,{variant:"small",color:h?"default":"dimmer",children:"Regexp"})]});return(0,L.tZ)(or,{ref:W,onKeyDown:function(e){J(e)&&e.preventDefault()},children:(0,L.BX)(Lt.Z,{elevated:!0,css:[D.l0.rowWithGap(8),D.l0.px(4),D.l0.py(8),{borderBottom:"1px solid",borderColor:D.TV.outlineDimmest},"",""],children:[(0,L.tZ)(_.Z,{css:[D.l0.center,D.l0.height(28),"",""],children:(0,L.tZ)(Wt.Z,{alt:o?"Close replace panel":"Show replace panel",onClick:function(){i((function(e){return!e}))},children:(0,L.tZ)(qt.Z,{rotate:o?90:0,style:{transition:"200ms ease"}})})}),(0,L.BX)(_.Z,{css:[D.l0.flex.growAndShrink(1),D.l0.colWithGap(16),"",""],children:[(0,L.BX)(_.Z,{css:["large"!==V||o?D.l0.colWithGap(8):D.l0.rowWithGap(16),"",""],children:[(0,L.BX)(_.Z,{css:[D.l0.flex.growAndShrink(1),"small"===V?D.l0.colWithGap(8):[D.l0.rowWithGap(8),D.l0.align.center],"",""],children:[(0,L.BX)(_.Z,{css:[D.l0.flex.growAndShrink(1),D.l0.position.relative,"",""],children:[(0,L.tZ)(er.ZP,{css:[D.l0.p(4),K&&{paddingRight:K},"",""],placeholder:"Find",value:b,name:"search",onKeyDown:function(e){e.metaKey&&"f"===e.key?e.currentTarget.select():"enter"===e.key.toLowerCase()&&(J(e)||(e.preventDefault(),e.shiftKey?B():F()))},onChange:function(e){y(e.target.value)}}),q?(0,L.tZ)(_.Z,{css:[D.l0.position.absolute,D.l0.top(0),D.l0.right(0),D.l0.height("100%"),D.l0.center,D.l0.pr(4),"",""],children:(0,L.tZ)(ht.x,{variant:"small",color:"dimmest",children:Y})}):null]}),(0,L.BX)(_.Z,{css:[D.l0.rowWithGap(4),D.l0.align.center,"",""],children:[(0,L.tZ)(Wt.Z,{alt:"Previous",onClick:function(){B()},children:(0,L.tZ)(qt.Z,{rotate:-90})}),(0,L.tZ)(Wt.Z,{alt:"Next",onClick:function(){F()},children:(0,L.tZ)(qt.Z,{rotate:90})}),(0,L.tZ)(dn.ZP,{small:!0,text:"Select all",onClick:function(){(0,$n.i3)(t),t.focus()}})]})]}),$]}),o?(0,L.BX)(_.Z,{css:["small"===V?D.l0.colWithGap(8):[D.l0.rowWithGap(8),D.l0.align.center,{marginRight:-19}],"",""],children:[(0,L.tZ)(_.Z,{css:[D.l0.flex.growAndShrink(1),"",""],children:(0,L.tZ)(er.ZP,{css:[D.l0.p(4),"",""],placeholder:"Replace",name:"replace",value:k,onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(J(e)||(e.preventDefault(),(0,$n.K9)(t)))},onChange:function(e){O(e.target.value)}})}),(0,L.BX)(_.Z,{css:[D.l0.rowWithGap(4),D.l0.align.center,"",""],children:[(0,L.tZ)(dn.ZP,{small:!0,text:"Replace",onClick:function(){(0,$n.K9)(t)}}),(0,L.tZ)(dn.ZP,{small:!0,text:"Replace all",onClick:function(){(0,$n.ko)(t)}})]})]}):null]}),(0,L.tZ)(_.Z,{css:[D.l0.center,D.l0.height(28),"",""],children:(0,L.tZ)(Wt.Z,{alt:"Close Search Panel",tooltipHidden:!0,onClick:function(){(0,$n.N$)(t)},children:(0,L.tZ)(lt.Z,{})})})]})})}function ar(e){var t=e.dom,n=e.view;return y.createPortal((0,L.tZ)(ir,{view:n}),t)}var cr=n(94690),sr=n(58636),ur=n(19484),lr=n(43686),fr=n(54098),dr=n.n(fr),pr=n(52194),hr=n(1956),vr=n(91331);function mr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Be.Z)(e);if(t){var o=(0,Be.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,Fe.Z)(this,n)}}var yr=Z.Py.define({map:function(e,t){return e.map(t)}});function wr(e){var t=e.isLoading,n=e.close,r=(0,a.useState)(!1),o=r[0],i=r[1];return(0,L.BX)(fe.Tg,{background:"higher",css:[fe.l0.height(50),fe.l0.px(4),fe.l0.rowWithGap(0),fe.l0.justify.spaceBetween,fe.l0.align.center,{borderTop:"1px solid",borderBottom:"1px solid",borderColor:fe.TV.outlineDimmer},"",""],children:[(0,L.BX)(fe.G7,{css:[fe.l0.rowWithGap(16),fe.l0.align.center,"",""],children:[(0,L.tZ)(pr.Z,{}),(0,L.tZ)(fe.h4,{level:3,children:"Look for Errors"}),t?(0,L.tZ)(zt.Z,{}):(0,L.BX)(L.HY,{children:[(0,L.tZ)(fe.xv,{variant:"small",children:"Is this guess useful?"}),o?(0,L.tZ)(fe.zx,{disabled:!0,iconLeft:(0,L.tZ)(vr.Z,{}),onClick:function(){},small:!0,text:"Thanks!"}):(0,L.BX)(L.HY,{children:[(0,L.tZ)(fe.zx,{iconLeft:(0,L.tZ)(lt.Z,{}),text:"No",onClick:function(){return i(!0)}}),(0,L.tZ)(fe.zx,{iconLeft:(0,L.tZ)(pn.Z,{}),text:"Yes",colorway:"positive",onClick:function(){return i(!0)}})]})]})]}),(0,L.BX)(fe.G7,{css:[fe.l0.rowWithGap(16),fe.l0.align.center,"",""],children:[(0,L.tZ)("a",{href:"https://blog.replit.com/codex",target:"_blank",css:fe.l0.color.foregroundDefault,children:(0,L.tZ)(fe.hU,{alt:"Learn more",tooltipDelay:0,tooltipText:"This beta feature uses Codex by OpenAI. Click to learn more.",type:"button",children:(0,L.tZ)(hr.Z,{color:fe.TV.foregroundDefault})})}),(0,L.tZ)(fe.hU,{alt:"Close",onClick:function(){n()},children:(0,L.tZ)(lt.Z,{})})]})]})}var xr=function(e){(0,Ue.Z)(n,e);var t=br(n);function n(e){var r,o=e.close,i=e.isLoading;return(0,Le.Z)(this,n),(r=t.call(this)).isLoading=void 0,r.close=void 0,r.isLoading=i,r.close=o,r}return(0,Ne.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("div");return y.render((0,L.tZ)(wr,{isLoading:this.isLoading,close:this.close}),e),e}}]),n}(E.l9),Zr=Z.Py.define({map:function(e,t){return e.map(t)}}),kr=Z.QQ.define({create:function(){return E.p.none},update:function(e,t){var n,r=mr(t.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.is(Zr))return o.value}}catch(i){r.e(i)}finally{r.f()}return t.docChanged?e.map(t.changes):e},provide:function(e){return E.tk.decorations.from(e)}}),Er=E.lg.fromClass(function(){function e(t){(0,Le.Z)(this,e),this.view=void 0,this.lastRequestRef=void 0,this.missedChanges=void 0,this.view=t,this.lastRequestRef=null,this.missedChanges=null}return(0,Ne.Z)(e,[{key:"update",value:function(e){var t,n=mr(e.transactions);try{for(n.s();!(t=n.n()).done;){var r,o=mr(t.value.effects);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.is(yr))return void this.onLookupRange(i.value,e.state.doc)}}catch(a){o.e(a)}finally{o.f()}}}catch(a){n.e(a)}finally{n.f()}e.docChanged&&this.missedChanges&&(this.missedChanges=this.missedChanges.compose(e.changes))}},{key:"onLookupRange",value:function(){var e=(0,f.Z)(p().mark((function e(t,n){var r,o,i,a,c,s,u,l,f,d,h,v,m,g,b,y,w,x,k,O,C,S,j=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new He.f_,o=t.from;o<=t.to;)i=n.lineAt(o),o===t.from&&r.add(i.from,i.from,E.p.widget({widget:new xr({isLoading:!0,close:function(){j.lastRequestRef=null,j.missedChanges=null,j.view.dispatch({effects:Zr.of(E.p.none)})}}),block:!0})),r.add(i.from,i.from,E.p.line({attributes:{style:"background: "+fe.TV.backgroundHigher+";"}})),o=i.to+1;return a=Zr.of(r.finish()),setTimeout((function(){j.view.dispatch({effects:a})})),this.missedChanges=Z.as.empty(n.length),c={},this.lastRequestRef=c,e.next=9,dr()("https://codex-error-highlighting.govindit.repl.co/",{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:this.view.state.doc.sliceString(t.from,t.to)})}).then((function(e){return e.json()}));case 9:if(s=e.sent,c===this.lastRequestRef){e.next=12;break}return e.abrupt("return");case 12:if(u=this.missedChanges,this.lastRequestRef=null,this.missedChanges=null,s.length){e.next=18;break}return this.view.dispatch({effects:Zr.of(E.p.none)}),e.abrupt("return");case 18:for(l=[],f=t.map(u),l.push(E.p.widget({widget:new xr({isLoading:!1,close:function(){j.lastRequestRef=null,j.missedChanges=null,j.view.dispatch({effects:Zr.of(E.p.none)})}}),block:!0}).range(this.view.state.doc.lineAt(f.from).from)),d=f.from;d<=f.to;)h=this.view.state.doc.lineAt(d),l.push(E.p.line({attributes:{style:"background: "+fe.TV.backgroundHigher+";"}}).range(h.from)),d=h.to+1;v=n.lineAt(t.from),m=v.number,g=v.from,b=mr(s),e.prev=24,b.s();case 26:if((y=b.n()).done){e.next=38;break}if(0!==(w=y.value).weight){e.next=30;break}return e.abrupt("continue",36);case 30:x=1===w.start.line?t.from-g:0,k=n.line(m+w.start.line-1),O=u.mapPos(k.from+w.start.character-1+x),C=n.line(m+w.end.line-1),S=u.mapPos(C.from+w.end.character-1+x),l.push(E.p.mark({attributes:{title:"".concat(Math.floor(w.weight),"% chance of inaccuracy"),style:"background: green; background: hsl(0, 100%, ".concat(Math.max(100-w.weight,20),"%);")}}).range(O,S));case 36:e.next=26;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(24),b.e(e.t0);case 43:return e.prev=43,b.f(),e.finish(43);case 46:this.view.dispatch({effects:Zr.of(He.Xs.of(l,!0))});case 47:case"end":return e.stop()}}),e,this,[[24,40,43,46]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}());function Or(e){!function(e){var t=e.view;(0,Ce.Z)({view:t,initialExtension:[Er,kr]})}({view:e.view})}function Cr(e){var t=e.view,n=e.filePath,r=(0,v.Z)(n),o=a.useRef(null),i=a.useRef(0),c=(0,s.Z)(),u=c.anchorer,d=c.session,h=c.fs,m=a.useState(null),b=(0,l.Z)(m,2),y=b[0],w=b[1],x=(0,Rn.Z)(),k=(0,lr.Z)({filePath:n,replId:x}),O=function(e){var t,n=e.filePath,r=e.replId,o=(0,kn.$sK)({variables:{replId:r},skip:!n.endsWith(".py")}).data;return"Repl"===(null===o||void 0===o?void 0:o.repl.__typename)&&o.repl.hasExplainCode&&(null===(t=o.currentUser)||void 0===t?void 0:t.hasLookForErrors)&&n.endsWith(".py")}({filePath:n,replId:x}),S=a.useCallback((function(){w(null)}),[]);a.useEffect((function(){if(y)return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&w(null)}}),[y]),a.useEffect((function(){if(t&&y)return t.scrollDOM.addEventListener("scroll",S),function(){t.scrollDOM.removeEventListener("scroll",S)}}),[t,y,S]);var j=(0,nr.Z)((function(){if(t&&y){var e=t.coordsAtPos(i.current);w((function(t){return e?{x:e.left,y:e.top}:t}))}}),{type:"throttle",wait:25}),P=a.useCallback(function(){var e=(0,f.Z)(p().mark((function e(i){var a,c,s,v,m,g,b,y,w,x,Z,k,E,O,S,j,P;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=function(){return(g=(0,f.Z)(p().mark((function e(t){var i,c,u,f,h,v,m,g,b;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Expected client");case 2:return o.current&&r.notify.cancelRequest(o.current),o.current=r.generateId(),i=(0,C.s)(a.doc,s),e.next=7,t(n,i,o.current);case 7:if(c=e.sent,o.current=null,!("error"in c)){e.next=11;break}throw new Error("Something went wrong fetching location: ".concat(c.error.message));case 11:if(u=c.result,!c.cancelled&&u&&0!==u.length){e.next=14;break}return e.abrupt("return");case 14:f=(0,l.Z)(u,1),h=f[0],v=h.uri,m=h.range,g=m.start,b=r.documentUriToPath(v),d.updateDeeplink({path:b,line:g.line+1,col:g.character});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m=function(e){return g.apply(this,arguments)},t){e.next=4;break}throw new Error("Expected view");case 4:a=t.state,c=a.selection.main,s=c.head,v=function(){return{path:n,indexStart:c.from,indexEnd:c.empty?Math.min(c.to+1,a.doc.length):c.to,otVersion:h.getOTVersion(n)}},(0,Vt.track)(Vt.events.EDITOR_CONTEXT_MENU_ACTION_RAN,{action:i}),e.t0=i,e.next=e.t0===tn.Cut?12:e.t0===tn.Copy?16:e.t0===tn.Paste?19:e.t0===tn.JumpToDefinition?32:e.t0===tn.JumpToTypeDefinition?37:e.t0===tn.JumpToImplementation?42:e.t0===tn.FindReferences?47:e.t0===tn.Rename?49:e.t0===tn.SelectAllOccurrences?51:e.t0===tn.CodeActions?59:e.t0===tn.ToggleBreakpoint?60:e.t0===tn.StartThread?63:e.t0===tn.ExplainCode?65:e.t0===tn.LookForErrors?67:e.t0===tn.CopyLinkToPos?69:75;break;case 12:return b=a.doc.sliceString(c.from,c.to),(0,sr.Z)(b),t.dispatch(a.replaceSelection("")),e.abrupt("break",76);case 16:return y=a.doc.sliceString(c.from,c.to),(0,sr.Z)(y),e.abrupt("break",76);case 19:return w="",e.prev=20,e.next=23,window.navigator.clipboard.readText();case 23:w=e.sent,e.next=30;break;case 26:return e.prev=26,e.t1=e.catch(20),ur.kg.error("CodeMirror context menu paste failed",{message:e.t1.message}),e.abrupt("break",76);case 30:return c.empty?t.dispatch({changes:[{from:c.from,insert:w}]}):t.dispatch(a.replaceSelection(w)),e.abrupt("break",76);case 32:if(r){e.next=34;break}throw new Error("Expected client");case 34:return e.next=36,m(r.request.findDefinitions);case 36:return e.abrupt("break",76);case 37:if(r){e.next=39;break}throw new Error("Expected client");case 39:return e.next=41,m(r.request.findTypeDefinitions);case 41:return e.abrupt("break",76);case 42:if(r){e.next=44;break}throw new Error("Expected client");case 44:return e.next=46,m(r.request.findImplementations);case 46:return e.abrupt("break",76);case 47:return t.dispatch({effects:[we.of(s)]}),e.abrupt("break",76);case 49:return t.dispatch({effects:[ke.of(s)]}),e.abrupt("break",76);case 51:if(!a.selection.main.empty){e.next=56;break}if(x=a.wordAt(s)){e.next=55;break}return e.abrupt("return");case 55:t.dispatch({selection:x});case 56:return(0,$n.tm)(t),t.focus(),e.abrupt("break",76);case 59:return e.abrupt("break",76);case 60:return Z=a.doc.lineAt(s),tt(t,Z.from),e.abrupt("break",76);case 63:return u.createThread(v()),e.abrupt("break",76);case 65:return u.explainCode(v()),e.abrupt("break",76);case 67:return t.dispatch({effects:yr.of(t.state.selection.main)}),e.abrupt("break",76);case 69:k=(0,C.s)(a.doc,s),E=k.line,O=k.character,S=window.location.href,j=S.includes("#")?S.indexOf("#"):S.length,P="".concat(S.slice(0,j),"#").concat(n,":").concat(E+1,":").concat(O);try{(0,sr.Z)(window.encodeURI(P))}catch(D){(0,sr.Z)(P)}return e.abrupt("break",76);case 75:throw new Error("Unexpected action: ".concat(i));case 76:case"end":return e.stop()}}),e,null,[[20,26]])})));return function(t){return e.apply(this,arguments)}}(),[t,r,n,d,u,h]),D=a.useState(!1),T=(0,l.Z)(D,2),I=T[0],R=T[1];(0,Ce.Z)({view:t,initialExtension:E.tk.updateListener.of((function(e){e.transactions.some((function(e){return e.reconfigured}))&&R("undefined"!==typeof e.view.state.field(nt,!1))}))});var A=g(r),_=a.useMemo((function(){if(!t)return[];var e=[];return A&&(A.isFindDefinitionSupported&&e.push(tn.JumpToDefinition),A.isFindTypeDefinitionSupported&&e.push(tn.JumpToTypeDefinition),A.isFindImplementationSupported&&e.push(tn.JumpToImplementation),(A.isFindDefinitionSupported||A.isFindReferencesSupported)&&e.push(tn.FindReferences),A.isRenameSupported&&e.push(tn.Rename),A.isCodeActionsSupported&&e.push(tn.CodeActions)),e.push(tn.SelectAllOccurrences),e.push(nn),e.push(tn.CopyLinkToPos),I&&e.push(tn.ToggleBreakpoint),e.push(tn.StartThread),O&&e.push(tn.LookForErrors),k&&e.push(tn.ExplainCode),e.push(nn),e.push(tn.Cut),e.push(tn.Copy),window.navigator.clipboard&&"readText"in window.navigator.clipboard&&e.push(tn.Paste),e}),[t,A,I,k]),L=(0,Ce.Z)({view:t});return a.useEffect((function(){if(t){var e=_.filter((function(e){return!on(e)})).filter((function(e){return"keyboardShortcut"in rn[e]})).filter((function(e){return e!==tn.Cut&&e!==tn.Copy&&e!==tn.Paste})).map((function(e){var t=rn[e].keyboardShortcut;var n={key:t.key,preventDefault:!0,run:function(){return P(e),!0}};return t.altKey&&(n.key="Alt-".concat(n.key)),t.shiftKey&&(n.key="Shift-".concat(n.key)),t.cmdOrCtrlKey&&(n.key="Mod-".concat(n.key)),n}));return t.dispatch({effects:L.reconfigure(E.$f.of(e))}),function(){t.dispatch({effects:L.reconfigure([])})}}}),[t,P,_,L]),{onAction:P,actions:_,contextMenuCoords:y,onContextMenu:function(e){if(!(0,Bn.isMobile)({tablet:!1})&&t){e.preventDefault();var r=e.clientX,o=e.clientY,a=t.state.selection.main,c=t.posAtCoords({x:r,y:o}),s=t.state.doc.length,u=null===c?s:c;if(i.current=u,u<a.from||u>a.to){var l=Z.jT.cursor(u);t.dispatch({selection:l})}var f=(0,cr.r6)(n);(0,Vt.track)(Vt.events.EDITOR_CONTEXT_MENU_OPENED,{ext:f}),w({x:r,y:o})}},closeMenu:S,resizeRef:j}}function Sr(e){var t=e.view,n=e.filePath,r=e.isLoading,o=function(e){var t=e.replId,n=(0,kn._Lw)({variables:{replId:t}}).data;return"Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl.deprecatedLanguageConfig:null}({replId:(0,Rn.Z)()}),i=a.useState(null),c=(0,l.Z)(i,2),s=c[0],u=c[1],f=(0,Ce.Z)({view:t});return a.useEffect((function(){if(t&&o&&!r&&n===o.mainFile){var e=document.createElement("div");return u(e),t.dispatch({effects:f.reconfigure((0,E.W$)(e))}),function(){t.dispatch({effects:f.reconfigure([])}),u(null)}}}),[t,o,n,r,f]),s}var jr=n(51149);function Pr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){c=!0,i=e})),f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rr=E.tk.baseTheme({".replit-code-anchor":{background:"var(--accent-purple-dimmest)"}}),Ar=Z.Py.define(),_r=Z.Py.define(),Lr=Z.Py.define(),Nr=function(e){var t={};return Z.QQ.define({create:function(){return[]},update:function(e,t){t.changes.empty||(e=e.map((function(e){return Ir(Ir({},e),{},{indexStart:t.changes.mapPos(e.indexStart),indexEnd:t.changes.mapPos(e.indexEnd)})})));var n,r=Pr(t.effects);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.is(Ar)?e=o.value:o.is(_r)?e=[].concat((0,ve.Z)(e),(0,ve.Z)(o.value.filter((function(t){return!e.find((function(e){return e.id===t.id}))})))):o.is(Lr)?function(){var t=o.value.map((function(e){return e.id}));e=e.filter((function(e){return!t.includes(e.id)}))}():o.is(jr.R)&&(e=(0,ve.Z)(e))}}catch(i){r.e(i)}finally{r.f()}return e},provide:function(n){return[E.tk.decorations.compute([n],(function(e){var t=e.field(n);return E.p.set(t.map((function(e){return t=e.id,n=e.indexStart,r=e.indexEnd,n===r?null:E.p.mark({class:"replit-code-anchor ".concat(t),id:t}).range(n,r);var t,n,r})).filter((function(e){return null!==e})),!0)})),O.hJ.computeN([n],(function(r){return r.field(n).map((function(n){var r,o,i=n.id;return{pos:Math.min(n.indexStart,n.indexEnd),above:!0,create:(r=i,o=function(t){var r=document.createElement("div");r.classList.add("cm-anchor","cm-anchor-".concat(i));var o=document.createElement("div");o.classList.add("cm-anchor-portal"),o.style.position="absolute",r.appendChild(o);var a={id:i,dom:o,getEditorRight:function(){return t.dom.getBoundingClientRect().right},getContent:function(){return t.state.doc.sliceString(n.indexStart,n.indexEnd)}};return e.setAnchorPortal(a),{dom:r,update:function(){e.setAnchorPortal(a)}}},t[r]||(t[r]=o),t[r])}}))}))]}})};var Ur=n(38888),Fr=n(33854),Br=n(90202),Mr=n(52945);function Hr(e){var t=e.view,n=e.filePath,r=e.isLoading,o=function(){var e=(0,a.useContext)(Fr.Z);if(!e)throw new Error("Expected codemirror state to be in codemirror state context");return e}(),i=(0,Ce.Z)({view:t});(0,a.useEffect)((function(){if(t&&!r){var e,a=o.current.fileMap.get(n);if(a&&t.state.doc.eq(a.doc)){if(t.state.field(Mr.cE,!1))throw new Error("History was preconfigured on this view, if you want to use state cache, please make sure history is not already configured for this view");var c=[];a.foldedRanges.between(0,t.state.doc.length,(function(e,t){c.push(Br.SW.of({from:e,to:t}))})),t.dispatch({effects:c,selection:a.selection}),t.scrollDOM.scrollTop=a.scrollTop,e=[Mr.cE.init((function(){return a.history})),(0,Mr.m8)()]}else e=(0,Mr.m8)();t.dispatch({effects:i.reconfigure([e,E.tk.updateListener.of((function(e){o.current.fileMap.set(n,{history:e.state.field(Mr.cE,!1),foldedRanges:(0,Br.q2)(e.state),scrollTop:t.scrollDOM.scrollTop,selection:e.state.selection,doc:e.state.doc})}))])});var s=o.current.fileMap.get(n);return function(){s&&(s.scrollTop=t.scrollDOM.scrollTop),t.dispatch({effects:i.reconfigure([])})}}}),[t,n,o,r,i])}var Xr=n(45742),Gr=/\r\n?|\n/;function Vr(e){return e.replace(new RegExp(Gr,"g"),"\n")}function zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return e.slice(t,n+1).split(/\r\n/g).length-1}function Wr(e,t){var n=t,r=0,o=0;do{o=zr(e,r,n),r=n,n+=o}while(o);return n}function Jr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yr(e,t){var n=[],r=t;return e.iterChanges((function(e,o,i,a,c){var s=[];i>0&&s.push(Wr(r,i)),e<o&&s.push({d:Wr(t,o)-Wr(t,e)}),c.length&&s.push(c.sliceString(0)),r=(0,Xr.nn)(r,s),n=(0,Xr.qC)(n,s)})),n}function Kr(e,t){var n,r=[],o=0,i=0,a=!0,c=Jr(e);try{for(c.s();!(n=c.n()).done;){var s=n.value;if("string"===typeof s){var u=s;if(s.endsWith("\r")&&"\n"===t.slice(o,o+1)&&0===(u=s.slice(0,-1)).length)continue;if(u=Vr(u),a)r.push({from:i,insert:u});else{var l=r[r.length-1];l.insert=l.insert?l.insert+u:u}a=!1}else if("number"===typeof s){var f=zr(t,o,o+s);o+=s,i+=s-f,a=!0}else if("object"===typeof s&&"number"===typeof s.d){var d=s.d;if("\r\n"===t.slice(o-1,o+1)&&(i+=1,d-=1),(d-=zr(t,o,o+s.d))>0)if(a)r.push({from:i,to:i+d});else{var p=r[r.length-1];p.insert&&!p.to?p.to=i+d:p.to&&(p.to+=d)}o+=s.d,i+=d,a=!1}}}catch(h){c.e(h)}finally{c.f()}return r}function $r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eo=Z.q6.define();function to(e,t){var n=t;return E.tk.updateListener.of((function(t){if(t.docChanged){var r,o=[],i=$r(t.transactions);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=Yr(a.changes,n);n=(0,Xr.nn)(n,c),a.annotation(Z.YW.remote)||a.annotation(eo)||(o=(0,Xr.qC)(o,c))}}catch(s){i.e(s)}finally{i.f()}o.length&&e(o,n)}}))}var no=Z.QQ.define({create:function(){return 0},update:function(e,t){var n=t.annotation(eo);return n?n.version:e}}),ro=n(26936);function oo(e){var t=e.view,n=e.fs,r=e.filePath,o=(0,a.useState)(null),i=o[0],c=o[1],s=(0,ro.Z)(),u=(0,Ce.Z)({view:t}),l=(0,a.useRef)(new Set);function d(e,n){if(!l.current.has(r)&&t){var o=t.state.doc.toString();e===o||(l.current.add(r),ur.kg.error("Mismatch between otClient and codemirror",{otcrlf:e.indexOf("\r")>-1,ot:e,cm:o,path:r,source:n}))}}var h=(0,a.useRef)("");return(0,a.useEffect)((function(){if(t&&n&&r){var e=n.watchOtFile(r,{onChange:function(){var e=(0,f.Z)(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.latestContent,h.current=n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return e}}),[t,r,n]),(0,a.useEffect)((function(){if(t){var e="",o=n.watchOtFile(r,{onReady:function(n){var o=n.initialContent,i=n.writeOps,a=n.version;t.dispatch({changes:{from:0,to:t.state.doc.length,insert:Vr(o.toString())},annotations:[Z.YW.addToHistory.of(!1),Z.YW.remote.of(!0)]}),t.dispatch({effects:u.reconfigure([no.init((function(){return a})),to((function(t,n){e=n,i(t),d(h.current,"CODEMIRROR")}),o.toString())])}),e=o.toString(),c(r)},onChange:function(n){var r=n.ops,o=n.changeSource,i=n.version,a=n.latestContent;t.dispatch(function(e){var t=e.ops,n=e.version,r=e.changeSource;return{changes:Kr(t,e.replitDoc),annotations:[Z.YW.remote.of(r===je.Fl.Container),Z.YW.addToHistory.of(r===je.Fl.Local),eo.of({ops:t,version:n,changeSource:r})]}}({ops:r,changeSource:o,version:i,replitDoc:e})),e=a,d(a,o)},onError:function(){t.dispatch({effects:u.reconfigure([])})},onMoveOrDelete:function(){t.dispatch({effects:u.reconfigure([])})}});return function(){o(),t.dispatch({effects:[u.reconfigure([])]}),s.current&&c(null)}}}),[t,r,n,s,u]),{loadedFile:i}}var io=n(78134);function ao(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return co(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function so(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?so(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):so(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lo={"#1BC47D":"rgba(27, 196, 125, 0.2)","#EF5533":"rgba(239, 85, 51, 0.2)","#18A0FB":"rgba(24, 160, 251, 0.2)","#FFC700":"rgba(255, 199, 0, 1)","#907CFF":"rgba(144, 124, 255, 0.2)","#00B5CE":"rgba(0, 181, 206, 0.2)","#EE46D3":"rgba(238, 70, 211, 0.2)"};var fo=Z.Py.define(),po=Z.Py.define(),ho=Z.Py.define();function vo(e){return{pos:e.position,strictSide:!0,above:!0,create:e.createCursorTooltipFunction}}var mo=Z.QQ.define({create:function(){return{}},update:function(e,t){if(!t.changes.empty){for(var n={},r=0,o=Object.values(e);r<o.length;r++){var i=o[r];n[i.id]=uo(uo({},i),{},{position:t.changes.mapPos(i.position),selectionStart:t.changes.mapPos(i.selectionStart),selectionEnd:t.changes.mapPos(i.selectionEnd)})}e=n}var a,c=ao(t.effects);try{var s=function(){var n=a.value;if(n.is(jr.R)&&(e=uo({},e)),n.is(fo)&&n.value.position<=t.newDoc.length&&((e=uo({},e))[n.value.id]=uo(uo({},n.value),{},{createCursorTooltipFunction:function(e){var t=n.value,r=document.createElement("div");r.textContent=t.username,r.style.backgroundColor=t.color.cursor,r.style.color="white",r.classList.add("multiplayer-label");var o=document.createElement("div");o.style.backgroundColor=t.color.cursor,o.classList.add("multiplayer-cursor");var i=document.createElement("div");return i.classList.add("multiplayer-tooltip"),i.appendChild(o),i.appendChild(r),{dom:i,overlap:!0,positioned:function(){o.style.height=e.defaultLineHeight+"px"}}}})),n.is(po)&&(e=uo({},e),n.is(po)&&delete e[n.value]),n.is(ho)){e=uo({},e);for(var r=0,o=Object.entries(e);r<o.length;r++){var i=(0,l.Z)(o[r],2),c=i[0];i[1].username===n.value&&delete e[c]}}};for(c.s();!(a=c.n()).done;)s()}catch(u){c.e(u)}finally{c.f()}return e},provide:function(e){return[O.hJ.computeN([e],(function(t){return Object.values(t.field(e)).map(vo)})),E.tk.decorations.computeN([e],(function(t){var n=t.field(e);return Object.values(n).map((function(e){var t=e.selectionStart<e.selectionEnd?e.selectionStart:e.selectionEnd,n=e.selectionStart>e.selectionEnd?e.selectionStart:e.selectionEnd;return t===n?null:E.p.set(E.p.mark({attributes:{style:"background-color: ".concat(e.color.selection,"; display: inline-block;")},cursor:e}).range(t,n))})).filter((function(e){return null!==e}))}))]}});function go(e){return E.tk.updateListener.of((function(t){var n=t.state.selection;n!==t.startState.selection&&(t.transactions.every((function(e){return e.annotation(Z.YW.remote)}))||e(n.ranges.map((function(e){var n=t.state.doc.lineAt(e.head);return{position:e.head,line:n.number,column:e.head-n.from+1,selectionStart:e.from,selectionEnd:e.to}})),n.mainIndex))}))}function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wo(e){var t=e.view,n=e.presence,o=e.session,i=e.fs,c=e.filePath,s=(0,a.useState)(null),u=s[0],l=s[1],f=(0,io.Z)({presence:n}),d=(0,a.useRef)({}),p=(0,ro.Z)();(0,a.useEffect)((function(){var e=f.reduce((function(e,t){return t.username&&t.color?yo(yo({},e),{},(0,r.Z)({},t.username,t.color)):e}),{});d.current=e}),[f]);var h=(0,Ce.Z)({view:t});return(0,a.useEffect)((function(){if(t){var e=n.onUserLeave((function(e){t.dispatch({effects:ho.of(e.username)})})),r=i.watchOtFile(c,{onReady:function(e){var n=e.updateSelections;t.dispatch({effects:h.reconfigure([mo,go((function(e,t){n(e);var r=e[t];r&&o.setCursorPosition({column:r.column,lineNumber:r.line,offset:r.position})}))])}),l(c)},onCursor:function(e){var n=function(e){var t,n=e.cursor,r=e.usernameColorsMap,o=null===(t=n.user)||void 0===t?void 0:t.name;if(o){var i,a=n.id,c=n.position,s=n.selectionStart,u=n.selectionEnd,l=r[o];if(l&&a&&"number"===typeof c&&"number"===typeof s&&"number"===typeof u)return fo.of({id:a,username:o,position:c,color:{cursor:l,selection:(i=l,lo[i]||"")},selectionStart:s,selectionEnd:u})}}({cursor:e,usernameColorsMap:d.current});n&&t.dispatch({effects:n})},onRemoveCursor:function(e){t.dispatch({effects:po.of(e)})},onError:function(){t.dispatch({effects:h.reconfigure([])})},onMoveOrDelete:function(){t.dispatch({effects:h.reconfigure([])})}});return function(){e(),r(),t.dispatch({effects:h.reconfigure([])}),p.current&&l(null)}}}),[t,c,i,n,o,h]),{loadedFile:u}}var xo=n(71225);function Zo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ko(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ko(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eo(e){var t=e.view,n=e.presence,r=e.session,o=e.fs,i=e.filePath,c=oo({view:t,fs:o,filePath:i}).loadedFile,u=wo({view:t,fs:o,filePath:i,presence:n,session:r}).loadedFile;!function(e){var t=e.view,n=(0,s.Z)().presence,r=(0,xo.Z)(),o=(0,Ce.Z)({view:t});a.useEffect((function(){if(r&&t){var e=function(){n.getFollowedUser()&&n.unfollowUser()};return t.dispatch({effects:o.reconfigure(E.tk.domEventHandlers({wheel:e,keydown:e,click:e}))}),function(){t.dispatch({effects:o.reconfigure([])})}}}),[r,t,n,o]);var i=(0,Ce.Z)({view:t});a.useEffect((function(){if(t&&r){var e=t.state.field(mo,!1);if(e){var n=Object.values(e).find((function(e){return e.username===r.username}));n&&o(n.position)}return t.dispatch({effects:i.reconfigure(E.tk.updateListener.of((function(e){var t,n,i=Zo(e.transactions);try{for(i.s();!(n=i.n()).done;){var a,c=Zo(n.value.effects);try{for(c.s();!(a=c.n()).done;){var s=a.value;s.is(fo)&&s.value.username===r.username&&(t=s.value)}}catch(u){c.e(u)}finally{c.f()}}}catch(u){i.e(u)}finally{i.f()}t&&o(t.position)})))}),function(){t.dispatch({effects:i.reconfigure([])})}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t){var n=Z.jT.cursor(e);t.dispatch({effects:[E.tk.scrollIntoView(n,{x:"center",y:"center"})]})}}}),[t,r,i])}({view:t});var l=i!==c||i!==u,f=(0,Ce.Z)({view:t});return(0,a.useEffect)((function(){t&&t.dispatch({effects:f.reconfigure([E.tk.editable.of(!l),Z.yy.readOnly.of(l)])})}),[t,l,f]),{isLoading:l}}var Oo=n(46486),Co=n(43421),So=n(55076);function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Po=[{img:"/public/images/kaboomdraw/rect.png",code:"\ndrawRect({\n\tpos: vec2(80, 80),\n\twidth: 120,\n\theight: 80,\n\tcolor: rgb(250, 242, 164),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/triangle.png",code:"\ndrawTriangle({\n\tpos: vec2(100, 100),\n\tp1: vec2(0, -48),\n\tp2: vec2(-60, 48),\n\tp3: vec2(60, 48),\n\tcolor: rgb(164, 250, 204),\n})\n  ".trim()},{img:"/public/images/kaboomdraw/circle.png",code:"\ndrawCircle({\n\tpos: vec2(100, 100),\n\tradius: 48,\n\tcolor: rgb(181, 164, 250),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/ellipse.png",code:"\ndrawEllipse({\n\tpos: vec2(120, 100),\n\tradiusX: 64,\n\tradiusY: 40,\n\tcolor: rgb(164, 209, 250),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/polygon.png",code:"\ndrawPolygon({\n\tpos: vec2(100, 100),\n\tpts: [\n\t\tvec2(0, -48),\n\t\tvec2(-64, 0),\n\t\tvec2(-32, 64),\n\t\tvec2(32, 64),\n\t\tvec2(64, 0),\n\t],\n\tcolor: rgb(250, 164, 226),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/text.png",code:'\ndrawText({\n\ttext: "hi",\n\tpos: vec2(60, 60),\n})\n    '.trim()}],Do=function(e){var t=e.img,n=e.code,r=(0,Co.c)({item:{type:So.z.Code,code:n},type:So.z.Code}),o=(0,l.Z)(r,2)[1];return(0,L.tZ)("img",{ref:o,src:t,css:[D.l0.p(12),"user-drag:none;height:100%;cursor:pointer;transition:0.1s transform;:hover{transform:scale(1.2);}",""]})},To=function(){return(0,L.tZ)(_.Z,{css:[D.l0.flex.row,D.l0.justify.spaceEvenly,D.l0.backgroundColor.backgroundHigher,D.l0.borderRadius(8),D.l0.width("calc(100% - 32px)"),D.l0.height("64px"),D.l0.position.absolute,D.l0.overflow("scroll"),"z-index:5;left:16px;bottom:16px;border:solid 1px var(--outline-dimmest);",""],children:Po.map((function(e){return(0,L.tZ)(Do,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),e.img)}))})},Io=n(11163),Ro=n(30682),Ao=n(90274),_o=n(79363),Lo=n(8510),No=n(27881);function Uo(e){var t=e.shortcut;return(0,L.tZ)(_.Z,{css:[D.l0.py(2),D.l0.px(8),{border:"1px solid ".concat(D.TV.accentPrimaryDimmer),borderRadius:D.TV.borderRadius8,textAlign:"center"},"",""],children:(0,L.tZ)(ht.x,{color:"dimmer",children:t})})}var Fo={name:"149ift6",styles:"list-style:inside"};var Bo={id:"CodeMirror",title:"Introducing CodeMirror!",content:function(){var e="1px solid ".concat(D.TV.accentPrimaryDimmer),t=[{display:"list-item"},D.l0.py(4)],n=window.navigator.userAgent.includes("Chrome")?"calc(100% - 20px)":"calc(100% - 14px)";return(0,L.BX)(_.Z,{children:[(0,L.tZ)(ht.x,{multiline:!0,children:"You might notice that the editor looks different and feels faster! That's because we've switched from Monaco to CodeMirror 6."}),(0,L.BX)(_.Z,{css:[D.l0.py(8),D.l0.my(8),{borderTop:e,borderBottom:e},"",""],children:[(0,L.tZ)(ht.x,{css:[D.l0.py(8),"",""],children:"What's different:"}),(0,L.BX)(_.Z,{tag:"ul",css:Fo,children:[(0,L.tZ)(_.Z,{tag:"li",css:t,children:(0,L.tZ)(ht.x,{multiline:!0,children:"Improved Syntax Highlighting and Font"})}),(0,L.tZ)(_.Z,{tag:"li",css:t,children:(0,L.tZ)(ht.x,{multiline:!0,children:'Threads and "Explain Code" have moved to the Context Menu'})}),(0,L.tZ)(_.Z,{tag:"li",css:t,children:(0,L.BX)(_.Z,{css:["display:inline-flex;flex-direction:row;justify-content:space-between;",D.l0.width(n),"",""],children:[(0,L.tZ)(ht.x,{multiline:!0,children:"Improved Context Menu"}),(0,L.tZ)(Uo,{shortcut:"Right Click"})]})}),(0,L.tZ)(_.Z,{tag:"li",css:t,children:(0,L.BX)(_.Z,{css:["display:inline-flex;flex-direction:row;justify-content:space-between;",D.l0.width(n),"",""],children:[(0,L.tZ)(ht.x,{multiline:!0,children:"Improved Search Panel"}),(0,L.tZ)(Uo,{shortcut:"".concat(Oe.UE.cmdOrCtrlKey," + F")})]})}),(0,L.tZ)(_.Z,{tag:"li",css:t,children:(0,L.BX)(_.Z,{css:["display:inline-flex;flex-direction:row;justify-content:space-between;",D.l0.width(n),"",""],children:[(0,L.tZ)(ht.x,{multiline:!0,children:"Add a new cursor"}),(0,L.tZ)(Uo,{shortcut:"".concat(Oe.UE.altKey," + Click")})]})}),(0,L.tZ)(_.Z,{tag:"li",css:t,children:(0,L.BX)(_.Z,{css:["display:inline-flex;flex-direction:row;justify-content:space-between;",D.l0.width(n),"",""],children:[(0,L.tZ)(ht.x,{multiline:!0,children:"Jump to definition"}),(0,L.tZ)(Uo,{shortcut:"".concat(Oe.UE.cmdOrCtrlKey," + Click")})]})})]})]}),(0,L.tZ)(ht.x,{multiline:!0,children:"We hope you enjoy a faster and more native coding experience!"}),(0,L.tZ)(_.Z,{css:[D.l0.pt(8),D.l0.flex.rowReverse,"",""],children:(0,L.tZ)(Ro.Co,{text:"Learn More",colorway:"primary",css:[D.l0.width(96),"",""],href:"https://blog.replit.com/code-editors",target:"_blank"})})]})}};function Mo(e){var t=e.children,n=e.element,r=(0,Io.useRouter)(),o=(0,No.X)(),i=(0,Ao.Z)("workspace","codemirror-explorers-banner"),c=i.shouldDisplay,s=i.register,u=i.dismiss,l=(0,kn.AxF)().data,f=null===l||void 0===l?void 0:l.currentUser,d=(null===f||void 0===f?void 0:f.timeCreated)>="2022-02-01",p="/replEnvironment"===r.pathname,h=o&&!o.isDone;return a.useEffect((function(){p&&(d||(h?u():s()))}),[s,p,h,u,d]),c?(0,L.BX)(L.HY,{children:[(0,L.tZ)(_o.w,{targetElement:n}),(0,L.tZ)(Lo.k,{targetElement:n,activeStep:Bo,currentStepIndex:0,done:u,goto:function(){},totalSteps:1,disableAnimation:!0}),t]}):(0,L.tZ)(L.HY,{children:t})}var Ho=n(62808),Xo=n(90607),Go=n(11655);function Vo(){Vo=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,o){var i=new RegExp(e,r);return t.set(i,o||t.get(e)),(0,Xo.Z)(i,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,Ue.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,o){if("string"===typeof o){var i=t.get(this);return e[Symbol.replace].call(this,n,o.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"===typeof o){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!==typeof e[e.length-1]&&(e=[].slice.call(e)).push(r(e,a)),o.apply(this,e)}))}return e[Symbol.replace].call(this,n,o)},Vo.apply(this,arguments)}var zo=Vo(/vec2\((\x2D?\b[0-9]+\.?[0-9]*\b)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(\x2D?\b[0-9]+\.?[0-9]*\b))?\)/,{x:1,y:3}),Wo=Vo(/rgb\(([0-9]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([0-9]+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*([0-9]+)\)/,{r:1,g:2,b:3}),Jo={regexp:/-?\b\d+\.?\d*\b/g,cursor:"ew-resize",onDrag:function(e,t,n){var r=Number(e)+n.movementX;isNaN(r)||t(r.toString())}},qo={regexp:/true|false/g,cursor:"pointer",onClick:function(e,t){switch(e){case"true":return t("false");case"false":return t("true")}}},Yo={regexp:/vec2\(-?\b\d+\.?\d*\b\s*(,\s*-?\b\d+\.?\d*\b)?\)/g,cursor:"move",onDrag:function(e,t,n){var r,o,i=zo.exec(e),a=Number(null===i||void 0===i||null===(r=i.groups)||void 0===r?void 0:r.x),c=Number(null===i||void 0===i||null===(o=i.groups)||void 0===o?void 0:o.y);isNaN(a)||(isNaN(c)&&(c=a),t("vec2(".concat(a+n.movementX,", ").concat(c+n.movementY,")")))}},Ko={regexp:/rgb\(.*\)/g,cursor:"pointer",onClick:function(e,t){var n,r,o,i=Wo.exec(e),a=Number(null===i||void 0===i||null===(n=i.groups)||void 0===n?void 0:n.r),c=Number(null===i||void 0===i||null===(r=i.groups)||void 0===r?void 0:r.g),s=Number(null===i||void 0===i||null===(o=i.groups)||void 0===o?void 0:o.b),u=document.createElement("input");u.type="color",isNaN(a+c+s)||(u.value=function(e,t,n){return"#"+e.toString(16)+t.toString(16)+n.toString(16)}(a,c,s)),u.addEventListener("input",(function(e){var n=e.target;if(n.value){var r=function(e){var t=parseInt(e.substring(1),16);return[t>>16&255,t>>8&255,255&t]}(n.value),o=(0,l.Z)(r,3),i=o[0],a=o[1],c=o[2];t("rgb(".concat(i,", ").concat(a,", ").concat(c,")"))}})),u.click()}},$o={regexp:/https?:\/\/[^\s)"]+/g,cursor:"pointer",onClick:function(e){(0,Go.Z)(e)&&window.open(e,"_blank")}};var Qo=n(51739),ei=n(42166),ti=n(76861);function ni(){ni=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,o){var i=new RegExp(e,r);return t.set(i,o||t.get(e)),(0,Xo.Z)(i,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return(0,Ue.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,o){if("string"===typeof o){var i=t.get(this);return e[Symbol.replace].call(this,n,o.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+i[t]})))}if("function"===typeof o){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!==typeof e[e.length-1]&&(e=[].slice.call(e)).push(r(e,a)),o.apply(this,e)}))}return e[Symbol.replace].call(this,n,o)},ni.apply(this,arguments)}var ri=ni(/_([0-9]+)$/,{num:1});function oi(e,t){return ii.apply(this,arguments)}function ii(){return(ii=(0,f.Z)(p().mark((function e(t,n){var r,o,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,cr.Il)(n),e.next=3,t.readDir(r||".");case 3:if(!(o=e.sent).error){e.next=6;break}return e.abrupt("return",n);case 6:return i=function e(t){if(o.children.find((function(e){return"FILE"===e.type&&e.filename===t}))){var n,r=(0,cr.eb)(t),i=(0,cr.r6)(t),a=r.match(ri);if(null!==a&&void 0!==a&&null!==(n=a.groups)&&void 0!==n&&n.num){var c=Number(a.groups.num);return e("".concat(r.replace(ri,""),"_").concat(c+1,".").concat(i))}return e("".concat(r,"_2.").concat(i))}return t}((0,cr.UO)(n)),e.abrupt("return",r?r+"/"+i:i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ai=function(){var e=(0,f.Z)(p().mark((function e(t,n,r){var o,i,a,c,s,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=encodeURI(t.name),i=(0,cr.Il)(r),e.next=4,oi(n,i?i+"/"+o:o);case 4:return a=e.sent,e.next=7,(0,ti.pV)(t);case 7:return c=e.sent,e.next=10,n.writeFile(a,Pe.Z.from(c));case 10:return s=(0,cr.eb)(t.name),u=(0,cr.UO)(a),e.abrupt("return","![".concat(s,"](").concat(u,")"));case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function ci(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return si(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ui(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return li(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Be.Z)(e);if(t){var o=(0,Be.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,Fe.Z)(this,n)}}var di=function(e){(0,Ue.Z)(n,e);var t=fi(n);function n(e,r){var o;return(0,Le.Z)(this,n),(o=t.call(this)).src=e,o.pos=r,o}return(0,Ne.Z)(n,[{key:"eq",value:function(e){return this.src===e.src&&this.pos===e.pos}},{key:"toDOM",value:function(){var e=document.createElement("img");return e.src=this.src,e.dataset.pos=this.pos.toString(),e.style.maxHeight="64px",e.style.maxWidth="256px",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(E.l9),pi=/"data:image\/\w+;base64,[^"\s]+"/g,hi=Number.MAX_VALUE,vi=E.lg.define((function(e){var t=new E.Y1({regexp:pi,decoration:function(e,t,n){if(void 0===e[0])throw new Error("Failed to match image");var r=e[0].substring(1,e[0].length-1);return E.p.replace({widget:new di(r,n)})},maxLength:hi});return{matcher:t,deco:t.createDeco(e),update:function(e){e.docChanged&&(this.deco=t.updateDeco(e,this.deco))}}}),{decorations:function(e){return e.deco},provide:E.BF.atomicRanges.from((function(e){return e.deco}))});function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bi(e){var t=e.filePath,n=e.onType,r=e.onRun,o=e.autoFocus,f=(0,s.Z)(),d=f.fs,p=f.debuggest,h=f.presence,v=f.session,m=(0,u.Z)(),g=(0,Ur.Z)({filePath:t,hasExtraPadding:!0,noHistory:!0}),b=g.view,y=g.ref,w=g.dom,x=Eo({view:b,presence:h,session:v,fs:d,filePath:t}).isLoading;!function(e){var t=e.view,n=e.isLoading,r=e.autoFocus;a.useEffect((function(){r&&t&&(n||t.focus())}),[t,n,r])}({view:b,autoFocus:o,isLoading:x}),Hr({view:b,filePath:t,isLoading:x});var k=Ae({view:b,filePath:t,isLoading:x}),O=k.lspTooltipProps,C=k.hoverTooltipParams,S=k.renameInputParams,j=k.onRename,P=k.closeRenameInput;!function(e){var t=e.view,n=e.filePath,r=e.isLoading,o=(0,s.Z)().anchorer;(0,Ce.Z)({view:t,initialExtension:[Rr,Nr(o)]}),a.useEffect((function(){if(!r&&t&&n){var e=!1;o.getAnchors(n).then((function(n){if(e)return!0;t.dispatch({effects:[Ar.of(n)]})}));var i=o.onAnchorsAdded((function(e){var r=e.filter((function(e){return e.path===n}));t.dispatch({effects:_r.of(r)})})),a=o.onAnchorsRemoved((function(e){t.dispatch({effects:Lr.of(e)})}));return function(){e=!0,i(),a()}}}),[r,n,t])}({view:b,filePath:t,fs:d,isLoading:x}),it({view:b,debuggest:p,filePath:t,isLoading:x});var D=Cr({view:b,filePath:t}),T=D.onAction,I=D.actions,R=D.contextMenuCoords,A=D.onContextMenu,_=D.closeMenu,N=D.resizeRef,U=Sr({view:b,filePath:t,isLoading:x}),F=function(e){var t=e.view,n=a.useState(null),r=(0,l.Z)(n,2),o=r[0],i=r[1],c=(0,Ce.Z)({view:t});return a.useEffect((function(){if(t){var e=document.createElement("div");return i(e),t.dispatch({effects:c.reconfigure([(0,$n.yC)({createPanel:function(){return{top:!0,pos:80,dom:e,mount:function(){var t=e.querySelector("[name=search]");t&&(t.focus(),t.select())}}}}),E.$f.of([{win:"Ctrl-h",linux:"Ctrl-h",preventDefault:!0,run:function(){return t.dispatch({effects:Qn.of(null)}),(0,$n.nx)(t)}}])])}),function(){t.dispatch({effects:c.reconfigure([])}),i(null)}}}),[t,c]),o}({view:b});!function(e){var t=e.filePath,n=e.view,r=e.isLoading,o=(0,s.Z)().session;a.useEffect((function(){if(n&&!r)return o.onDeeplinkUpdated((function(e){var r=e.path,o=e.line,i=e.col;if(r===t&&o){var a=n.state.doc,c=Math.min(o,a.lines),s=a.line(c),u=s.to,l=s.from,f=i||0,d=Math.min(l+f,u),p=Z.jT.cursor(d);n.focus(),n.dispatch({selection:p,scrollIntoView:!0})}}))}),[o,n,t,r])}({filePath:t,view:b,isLoading:x}),function(e){var t=e.view,n=e.onType,r=e.filePath,o=(0,Ce.Z)({view:t});a.useEffect((function(){if(t&&n&&r)return t.dispatch({effects:o.reconfigure(E.tk.updateListener.of((function(e){e.docChanged&&(e.transactions.some((function(e){return e.annotation(Z.YW.remote)}))||n((0,cr.r6)(r)))})))}),function(){t.dispatch({effects:o.reconfigure([])})}}),[t,n,r,o])}({view:b,onType:n,filePath:t}),function(e){var t=e.view,n=e.onRun,r=(0,Ce.Z)({view:t});a.useEffect((function(){if(t&&n)return t.dispatch({effects:r.reconfigure(E.$f.of([{key:"Mod-Enter",run:function(){return n(),!0}}]))}),function(){t.dispatch({effects:r.reconfigure([])})}}),[t,n,r])}({view:b,onRun:r}),function(e){var t=e.view,n=(0,Ce.Z)({view:t}),r=(0,Oo.xZ)();a.useEffect((function(){if(t){var e=r?[Jo,qo,Yo,Ko,$o]:[];return e.push($o),t.dispatch({effects:n.reconfigure((0,Ho.Z)({rules:e}))}),function(){t.dispatch({effects:n.reconfigure([])})}}}),[t,n,r])}({view:b}),function(e){var t=e.view,n=(0,Ce.Z)({view:t}),r=(0,s.Z)().fs,o=(0,Yt.Z)(),i=(0,Oo.xZ)();a.useEffect((function(){if(t)return t.dispatch({effects:n.reconfigure(E.tk.domEventHandlers({paste:function(e){var n,a=null===e||void 0===e||null===(n=e.clipboardData)||void 0===n?void 0:n.files,c=function(e){var n=t.state.selection.main.head;t.dispatch({changes:{from:n,insert:e},selection:{anchor:n,head:n+e.length}})};if(a){var s,u=ui(a);try{for(u.s();!(s=u.n()).done;){var l=s.value;i?(0,ti.L0)(l).then((function(e){return c('"'+e+'"')})):null!==o&&void 0!==o&&o.endsWith(".md")&&ai(l,r,o).then(c)}}catch(f){u.e(f)}finally{u.f()}}}}))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,o,r,i])}({view:b}),function(e){var t=e.view,n=(0,Ce.Z)({view:t}),r=(0,Yt.Z)();a.useEffect((function(){if(t)return t.dispatch({effects:n.reconfigure(E.tk.domEventHandlers({paste:function(e){var n;if(null!==r&&void 0!==r&&r.endsWith(".md")){var o=t.state.selection;if(!(o.ranges.length>1)&&o.main.from!==o.main.to){var i=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("Text");if(i&&(0,Go.Z)(i)){e.preventDefault();var a=t.state.sliceDoc(o.main.from,o.main.to),c="[".concat(a,"](").concat(i,")");t.dispatch({changes:{from:o.main.from,to:o.main.to,insert:c}})}}}}}))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,r])}({view:b}),function(e){var t=e.view,n=(0,Ce.Z)({view:t}),r=(0,Oo.f6)();a.useEffect((function(){if(t&&r)return t.dispatch({effects:n.reconfigure(vi)}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,r])}({view:b});var B=function(e){var t=e.view,n=(0,s.Z)().fs,r=(0,Yt.Z)(),o=(0,Oo.xZ)(),i=(0,Qo.L)({accept:[So.z.Code,ei.FILE],drop:function(e,i){if(t){var a=i.getClientOffset(),c=a?t.posAtCoords(a):null;if(null!==c){var s=function(e){t.focus(),t.dispatch({changes:{from:c,insert:e},selection:{anchor:c,head:c+e.length}})};if(e.type===So.z.Code)s(e.code);else{var u,l=ci(e.files);try{for(l.s();!(u=l.n()).done;){var f=u.value;o?(0,ti.L0)(f).then((function(e){return s('"'+e+'"')})):null!==r&&void 0!==r&&r.endsWith(".md")&&ai(f,n,r).then(s)}}catch(d){l.e(d)}finally{l.f()}}}}}});return(0,l.Z)(i,2)[1]}({view:b}),M=(0,Oo.xZ)();return Or({view:b}),(0,L.tZ)(An.xW,{stepId:_n.H.Editor,children:(0,L.BX)("div",{className:i().dynamic([["186305193",[m?"0 3px 0 3px ".concat(m):"0"]]])+" root",children:[(0,L.tZ)(Vn,{view:b,filePath:t,isLoading:x}),(0,L.tZ)(Mo,{element:w,children:(0,L.BX)("div",{ref:N,className:i().dynamic([["186305193",[m?"0 3px 0 3px ".concat(m):"0"]]])+" editor",children:[x&&(0,L.tZ)("div",{className:i().dynamic([["186305193",[m?"0 3px 0 3px ".concat(m):"0"]]])+" loader",children:(0,L.tZ)(c.Z,{})}),(0,L.tZ)("div",{ref:function(e){y(e),B(e)},onContextMenu:A,className:i().dynamic([["186305193",[m?"0 3px 0 3px ".concat(m):"0"]]])}),O?(0,L.tZ)(yt,gi({},O)):null,R&&b?(0,L.tZ)(sn,{view:b,coords:R,actions:I,closeMenu:_,onAction:T}):null,S?(0,L.tZ)(mn,{dom:S.dom,variable:S.variable,onRename:j,closeInput:P}):null,U?(0,L.tZ)(Fn,{dom:U}):null,C?(0,L.tZ)(Yn,gi({},C)):null,F?(0,L.tZ)(ar,{dom:F,view:b}):null]})}),M&&(0,L.tZ)(To,{}),(0,L.tZ)(i(),{id:"186305193",dynamic:[m?"0 3px 0 3px ".concat(m):"0"],children:[".root.__jsx-style-dynamic-selector{position:relative;overflow-y:auto;width:100%;height:100%;font-size:14px;background-color:var(--background-default);z-index:3;box-shadow:".concat(m?"0 3px 0 3px ".concat(m):"0",";}"),".editor.__jsx-style-dynamic-selector{position:relative;overflow-y:auto;width:100%;height:100%;font-size:14px;background-color:var(--background-default);}",".editor.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;height:100%;}",".editor.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector>.cm-editor{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:100%;}",".loader.__jsx-style-dynamic-selector{position:absolute;left:0;top:0;height:100%;width:100%;overflow:hidden;z-index:5;}"]})]})})}},78087:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(70917),o=n(17674),i=n(59499),a=n(50029),c=n(90116),s=n(87794),u=n.n(s),l=n(67294),f=n(91296),d=n.n(f),p=n(13788),h=n(50988),v=n(78134),m=n(71225),g=n(82625),b=function(e,t,n){var r;if(!e)return[];var o=t(e.getSceneElementsIncludingDeleted()),i=e.getAppState();return(r=n.reduce((function(e,t){var n,r,a;return t.id===(null===(n=i.editingElement)||void 0===n?void 0:n.id)||t.id===(null===(r=i.resizingElement)||void 0===r?void 0:r.id)||t.id===(null===(a=i.draggingElement)||void 0===a?void 0:a.id)||(o[t.id]&&o[t.id].version>t.version?(e.push(o[t.id]),delete o[t.id]):o[t.id]&&o[t.id].version===t.version&&o[t.id].versionNonce!==t.versionNonce?(o[t.id].versionNonce<t.versionNonce?e.push(o[t.id]):e.push(t),delete o[t.id]):(e.push(t),delete o[t.id])),e}),[])).concat.apply(r,(0,c.Z)(Object.values(o)))},y=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},w=n(2736),x=n(91462),Z=n(35944);function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t,i=e.fs,s=e.presence,f=e.broadcast,E=e.filePath,O=(0,l.useState)(void 0),S=O[0],j=O[1],P=(0,l.useRef)((function(e){return(0,c.Z)(e)})),D=(0,l.useRef)((function(e){return-1})),T=(0,l.useRef)((function(e){return{}})),I=(0,l.useRef)({readyPromise:y()}),R=(0,l.useRef)({promise:null});(0,l.useEffect)((function(){Promise.all([n.e(2738),n.e(4474)]).then(n.t.bind(n,74474,23)).then((function(e){P.current=e.getSyncableElements,D.current=e.getSceneVersion,T.current=e.getElementMap,j(e.default)}))}),[]);var A=function(){return I.current},_=(0,h.K1s)({ssr:!1}),L=_.data,N=_.loading,U=(null===L||void 0===L||null===(t=L.currentUser)||void 0===t?void 0:t.username)||"",F=(0,p.Fg)(),B=(0,v.Z)({presence:s}),M=(0,m.Z)(),H=null===M||void 0===M?void 0:M.color,X=(0,l.useState)(new Map),G=X[0],V=X[1],z=(0,l.useState)(-1),W=z[0],J=z[1];(0,l.useEffect)((function(){function e(){return(e=(0,a.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L&&L.currentUser){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I.current.readyPromise;case 4:t=A().getAppState(),n=t.collaborators,r=new Map,B.forEach((function(e){var t;if(e.username!==(null===L||void 0===L||null===(t=L.currentUser)||void 0===t?void 0:t.username)){var o=n.get(e.username)||{};r.set(e.username,C(C({},o),{},{username:e.username,color:{background:e.color,foreground:e.color}}))}})),A().updateScene({collaborators:r});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L,B]);var q=function(){var e=(0,a.Z)(u().mark((function e(t,n){var r,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n||(t=t.filter((function(e){return!G.has(e.id)||e.version>G.get(e.id)}))),r=k(t);try{for(r.s();!(o=r.n()).done;)i=o.value,G.set(i.id,i.version),V(new Map(G))}catch(a){r.e(a)}finally{r.f()}f.broadcastMessage({text:JSON.stringify({elements:t,path:E})});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){if(f){var e=f.onBroadcastReceived((function(e){var t=e.username,n=e.text,r=JSON.parse(n);if(r.path===E)if(r.collaborator&&I.current){var o=A().getAppState().collaborators;o.set(t,C(C(C({},o.get(t)),r.collaborator),{},{username:t})),A().updateScene({collaborators:o})}else if(r.elements){var i=b(A(),T.current,r.elements);J(D.current(i)),A().updateScene({elements:i})}}));return function(){e()}}}),[f,E]),(0,l.useEffect)((function(){function e(){return e=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E&&i){e.next=2;break}return e.abrupt("return");case 2:R.current.promise=new Promise(function(){var e=(0,a.Z)(u().mark((function e(t){var n,r,a,c,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.readFile(E),I.current.readyPromise]);case 2:n=e.sent,r=(0,o.Z)(n,1),"content"in(a=r[0])&&(c=a.content.toString(),s=JSON.parse(c||"{}"),l=A().getAppState(),s.appState=C({},l),s.scrollToContent=!0,t(s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E,i]);var Y=(0,l.useCallback)(d()(function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filter((function(e){return!e.isDeleted})),!E){e.next=4;break}return e.next=4,i.writeFile(E,g.Z.from(JSON.stringify({elements:n})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),350),[E]);return(0,Z.tZ)(w.Z,{css:(0,r.iv)({position:"relative",height:"100%",width:"100%",flex:1,boxShadow:H?"0 3px 0 3px ".concat(H):"none",backgroundColor:x.TV.backgroundDefault,"& .excalidraw [title~=Library]":{display:"none"},"& .excalidraw .App-menu_top":{gridTemplateColumns:"0 auto 1fr !important",gridGap:"none !important"},"& .excalidraw .App-menu_bottom":{transform:"none !important",paddingLeft:"var(--space-4) !important"}},"",""),children:S&&!N&&(0,Z.tZ)(S,{zenModeEnabled:!0,ref:I,isCollaborating:!0,theme:F===p.V2.replitLight?"light":"dark",initialData:R.current.promise,onPointerUpdate:function(e){var t=e.pointer;if(A().getAppState().collaborators.size>0){var n=A().getAppState().selectedElementIds||{};f.broadcastMessage({text:JSON.stringify({collaborator:{pointer:t,selectedElementIds:n},path:E})})}},onChange:function(e){A().getAppState().collaborators.size>0?function(e){D.current(e)>W&&(W>0&&q(P.current(e),!1),J(D.current(e)))}(e):J(D.current(e)),D.current(e)>W&&W>0&&Y(e)},user:{name:U}})})}function j(e){var t=e.fs,n=e.presence,r=e.broadcast,o=e.filePath;return(0,Z.tZ)(S,{fs:t,presence:n,broadcast:r,filePath:o},o)}},48756:function(e,t,n){n.d(t,{Z:function(){return le}});var r,o=n(50029),i=n(17674),a=n(65988),c=n.n(a),s=n(87794),u=n.n(s),l=n(67294),f=n(9571),d=n(63997),p=n(97498),h=n(36732),v=n(99042),m=n(57783),g=n(15098),b=n(90116),y=n(82625),w=n(80077),x=n(58526),Z=n(86374),k=n(55877),E=n.n(k),O=n(76861);function C(){return C=(0,o.Z)(u().mark((function e(t){var n,i,a,c,s,l,f,d,p,h,v,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentPath,i=t.overwrite,a=t.fs,c=t.files,s=t.shouldUseFileTransferAPI,l=t.onStart,f=t.onUpload,d=t.onError,p=t.onDone,h=function(){var e=(0,o.Z)(u().mark((function e(t){var n,o,c,l,p,h,v,m,g,b;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.targetPath,o=t.file,c=t.progress,i){e.next=10;break}return e.next=4,a.stat(n);case 4:if(l=e.sent,!l.exists){e.next=10;break}return p={file:o,path:n,error:r.AlreadyExists},d(p),e.abrupt("return",p);case 10:return h=E()(),v=Date.now(),(0,Z.track)(Z.events.WS_FILE_UPLOAD_STARTED,{uploadID:h,size:o.size}),m=null,e.prev=14,e.next=17,(0,O.pV)(o);case 17:m=e.sent,e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(14),g={file:o,path:n,error:r.FileRead},d(g),e.abrupt("return",g);case 25:if(b=y.Z.from(m),!s){e.next=31;break}return e.next=29,a.transferFile(n,b,(function(e,t){c.current=t/e}));case 29:e.next=33;break;case 31:return e.next=33,a.writeFile(n,b);case 33:return(0,Z.track)(Z.events.WS_UPLOADED_FILE,{uploadID:h,size:o.size,elapsedMillis:Date.now()-v}),f({file:o,path:n}),e.abrupt("return",{path:n,file:o});case 36:case"end":return e.stop()}}),e,null,[[14,20]])})));return function(t){return e.apply(this,arguments)}}(),v=c.map((function(e){var t=e.path||e.webkitRelativePath||e.name;return{targetPath:n?n+"/"+t:t,progress:(0,w.u)(0),file:e}})),l(v),e.next=6,Promise.all(v.map(h));case 6:m=e.sent,p({parentPath:n,uploads:m.filter((function(e){return!("error"in e)})),errors:m.reduce((function(e,t){return"error"in t?[].concat((0,b.Z)(e),[t]):e}),[])});case 8:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function S(e){var t=e.fs,n=e.onDone,r=l.useState([]),o=(0,i.Z)(r,2),a=o[0],c=o[1],s=l.useRef(n);l.useEffect((function(){s.current=n}),[n]);var u=(0,x.Z)("flag-transfer-files"),f=l.useCallback((function(e){var n=e.parentPath,r=e.files;!function(e){C.apply(this,arguments)}({overwrite:e.overwrite,parentPath:n,files:r.filter(Boolean),fs:t,shouldUseFileTransferAPI:u,onStart:function(e){return c((function(t){return[].concat((0,b.Z)(t),(0,b.Z)(e))}))},onUpload:function(e){c((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onError:function(e){c((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onDone:function(e){s.current&&s.current(e)}})}),[t,c,u]);return{uploadFiles:f,pendingUploads:a}}!function(e){e.AlreadyExists="ALREADY_EXIST",e.FileRead="FILE_READ",e.Network="NETWORK"}(r||(r={}));var j=n(5318),P=n(41850),D=n(18952),T=n(35944);function I(e){var t=e.filename,n=e.entityType,r=e.onCancel,o=e.onConfirm;return(0,T.BX)("div",{className:"jsx-4293994902 content",children:[(0,T.BX)(P.gC,{spacing:4,children:[(0,T.BX)(P.gC,{spacing:1,children:[(0,T.BX)(h.Z,{level:3,children:["Delete ",t,"?"]}),(0,T.BX)(D.Z,{foreground:2,children:["Are you sure you want to delete this ",n,"? This cannot be undone."]})]}),(0,T.BX)(P.Ug,{spacing:1,children:[(0,T.tZ)(j.Z,{autoFocus:!0,onClick:r,children:"Cancel"}),(0,T.BX)(j.Z,{color:"negative",filled:!0,onClick:o,children:["Yes, delete this ",n]})]})]}),(0,T.tZ)(c(),{id:"4293994902",children:[".content.jsx-4293994902{padding:var(--space-32);}"]})]})}var R=n(56810),A=n(33444);function _(){var e=(0,p.Z)().session,t=l.useState(e.getAreHiddenFilesVisible()),n=(0,i.Z)(t,2),r=n[0],o=n[1];return l.useEffect((function(){return o(e.getAreHiddenFilesVisible()),e.onHiddenFileVisibilityToggled(o)}),[e]),r}var L=n(5884),N=n(12673);function U(e){var t=e.onDownloadZip,n=(0,N.y)().uploadFiles,r=l.useRef(null),o=l.useRef(null),i=_(),a=(0,L.Z)(),s=(0,p.Z)().session,u=l.useMemo((function(){if("undefined"===typeof document)return[];var e=document.createElement("input"),t="webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e,n=[A.s.UploadFile];return t&&n.push(A.s.UploadFolder),n.push(A.s.DownloadZip),n.push(i?A.s.HideHiddenFiles:A.s.ShowHiddenFiles),n}),[i]);return(0,T.BX)(T.HY,{children:[(0,T.tZ)("input",{ref:r,type:"file",onChange:function(e){var t=e.target.files;t&&n({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*",className:"jsx-880321226"}),(0,T.tZ)("input",{ref:o,type:"file",onChange:function(e){var t=e.target.files;t&&n({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-880321226"}),(0,T.tZ)(A.Z,{actions:u,onAction:function(e){switch(e){case A.s.UploadFile:if(!r.current)return;return r.current.click(),void(0,R.Z)({replId:a,action:"upload"});case A.s.UploadFolder:if(!o.current)return;return o.current.click(),void(0,R.Z)({replId:a,action:"upload"});case A.s.DownloadZip:return t(),void(0,R.Z)({replId:a,action:"download"});case A.s.ShowHiddenFiles:return void s.setAreHiddenFilesVisible(!0);case A.s.HideHiddenFiles:s.setAreHiddenFilesVisible(!1)}}}),(0,T.tZ)(c(),{id:"880321226",children:["input.jsx-880321226{display:none;}"]})]})}var F=n(59259),B=n(98383),M=n(3316),H=n(97982),X=n(24435),G=n(83984),V=n(49753),z=n(50988),W=n(72779),J=n(14998),q=n(9595),Y=n(81700),K=n.n(Y),$=n(26936),Q=n(75183),ee=n(2736),te=n(91462),ne=n(94690),re=n(59499);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,re.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=/\(copy\)( \d+)?$/,ce=/\d+$/;function se(e,t){for(var n=(0,ne.r6)(e),r=(0,ne.eb)(e),o=ae.test(r)?e:"".concat(r," (copy)").concat(n.length>0?".".concat(n):""),i=1;i<=t.size;i++){if(!t.has(o))return o;var a=(0,ne.eb)(o),c=a.split(" ");ce.test(a)&&c.pop(),o="".concat(c.join(" ")," ").concat(i),n.length>0&&(o+=".".concat(n))}return o}function ue(e){return e/1024/1024}function le(e){var t,n,a,s,b,y,w,Z,k,E,O=(0,M.Z)().showError,C=(0,L.Z)(),D=l.useState(null),A=(0,i.Z)(D,2),Y=A[0],re=A[1],oe=(0,x.Z)("flag-monitor-repl-resources"),ae=(0,p.Z)(),ce=ae.session,le=ae.presence,fe=ae.fs,de=ae.dotReplit,pe=l.useState(null),he=(0,i.Z)(pe,2),ve=he[0],me=he[1],ge=(0,V.Z)(),be=_(),ye=function(e){var t=l.useState(null),n=(0,i.Z)(t,2),r=n[0],o=n[1],a=l.useState(null),c=(0,i.Z)(a,2),s=c[0],u=c[1];return l.useEffect((function(){if(s){var t=!1;return"rename"===s.type?(s.fileType===f.Tv.File?e.moveFile(s.path,s.to):e.moveDir(s.path,s.to)).then((function(e){t||(u(null),e.error&&o(e.error))})):(s.fileType===f.Tv.File?e.deleteFile(s.path):e.deleteDir(s.path)).then((function(e){t||(u(null),e.error&&o(e.error))})),function(){t=!0}}o(null)}),[s,e]),{renameNode:function(e){return u(ie(ie({},e),{},{type:"rename"}))},deleteNode:function(e){return u(ie(ie({},e),{},{type:"delete"}))},currentOp:s,error:r}}(fe),we=ye.renameNode,xe=ye.deleteNode,Ze=ye.currentOp,ke=ye.error;l.useEffect((function(){ke&&O("Something went wrong trying to move or remove a file.")}),[ke,O]);var Ee=(0,z.aEG)({variables:{replId:C}}).data,Oe="Repl"===(null===Ee||void 0===Ee?void 0:Ee.repl.__typename)?Ee.repl:void 0,Ce=Oe?Oe.url:void 0,Se=Ee?function(e){var t,n="Repl"===(null===e||void 0===e?void 0:e.repl.__typename)?e.repl:void 0,r=null!==e&&void 0!==e&&e.currentUser?e.currentUser:void 0;if(void 0===n||void 0===r)return Q.J.Nothing;if("User"===(null===(t=n.owner)||void 0===t?void 0:t.__typename)){var o,i;if(r.id!==(null===(o=n.owner)||void 0===o?void 0:o.id))return Q.J.Nothing;if(null===(i=r.capabilities)||void 0===i||!i.canBoost)return Q.J.Upgrade;if(!n.isBoosted)return Q.J.Boost}return Q.J.Nothing}(Ee):Q.J.Nothing,je="Repl"===(null===Ee||void 0===Ee?void 0:Ee.repl.__typename)?Ee.repl.language:void 0,Pe="Repl"===(null===Ee||void 0===Ee?void 0:Ee.repl.__typename)&&(Ee.repl.isProjectFork||Ee.repl.isModelSolution||Ee.repl.isModelSolutionFork),De=l.useCallback((function(){var e=(Ce||window.location.pathname)+".zip";window.open(e,"_blank")}),[Ce]),Te=l.useCallback(function(){var e=(0,o.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re(t),!t||!ve){e.next=7;break}return e.next=4,fe.stat(ve);case 4:n=e.sent,n.exists||me(ge||null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ge,ve,fe]),Ie=l.useState(null),Re=(0,i.Z)(Ie,2),Ae=Re[0],_e=Re[1],Le=l.useState(ce.getResourceMonitoringState()),Ne=(0,i.Z)(Le,2),Ue=Ne[0],Fe=Ne[1];l.useEffect((function(){return ce.onResourceMonitoringStateChanged((function(e){Fe(e)}))}),[ce,Fe]),l.useEffect((function(){ge!==ve&&me(ge)}),[ge]);var Be=S({onDone:function(e){var t=e.parentPath,n=e.errors;if(n.length){var o=n.filter((function(e){return e.error===r.AlreadyExists}));o.length&&_e({parentPath:t,errors:o});var i=n.filter((function(e){return e.error!==r.AlreadyExists}));i.length&&O("There was an error uploading: ".concat(i.map((function(e){return e.path})).join(", ")))}},fs:fe}),Me=Be.uploadFiles,He=Be.pendingUploads,Xe=(0,$.Z)(),Ge=l.useState([]),Ve=(0,i.Z)(Ge,2),ze=Ve[0],We=Ve[1];l.useEffect((function(){return de.watch((function(e){Xe.current&&(e.error?e.error===q.Y.NotFound&&We([]):e.config.hidden?We(e.config.hidden.map((function(e){return K()(e,{extended:!0,globstar:!0})}))):We([]))}))}),[de]);var Je=l.useState(null),qe=(0,i.Z)(Je,2),Ye=qe[0],Ke=qe[1],$e=l.useState(null),Qe=(0,i.Z)($e,2),et=Qe[0],tt=Qe[1];return(0,T.tZ)(N.i.Provider,{value:{fs:fe,activePath:ve,pendingFileType:Y,setPendingFileType:Te,pendingUploads:He,uploadFiles:Me,getNodeType:function(){var e=(0,o.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.readFile(t);case 2:return n=e.sent,e.abrupt("return",n.error===f.Df.IsDirectory?f.Tv.Directory:f.Tv.File);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),transformChildren:je?(0,H.Z)({language:je,shouldHideHiddenFiles:!be,hiddenFiles:ze,isProjectFork:Pe}):void 0,downloadFile:function(){var e=(0,o.Z)(u().mark((function e(t,n){var r,o,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.readFile(t);case 2:if(!(r=e.sent).error){e.next=6;break}return O(r.error),e.abrupt("return");case 6:o=(0,ne.yC)(t),(i=document.createElement("a")).setAttribute("href","data:".concat(o,";base64,").concat(r.content.toString("base64"))),i.setAttribute("download",n),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),currentRenamePath:Ye,setCurrentRenamePath:Ke,pendingDelete:et,setPendingDelete:tt,renameNode:we,deleteNode:xe,currentOp:Ze,nodeOpError:ke,overwriteNode:function(){var e=(0,o.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.type===f.Tv.Directory?fe.deleteDir:fe.deleteFile,e.next=3,r(n.path);case 3:if(!e.sent.error){e.next=7;break}return O("Something went wrong trying to move: ".concat(t)),e.abrupt("return");case 7:we({path:t,fileType:n.type,to:n.path});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),duplicateFile:function(){var e=(0,o.Z)(u().mark((function e(t,n){var r,o,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=se((0,ne.UO)(t),new Set(n)),o=(0,ne.Il)(t),i=o?"".concat(o,"/").concat(r):r,e.next=5,fe.copyFile(t,i);case 5:if(!(a=e.sent).error){e.next=9;break}return O(a.error),e.abrupt("return");case 9:Ke(i);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},children:(0,T.tZ)(g.Z,{children:(0,T.tZ)(J.xW,{stepId:W.H.Sidepane,children:(0,T.BX)("div",{className:c().dynamic([["2195926551",[e.minHeight?e.minHeight:"auto"]]])+" filetree",children:[(0,T.BX)(P.Ug,{align:"center",wrap:"nowrap",spacing:0,className:"filetree-header",children:[(0,T.tZ)("div",{className:c().dynamic([["2195926551",[e.minHeight?e.minHeight:"auto"]]])+" heading",children:(0,T.tZ)(h.Z,{level:4,children:"Files"})}),(0,T.tZ)(j.Z,{border:!1,Icon:X.Z,className:"add-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)",onClick:function(){(0,R.Z)({replId:C,action:"create",source:"filetree"}),Te(f.Tv.File)},"aria-label":"Add file","data-microtip-position":"bottom",role:"tooltip"}),(0,T.tZ)("div",{className:c().dynamic([["2195926551",[e.minHeight?e.minHeight:"auto"]]])+" filetree-action-separator"}),(0,T.tZ)(j.Z,{border:!1,Icon:G.Z,className:"add-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)",onClick:function(){(0,R.Z)({replId:C,action:"create",source:"filetree"}),Te(f.Tv.Directory)},"aria-label":"Add folder","data-microtip-position":"bottom",role:"tooltip"}),(0,T.tZ)(U,{onDownloadZip:De})]}),(0,T.tZ)(v.Z,{height:1}),(0,T.tZ)(m.Z,{siblings:[],onClick:function(){return null},onNodeClick:function(e){var t=e.path,n=e.type,r=e.newTab;(me(t),n!==f.Tv.Directory)&&((0,R.Z)(r?{replId:C,action:"newTab",source:"filetree"}:{replId:C,action:"select",source:"filetree"}),ce.openFile(t,{newTab:r}),le.getFollowedUser()&&le.unfollowUser())},path:d.Q}),oe&&(0,T.tZ)(ee.Z,{css:[te.l0.p(8),te.l0.backgroundColor.backgroundDefault,{borderTop:"1px solid ".concat(te.TV.backgroundHigher)},"",""],children:(0,T.tZ)(Q.Z,{callToAction:Se,cpuTotal:100,cpuCurrent:null!==(t=null===Ue||void 0===Ue||null===(n=Ue.utilization)||void 0===n?void 0:n.cpuUtilPercent)&&void 0!==t?t:0,ramTotal:ue(null!==(a=null===Ue||void 0===Ue||null===(s=Ue.utilization)||void 0===s?void 0:s.memoryLimitBytes)&&void 0!==a?a:0),ramCurrent:ue(null!==(b=null===Ue||void 0===Ue||null===(y=Ue.utilization)||void 0===y?void 0:y.memoryUsageBytes)&&void 0!==b?b:0),diskTotal:ue(null!==(w=null===Ue||void 0===Ue||null===(Z=Ue.utilization)||void 0===Z?void 0:Z.storageTotalBytes)&&void 0!==w?w:0),diskCurrent:ue(null!==(k=null===Ue||void 0===Ue||null===(E=Ue.utilization)||void 0===E?void 0:E.storageUsedBytes)&&void 0!==k?k:0)})}),(0,T.tZ)(F.Z,{isOpen:Boolean(Ae),onRequestClose:function(){return _e(null)},children:Ae?(0,T.tZ)(B.Z,{paths:Ae.errors.map((function(e){return e.path})),onCancel:function(){return _e(null)},onConfirm:function(){Me({overwrite:!0,parentPath:Ae.parentPath,files:Ae.errors.map((function(e){return e.file}))}),_e(null)}}):null}),(0,T.tZ)(F.Z,{isOpen:Boolean(et),onRequestClose:function(){return tt(null)},children:et?(0,T.tZ)(I,{filename:et.path,entityType:et.type===f.Tv.File?"file":"folder",onCancel:function(){return tt(null)},onConfirm:function(){tt(null),xe({fileType:et.type,path:et.path})}}):null}),(0,T.tZ)(c(),{id:"2195926551",dynamic:[e.minHeight?e.minHeight:"auto"],children:[".filetree.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;overflow:hidden;border-top-right-radius:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);background-color:var(--background-default);min-height:".concat(e.minHeight?e.minHeight:"auto",";}"),".filetree.__jsx-style-dynamic-selector .filetree-header{padding:var(--space-8);background-color:var(--background-default);position:-webkit-sticky;position:sticky;top:0;z-index:1;}",".filetree-action-separator.__jsx-style-dynamic-selector{height:6px;width:0;border-right:1px solid var(--foreground-dimmest);}",".add-button:hover{color:var(--foreground-default) !important;}",".heading.__jsx-style-dynamic-selector{margin-right:auto;}"]})]})})})})}},64482:function(e,t,n){n.d(t,{Y:function(){return p},r:function(){return v}});var r=n(67294),o=n(49753),i=n(82853),a=n(17432),c=n(46486),s=n(55623),u=n(35944);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=new Set(["draw.js"]);function p(e,t){var n=(0,c.f6)(),i=(0,o.Z)(),a=r.useCallback((function(e,n){var r,o;null===(r=t.current)||void 0===r||null===(o=r.contentWindow)||void 0===o||o.postMessage({action:"FILE_UPDATE",file:e,content:n},"*")}),[t]);r.useEffect((function(){if(t.current&&n){var r,o=l(d);try{var i=function(){var n=r.value;t.current.onload=function(){e.readFile(n).then((function(e){e.error||a(n,e.content.toString())}))}};for(o.s();!(r=o.n()).done;)i()}catch(c){o.e(c)}finally{o.f()}}}),[e,a,t,n]),r.useEffect((function(){if(n&&i&&d.has(i))return e.watchOtFile(i,{onReady:function(e){var t=e.initialContent;return a(i,t.toString())},onChange:function(e){var t=e.latestContent;return a(i,t)}})}),[e,i,a,n])}var h={name:"r1kkn5",styles:"transform:scale(0.8)"},v=function(e){var t=e.iframe;return r.useEffect((function(){var e=function(e){if("DOWNLOAD"===e.data.action){var t=document.createElement("a");document.body.appendChild(t),t.setAttribute("style","display: none"),t.href=e.data.url,t.download=e.data.filename,t.click(),document.body.removeChild(t)}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]),(0,u.BX)(u.HY,{children:[(0,u.tZ)(s.J,{alt:"Save image",onClick:function(){var e,n;null===(e=t.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage({action:"REQUEST_SCREENSHOT"},"*")},children:(0,u.tZ)(i.Z,{})}),(0,u.tZ)(s.J,{alt:"Toggle Record",onClick:function(){var e,n;null===(e=t.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage({action:"REQUEST_TOGGLE_RECORD"},"*")},children:(0,u.tZ)(a.Z,{filled:!0,css:h})})]})}},55623:function(e,t,n){n.d(t,{J:function(){return N},Z:function(){return B}});var r=n(17674),o=n(71383),i=n(59499),a=n(67294),c=n(56276),s=n(95273),u=n(92120),l=n(34399),f=n(65988),d=n.n(f),p=n(94184),h=n.n(p),v=n(50988),m=n(5318),g=n(42177),b=n(35944);function y(e){var t=e.repl,n=e.onCancel,o=e.onLink,i=(0,a.useState)(null),c=i[0],s=i[1],u=(0,v.T9I)(),l=(0,r.Z)(u,2),f=l[0],p=l[1],y=(0,a.useRef)(null),x=(0,a.useState)(""),Z=x[0],k=x[1];(0,a.useEffect)((function(){p.data&&"Repl"===p.data.linkReplDomain.__typename&&o()}),[p.data,o]);var E=Z.includes(".")&&Z.split(".")[0].length>0&&Z.split(".")[1].length>0,O=t.hostedUrl.replace(/^https:\/\//,"");return(0,b.BX)("div",{className:"jsx-2066200193 edit-domain",children:[(0,b.tZ)("div",{className:"jsx-2066200193 title",children:"Link An Existing Domain"}),(0,b.BX)("div",{className:"jsx-2066200193 subtitle",children:["Learn more"," ",(0,b.tZ)("a",{href:"https://docs.replit.com/repls/web-hosting#custom-domains",target:"_blank",className:"jsx-2066200193",children:"here"}),"."]}),(0,b.BX)("ol",{className:"jsx-2066200193 steps",children:[(0,b.tZ)("li",{className:"jsx-2066200193",children:(0,b.BX)("div",{className:"jsx-2066200193",children:[(0,b.tZ)("label",{className:"jsx-2066200193",children:"Enter Your Domain:"}),(0,b.tZ)(g.ZP,{disabled:"loading"===c,required:!0,value:Z,onChange:function(e){k(e.target.value)},placeholder:"example.com"})]})}),E?(0,b.tZ)("li",{className:"jsx-2066200193",children:(0,b.BX)("div",{className:"jsx-2066200193",children:[(0,b.BX)("div",{className:"jsx-2066200193",children:["Add a ",(0,b.tZ)("code",{className:"jsx-2066200193",children:"CNAME"})," record to your domain pointing at:"]}),(0,b.BX)("div",{className:"jsx-2066200193 cname-url",children:[(0,b.tZ)(g.ZP,{readOnly:!0,ref:y,onChange:function(){return null},value:O,onClick:function(){y.current&&y.current.select()}}),(0,b.tZ)(m.Z,{onClick:function(){y.current&&(y.current.select(),document.execCommand("copy"))},children:"Copy"})]})]})}):null,"loading"===c||"error"===c?(0,b.tZ)("li",{className:"jsx-2066200193",children:(0,b.tZ)("div",{className:"jsx-2066200193",children:(0,b.tZ)(w,{replId:t.id,domain:Z,onVerified:function(){return s("verified")},onError:function(){return s("error")}})})}):null,"verified"===c?(0,b.tZ)("li",{className:"jsx-2066200193",children:"Your domain is configured correctly. Linking could take a few minutes. Please don't leave this page."}):null]}),(0,b.BX)("div",{className:"jsx-2066200193 controls",children:[(0,b.tZ)(m.Z,{onClick:n,children:"Close"}),(0,b.tZ)("div",{className:"jsx-2066200193 "+(h()("next",{"show-next":E&&"loading"!==c})||""),children:"verified"===c?(0,b.tZ)(m.Z,{color:"primary",loading:p.loading,onClick:function(){p.loading||f({variables:{replId:t.id,domain:Z}})},children:p.loading?"Linking...":"Link Domain"}):(0,b.tZ)(m.Z,{color:"primary",onClick:function(){return s("loading")},children:"Next"})})]}),(0,b.tZ)(d(),{id:"2066200193",children:[".edit-domain.jsx-2066200193{display:grid;grid-row-gap:var(--space-16);}",".title.jsx-2066200193{font-size:20px;}",".subtitle.jsx-2066200193,.label.jsx-2066200193{font-size:18px;}","li.jsx-2066200193{margin-bottom:var(--space-16);}","li.jsx-2066200193>div.jsx-2066200193{display:grid;grid-row-gap:var(--space-8);}",".cname-url.jsx-2066200193{display:grid;grid-column-gap:var(--space-8);grid-template-columns:1fr auto;}",".controls.jsx-2066200193{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".next.jsx-2066200193{visibility:hidden;}",".next.show-next.jsx-2066200193{visibility:visible;}"]})]})}function w(e){var t,n,r=e.domain,o=e.replId,i=e.onVerified,c=e.onError,s=(0,v.ZUY)({variables:{replId:o,domain:r},pollInterval:1e3}),u=s.data,l=s.stopPolling;return(0,a.useEffect)((function(){if(u&&"Repl"===u.repl.__typename){var e=u.repl;if(e.checkDomain){var t=e.checkDomain,n=t.retry,r=t.verified;r||n?(!r&&n||l(),r&&i()):c()}}}),[u,l,i,c]),"Repl"===(null===u||void 0===u?void 0:u.repl.__typename)&&null!==(t=u.repl.checkDomain)&&void 0!==t&&t.status&&u.repl.checkDomain.retry?(0,b.BX)("div",{className:"jsx-1173750789 verify-domain",children:[(0,b.tZ)("div",{className:"jsx-1173750789 loading"}),(0,b.tZ)("div",{className:"jsx-1173750789",children:u.repl.checkDomain.status}),(0,b.tZ)(d(),{id:"1173750789",children:[".verify-domain.jsx-1173750789{display:grid;grid-template-columns:auto 1fr;grid-column-gap:var(--space-8);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".loading.jsx-1173750789{width:20px;height:20px;border-radius:100%;border:solid 3px #eee;border-top:solid 3px #888;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);-webkit-animation:linear domain-loading-jsx-1173750789 1s infinite;animation:linear domain-loading-jsx-1173750789 1s infinite;}","@-webkit-keyframes domain-loading-jsx-1173750789{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes domain-loading-jsx-1173750789{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"]})]}):"Repl"!==(null===u||void 0===u?void 0:u.repl.__typename)||null!==(n=u.repl.checkDomain)&&void 0!==n&&n.retry?null:(0,b.tZ)(b.HY,{children:"We ran into an internal error while checking the domain. Please try again later."})}function x(e){var t=e.replId,n=e.domain,o=e.onCancel,i=e.onUnlink,c=(0,v.pCu)({variables:{input:{id:t,domain:null}}}),s=(0,r.Z)(c,2),u=s[0],l=s[1];return(0,a.useEffect)((function(){l.data&&l.data.updateRepl.repl&&i()}),[l.data,i]),(0,b.BX)("div",{className:"jsx-2620693481 unlink-domain",children:[(0,b.BX)("div",{className:"jsx-2620693481",children:["Your repl is being served at"," ",(0,b.tZ)("a",{target:"_blank",rel:"noopener",href:"https://"+n,className:"jsx-2620693481",children:n})]}),(0,b.BX)("div",{className:"jsx-2620693481 controls",children:[(0,b.tZ)(m.Z,{onClick:o,children:"Close"}),(0,b.tZ)(m.Z,{color:"negative",onClick:function(){l.loading||u()},children:l.loading?"Unlinking...":"Unlink Domain"})]}),(0,b.tZ)(d(),{id:"2620693481",children:[".unlink-domain.jsx-2620693481{display:grid;grid-row-gap:var(--space-24);}",".controls.jsx-2620693481{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]})]})}function Z(e){var t=e.replId,n=e.onCancel,r=e.onUnlink,o=e.onLink,i=(0,v.KG0)({variables:{replId:t}}),a=i.data,c=null;if(i.loading)c=(0,b.tZ)(b.HY,{children:"loading..."});else if(a&&"Repl"===a.repl.__typename){var s=a.repl;c=s.config.domain?(0,b.tZ)(x,{replId:s.id,domain:s.config.domain,onUnlink:r,onCancel:n}):(0,b.tZ)(y,{repl:s,onLink:o,onCancel:n})}else a&&"ReplRedirect"===a.repl.__typename?c=(0,b.BX)("div",{children:["This repl has moved to"," ",(0,b.tZ)("a",{href:a.repl.replUrl,children:a.repl.replUrl})]}):a&&"SubscriptionExpiredError"===a.repl.__typename&&(c=(0,b.tZ)("div",{children:"Subscription expired"}));return(0,b.BX)("div",{className:"jsx-2281586937",children:[c,(0,b.tZ)(d(),{id:"2281586937",children:["div.jsx-2281586937{padding:var(--space-16);color:var(--foreground-default);}"]})]})}var k=n(13634),E=n(2736),O=n(91462),C=n(64482),S=n(16082);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){return(0,b.tZ)(S.Z,P(P({},e),{},{children:(0,b.tZ)("path",{d:"M14.7 6.29998C14.5168 6.48691 14.4141 6.73823 14.4141 6.99998C14.4141 7.26173 14.5168 7.51305 14.7 7.69998L16.3 9.29998C16.4869 9.48321 16.7382 9.58584 17 9.58584C17.2617 9.58584 17.513 9.48321 17.7 9.29998L21.47 5.52998C21.9728 6.64117 22.1251 7.87921 21.9064 9.07913C21.6878 10.279 21.1087 11.3838 20.2463 12.2463C19.3838 13.1087 18.279 13.6878 17.0791 13.9064C15.8792 14.1251 14.6412 13.9728 13.53 13.47L6.61998 20.38C6.22215 20.7778 5.68259 21.0013 5.11998 21.0013C4.55737 21.0013 4.0178 20.7778 3.61998 20.38C3.22215 19.9822 2.99866 19.4426 2.99866 18.88C2.99866 18.3174 3.22215 17.7778 3.61998 17.38L10.53 10.47C10.0271 9.35879 9.87489 8.12075 10.0935 6.92083C10.3121 5.72092 10.8913 4.61614 11.7537 3.7537C12.6161 2.89127 13.7209 2.31215 14.9208 2.09352C16.1207 1.8749 17.3588 2.02714 18.47 2.52998L14.71 6.28998L14.7 6.29998Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}var T,I=n(98883),R=n(86343),A=n(70917);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var L={name:"1ghk6ov",styles:"color:var(--foreground-dimmest);:hover{color:var(--foreground-default);}"},N=function(e){return(0,b.tZ)(k.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:e.className,css:L},e))},U=(0,A.F4)(T||(T=(0,o.Z)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(359deg);\n  }\n"]))),F={name:"opde7s",styles:"color:inherit"};function B(e){var t=a.useState(!1),n=(0,r.Z)(t,2),o=n[0],i=n[1];return(0,b.BX)(E.Z,{css:[O.l0.rowWithGap(8),O.l0.p(8),O.l0.align.center,"",""],children:[(0,b.tZ)(N,{alt:e.refreshing?"Refreshing...":"Refresh",onClick:e.onRefresh,css:e.refreshing&&{animation:"".concat(U," infinite 0.5s")},children:(0,b.tZ)(s.Z,{})}),(0,b.tZ)(R.ZP,{css:[O.l0.px(4),O.l0.py(2),O.l0.flex.growAndShrink(1),O.l0.fontSize(12),"",""],value:e.url,type:"text",onFocus:function(t){e.trackUrlSelect(),t.currentTarget.select()},readOnly:!0}),(0,b.BX)(E.Z,{css:[O.l0.rowWithGap(4),"",""],children:[e.canEditDomain&&(0,b.BX)(I.Z,{maxWidth:520,isOpen:o,onClickOutside:function(){return i(!1)},growToMaxWidth:!0,children:[(0,b.tZ)(N,{alt:"Custom domain",onClick:function(){return i(!o)},children:(0,b.tZ)(c.Z,{})}),(0,b.tZ)(Z,{onCancel:function(){return i(!1)},onLink:function(){return i(!1)},onUnlink:function(){return i(!1)},replId:e.replId})]}),e.onToggleDevtools&&(0,b.tZ)(N,{alt:"Toggle developer tools",onClick:e.onToggleDevtools,children:(0,b.tZ)(D,{})}),(0,b.tZ)("a",{href:e.url,css:F,target:"_blank",children:(0,b.tZ)(N,{alt:"Open in a new tab",children:(0,b.tZ)(u.Z,{})})}),e.isKaboomDraw&&e.iframe&&(0,b.tZ)(C.r,{iframe:e.iframe}),e.canBeClosed&&(0,b.tZ)(N,{alt:"Close web view",onClick:e.closeCallback,children:(0,b.tZ)(l.Z,{})})]})]})}},15004:function(e,t,n){var r=n(67294),o=n(50988),i=n(5884),a=n(57638),c=n(2736),s=n(91462),u=n(46486),l=n(55623),f=n(64482),d=n(35944),p=function(e,t){var n,p=e.fs,h=e.canBeClosed,v=e.trackUrlSelect,m=e.onClose,g=(0,i.Z)(),b=(0,o.I5$)({variables:{id:g}}).data,y="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)?b.repl:null,w=(0,r.useContext)(a.F),x=(0,r.useRef)(null),Z=(0,r.useState)(!1),k=Z[0],E=Z[1],O=(0,u.f6)();(0,f.Y)(p,x);var C=function(){E(!0),p.flush().then((function(){x.current&&(x.current.src+="")})).finally((function(){E(!1)}))};return(0,r.useImperativeHandle)(t,(function(){return{refresh:C}})),y?(0,d.BX)(c.Z,{css:[s.l0.backgroundColor.backgroundDefault,s.l0.height("100%"),s.l0.borderRadius(4),"overflow:hidden;",""],children:[(0,d.tZ)(l.Z,{canEditDomain:y.currentUserPermissions.linkDomain,anon:y.devUrl.includes("--five-nine.repl.co"),url:y.config.domain?"https://".concat(y.config.domain):y.prodUrl,trackUrlSelect:function(){v&&v(y.devUrl)},replId:g,refreshing:k,onRefresh:C,canBeClosed:h,isKaboomDraw:O,iframe:x,closeCallback:function(){m&&m()},onToggleDevtools:null!==b&&void 0!==b&&null!==(n=b.currentUser)&&void 0!==n&&n.hasFlagDevtoolsWebview?function(){var e;null!==(e=x.current)&&void 0!==e&&e.contentWindow&&x.current.contentWindow.postMessage("toggleDevtools","*")}:void 0}),w?(0,d.tZ)(a.Y,{}):(0,d.tZ)("iframe",{"data-cy":"ws-webview",sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals allow-downloads",ref:x,src:y.devUrl,css:[s.l0.flex.growAndShrink(1),{border:"none",display:"block",backgroundColor:s.TV.white},"",""]})]}):null};t.Z=(0,r.forwardRef)(p)},45213:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(50029),o=n(87794),i=n.n(o),a=(n(54098),n(25108));function c(){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("gurl")){e.next=3;break}return a.log("Getting gurl from localstorage"),e.abrupt("return",localStorage.getItem("gurl"));case 3:e.next=5;break;case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},55110:function(e,t,n){n.d(t,{eC:function(){return i},UP:function(){return a}});var r=n(94690),o={js:"javascript",jsx:"javascript",ts:"javascript",tsx:"javascript",py:"python",java:"java"};function i(e,t){if(!e)return!1;var n=(0,r.r6)(e);return!(!t&&"java"===n)&&Boolean(o[n])}function a(e){var t=(0,r.r6)(e);return o[t]?o[t]:"unknown"}},15052:function(e,t,n){n.d(t,{t:function(){return Z},Z:function(){return C}});var r=n(59499),o=n(50029),i=n(87794),a=n.n(i),c=n(71171),s=n.n(c),u=n(40802),l=n(52763),f=n(86374),d=n(11163),p=n(14907),h=n(17078),v=n(50988),m=n(19484),g=n(34155),b=n(25108);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=Boolean(g.env.CAPTCHA_EMBEDS);function Z(e){if(e){var t=function(e){var t=new URL(e),n={secure:!1,port:""+t.port,host:t.hostname};return"wss:"===t.protocol?n.secure=!0:"ws:"!==t.protocol&&b.log(e,"Expected gurl protocol to be ws or wss, we'll give it a shot anyway"),n.port||(n.port=n.secure?"443":"80"),n}(e),n=t.secure,r=t.host,o=t.port;if("eval.repl.it"!==r&&"gp-v2.herokuapp.com"!==r&&"gp-v2.replit.com"!==r&&"eval.replit.com"!==r)return(0,f.track)(f.events.LORE_USED_OVERRIDE_CLUSTER_METADATA,{gurl:e}),{id:"development",gurl:"ws".concat(n?"s":"","://").concat(r,":").concat(o),conmanURL:"http".concat(n?"s":"","://").concat(r,":").concat(o)}}}function k(e){var t=Math.floor(500*Math.random()),n=1e3*Math.pow(1.7,e);return Math.min(n,15e3)+t}function E(){var e=window.performance.getEntriesByName("create-workspace");if(0===e.length)return u.Tb(new Error("Expected create-workspace mark")),!1;if(e.length>1)return u.Tb(new Error("Expected a single create-workspace mark")),!1;var t=e[0];return window.performance.now()-t.startTime}var O=0;function C(e){return S.apply(this,arguments)}function S(){return S=(0,o.Z)(a().mark((function e(t){var n,r,i,c,u,g,b,y,Z,C,S,j,P,D,T,I,R,A,_,L,N,U,F,B,M,H;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=t.repl,i=t.shouldAbort,c=t.onRetry,u=t.overrideClusterMetadata,g=t.prefetchedConnectionMetadata,b=t.isLoggedIn,p.l){e.next=3;break}throw new Error("Expected apollo client");case 3:O++,y={connectionMetadata:g,timeout:1e4,pollingHost:void 0},d.default.query.fallback&&(y.pollingHost="gp-v2.replit.com"),Z=0,C=0,S=!1,j=r.id,P=r.language,D=r.slug,T=s()(),I=function(){var e=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),k(C))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();case 12:if(!1!==n.isConnected()){e.next=92;break}if(!i()){e.next=15;break}return e.abrupt("return");case 15:return R=Boolean(d.default.query.lite||d.default.query.embed),A=window.performance.now(),_=s()(),L={host:window.location.host,retries:C,replId:j,language:P,slug:D,attemptUuid:_,govalConnectUuid:T,connectCount:O},N="",e.prev=20,e.next=23,p.l.query({query:v.Nfd});case 23:if(U=e.sent,F=U.data,B=Boolean(F.shouldBypassCaptcha),b||R&&!x||B){e.next=32;break}return e.next=30,(0,l.Z)();case 30:N=e.sent,m.kg.info(f.events.GOVAL_CONNECTION_STEP,w(w({},L),{},{time:window.performance.now()-A,timeSinceCreateWorkspace:E(),step:"captcha",failed:!1}));case 32:e.next=44;break;case 34:if(e.prev=34,e.t0=e.catch(20),m.kg.info(f.events.GOVAL_CONNECTION_STEP,w(w({},L),{},{time:window.performance.now()-A,timeSinceCreateWorkspace:E(),step:"captcha",failed:!0})),!i()){e.next=39;break}return e.abrupt("return");case 39:return C++,c(C),e.next=43,I();case 43:return e.abrupt("continue",12);case 44:if(!i()){e.next=46;break}return e.abrupt("return");case 46:if(M=window.performance.now(),g&&!S){e.next=67;break}return e.prev=48,e.next=51,(0,h.Z)({url:"/data/repls/".concat(r.id,"/get_connection_metadata"),captcha:N,isEmbed:R,hCaptchaSiteKey:l.w,clientVersion:"568e96f",overrideClusterMetadata:u,retry:C});case 51:y.connectionMetadata=e.sent,m.kg.info(f.events.GOVAL_CONNECTION_STEP,w(w({},L),{},{time:window.performance.now()-M,timeSinceCreateWorkspace:E(),step:"fetchConnectionMetadata",failed:!1})),e.next=65;break;case 55:if(e.prev=55,e.t1=e.catch(48),m.kg.info(f.events.GOVAL_CONNECTION_STEP,w(w({},L),{},{time:window.performance.now()-M,timeSinceCreateWorkspace:E(),step:"fetchConnectionMetadata",failed:!0})),!i()){e.next=60;break}return e.abrupt("return");case 60:return C++,c(C),e.next=64,I();case 64:return e.abrupt("continue",12);case 65:if(!i()){e.next=67;break}return e.abrupt("return");case 67:return S=!0,H=window.performance.now(),e.prev=69,e.next=72,n.connect(y);case 72:window.v1ws=n.ws,e.next=89;break;case 75:if(e.prev=75,e.t2=e.catch(69),!e.t2.message.includes("Client.close")){e.next=79;break}return e.abrupt("return");case 79:if(!i()){e.next=81;break}return e.abrupt("return");case 81:return 2!==Z||y.pollingHost||(y.pollingHost="gp-v2.replit.com",m.kg.info(f.events.GOVAL2_FELLBACK,{error:e.t2.message||"",retries:C,host:window.location.hostname})),m.kg.info(f.events.GOVAL_CONNECTION_STEP,w(w({},L),{},{time:window.performance.now()-H,timeSinceCreateWorkspace:E(),step:"connect",failed:!0})),Z++,C++,c(C),e.next=88,I();case 88:return e.abrupt("continue",12);case 89:m.kg.info(f.events.GOVAL_CONNECTION_STEP,w(w({},L),{},{time:window.performance.now()-H,timeSinceCreateWorkspace:E(),step:"connect",failed:!1})),e.next=12;break;case 92:case"end":return e.stop()}}),e,null,[[20,34],[48,55],[69,75]])}))),S.apply(this,arguments)}},439:function(e,t,n){n.d(t,{Z:function(){return nt}});var r=n(17674),o=n(59499),i=n(65988),a=n.n(i),c=n(67294),s=n(40802),u=n(94972),l=n(41664),f=n(70917),d=n(29060),p=n(99996),h=n(35335),v=n(58526),m=n(35944);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.repl,n=(0,v.Z)("flag-profile-2"),r=t.user?(0,m.tZ)(l.default,b(b({},(0,u.Ru)(t.user,n)),{},{children:(0,m.tZ)("a",{style:{color:"var(--accent-primary-default)",fontWeight:500,textDecoration:"none"},className:"username",children:t.user.username})})):(0,m.tZ)("span",{className:"username",children:"@anonymous"});return(0,m.BX)("div",{className:"jsx-3518488481 workspace-header-info",children:[(0,m.BX)("div",{className:"jsx-3518488481 workspace-header-title",children:[(0,m.tZ)("span",{className:"jsx-3518488481 breadcrumb interactive",children:(0,m.tZ)("span",{onClick:function(e){return e.stopPropagation()},className:"jsx-3518488481 breadcrumb-content",children:r})}),(0,m.tZ)("span",{className:"jsx-3518488481 slash",children:"/"}),(0,m.tZ)("span",{className:"jsx-3518488481 breadcrumb repl-title",children:(0,m.tZ)("span",{className:"jsx-3518488481 breadcrumb-content",children:t.title})})]}),(0,m.tZ)("div",{className:"jsx-3518488481 spacer"}),(0,m.tZ)("div",{title:t.templateInfo.label,className:"jsx-3518488481 language-icon-container",children:(0,m.tZ)(h.Z,{iconUrl:t.templateInfo.iconUrl,size:16,alt:t.templateInfo.label})}),(0,m.tZ)(a(),{id:"3518488481",children:[".workspace-header-info.jsx-3518488481,.workspace-header-title.jsx-3518488481{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;overflow:hidden;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;font-size:var(--font-size-default);}",".workspace-header-info.jsx-3518488481{width:100%;}",".workspace-header-user-link.jsx-3518488481{color:var(--accent-primary-default);-webkit-text-decoration:none;text-decoration:none;}",".language-icon-container.jsx-3518488481{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:var(--space-4);background-color:var(--background-higher);border-radius:var(--border-radius-8);position:relative;}",".breadcrumb.jsx-3518488481{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:var(--border-radius-4);padding:2px var(--space-4);width:auto;}",".breadcrumb.interactive.jsx-3518488481:hover{background-color:var(--background-higher);}",".breadcrumb-content.jsx-3518488481{display:inline-block;overflow:hidden;text-overflow:ellipsis;max-width:152px;}",".spacer.jsx-3518488481{width:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;}",".username.jsx-3518488481,.repl-title.jsx-3518488481{white-space:nowrap;color:var(--foreground-default);}",".slash.jsx-3518488481{color:var(--foreground-dimmest);padding:0 2px;}",".repl-title.jsx-3518488481{overflow:hidden;}"]})]})},w=n(86374),x=n(80618),Z=n(11163),k=n(1042),E=n(50988),O=n(42177),C=n(2736),S=function(e){var t=e.maxLength,n=void 0===t?140:t,r=e.value,o=void 0===r?"":r,i=e.hideLabel,c=void 0!==i&&i;return(0,m.BX)("div",{className:"jsx-112147882",children:[o.length," / ",n," ",c?"":"characters",(0,m.tZ)(a(),{id:"112147882",children:["div.jsx-112147882{color:var(--foreground-dimmer);font-size:0.75em;text-align:right;margin-top:var(--space-8);}"]})]})},j=n(3316),P=n(41850),D=n(5318),T=n(77114),I=n(94184),R=n.n(I),A=n(35388),_=n(18952),L=n(62872),N=n(33048);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t,n=e.isBoosted||e.needsUpgrade,r=(0,E.E63)({skip:n,fetchPolicy:"cache-and-network"}),o=r.data,i=r.loading,c=(null===o||void 0===o||null===(t=o.currentUser)||void 0===t?void 0:t.canBoost)||!1,s=e.alwaysOn?1:3,u=e.isBoosted?1:3,l=e.isBoosted?"Your repl is currently boosted":"Your repl will be 2x faster",f=c?{}:{"aria-label":"Boost limit reached","data-microtip-position":"top",role:"tooltip"};return(0,m.BX)(m.HY,{children:[(0,m.BX)("div",{className:a().dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" always-on",children:[(0,m.BX)(P.gC,{children:[(0,m.BX)(P.Ug,{spacing:"4px",align:"center",children:[(0,m.tZ)(_.Z,{foreground:s,align:"center",children:(0,m.tZ)(N.Z,{})}),(0,m.tZ)(_.Z,{foreground:s,size:"small",fontWeight:"medium",children:"Always On"})]}),(0,m.tZ)(_.Z,{size:"xsmall",foreground:s,children:"Your repl will never fall asleep"})]}),(0,m.tZ)("div",{className:a().dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" toggle-box",children:(0,m.tZ)(A.Z,{isOn:e.alwaysOn,onChange:function(){e.onChange(!e.alwaysOn)}})})]}),(0,m.BX)("div",{className:a().dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" "+(R()("boost",{"is-boosted":e.isBoosted})||""),children:[(0,m.BX)(P.gC,{children:[(0,m.BX)(P.Ug,{spacing:"4px",align:"center",justify:"center",children:[(0,m.tZ)(_.Z,{className:"rocket-text",foreground:u,align:"center",children:(0,m.tZ)(L.Z,{})}),(0,m.tZ)(_.Z,{className:"boost-text",foreground:u,size:"small",fontWeight:e.isBoosted?"medium":"regular",children:"Boost"})]}),(0,m.tZ)(_.Z,{size:"xsmall",foreground:u,children:l})]}),(0,m.tZ)("div",{className:a().dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" toggle-box",children:e.isBoosted?(0,m.tZ)(D.Z,{onClick:function(){e.onUnboostClick()},filled:!1,border:!1,children:(0,m.tZ)(T.Z,{color:"var(--foreground-default)"})}):(0,m.tZ)("div",F(F({},f),{},{className:a().dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" "+(f&&null!=f.className&&f.className||""),children:(0,m.BX)(D.Z,{textColor:"var(--accent-positive-default)",disabled:!c,loading:i,onClick:function(){e.onBoostChange(!0)},children:[(0,m.tZ)("span",{className:a().dynamic([["2311824613",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" rocket-container",children:(0,m.tZ)(L.Z,{fontSize:"16px"})}),"Add Boost"]})}))})]}),(0,m.tZ)(a(),{id:"2311824613",dynamic:[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"],children:[".always-on.__jsx-style-dynamic-selector,.boost.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--space-8);-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".always-on.__jsx-style-dynamic-selector{margin-bottom:var(--space-8);}",".boost.__jsx-style-dynamic-selector .rocket-text{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:".concat(e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",";width:16px;}"),".boost.__jsx-style-dynamic-selector .boost-text{color:".concat(e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",";}"),".is-boosted.__jsx-style-dynamic-selector{background-color:var(--accent-positive-dimmest);border-radius:var(--border-radius-4);}",".rocket-container.__jsx-style-dynamic-selector{margin-right:var(--space-4);}",".boost-menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:var(--accent-negative-default);}",".boost-icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--space-4);}",".boost-menu-text.__jsx-style-dynamic-selector{padding:0 var(--space-4);}",".toggle-box.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;pointer-events:".concat(e.needsUpgrade?"none":"auto",";opacity:").concat(e.needsUpgrade?.5:1,";cursor:").concat(e.needsUpgrade?"not-allowed":"pointer",";}")]})]})}var M=n(59259),H=n(29072),X=n(60887),G=n(76931),V=n(17130),z=n(89788),W=n(91462),J=n(48706),q=n(50029),Y=n(87794),K=n.n(Y),$=n(67966),Q=n(14907),ee=n(45213),te=n(15052),ne=n(92343);function re(e){return oe.apply(this,arguments)}function oe(){return(oe=(0,q.Z)(K().mark((function e(t){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return ae.apply(this,arguments)}function ae(){return ae=(0,q.Z)(K().mark((function e(t){var n,r=arguments;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,e.prev=1,e.next=4,ce(t);case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),!(n>5)){e.next=10;break}throw e.t0;case 10:setTimeout((function(){ie(t,n+1)}),1e3*(Math.pow(2,n)-1));case 11:case"end":return e.stop()}}),e,null,[[1,6]])}))),ae.apply(this,arguments)}function ce(e){return se.apply(this,arguments)}function se(){return(se=(0,q.Z)(K().mark((function e(t){var n,r,o,i,a,c,s;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,$.Z)({onUnrecoverableError:function(e){throw new Error("Failed to create temporary goval connection. Received error ".concat(e.message))}}),Q.l){e.next=4;break}throw n.destroy(),new Error("Expected Apollo Client");case 4:return e.next=6,Q.l.query({query:E.PkY,variables:{id:t}});case 6:if(r=e.sent,"Repl"===(o=r.data).repl.__typename){e.next=11;break}throw n.destroy(),new Error("Failed to query repl info when creating temporary connection");case 11:return i=o.currentUser,a=o.repl,e.next=14,(0,ee.Z)();case 14:return c=e.sent,s=(0,te.t)(c),e.abrupt("return",new Promise((function(e){n.onConnectionStateChanged((function(t){t===$.e.CONNECTED&&(n.destroy(),e())})),n.connect({context:(0,ne.U)({repl:a,currentUser:i}),overrideClusterMetadata:s})})));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=n(10376),le=n(61952),fe=n(30945),de=n(19335);var pe=n(36732),he=n(75107),ve=n(56276),me=n(5699),ge=n(54838),be=n(80291),ye=n(5946);function we(e){var t=c.useRef(null),n=c.useState(e.value),o=(0,r.Z)(n,2),i=o[0],s=o[1],u=c.useState(null),l=(0,r.Z)(u,2),f=l[0],d=l[1],p=(0,ge.Z)({onUpload:function(t){var n=t.url;e.onChange(n)},onUploadPreview:function(e){var t=e.dataUrl;s(t)},onError:function(e){d(e.message)}});c.useEffect((function(){s(e.value)}),[e.value]);var v=null===i||void 0===i?void 0:i.startsWith("data:");return(0,m.BX)(P.gC,{spacing:"var(--space-4)",children:[(0,m.BX)("div",{onClick:function(){var e;null===(e=t.current)||void 0===e||e.click()},"aria-label":i?"Change icon":"Upload an icon","data-microtip-position":"right",role:"tooltip",className:"jsx-813239815 "+((i?"update-icon":"add-icon")||""),children:[i?(0,m.BX)(m.HY,{children:[(0,m.tZ)(h.Z,{iconUrl:i,size:32,alt:"icon"}),v?(0,m.tZ)("div",{className:"jsx-813239815 loading-state",children:(0,m.tZ)("div",{className:"jsx-813239815 loading-icon",children:(0,m.tZ)(me.Z,{})})}):(0,m.tZ)("div",{className:"jsx-813239815 hover-state",children:(0,m.tZ)(ve.Z,{})})]}):(0,m.tZ)(be.Z,{}),(0,m.tZ)("input",{ref:t,accept:ye.W.join(","),type:"file",onChange:function(e){var t=e.target,n=t.validity,r=t.files;n.valid&&null!==r&&void 0!==r&&r.length&&(d(null),p.uploadImage(r[0]))},className:"jsx-813239815"})]}),f?(0,m.tZ)("div",{className:"jsx-813239815 error",children:f}):null,(0,m.tZ)(a(),{id:"813239815",children:[".add-icon.jsx-813239815{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border:1px dashed var(--foreground-dimmest);background-color:var(--background-root);width:".concat(32,"px;height:").concat(32,"px;}"),".add-icon.jsx-813239815:hover{color:var(--accent-primary-default);border-color:var(--accent-primary-default);}",".add-icon.jsx-813239815,.update-icon.jsx-813239815{position:relative;cursor:pointer;background-color:var(--background-higher);border-radius:var(--border-radius-4);padding:2px;}",".update-icon.jsx-813239815:hover .hover-state.jsx-813239815{opacity:0.8;}",".hover-state.jsx-813239815{opacity:0;}",".loading-state.jsx-813239815{opacity:0.8;}",".loading-icon.jsx-813239815{-webkit-animation:rotate-jsx-813239815 1s linear infinite;animation:rotate-jsx-813239815 1s linear infinite;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","@-webkit-keyframes rotate-jsx-813239815{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes rotate-jsx-813239815{from{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}to{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}",".hover-state.jsx-813239815,.loading-state.jsx-813239815{color:var(--accent-primary-default);position:absolute;top:0;left:0;width:100%;height:100%;border-radius:var(--border-radius-4);background-color:var(--background-root);overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","input.jsx-813239815{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;}",".error.jsx-813239815{font-size:var(--font-size-default);color:var(--accent-negative-default);}"]})]})}var xe=n(19463),Ze=n(3658),ke=1e3;function Ee(e){var t=e.checked;return(0,m.BX)("div",{className:"jsx-4126375210 "+(R()({checked:t})||""),children:[(0,m.tZ)(xe.Z,{}),(0,m.tZ)(a(),{id:"4126375210",children:["div.jsx-4126375210{color:var(--foreground-default);border-radius:50%;background-color:var(--background-highest);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:18px;height:18px;}",".checked.jsx-4126375210{background-color:var(--accent-positive-default);color:var(--white);}"]})]})}function Oe(e){var t=e.completed,n=e.children;return(0,m.BX)(P.Ug,{align:"center",spacing:"4px",children:[(0,m.tZ)(Ee,{checked:t}),(0,m.tZ)(_.Z,{fontWeight:"medium",children:n})]})}var Ce,Se=["textarea.jsx-1856304805{color:var(--foreground-default);font-size:var(--font-size-default);font-family:var(--font-family-default);background-color:var(--background-root);font-family:var(--font-family-default);background-color:var(--background-root);padding:12px;display:block;min-height:60px;max-height:240px;overflow-y:scroll;width:100%;border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);line-height:1.2em;resize:none;-webkit-transition:0.1s box-shadow,0.2s background-color,0.2s border-color;transition:0.1s box-shadow,0.2s background-color,0.2s border-color;}",".jsx-1856304805::-webkit-input-placeholder{color:var(--foreground-dimmer);}",".jsx-1856304805::-moz-placeholder{color:var(--foreground-dimmer);}",".jsx-1856304805:-ms-input-placeholder{color:var(--foreground-dimmer);}",".jsx-1856304805::placeholder{color:var(--foreground-dimmer);}","textarea.jsx-1856304805:hover{border-color:var(--accent-primary-dimmer);}","textarea.jsx-1856304805:focus,textarea.jsx-1856304805:active{outline:none;border-color:var(--accent-primary-dimmer);}","textarea.jsx-1856304805:focus{background-color:var(--background-default);color:var(--foreground-default);border-radius:var(--border-radius-4);box-shadow:var(--shadow-1);}"];function je(e){var t=e.value,n=e.onChange,r=e.placeholder,o=(0,Ze.Z)().ref;return(0,m.BX)(P.gC,{spacing:1,align:"stretch",children:[(0,m.tZ)(Oe,{completed:Boolean(t),children:"Description"}),(0,m.BX)(P.gC,{spacing:1,align:"stretch",children:[(0,m.tZ)("textarea",{placeholder:r,maxLength:ke,ref:o,value:t,onChange:function(e){var t=e.currentTarget.value;t.length>ke||n(t)},className:"jsx-".concat(Se.__hash)}),(0,m.BX)(_.Z,{size:"small",align:"right",foreground:2,children:[t.length,"/",ke]})]}),(0,m.tZ)(a(),{id:Se.__hash,children:Se})]})}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e){var t=e.replId,n=e.onDone,r=(0,E.yJ4)({variables:{replId:t}}).data,o="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl:null;return o?(0,m.BX)(P.gC,{spacing:3,align:"stretch",children:[(0,m.BX)(P.gC,{spacing:1,align:"stretch",children:[(0,m.BX)("div",{className:"jsx-2372071523 confirmation-heading",children:[o.title," is published!"]}),(0,m.tZ)("div",{className:"jsx-2372071523",children:(0,m.BX)(_.Z,{foreground:2,children:["Now the community can comment, react, and find your repl on"," ",(0,m.tZ)(l.default,{as:"/templates",href:"/templates",children:(0,m.tZ)("a",{className:"jsx-2372071523",children:(0,m.tZ)("b",{className:"jsx-2372071523",children:"Templates"})})})]})})]}),(0,m.BX)(P.Ug,{justify:"end",spacing:1,children:[(0,m.tZ)(D.Z,{onClick:n,children:"Done"}),(0,m.tZ)(l.default,De(De({},(0,J.j3)(o)),{},{children:(0,m.tZ)("a",{style:{textDecoration:"none"},className:"jsx-2372071523",children:(0,m.tZ)(D.Z,{Icon:V.Z,color:"primary",onClick:n,children:"Spotlight page"})})}))]}),(0,m.tZ)(a(),{id:"2372071523",children:[".confirmation-heading.jsx-2372071523{font-size:var(--font-size-header-default);font-weight:var(--font-weight-bold);color:var(--accent-positive-default);}"]})]}):null}function Ie(e){var t=e.repl,n=e.onDone,o=c.useState(null),i=(0,r.Z)(o,2),a=i[0],u=i[1],l=c.useState(t.description||""),f=(0,r.Z)(l,2),d=f[0],p=f[1],h=c.useState(t.iconUrl||null),v=(0,r.Z)(h,2),g=v[0],b=v[1];c.useEffect((function(){p(t.description||""),b(t.iconUrl||null)}),[null===t||void 0===t?void 0:t.description,null===t||void 0===t?void 0:t.iconUrl]);var y=(0,E.n7M)({onCompleted:function(e){"Repl"!==e.createReplDeployment.__typename?"UserError"===e.createReplDeployment.__typename&&u(e.createReplDeployment.message):n({didPublish:!0})},onError:function(e){s.Tb(e),u((0,k.Z)(e.message))}}),w=(0,r.Z)(y,2),x=w[0],Z=w[1].loading,O=d&&g?{replId:t.id,description:d,iconUrl:g}:null,C=Z||!O;return(0,m.tZ)("form",{onSubmit:function(e){e.preventDefault(),O&&x({variables:{input:O}})},children:(0,m.BX)(P.gC,{spacing:4,align:"stretch",children:[(0,m.BX)(P.gC,{spacing:2,align:"stretch",children:[(0,m.tZ)(Oe,{completed:Boolean(g),children:"Icon"}),(0,m.tZ)(we,{value:g,onChange:b})]}),(0,m.tZ)(je,{placeholder:"Explain a little bit about what this repl is.",value:d,onChange:p}),a?(0,m.tZ)(Ae,{message:a}):null,(0,m.BX)(P.Ug,{align:"center",spacing:1,justify:"end",children:[(0,m.tZ)(D.Z,{filled:!1,border:!1,onClick:function(){return n({didPublish:!1})},children:"Cancel"}),(0,m.tZ)(D.Z,{color:"primary",disabled:C,type:"submit",children:Z?"Publishing...":"Publish"})]})]})})}function Re(e){var t=e.replId,n=e.onDone,o=c.useState(null),i=(0,r.Z)(o,2),a=i[0],s=i[1],u=function(e){var t,n,r=e.replId,o=(0,E.fNr)({variables:{replId:r},fetchPolicy:"cache-and-network"}),i=o.data,a=o.loading,c=o.error;if(a)return{loading:a,pendingChanges:null,error:null};if(c)return{loading:!1,pendingChanges:null,error:c};var s="Repl"===(null===i||void 0===i?void 0:i.repl.__typename)?i.repl:null;return s?{loading:!1,pendingChanges:(null===(t=s.deployment)||void 0===t||null===(n=t.activeRelease)||void 0===n?void 0:n.pendingChanges)||[],error:c}:{loading:!1,pendingChanges:null,error:new Error("Repl not found")}}({replId:t}),l=u.pendingChanges,f=c.useState(""),d=(0,r.Z)(f,2),p=d[0],h=d[1],v=(0,E.ZPL)({variables:{input:{replId:t,description:p}},onCompleted:function(e){"Repl"!==e.createReplRelease.__typename?"UserError"===e.createReplRelease.__typename&&s(e.createReplRelease.message):n({didPublish:!0})}}),g=(0,r.Z)(v,2),b=g[0],y=g[1];if(!l)return(0,m.tZ)(C.Z,{css:[W.l0.center,W.l0.py(16),"",""],children:(0,m.tZ)(me.Z,{})});if(!l.length)return(0,m.tZ)(C.Z,{css:[W.l0.center,W.l0.py(16),"",""],children:(0,m.tZ)(_.Z,{foreground:2,align:"center",children:"No changes to publish"})});var w=Boolean(p);return(0,m.BX)(C.Z,{css:[W.l0.colWithGap(16),"",""],children:[(0,m.tZ)(pe.Z,{level:3,children:"Update Template"}),(0,m.tZ)(C.Z,{css:W.l0.colWithGap(4),children:l.map((function(e){return(0,m.BX)(C.Z,{css:[W.l0.rowWithGap(4),W.l0.align.center,""],children:[(0,m.tZ)(he.Z,{}),(0,m.tZ)(_.Z,{truncate:!0,children:e.fileName}),(0,m.BX)(_.Z,{foreground:3,children:["(",Le[e.changeType],")"]})]},e.fileName)}))}),(0,m.tZ)("form",{onSubmit:function(e){e.preventDefault(),w&&!y.loading&&(s(null),b())},children:(0,m.BX)(C.Z,{css:W.l0.colWithGap(8),children:[(0,m.tZ)(je,{placeholder:"Explain a little about this update.",value:p,onChange:h}),a?(0,m.tZ)(Ae,{message:a}):null,(0,m.BX)(C.Z,{css:[W.l0.rowWithGap(4),W.l0.align.center,W.l0.justify.end,"",""],children:[(0,m.tZ)(D.Z,{filled:!1,border:!1,onClick:function(){return n({didPublish:!1})},children:"Cancel"}),(0,m.tZ)(D.Z,{color:"primary",disabled:!w,type:"submit",children:y.loading?"Updating...":"Publish update"})]})]})})]})}function Ae(e){var t=e.message;return(0,m.tZ)(_.Z,{style:{color:"red"},children:t})}Se.__hash="1856304805";var _e,Le=(Ce={},(0,o.Z)(Ce,E.J53.NewFile,"new"),(0,o.Z)(Ce,E.J53.ModfiedFile,"changed"),(0,o.Z)(Ce,E.J53.DeletedFile,"deleted"),Ce),Ne=n(73185);function Ue(e){var t=e.replId,n=e.onDone,o=e.source,i=(0,E.ouc)({variables:{replId:t}}).data,a=c.useState(_e.Community),s=(0,r.Z)(a,2),u=s[0],l=s[1],f="Repl"===(null===i||void 0===i?void 0:i.repl.__typename)?i.repl:null,d=null===i||void 0===i?void 0:i.currentUser;if(!f||!d)return(0,m.tZ)(C.Z,{css:[W.l0.center,W.l0.p(32),"",""],children:(0,m.tZ)(me.Z,{})});var p=[_e.Community,_e.Template];return f?(0,m.BX)(C.Z,{css:W.l0.colWithGap(16),children:[d.isTemplateDeveloper?(0,m.tZ)(C.Z,{css:[W.l0.px(16),W.l0.pt(16),"",""],children:(0,m.tZ)(ue.Z,{options:p,onChange:function(e){return l(p[e])},selectedOption:p.indexOf(u)})}):null,u===_e.Community?(0,m.tZ)(Ne.Z,{replId:t}):null,u!==_e.Template||f.publishedAs?null:(0,m.tZ)(C.Z,{css:[W.l0.p(16),"",""],children:(0,m.tZ)(Ie,{source:o,repl:f,onDone:function(e){var t=e.didPublish;n({didPublish:t,kind:_e.Template})}})}),u===_e.Template&&f.publishedAs===E.O2h.Template?(0,m.tZ)(C.Z,{css:[W.l0.p(16),"",""],children:(0,m.tZ)(Re,{replId:f.id,onDone:function(e){var t=e.didPublish;return n({kind:_e.Template,didPublish:t})}})}):null]}):null}!function(e){e.Community="Community",e.Template="Template",e.App="App"}(_e||(_e={}));var Fe=n(26936);function Be(e){var t=e.onUnboost,n=e.hideModal;return(0,m.BX)("div",{className:"jsx-4045367983 wrap",children:[(0,m.tZ)("div",{className:"jsx-4045367983 title",children:"Unboost Repl"}),(0,m.tZ)("div",{className:"jsx-4045367983 text",children:"Are you sure you want to unboost your repl? This will downgrade your repl to a less powerful machine."}),(0,m.BX)(P.Ug,{spacing:1,justify:"end",children:[(0,m.tZ)(D.Z,{onClick:n,autoFocus:!0,children:"Cancel"}),(0,m.tZ)(D.Z,{color:"negative",onClick:function(){t(),n()},children:"Confirm"})]}),(0,m.tZ)(a(),{id:"4045367983",children:[".wrap.jsx-4045367983{background-color:var(--background-default);border-radius:var(--border-radius-4);color:var(--foreground-default);}",".title.jsx-4045367983{color:var(--accent-negative-default);}",".wrap.jsx-4045367983{display:grid;grid-row-gap:25px;}",".title.jsx-4045367983{font-size:var(--font-size-subhead-big);}",".text.jsx-4045367983{margin-bottom:5px;}","@media screen and (min-width:600px){.wrap.jsx-4045367983{padding:75px 50px 75px;}}"]})]})}var Me,He=n(94910),Xe=n(30535),Ge=n(40090),Ve=n(70117),ze=n(68888),We=n(24525),Je=n(88256),qe=n(98883);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e){var t=e.user;return(0,m.BX)(m.HY,{children:[t?(0,m.tZ)(l.default,Ke(Ke({},(0,u.Ru)(t)),{},{children:(0,m.tZ)("a",{onClick:function(e){e.stopPropagation()},className:a().dynamic([["275873743",[p.j.tabletMax]]])+" icon",children:(0,m.tZ)(Ve.Z,{src:t.image,alt:t.username,size:32})})})):(0,m.tZ)("div",{className:a().dynamic([["275873743",[p.j.tabletMax]]])+" icon",children:(0,m.tZ)(d.Z,{size:"inherit"})}),(0,m.tZ)(a(),{id:"275873743",dynamic:[p.j.tabletMax],children:[".icon.__jsx-style-dynamic-selector{display:none;}","@media screen and (min-width:".concat(p.j.tabletMax,"px){.icon.__jsx-style-dynamic-selector{display:block;}}")]})]})}function Qe(e){var t=e.isPrivate,n=e.isSelected,r=t?fe.Z:le.Z,o=t?"Private":"Public",i=n?1:2;return(0,m.BX)(P.Ug,{align:"center",justify:"center",spacing:1,children:[(0,m.tZ)(P.Ug,{align:"center",justify:"center",children:(0,m.tZ)(r,{})}),(0,m.tZ)(_.Z,{truncate:!0,foreground:i,align:"center",size:"small",children:o})]})}!function(e){e.Fork="Fork",e.Delete="Delete",e.Unpublish="Unpublish",e.UnpublishTemplate="UnpublishTemplate",e.Spotlight="Spotlight"}(Me||(Me={}));var et,tt=(0,f.iv)([W.l0.rowWithGap(8),W.l0.p(4),W.l0.cursor.pointer,W.l0.color.foregroundDimmer,W.l0.borderRadius(4),W.l0.position.relative,W.l0.align.center,{border:"1px solid transparent","&:hover":{borderColor:W.TV.backgroundHighest}}],"","");function nt(e){var t=e.repl,n=e.refetch,o=e.onUpdateRepl,i=e.showInModal,a=c.useState(!1),s=(0,r.Z)(a,2),u=s[0],l=s[1],f=t.isAlwaysOn?(0,m.tZ)(C.Z,{"aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip",css:[W.l0.width(8),W.l0.height(8),W.l0.borderRadius("full"),W.l0.backgroundColor.accentPositiveDefault,{alignSelf:"start",boxShadow:"0 0 12px "+W.TV.accentPositiveDefault},"",""]}):null,d=(0,m.tZ)(rt,{setIsEditing:l,repl:t,refetch:n,onUpdateRepl:o});return i?(0,m.BX)(m.HY,{children:[(0,m.BX)(C.Z,{css:[tt,"",""],onClick:function(){l(!0)},children:[(0,m.tZ)($e,{user:t.user}),(0,m.tZ)(y,{repl:t}),f]}),(0,m.tZ)(M.Z,{isOpen:u,onRequestClose:function(){return l(!1)},children:d})]}):(0,m.BX)(qe.Z,{isOpen:u,maxWidth:460,onClickOutside:function(){},padding:0,placement:"bottom-start",growToMaxWidth:!0,children:[(0,m.BX)(C.Z,{css:[tt,u&&{pointerEvents:"none"},"",""],onClick:function(){l(!0)},children:[(0,m.tZ)($e,{user:t.user}),(0,m.tZ)(y,{repl:t}),f]}),d]})}function rt(e){var t,n=e.repl,o=e.onUpdateRepl,i=e.setIsEditing,u=(0,Z.useRouter)(),f=c.useState(!1),d=(0,r.Z)(f,2),h=d[0],v=d[1],g=c.useState(null),b=(0,r.Z)(g,2),y=b[0],C=b[1],I=c.useState(n.isBoosted),R=(0,r.Z)(I,2),A=R[0],L=R[1],N=c.useState(n.isRenamed?n.title:""),U=(0,r.Z)(N,2),F=U[0],q=U[1],Y=c.useState(n.description||""),K=(0,r.Z)(Y,2),$=K[0],Q=K[1],ee=c.useState(n.rawTemplateLabel),te=(0,r.Z)(ee,2),ne=te[0],oe=te[1],ie=c.useState(null),ae=(0,r.Z)(ie,2),ce=ae[0],se=ae[1],le=(0,j.Z)().showError;c.useEffect((function(){Q(n.description||"")}),[n.description]);var pe=(0,Fe.Z)(),he=c.useRef(n),ve=(0,E.ap1)({variables:{id:n.id},onCompleted:function(){return u.push("/home","/~")},update:(0,x.t)({id:n.id}),onError:function(e){return le((0,k.Z)(e.message))}}),me=(0,r.Z)(ve,1)[0],ge=(0,E.vib)({onError:function(e){return le((0,k.Z)(e.message))},onCompleted:function(e){var t=e.updateRepl.repl,r=he.current,a={};r.description!==t.description&&(a.description=t.description),r.title!==t.title&&(a.title=t.title),r.url!==t.url&&(a.url=t.url),r.isRenamed!==t.isRenamed&&(a.isRenamed=!!t.isRenamed),he.current=n,Object.keys(a).length>0&&(o(a),i(!1))}}),ye=(0,r.Z)(ge,1)[0],xe=(0,Ge.Z)(),Ze=(0,r.Z)(xe,2),Ee=Ze[0],Oe=Ze[1].loading,Ce=(0,E.prL)({onCompleted:function(e){pe.current&&("UserError"===e.setAlwaysOn.__typename?se(e.setAlwaysOn.message):se(null))},onError:function(e){return le((0,k.Z)(e.message))}}),Se=(0,r.Z)(Ce,2),je=Se[0],Pe=Se[1].loading,De=(0,E.BjH)({variables:{replId:n.id},onCompleted:function(e){var t=e.boostRepl;"UserError"!==t.__typename?(re(n.id).catch((function(e){s.Tb(e),pe.current&&se("Something went wrong when boosting your repl. Please refresh or try again.")})),pe.current&&(se(null),L(!0))):pe.current&&se(t.message)},onError:function(e){s.Tb(e),le((0,k.Z)(e.message))}}),Ie=(0,r.Z)(De,2),Re=Ie[0],Ae=Ie[1].loading,Le=n.currentUserPermissions.publish,Ne=(0,E.gFT)({variables:{input:{replId:n.id}},onError:function(e){s.Tb(e),le((0,k.Z)(e.message))}}),Ve=(0,r.Z)(Ne,2),qe=Ve[0],Ye=Ve[1],$e=(0,E.cry)({variables:{replId:n.id},onCompleted:function(e){var t=e.unboostRepl;"UserError"!==t.__typename?(re(n.id).catch((function(e){s.Tb(e),pe.current&&se("Something went wrong when unboosting your repl. Please refresh or try again.")})),pe.current&&(se(null),L(!1))):se(t.message)},onError:function(e){s.Tb(e),le((0,k.Z)(e.message))}}),tt=(0,r.Z)($e,2),nt=tt[0],rt=tt[1].loading,ot=c.useMemo((function(){return!(!F||F===n.title)||(ne!==n.rawTemplateLabel||!(""===$&&!n.description)&&$!==n.description)}),[n,F,$,ne]),it=c.useCallback((function(){if(ot){var e={id:n.id,title:F||n.title,description:$,templateLabel:n.currentUserPermissions.changeTemplateLabel?ne:void 0};ye({variables:{input:e}})}}),[ot,ye,n,F,$,ne]),at=h||null!==y||Oe,ct=(0,G.Z)((function(){at||(ot?it():i(!1))}),[at,ot,it]),st=c.useContext(ze.G).usesDigitalGoodsService,ut=function(){Ae||rt||(A?nt():Re())},lt=n.isRenamed?"name your repl":"default name: ".concat(n.title),ft=[E.Sy.Submit,E.Sy.PublishTemplate,E.Sy.EditTemplate].includes(n.workspaceCta),dt=[];n.currentUserPermissions.fork&&dt.push({value:Me.Fork,label:"Fork",icon:(0,m.tZ)(Xe.Z,{})}),Le&&dt.unshift({value:Me.Spotlight,label:"Spotlight",link:(0,J.j3)(n),icon:(0,m.tZ)(V.Z,{})}),n.publishedAs===E.O2h.App&&Le&&dt.push({value:Me.Unpublish,label:"Unpublish",icon:(0,m.tZ)(de.Z,{})}),n.publishedAs===E.O2h.Template&&Le&&dt.push({value:Me.UnpublishTemplate,label:"Unpublish template",icon:(0,m.tZ)(de.Z,{})}),n.currentUserPermissions.delete&&dt.push({isDestructive:!0,value:Me.Delete,label:"Delete",icon:(0,m.tZ)(T.Z,{})});var pt=n.currentUserPermissions.changePrivacy===E.HA$.SubscriptionRequired,ht=n.currentUserPermissions.changeAlwaysOn===E.fnM.SubscriptionRequired,vt=pt?"Get access to Private repls, Always On, and Boosts.":"Get access to Always On and Boosts.";return(0,m.BX)("div",{ref:ct,className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]])+" repl-info-form",children:[(0,m.tZ)("form",{onSubmit:function(e){e.preventDefault(),it()},className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]]),children:(0,m.BX)(P.gC,{wrap:"nowrap",spacing:2,align:"stretch",children:[(0,m.BX)(P.gC,{wrap:"nowrap",spacing:"4px",align:"stretch",children:[(0,m.BX)(P.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,m.BX)("div",{className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]]),children:[!n.isRenamed&&Le?(0,m.tZ)("div",{"data-microtip-position":"right","aria-label":"Name your repl to publish",role:"tooltip",className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]]),children:(0,m.tZ)(D.Z,{Icon:be.Z,color:"primary",disabled:!0,children:"Publish"})}):null,n.isRenamed&&Le?(0,m.tZ)(D.Z,{Icon:be.Z,color:"primary",onClick:function(){return C(et.Community)},children:"Publish"}):null,Le?null:(0,m.tZ)(l.default,Ke(Ke({},(0,J.j3)(n)),{},{children:(0,m.tZ)("a",{style:{textDecoration:"none"},className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]]),children:(0,m.tZ)(D.Z,{Icon:V.Z,color:"primary",className:"spotlight-button",children:"Spotlight page"})})}))]}),(0,m.tZ)(He.Z,{items:dt,onItemClick:function(e){switch(e.value){case Me.UnpublishTemplate:return void C(et.UnpublishTemplate);case Me.Fork:return void C(et.ForkRepl);case Me.Delete:C(et.DeleteRepl)}},onOpenChange:v})]}),n.lastPublishedAt&&Le?(0,m.BX)(_.Z,{size:"small",foreground:3,children:["Last published on"," ",new Date(n.lastPublishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}):null]}),n.currentUserPermissions.changeIconUrl&&n.publishedAs===E.O2h.Template?(0,m.tZ)(we,{value:n.iconUrl,onChange:function(e){return ye({variables:{input:{id:n.id,iconUrl:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:Ke(Ke({},n),{},{iconUrl:e})}}})}}):null,(0,m.BX)(P.gC,{wrap:"nowrap",align:"end",children:[(0,m.tZ)(O.ZP,{style:{cursor:n.currentUserPermissions.changeTitle?"auto":"not-allowed"},disabled:!n.currentUserPermissions.changeTitle,maxLength:60,placeholder:lt,value:F,onChange:function(e){return q(e.target.value)},spellCheck:!1}),(0,m.tZ)(S,{maxLength:60,value:F,hideLabel:!0})]}),(0,m.BX)(P.gC,{wrap:"nowrap",align:"end",children:[(0,m.tZ)("textarea",{onKeyDown:function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)},disabled:!n.currentUserPermissions.changeDescription,maxLength:ke,value:$,onChange:function(e){return Q(e.target.value)},placeholder:"What does this repl do?",className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]])}),(0,m.tZ)(S,{maxLength:ke,value:$,hideLabel:!0})]}),n.currentUserPermissions.changeTemplateLabel&&(0,m.tZ)(z.Z,{css:[W.l0.p(8),W.l0.borderRadius(8),"",""],children:(0,m.BX)(P.gC,{wrap:"nowrap",spacing:1,children:[(0,m.BX)(P.Ug,{spacing:1,children:[(0,m.tZ)(fe.Z,{}),(0,m.tZ)(_.Z,{children:"Template Label"})]}),(0,m.tZ)(O.ZP,{value:ne,maxLength:60,placeholder:"Template Label",spellCheck:!1,onChange:function(e){return oe(e.target.value)}})]})})]})}),ft?null:(0,m.BX)(m.HY,{children:[ht&&(0,m.tZ)("div",{className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]]),children:st?(0,m.BX)(P.gC,{justify:"center",align:"center",style:{paddingBottom:"var(--space-16)"},children:[(0,m.tZ)(_.Z,{foreground:3,children:vt}),(0,m.BX)(_.Z,{foreground:3,children:["Go to"," ",(0,m.tZ)("a",{href:"https://replit.com/pricing",target:"_blank",className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]]),children:"replit.com"})," ","to upgrade your account."]})]}):(0,m.BX)(m.HY,{children:[(0,m.tZ)("div",{className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]])+" upgrade-button-container",children:(0,m.tZ)(D.Z,{textColor:"white",backgroundColor:"var(--accent-primary-default)",fullWidth:!0,onClick:function(){(0,w.track)(w.events.UPGRADE_SELECTED,{source:"inline",planID:"hacker"}),C(et.SubscribeUser)},children:"Upgrade to Hacker"})}),(0,m.tZ)("div",{className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]])+" upgrade-text-container",children:(0,m.tZ)(_.Z,{foreground:3,children:vt})})]})}),(0,m.BX)(P.gC,{className:"hacker-features-container",children:[n.currentUserPermissions.changePrivacy!==E.HA$.Disallowed&&(0,m.tZ)("div",{className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]])+" edit-repl-privacy",children:(0,m.tZ)(ue.Z,{options:[(0,m.tZ)(Qe,{isPrivate:!1,isSelected:!n.isPrivate}),(0,m.tZ)(Qe,{isPrivate:!0,isSelected:n.isPrivate})],selectedOption:n.isPrivate?1:0,onChange:function(){return ye({variables:{input:{id:n.id,isPrivate:!n.isPrivate}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:Ke(Ke({},n),{},{isPrivate:!n.isPrivate})}}})},width:"100%"})}),n.currentUserPermissions.changeAlwaysOn!==E.fnM.Disallowed&&(0,m.BX)("div",{className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]])+" set-always-online",children:[(0,m.tZ)(B,{alwaysOn:n.isAlwaysOn,isBoosted:A,onChange:function(){if(!Pe){var e=!n.isAlwaysOn;je({variables:{replId:n.id,enabled:e},optimisticResponse:{setAlwaysOn:Ke(Ke({__typename:"Repl"},n),{},{isAlwaysOn:e})}})}},onBoostChange:ut,needsUpgrade:ht,onUpgrade:function(){return C(et.SubscribeUser)},onUnboostClick:function(){return C(et.UnboostRepl)}}),ce&&(0,m.tZ)("div",{className:a().dynamic([["3840446760",[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax]]])+" always-on-boost-error-container",children:(0,m.tZ)(_.Z,{size:"small",children:ce})})]})]})]}),(0,m.tZ)(M.Z,{isOpen:y===et.DeleteRepl,onRequestClose:function(){return C(null)},children:(0,m.tZ)(H.Z,{delete:me,entityType:"Repl",hideModal:function(){return C(null)}})}),(0,m.tZ)(M.Z,{isOpen:y===et.UnboostRepl,onRequestClose:function(){return C(null)},children:(0,m.tZ)(Be,{onUnboost:ut,hideModal:function(){return C(null)}})}),(0,m.tZ)(M.Z,{isOpen:y===et.ForkRepl,onRequestClose:function(){return C(null)},children:(0,m.tZ)(Je.Z,{onFork:function(e,t){Ee({originId:n.id,teamId:e,title:t,forkToPersonal:!e,trackingData:{forkSource:"editReplPopoverMenuItem"}}),(0,w.track)(w.events.REPLS_REPL_SELF_FORKED,{replId:n.id})},initialValue:n.title,hideModal:function(){return C(null)},teamContext:null===(t=n.user)||void 0===t?void 0:t.username})}),(0,m.tZ)(X.Z,{isOpen:y===et.SubscribeUser,onClose:function(){return C(null)},trackingInfo:{context:"workspace-header"}}),(0,m.tZ)(M.Z,{isOpen:y===et.UnpublishTemplate,onRequestClose:function(){return C(null)},children:(0,m.tZ)(We.Z,{isDestructive:!0,title:"Unpublish Template",onCancel:function(){return C(null)},onConfirm:function(){Ye.loading||(qe(),C(null))},children:"Your repl will no longer be discoverable on Templates. You can republish again at any time, and all of your comments or reactions will stick around."})}),(0,m.tZ)(M.Z,{isOpen:y===et.Community,onRequestClose:function(){return C(null)},children:(0,m.tZ)(Ue,{source:"replEnvironment",replId:n.id,onDone:function(e){var t=e.didPublish,n=e.kind;t||C(null),n===_e.Template&&C(t?et.PublishTemplateConfirmation:null)}})}),(0,m.tZ)(M.Z,{isOpen:y===et.PublishTemplateConfirmation,onRequestClose:function(){return C(null)},children:(0,m.tZ)(M.h,{children:(0,m.tZ)(Te,{replId:n.id,onDone:function(){C(null)}})})}),(0,m.tZ)(a(),{id:"3840446760",dynamic:[n.currentUserPermissions.changeDescription?"auto":"not-allowed",pt?"var(--background-root)":"var(--background-default)",pt?"none":"auto",pt?.5:1,pt?"not-allowed":"pointer",ht?"var(--background-root)":"var(--background-default)",p.j.mobileMax],children:[".repl-info-form.__jsx-style-dynamic-selector{position:relative;}","form.__jsx-style-dynamic-selector{padding:var(--space-16);}","textarea.__jsx-style-dynamic-selector{min-height:42px;height:200px;resize:none;cursor:".concat(n.currentUserPermissions.changeDescription?"auto":"not-allowed",";font-size:var(--font-size-default);font-family:var(--font-family-default);padding:var(--space-8);display:block;width:100%;border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);-webkit-transition:0.2s border-color;transition:0.2s border-color;background-color:transparent;color:var(--foreground-default);}"),"textarea.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer);}","textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default);}","textarea.__jsx-style-dynamic-selector:disabled{opacity:0.5;}","textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--accent-primary-default);}",".edit-repl-privacy.__jsx-style-dynamic-selector{background-color:".concat(pt?"var(--background-root)":"var(--background-default)",";color:var(--foreground-dimmer);pointer-events:").concat(pt?"none":"auto",";opacity:").concat(pt?.5:1,";cursor:").concat(pt?"not-allowed":"pointer",";}"),".set-always-online.__jsx-style-dynamic-selector{background-color:".concat(ht?"var(--background-root)":"var(--background-default)",";}"),".edit-repl-privacy.__jsx-style-dynamic-selector,.set-always-online.__jsx-style-dynamic-selector{width:100%;padding:var(--space-8);}",".set-always-online.__jsx-style-dynamic-selector{border-bottom-left-radius:8px;border-bottom-right-radius:8px;overflow:hidden;}",".edit-repl.__jsx-style-dynamic-selector .hacker-features-container{margin:var(--space-8);}",".edit-repl-actions.__jsx-style-dynamic-selector{padding:0 var(--space-16);}",".menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:var(--foreground-default);}",".delete-menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;color:var(--accent-negative-default);}",".icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--space-4);}",".menu-text.__jsx-style-dynamic-selector{padding:0 var(--space-4);}",".upgrade-button-container.__jsx-style-dynamic-selector{padding:0 var(--space-8);}",".upgrade-button-container.__jsx-style-dynamic-selector .sentence-case{text-transform:none;}",".upgrade-text-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:var(--space-8);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".always-on-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-4);margin-right:var(--space-8);width:8px;height:8px;border-radius:100%;background-color:var(--accent-green-default);box-shadow:0 0 12px var(--accent-green-default);}",".always-on-boost-error-container.__jsx-style-dynamic-selector{margin-top:var(--space-8);}",".always-on-boost-error-container.__jsx-style-dynamic-selector .text{color:var(--accent-negative-default);}","@media screen and (max-width:".concat(p.j.mobileMax,"px){.edit-repl.__jsx-style-dynamic-selector{width:80vw;}}")]})]})}!function(e){e.DeleteRepl="DeleteRepl",e.ForkRepl="ForkRepl",e.UnboostRepl="UnboostRepl",e.SubscribeUser="SubscribeUser",e.PublishTemplateConfirmation="PublishTemplateConfirmation",e.UnpublishTemplate="UnpublishTemplate",e.Community="Community"}(et||(et={}))},77854:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(17674),o=n(67294),i=n(54047),a=n(86374),c=n(42463),s=n(15542);function u(e){var t=e.autoFocus,n=e.onShellKey,u=e.container,l=e.createXtermProps,f=(0,c.Z)({createXtermProps:l}),d=(0,r.Z)(f,2),p=d[0],h=d[1],v=(0,i.Z)({service:"shell",container:u});return o.useEffect((function(){if(v.channel&&p){var e=p.onKey((function(e){var t=e.key,r=e.domEvent;"\r"===t&&(0,a.track)(a.events.SHELL_COMMAND_EVALED),n&&n(r)})),t=p.onData((function(e){if(v.channel&&"closed"!==v.channel.status){var t=(0,s.I)(e);v.channel.send({input:t})}}));v.channel.onCommand((function(e){e.output&&p.write(e.output)}));var r=function(){v.channel&&"open"===v.channel.status&&v.channel.send({resizeTerm:p.getSize()})},o=p.onResize(r);return r(),function(){e.dispose(),t.dispose(),o.dispose()}}}),[v.channel,p,n]),o.useEffect((function(){t&&p&&p.focus()}),[t,p]),[p,h]}}}]);
//# sourceMappingURL=4766-288bc0fe8ea63923.js.map