"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5954],{75954:function(e,t,n){n.d(t,{Z:function(){return at}});var r=n(59499),i=n(70917),o=n(67294),l=n(50988),a=n(89788),c=n(91462),s=n(2736),u=n(94830),d=n(33893),p=n(73133),f=n(17674),h=n(85271),v=n(77114),m=n(24525),g=n(59259),w=n(54838),y=n(13634),b=n(28100),Z=n(80291),k=n(86374),x=n(5946),O=n(35944);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j={name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"};function R(e){var t=e.src,n=e.alt;return(0,O.BX)(s.Z,{css:[j,"border-bottom-left-radius:8px;border-bottom-right-radius:8px;overflow:hidden;",""],children:[(0,O.tZ)(b.Z,{objectFit:"cover",layout:"fill",src:t,alt:n}),(0,O.tZ)(s.Z,{css:[j,"background:radial-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6));background-repeat:no-repeat;",""]})]})}function D(e){var t=e.onClick;return(0,O.tZ)(s.Z,{onClick:function(){(0,k.track)(k.events.RUN_BUTTON_CLICKED,{context:"replView",overlay:!0}),t()},css:[j,c.l0.center,{":hover > svg":{transform:"scale(1.2)"},"> svg":{transition:"transform 200ms",width:64,height:"auto",cursor:"pointer",filter:c.TV.shadowDefault}},"",""],children:(0,O.tZ)(d.Z,{filled:!0,color:c.TV.white})})}function N(e){var t=e.isPublished,n=e.onChangeClick,r=e.onRemoveClick,i=o.useState(!1),l=(0,f.Z)(i,2),a=l[0],d=l[1];return(0,O.BX)(s.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center,"",""],children:[(0,O.tZ)(u.ZP,{onClick:function(e){e.stopPropagation(),n()},text:"Change image"}),t?(0,O.tZ)(y.Z,{alt:"Cannot remove cover image of a published repl",disabled:!0,colorway:"negative",children:(0,O.tZ)(v.Z,{})}):null,t?null:(0,O.tZ)(s.Z,{children:(0,O.tZ)(y.Z,{alt:"Remove Image",colorway:"negative",onClick:function(){d(!0)},children:(0,O.tZ)(v.Z,{})})}),(0,O.tZ)(g.Z,{isOpen:a,onRequestClose:function(){return d(!1)},children:(0,O.tZ)(m.Z,{title:"Remove image",isDestructive:!0,onConfirm:function(){r(),d(!1)},onCancel:function(){return d(!1)},children:"This will remove your repl's cover image. You can always add one back at any time."})})]})}function E(e){var t=e.onClick,n=e.isActive;return(0,O.BX)(s.Z,{css:[c.l0.colWithGap(16),c.l0.center,"",""],children:[(0,O.BX)(s.Z,{css:[c.l0.colWithGap(8),c.l0.center,"",""],children:[(0,O.tZ)(s.Z,{css:["> svg{width:44px;height:auto;}",n&&{color:c.TV.accentPrimaryDefault},"",""],children:(0,O.tZ)(Z.Z,{})}),(0,O.tZ)(p.x,{children:"Drag and drop a cover image"})]}),(0,O.tZ)(s.Z,{children:(0,O.tZ)(u.ZP,{onClick:t,colorway:"primary",text:"Or select a file"})})]})}function S(e){var t=e.onClick,n=e.repl,r=o.useRef(null),a=o.useState(null),u=(0,f.Z)(a,2),d=u[0],p=u[1],v=o.useState(n.imageUrl),m=(0,f.Z)(v,2),g=m[0],y=m[1],b=(0,w.Z)({onUpload:function(e){var t=e.url;k({variables:{input:{id:n.id,imageUrl:t}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:P(P({},n),{},{imageUrl:t})}}})},onUploadPreview:function(e){var t=e.dataUrl;y(t)},onError:function(e){p(e.message)}}),Z=(0,l.wPL)({onCompleted:function(e){p(null),y(e.updateRepl.repl.imageUrl)}}),k=(0,f.Z)(Z,1)[0],C=n.currentUserPermissions.changeImageUrl;function j(e){if(null!==e&&0!==e.length){var t=e.find((function(e){return e.type.startsWith("image/")}));t?(p(null),b.uploadImage(t)):p("Expected an image file")}}var S=(0,h.Z)(j),T=(0,f.Z)(S,2),U=T[0],I=T[1],_=!g&&C;return(0,O.BX)(s.Z,P(P({css:[c.l0.center,c.l0.flex.growAndShrink(1),!_&&{backgroundColor:c.TV.black},"border-bottom-left-radius:8px;border-bottom-right-radius:8px;position:relative;:hover .image-controls{opacity:1;}",""]},I),{},{children:[g?(0,O.tZ)(R,{src:g,alt:n.title}):null,_?null:(0,O.tZ)(D,{onClick:t}),g&&C?(0,O.BX)(s.Z,{className:"image-controls",css:[{position:"absolute",top:c.TV.space8,right:c.TV.space8,opacity:0,".is-touch-device &":{opacity:1}},"",""],children:[(0,O.tZ)(N,{onChangeClick:function(){var e;null===(e=r.current)||void 0===e||e.click()},onRemoveClick:function(){k({variables:{input:{id:n.id,imageUrl:null}}})},isPublished:Boolean(n.lastPublishedAt)}),d?(0,O.tZ)("div",{className:"error",children:d}):null]}):null,_?(0,O.tZ)(E,{isActive:U,onClick:function(){var e;null===(e=r.current)||void 0===e||e.click()}}):null,C?(0,O.tZ)("input",{css:(0,i.iv)({width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},"",""),ref:r,accept:x.W.join(","),type:"file",onChange:function(e){var t=e.target,n=t.validity,r=t.files;n.valid&&j(r?Array.from(r):null)}}):null]}))}var T=n(13233),U=n(33042),I=n(49991),_=n(99455),B=n(92343),L=n(50029),V=n(87794),A=n.n(V),F=n(40802),M=n(11163),X=n(68417),G=n(67966),W=n(86962),H=n(4412),K=n(50573),z=n(8857),q=n(82706),Q=n(25108);var J,Y,$=n(60785),ee=n(9571),te=".lesson/lessonplan.md";function ne(e){var t=e.fs,n=e.container,r=e.dotReplit,i=e.skip,l=e.preferredFile,a=o.useState(null),c=(0,f.Z)(a,2),s=c[0],u=c[1],d=function(e){var t,n=o.useState(null===(t=e.getContext())||void 0===t?void 0:t.repl.id),r=(0,f.Z)(n,2),i=r[0],l=r[1];return o.useEffect((function(){return e.onConnectionStateChanged((function(t){var n;t===G.e.CONNECTING&&l(null===(n=e.getContext())||void 0===n?void 0:n.repl.id)}))}),[e]),i}(n);return o.useEffect((function(){if(!i&&d){var e=!1;return Promise.all([(0,$.W)({replId:d,dotReplit:r,fs:t}),t.stat(te)]).then((function(t){var n=(0,f.Z)(t,2),r=n[0],i=r.entrypoint,o=r.readmeFile,a=n[1];e||(l===J.LessonPlan&&a.exists&&a.type===ee.Tv.File?u(te):l===J.Readme&&o?u(o):i&&u(i))})),function(){e=!0}}}),[t,r,d,i,l]),s}function re(e){var t=e.currentUser,n=e.repl,r=e.initialViewMode,i=void 0===r?Y.Output:r,a=e.enableDeeplinks,c=o.useState(""),s=(0,f.Z)(c,2),u=s[0],d=s[1],p=(0,o.useState)(I.e.DISCONNECTED),h=p[0],v=p[1],m=(0,o.useState)(_.A.OFFLINE),g=m[0],w=m[1],y=(0,o.useState)((function(){return function(e){var t=e.setBsodSentryEventId,n=(0,G.Z)({onUnrecoverableError:function(e){if(e.message.toLowerCase().includes("repl not found"))M.default.push("/home","~/");else{Q.error(e),F.Tb(e);var n=(0,K.Q)(e,{tags:{replviewer:"true"}});t(n)}}}),r=(0,X.Z)({container:n}),i=(0,q.Z)({container:n,fs:r}),o=(0,H.Z)({container:n,dotReplit:i}),l=(0,W.Z)({container:n,beforeRun:function(){var e=(0,L.Z)(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,z.Z)(n,i);case 2:if(!e.sent){e.next=5;break}return e.next=5,o.installPackages();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});return{container:n,fs:r,runner:l,dotReplit:i,packager:o}}({setBsodSentryEventId:d})})),b=y[0],Z=b.container,x=b.fs,O=b.dotReplit,C=b.runner,P=b.packager,j=(0,o.useRef)((0,U.u9)()),R=n.isProject?J.LessonPlan:J.Readme,D=(0,o.useState)((function(){return i===Y.Code||j.current?{type:"code",fs:x,container:Z,dotReplit:O}:null})),N=D[0],E=D[1],S=(0,o.useState)(j.current),T=S[0],V=S[1],$=o.useState(null),ee=(0,f.Z)($,2),te=ee[0],re=ee[1],ie=Boolean("code"===(null===N||void 0===N?void 0:N.type)&&!N.deeplink&&!j.current),oe=ne({fs:x,dotReplit:O,container:Z,preferredFile:R,skip:!ie});!function(e){var t=e.currentDeeplink,n=e.onChange,r=e.fs,i=e.enabled,l=(0,o.useRef)(!1);(0,o.useEffect)((function(){if(i){var e=function(){var e=(0,L.Z)(A().mark((function e(){var t,i,o,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,U.mv)(r);case 4:if(t=e.sent,i=t.path,o=t.line,a=t.col,i){e.next=11;break}return n(null),e.abrupt("return");case 11:n({path:i,line:o,col:a});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}}),[r,n,i]),(0,o.useEffect)((function(){if(i&&t){var e=(0,U.YM)(t);if(!M.default.asPath.endsWith(e)){var n=M.default.asPath.includes("#")?M.default.asPath.slice(0,M.default.asPath.indexOf("#")):M.default.asPath;l.current=!0,M.default.push({pathname:M.default.pathname,query:M.default.query},"".concat(n).concat(e),{shallow:!0}),l.current=!1}}}),[r,t,i])}({fs:x,currentDeeplink:"code"===(null===N||void 0===N?void 0:N.type)?N.deeplink:void 0,onChange:function(e){E(e?{deeplink:e,type:"code",container:Z,fs:x,dotReplit:O}:null)},enabled:a});var le=(0,l.yo9)({variables:{replId:n.id}}),ae=(0,f.Z)(le,1)[0];(0,o.useEffect)((function(){if((0,U.u9)()){var e=!1;return(0,U.mv)(x).then((function(t){var n=t.path,r=t.line,i=t.col;e||n&&E({type:"code",container:Z,fs:x,dotReplit:O,deeplink:{path:n,line:r,col:i}})})),function(){e=!0}}}),[Z,x,O]),(0,o.useEffect)((function(){ie&&oe&&E({type:"code",container:Z,fs:x,dotReplit:O,deeplink:{path:oe}})}),[ie,oe,Z,x,O]),(0,o.useEffect)((function(){te&&E("server"!==te?{type:"vnc",container:Z,fs:x}:{type:"server",previewUrl:n.previewUrl})}),[Z,x,te,n.previewUrl]),(0,o.useEffect)((function(){h!==I.e.CONNECTED&&re(null)}),[h]);var ce=(0,B.b)({repl:n,currentUser:t}),se=function(e){return!!["html","web_project","kaboom"].includes(e.lang.id)||Boolean(e.config.isServer)}(n),ue=T||Boolean(N&&("code"===N.type||"vnc"===N.type||"replboxDisplay"===N.type||"terminal"===N.type));(0,o.useEffect)((function(){if(ue&&Z.getConnectionState()===I.e.DISCONNECTED){Z.connect({context:ce});var e=se?[Z.close]:[C.onStateChanged(w),Z.onConnectionStateChanged(v),Z.onPortOpened((function(e){var t=e.isVnc;re(t?"vnc":"server")})),Z.close];return function(){e.forEach((function(e){return e()}))}}}),[ue,Z,C,ce,se]);var de=(0,o.useRef)(!1);return(0,o.useEffect)((function(){g===_.A.IDLE&&de.current&&(de.current=!1,"terminal"===(null===N||void 0===N?void 0:N.type)&&C.run())}),[g,N,C]),{fs:x,openFile:function(e){"server"!==(null===N||void 0===N?void 0:N.type)&&"replboxDisplay"!==(null===N||void 0===N?void 0:N.type)||w(_.A.IDLE),E({type:"code",container:Z,fs:x,deeplink:{path:e},dotReplit:O}),C.getRunState()===_.A.RUNNING&&C.stopRun()},viewState:N,runRepl:function(){if(V(!1),t&&ae(),(0,k.track)(k.events.REACTED_TO_REPL,{replView:"https://replit.com"+n.url,reaction:"repl_ran",isReplTalk:!1,item:"repl",isCommunityPublish:n.wasPosted,isAppPublish:n.wasPublished}),se){var e,r,i=(null===(e=n.deployment)||void 0===e||null===(r=e.activeRelease)||void 0===r?void 0:r.previewUrl)||n.previewUrl;return E({type:"server",previewUrl:i}),void w(_.A.RUNNING)}return n.lang.canUseShellRunner?(E("server"===te?{type:"server",previewUrl:n.previewUrl}:"vnc"===te?{type:"vnc",container:Z,fs:x}:{type:"terminal",runner:C,packager:P}),C.getRunState()!==_.A.IDLE?void(de.current=!0):void C.run()):n.lang.hasReplboxWebview?(E({type:"replboxDisplay",fs:x}),void w(_.A.RUNNING)):void E({type:"deprecationNotice"})},stopRepl:function(){E(null),V(!1),w(_.A.IDLE),se||C.getRunState()===_.A.RUNNING&&C.stopRun()},runState:g,isFileTreeOpen:T,setIsFileTreeOpen:V,didBsod:Boolean(u),showUrlOutput:se,devClearBsod:function(){d("")}}}!function(e){e.Entrypoint="Entrypoint",e.Readme="Readme",e.LessonPlan="LessonPlan"}(J||(J={})),function(e){e.Code="Code",e.Output="Output"}(Y||(Y={}));var ie=n(3139),oe=n(65988),le=n.n(oe),ae=n(94690),ce=n(62884),se=n(82625),ue=n(99996),de=ue.j.tabletMin,pe=n(5152),fe=n(13788);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(){var e=(0,L.Z)(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([n.e(2738),n.e(4474)]).then(n.t.bind(n,74474,23)).then((function(e){return e.default})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=(0,pe.default)(me,{ssr:!1,loading:function(){return null}});function we(e){var t=e.contents,n={scrollToContent:!0};try{n=ve(ve({},n),JSON.parse(t||"{}"))}catch(i){}var r=(0,fe.Fg)();return(0,O.BX)("div",{className:"jsx-866328784 excalidraw-wrapper",children:[(0,O.tZ)(ge,{viewModeEnabled:!0,zenModeEnabled:!0,initialData:n,theme:r===fe.V2.replitLight?"light":"dark"}),(0,O.tZ)(le(),{id:"866328784",children:[".excalidraw-wrapper.jsx-866328784{cursor:all-scroll;height:100%;width:100%;}"]})]})}var ye=n(34837),be=n.n(ye),Ze=n(28146);function ke(e){var t=e.contents,n=e.isKbmsprite,r=o.useRef(null);return o.useEffect((function(){var e=r.current;if(e){e.width=e.offsetWidth,e.height=e.offsetHeight;var i=JSON.parse(t),o=be()({canvas:e,data:n?(0,Ze.C)(i):i,readonly:!0});return function(){o.cleanUp()}}}),[t,n]),(0,O.tZ)("canvas",{ref:r,className:"jsx-1590318377 pedit",children:(0,O.tZ)(le(),{id:"1590318377",children:[".pedit.jsx-1590318377{width:100%;height:100%;}"]})})}var xe=n(56021);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t){return Ce(Ce({},e),t)}var je={isLoading:!1,result:null,error:null,fileViewerType:null};var Re=n(92130),De=n(35992),Ne=n(46657);function Ee(e){var t=e.fs,n=e.deeplink,r=null===n||void 0===n?void 0:n.path,i=function(e){var t=e.fs,n=e.path,r=o.useReducer(Pe,je),i=(0,f.Z)(r,2),l=i[0],a=i[1];return o.useEffect((function(){if(n){var e=!1,r=(0,xe.V)(n);return a({isLoading:!0,fileViewerType:r}),t.readFile(n).then((function(t){e||(t.error?a({isLoading:!1,result:null,error:{path:n,fileViewerType:r,error:t.error}}):a({isLoading:!1,result:{path:n,fileViewerType:r,content:t.content},error:null}))})),function(){e=!0}}a(je)}),[t,n]),l}({fs:t,path:r});return(0,O.BX)("div",{className:le().dynamic([["1621507236",[de]]])+" file-viewer",children:[(0,O.BX)("div",{className:le().dynamic([["1621507236",[de]]])+" content",children:[i.result&&i.result.fileViewerType===xe.D.Media?(0,O.tZ)("div",{className:le().dynamic([["1621507236",[de]]])+" media",children:(0,O.tZ)(ce.A,{content:se.Z.from(i.result.content).toString("base64"),mime:(0,ae.yC)(i.result.path)})}):null,i.isLoading&&i.fileViewerType===xe.D.Media?(0,O.tZ)("div",{className:le().dynamic([["1621507236",[de]]])+" file-loader",children:(0,O.tZ)(Re.Z,{})}):null,i.result&&i.result.fileViewerType===xe.D.Markdown?(0,O.tZ)("div",{className:le().dynamic([["1621507236",[de]]])+" markdown",children:(0,O.tZ)(Ne.Z,{path:i.result.path,source:i.result.content.toString(),fs:t,sourcePos:!1})}):null,i.isLoading&&i.fileViewerType===xe.D.Markdown?(0,O.tZ)("div",{className:le().dynamic([["1621507236",[de]]])+" file-loader",children:(0,O.tZ)(Re.Z,{})}):null,i.result&&i.result.fileViewerType===xe.D.Draw?(0,O.tZ)("div",{className:le().dynamic([["1621507236",[de]]])+" draw",children:(0,O.tZ)(we,{contents:i.result.content.toString()})}):null,i.isLoading&&i.fileViewerType===xe.D.Draw?(0,O.tZ)("div",{className:le().dynamic([["1621507236",[de]]])+" file-loader",children:(0,O.tZ)(Re.Z,{})}):null,i.result&&i.result.fileViewerType===xe.D.Code?(0,O.tZ)(De.Z,{filePath:i.result.path,code:i.result.content.toString(),fontSize:14}):null,i.isLoading&&i.fileViewerType===xe.D.Code?(0,O.tZ)("div",{className:le().dynamic([["1621507236",[de]]])+" file-loader",children:(0,O.tZ)(Re.Z,{})}):null,i.result&&i.result.fileViewerType===xe.D.Pedit?(0,O.tZ)(ke,{contents:i.result.content.toString(),isKbmsprite:!(null===r||void 0===r||!r.endsWith(".kbmsprite"))}):null,!i.isLoading&&i.error?(0,O.tZ)("div",{className:le().dynamic([["1621507236",[de]]])+" error",children:(0,O.BX)("div",{className:le().dynamic([["1621507236",[de]]]),children:["Could not load ",i.error.path]})}):null]}),(0,O.tZ)(le(),{id:"1621507236",dynamic:[de],children:[".file-viewer.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;align:stretch;height:100%;width:100%;}",".markdown.__jsx-style-dynamic-selector{word-break:break-word;max-width:840px;margin:0 auto;padding:var(--space-16);overflow-y:auto;position:relative;height:100%;}",".draw.__jsx-style-dynamic-selector{height:100%;width:100%;}",".file-tree.__jsx-style-dynamic-selector{background-color:var(--background-root);border-radius:var(--border-radius-4);overflow:auto;display:none;}",".content.__jsx-style-dynamic-selector{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:100%;height:100%;overflow-y:auto;position:relative;}",".file-loader.__jsx-style-dynamic-selector{width:100%;padding-top:var(--space-8);padding-left:var(--space-8);position:absolute;top:0;left:0;z-index:100;opacity:0;-webkit-animation:fadeIn-__jsx-style-dynamic-selector ease 0s forwards;animation:fadeIn-__jsx-style-dynamic-selector ease 0s forwards;-webkit-animation-delay:200ms;animation-delay:200ms;}",".media.__jsx-style-dynamic-selector,.error.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;}","@-webkit-keyframes fadeIn-__jsx-style-dynamic-selector{0%{opacity:0;}100%{opacity:1;}}","@keyframes fadeIn-__jsx-style-dynamic-selector{0%{opacity:0;}100%{opacity:1;}}","@media screen and (min-width:".concat(de,"px){.file-tree.__jsx-style-dynamic-selector{display:block;width:260px;}}")]})]})}var Se=n(46741),Te=n(96128),Ue=n(48928),Ie=n(34548),_e=n(70945),Be=(0,s.K)("div");function Le(e){var t=e.replId,n=e.language,r=o.useState((function(){return(0,Ie.Z)({beforeRun:function(){return Promise.resolve()},getMainFileContents:function(){return(0,_e.Z)({language:e.language,fs:e.fs})}})})),i=(0,f.Z)(r,1)[0],l=o.useRef(null);return o.useEffect((function(){if(l.current){var e=!1;return i.load({replId:t,language:n,iframeParent:l.current}).then((function(){e||i.run()})),function(){e=!0,i.getRunState()!==_.A.OFFLINE&&i.destroy()}}}),[i,t,n]),(0,O.tZ)(Be,{ref:l,css:[c.l0.width("100%"),c.l0.height("100%"),{backgroundColor:"white",borderBottomRightRadius:8,borderBottomLeftRadius:8,iframe:[c.l0.width("100%"),c.l0.height("100%"),{display:"block",utline:"none",border:"none",borderBottomRightRadius:8,borderBottomLeftRadius:8}]},"",""]})}var Ve=n(63997),Ae=n(57783),Fe=n(15098),Me=n(97982),Xe=n(12673);var Ge={name:"1emh2t",styles:"overflow:auto;height:100%"};function We(e){var t=e.fs,n=e.language,r=e.activePath,i=e.onNodeClick;return(0,O.tZ)(Xe.i.Provider,{value:{activePath:r,downloadFile:function(){},fs:t,transformChildren:(0,Me.Z)({language:n,shouldHideHiddenFiles:!1}),setPendingFileType:function(){},uploadFiles:function(){},pendingFileType:null,getNodeType:function(){var e=(0,L.Z)(A().mark((function e(n){var r;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readFile(n);case 2:return r=e.sent,e.abrupt("return",r.error===ee.Df.IsDirectory?ee.Tv.Directory:ee.Tv.File);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pendingUploads:[],currentRenamePath:null,setCurrentRenamePath:function(){},pendingDelete:null,setPendingDelete:function(){},overwriteNode:function(){},renameNode:function(){},deleteNode:function(){},duplicateFile:function(){var e=(0,L.Z)(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),currentOp:null,nodeOpError:null},children:(0,O.tZ)(Fe.Z,{children:(0,O.BX)(s.Z,{css:[c.l0.flex.column,c.l0.p(8),Ge,"",""],children:[(0,O.tZ)(s.Z,{css:[c.l0.p(8),"",""],children:(0,O.tZ)(p.h,{level:3,variant:"subheadDefault",children:"Files"})}),(0,O.tZ)(Ae.Z,{siblings:[],readOnly:!0,onClick:function(){return null},onNodeClick:i,path:Ve.Q})]})})})}var He=n(92120),Ke=n(53339),ze=n(72600),qe=n(14520),Qe=n(91269),Je=n(92041),Ye="1px solid "+c.TV.outlineDimmer;function $e(e){var t=e.children;return(0,O.tZ)(s.Z,{tag:"header",css:[{borderBottom:Ye},c.l0.p(8),c.l0.rowWithGap(8),c.l0.align.center,"",""],children:t})}var et=(0,s.K)("a");function tt(e){var t=e.runCount,n=e.runState,r=e.onClick,i=e.publishedAs,o=n===_.A.RUNNING?(0,O.tZ)(Se.Z,{fill:"currentColor"}):(0,O.tZ)(d.Z,{fill:"currentColor"}),a=i===l.O2h.Template?"Run example":"Run";return n===_.A.RUNNING&&(a="Stop"),(0,O.BX)(s.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center,"",""],children:[(0,O.tZ)(p.x,{children:(0,Ue.d)(t)}),(0,O.tZ)(u.ZP,{colorway:n===_.A.RUNNING||i===l.O2h.Template?void 0:"positive",onClick:r,iconLeft:o,text:a})]})}function nt(e){var t=e.children;return(0,O.tZ)(a.Z,{elevated:!0,css:[{border:Ye},c.l0.borderRadius(8),"",""],children:t})}function rt(e){var t=e.src;return(0,O.tZ)(s.Z,{css:[c.l0.width("100%"),c.l0.height("100%"),"",""],children:(0,O.tZ)(s.Z,{tag:"iframe",sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals",src:t,css:[c.l0.width("100%"),c.l0.height("100%"),"border-bottom-right-radius:8px;border-bottom-left-radius:8px;position:absolute;background-color:white;display:block;border:none;top:0;left:0;",""]})})}function it(e){var t=e.fs,n=e.isOpen,r=e.language,i=e.activePath,o=e.onFileClick;return(0,O.tZ)(s.Z,{css:["z-index:101;position:absolute;top:0;left:0;height:100%;overflow:hidden;border-bottom-left-radius:8px;",!n&&{pointerEvents:"none"},"",""],children:(0,O.tZ)(a.Z,{elevated:!0,css:[{height:"100%",width:200,transition:"transform ".concat(160,"ms"),transform:"translateX(".concat(n?0:-200,"px)")},"",""],children:(0,O.tZ)(We,{fs:t,language:r,activePath:i,onNodeClick:function(e){e.type!==ee.Tv.Directory&&o(e.path)}})})})}var ot=(0,s.K)("div");function lt(e){var t,n=e.repl,d=e.currentUser,f=e.enableDeeplinks,h=re({enableDeeplinks:Boolean(f),repl:n,currentUser:d,initialViewMode:n.publishedAs===l.O2h.Template||n.isProject?Y.Code:Y.Output}),v=h.openFile,m=h.viewState,g=h.fs,w=h.runRepl,b=h.stopRepl,Z=h.runState,x=h.didBsod,C=h.devClearBsod,P=h.isFileTreeOpen,j=h.setIsFileTreeOpen,R=h.showUrlOutput,D=(0,o.useState)(!1),N=D[0],E=D[1],U=(0,Ke.Z)((function(e){void 0!==e.width&&E(e.width<=500)}));return x?(0,O.tZ)(T.Z,{devHide:C}):(0,O.BX)(nt,{children:[(0,O.BX)($e,{children:[(0,O.BX)(s.Z,{css:[c.l0.flex.growAndShrink(1),c.l0.rowWithGap(8),"",""],children:[(0,O.BX)(s.Z,{css:[c.l0.rowWithGap(4),c.l0.align.center,"",""],children:[(0,O.tZ)(u.ZP,{iconLeft:(0,O.tZ)(qe.Z,{}),text:P?"Hide files":"Show files",onClick:function(){return j((function(e){return!e}))},css:(0,i.iv)((0,r.Z)({},"@media (max-width: ".concat(ue.j.mobileMax,"px)"),{display:"none"}),"","")}),(0,O.tZ)(a.Z,{background:"default",css:[c.l0.borderRadius(8),(0,r.Z)({},"@media (min-width: ".concat(ue.j.mobileMax+1,"px)"),{display:"none"}),"",""],children:(0,O.tZ)(y.Z,{css:ze.G,alt:P?"Hide files":"Show files",onClick:function(){return j((function(e){return!e}))},children:(0,O.tZ)(qe.Z,{})})})]}),R?(0,O.tZ)(s.Z,{css:[c.l0.center,{borderLeft:"1px solid "+c.TV.outlineDimmest},"",""],children:(0,O.BX)(et,{css:[c.l0.rowWithGap(4),c.l0.color.foregroundDimmer,c.l0.px(8),"",""],href:n.prodUrl,target:"_blank",children:[(0,O.tZ)(He.Z,{}),(0,O.tZ)(p.x,{children:(0,O.tZ)("span",{css:(0,i.iv)((0,r.Z)({},"@media (max-width: ".concat(ue.j.mobileMax+20,"px)"),{display:"none"}),"",""),children:"Open website"})})]})}):null]}),(0,O.BX)(s.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center,"",""],children:[(0,O.tZ)(ze.Z,{repl:n,currentUser:d}),(0,O.tZ)(tt,{runCount:n.runCount,runState:Z,publishedAs:n.publishedAs,onClick:function(){if(Z===_.A.IDLE||Z===_.A.OFFLINE)return(0,k.track)(k.events.RUN_BUTTON_CLICKED,{context:"replView"}),void w();Z===_.A.RUNNING&&b()}})]})]}),(0,O.BX)(ot,{ref:U,css:[c.l0.flex.growAndShrink(1),"position:relative;",""],children:[null===m?(0,O.tZ)(S,{repl:n,onClick:w}):null,"server"===(null===m||void 0===m?void 0:m.type)?(0,O.tZ)(rt,{src:m.previewUrl}):null,"vnc"===(null===m||void 0===m?void 0:m.type)?(0,O.tZ)(ie.Z,{fs:m.fs,container:m.container}):null,"replboxDisplay"===(null===m||void 0===m?void 0:m.type)?(0,O.tZ)(Le,{replId:n.id,language:n.language,fs:m.fs}):null,"deprecationNotice"===(null===m||void 0===m?void 0:m.type)?(0,O.tZ)(s.Z,{css:[c.l0.center,c.l0.p(16),c.l0.height("100%"),"",""],children:(0,O.BX)(p.x,{multiline:!0,variant:"subheadDefault",children:['Running "',n.lang.displayName,'" is no longer supported.'," ",(0,O.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"Send feedback"})]})}):null,"terminal"===(null===m||void 0===m?void 0:m.type)?(0,O.tZ)(s.Z,{css:[c.l0.height("100%"),c.l0.width("100%"),c.l0.position.relative,"overflow:hidden;border-bottom-left-radius:8px;border-bottom-right-radius:8px;",""],children:(0,O.tZ)(Te.ZP,{packager:m.packager,runner:m.runner,languageHeader:n.lang.header||void 0})}):null,"code"===(null===m||void 0===m?void 0:m.type)?(0,O.tZ)(s.Z,{css:[c.l0.height("100%"),c.l0.flex.growAndShrink(1),{position:"relative",overflow:"hidden",borderBottomLeftRadius:8,borderBottomRightRadius:8,transition:"margin ".concat(160,"ms"),marginLeft:P&&!N?200:0},"",""],children:(0,O.tZ)(Ee,{fs:m.fs,deeplink:m.deeplink})}):null,(0,O.tZ)(it,{isOpen:P,language:n.lang.id,activePath:"code"===(null===m||void 0===m?void 0:m.type)&&m.deeplink?null===(t=m.deeplink)||void 0===t?void 0:t.path:null,onFileClick:function(e){v(e),N&&j(!1)},fs:g})]})]})}function at(e){var t=e.repl,n=e.currentUser,r=e.enableDeeplinks,i=(0,o.useState)(!1),l=i[0],a=i[1];return(0,o.useEffect)((function(){return a(!0)}),[]),(0,o.useEffect)(Je.S,[]),l?(0,O.tZ)(Qe.Z.Provider,{value:t.id,children:(0,O.tZ)(lt,{repl:t,currentUser:n,enableDeeplinks:r})}):(0,O.tZ)(nt,{})}},56021:function(e,t,n){n.d(t,{D:function(){return r},V:function(){return o}});var r,i=n(94690);function o(e){return e.endsWith(".md")?r.Markdown:(0,i.sL)(e)?r.Draw:(0,i.IQ)(e)?r.Pedit:(0,i.T3)(e)?r.Media:r.Code}!function(e){e.Media="Media",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw",e.Pedit="Pedit"}(r||(r={}))},14520:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(59499),i=(n(67294),n(16082)),o=n(35944);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return(0,o.tZ)(i.Z,a(a({},e),{},{children:(0,o.tZ)("path",{d:"M19.5 9H4.5C3.67157 9 3 8.32843 3 7.5V4.5C3 3.67157 3.67157 3 4.5 3H19.5C20.3284 3 21 3.67157 21 4.5V7.5C21 8.32843 20.3284 9 19.5 9ZM19.5 9H8.5C7.67157 9 7 9.67157 7 10.5V13.5C7 14.3284 7.67157 15 8.5 15M19.5 9C20.3284 9 21 9.67157 21 10.5V13.5C21 14.3284 20.3284 15 19.5 15M8.5 15H19.5M8.5 15C7.67157 15 7 15.6716 7 16.5V19.5C7 20.3284 7.67157 21 8.5 21H19.5C20.3284 21 21 20.3284 21 19.5V16.5C21 15.6716 20.3284 15 19.5 15",strokeLinejoin:"round"})}))}},28146:function(e,t,n){function r(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=e.width,t.height=e.height,!n)throw new Error("failed to get canvas ctx");return{version:"1",width:e.width,height:e.height,palette:[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],anims:{},frames:e.frames.map((function(r){var i=new window.ImageData(new Uint8ClampedArray(r.pixels),e.width,e.height);return n.putImageData(i,0,0),t.toDataURL()}))}}function i(e){return new Promise((function(t,n){var r=new window.Image;r.src=e,r.onload=function(){t(r)},r.onerror=n}))}function o(e){return new Promise((function(t,n){Promise.all(e.frames.map(i)).then((function(r){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var o=i.getContext("2d");if(o){var l=r.map((function(t){return o.drawImage(t,0,0),{pixels:Array.from(o.getImageData(0,0,e.width,e.height).data),width:e.width,height:e.height}}));t({frames:l,preview:e.frames[0],width:e.width,height:e.height})}else n(new Error("failed to get canvas ctx"))})).catch(n)}))}n.d(t,{C:function(){return r},u:function(){return o}})}}]);
//# sourceMappingURL=5954-01adeaf616ea5a67.js.map