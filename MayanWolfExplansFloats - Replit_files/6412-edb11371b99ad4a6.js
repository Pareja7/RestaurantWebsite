"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6412],{32032:function(e,r,t){t.d(r,{Z:function(){return v}});var n=t(17674),a=t(92777),o=t(82262),i=t(81531),l=t(63553),s=t(37247),c=t(65988),d=t.n(c),u=t(67294),f=function(){function e(){(0,a.Z)(this,e),this._listeners=[]}return(0,o.Z)(e,[{key:"listenOnce",value:function(e,r,t){if(this._listeners.push([e,r,t]),!e.once)throw new Error("Target does not allow once");e.once(r,t)}},{key:"listen",value:function(e,r,t){this._listeners.push([e,r,t]),e.on?e.on(r,t):e.addListener?e.addListener(r,t):e.addEventListener&&e.addEventListener(r,t)}},{key:"destroy",value:function(){this._listeners.forEach((function(e){var r=(0,n.Z)(e,3),t=r[0],a=r[1],o=r[2];t.removeListener?t.removeListener(a,o):t.removeEventListener&&t.removeEventListener(a,o)}))}}]),e}(),p=t(5318),m=t(85893);function g(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,s.Z)(e);if(r){var a=(0,s.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,l.Z)(this,t)}}var v=function(e){(0,i.Z)(t,e);var r=g(t);function t(){var e;(0,a.Z)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=r.call.apply(r,[this].concat(o))).onSubmit=function(r){e.props.hideOnSubmit&&e.props.hideModal&&e.props.hideModal(),e.props.onSubmit(r)},e.getBodyAndTitle=function(){var r=e.props.children;if(!Array.isArray(r)&&u.Children.count(r)<2)throw new Error("Expected title and body in ActionModal");var t=r[0];if(Array.isArray(t))throw new Error("title child cannot be an array");var n=u.cloneElement(t,{className:"action-modal-title "+("undefined"!==typeof t.className?t.className:"")}),a=r[1];if(Array.isArray(a))throw new Error("body child cannot be an array");return[n,u.cloneElement(a,{className:"action-modal-body"+(a.className||"")})]},e}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){var e=this;this._eventSubscriber=new f,this._eventSubscriber.listen(window.document,"keydown",(function(r){13!==r.keyCode||e.props.submitWithoutCtrl&&!r.ctrlKey&&!r.metaKey||e.props.disableSubmit||e.props.onSubmit()}))}},{key:"componentWillUnmount",value:function(){this._eventSubscriber&&this._eventSubscriber.destroy(),this._eventSubscriber=null}},{key:"render",value:function(){var e=this,r=this.getBodyAndTitle(),t=(0,n.Z)(r,2),a=t[0],o=t[1];return(0,m.jsxs)("div",{style:this.props.modalStyle,className:"jsx-1765419995 action-modal",children:[(0,m.jsx)(d(),{id:"2914610048",children:[".action-modal.jsx-1765419995{color:var(--foreground-default);}"]}),(0,m.jsx)(d(),{id:"2405390514",children:[".action-modal.jsx-1765419995{padding:35px 25px 35px;display:grid;grid-row-gap:var(--space-16);}",".action-modal-buttons.jsx-1765419995{display:grid;grid-row-gap:var(--space-8);}",".action-modal.jsx-1765419995 .action-modal-title{font-size:20px;}",".action-modal.jsx-1765419995 .action-modal-body{font-size:16px;padding-top:30px;line-height:22px;}","@media screen and (min-width:400px){.action-modal-buttons.jsx-1765419995{grid-auto-flow:column;grid-column-gap:20px;-webkit-box-pack:start;-webkit-justify-content:start;-ms-flex-pack:start;justify-content:start;}.action-modal-buttons.jsx-1765419995>button:first-child{-webkit-order:1;-ms-flex-order:1;order:1;}}","@media screen and (min-width:600px){.action-modal.jsx-1765419995{padding:75px 50px 75px;}}"]}),a,o,(0,m.jsxs)("div",{className:"jsx-1765419995 action-modal-buttons",children:[(0,m.jsx)(p.Z,{color:this.props.deleteStyle?"negative":"primary",disabled:this.props.disableSubmit,onClick:this.onSubmit,filled:!0,children:this.props.submitLabel||"Ok"},"actionModalCta"),!this.props.hideCancel&&(0,m.jsx)(p.Z,{onClick:function(){e.props.onCancel&&e.props.onCancel(),e.props.hideModal&&e.props.hideModal()},children:this.props.cancelLabel||"Cancel"},"cancel")]})]})}}]),t}(u.Component);v.defaultProps={autoFocus:!1}},4351:function(e,r,t){t.d(r,{O:function(){return k},a:function(){return j}});var n=t(59499),a=t(4730),o=t(92777),i=t(82262),l=t(81531),s=t(63553),c=t(37247),d=t(67294),u=t(76427),f=t.n(u),p=t(45697),m=t.n(p),g=t(65233),v=t(85893),h=["Component","children"];function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,c.Z)(e);if(r){var a=(0,c.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,s.Z)(this,t)}}var k=function(e){(0,l.Z)(t,e);var r=y(t);function t(){var e;(0,o.Z)(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=r.call.apply(r,[this].concat(a))).onValidation=function(r,t){e.validations[r]=t},e.onSubmit=function(r){for(var t in r.preventDefault(),e.inputs)if(e.inputs[t].validateNow(),e.validations[t])return void e.inputs[t].focus();e.props.onSubmit(r)},e.register=function(r,t){e.inputs[r]=t},e.validations={},e.inputs={},e}return(0,i.Z)(t,[{key:"getChildContext",value:function(){return{validatedForm:{register:this.register,onValidation:this.onValidation}}}},{key:"render",value:function(){var e=this.props,r=e.Component,t=e.children,n=(0,a.Z)(e,h);return(0,v.jsx)(r,x(x({},f()(n,["onSubmit"])),{},{onSubmit:this.onSubmit,children:t}))}}]),t}(d.Component);k.childContextTypes={validatedForm:m().object},k.defaultProps={Component:"form"};var j=function(e){(0,l.Z)(t,e);var r=y(t);function t(){return(0,o.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,r=this.context.validatedForm,t=r.onValidation,n=r.register;return(0,v.jsx)(g.a,x(x({},f()(this.props,["onValidation","ref"])),{},{onValidation:function(r){return t(e.props.name,r)},ref:function(r){e.input=r,n(e.props.name,r)},theme:this.props.theme}))}}]),t}(d.Component);j.contextTypes={validatedForm:m().object.isRequired},j.defaultProps={theme:"replitLight"}},1844:function(e,r,t){t.d(r,{Z:function(){return dr}});var n,a=t(90116),o=t(59499),i=t(17674),l=t(65988),s=t.n(l),c=t(67294),d=t(50988),u=t(13261),f=t(15098),p=t(43130);!function(e){e.Repl="REPL",e.Folder="FOLDER"}(n||(n={}));var m=t(35944),g=(0,p.E)(n.Repl,{beginDrag:function(e){return e.repl},endDrag:function(e,r){var t=r.getDropResult();t&&e.onMove({to:t,repl:e.repl})}},(function(e,r){return{connectDragSource:e.dragSource(),isDragging:r.isDragging()}}))((function(e){return e.connectDragSource((0,m.BX)("div",{style:{opacity:e.isDragging?.5:1},children:[e.isDragging&&(0,m.tZ)(s(),{id:"640753957",children:["header,.sidebar-layout-header{pointer-events:none;}"]}),e.children]}))})),v=(0,p.E)(n.Folder,{beginDrag:function(e){return e.folder},endDrag:function(e,r){var t=r.getDropResult();t&&t.id!==e.folder.id&&e.onMove({to:t,folder:e.folder})}},(function(e,r){return{connectDragSource:e.dragSource(),isDragging:r.isDragging()}}))((function(e){return e.connectDragSource((0,m.BX)("div",{style:{opacity:e.isDragging?.5:1},children:[e.isDragging&&(0,m.tZ)(s(),{id:"640753957",children:["header,.sidebar-layout-header{pointer-events:none;}"]}),e.children]}))})),h=t(41664),b=t(94184),x=t.n(b),y=t(59403),k=t(62872),j=t(33048),w=t(17228),Z=t(32032),O=t(29060),P=t(42177),R=t(8309),S=t(94910);function N(e){var r=e.renameFolder,t=e.moveItem,n=e.deleteFolder;return(0,m.tZ)(S.Z,{size:"large",items:[{value:"rename",label:"Rename"},{value:"move",label:"Move"},{value:"delete",label:"Delete",isDestructive:!0}],onItemClick:function(e){switch(e.value){case"rename":r();break;case"move":t();break;case"delete":n()}}})}var _=t(3316),D=t(92777),C=t(82262),E=t(81531),M=t(63553),I=t(37247),B=t(65233),F=t(85893);function z(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,I.Z)(e);if(r){var a=(0,I.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,M.Z)(this,t)}}var T=function(e){(0,E.Z)(t,e);var r=z(t);function t(e){var n;return(0,D.Z)(this,t),(n=r.call(this,e)).onKeypress=function(e){13===e.which&&n.onSubmit()},n.onInputChange=function(e){n.setState({value:e.currentTarget.value})},n.onValidation=function(e){n.setState({validation:{folderName:e}})},n.onSubmit=function(){if(!n.state.validation.folderName)return n.props.onSubmit(n.state.value);n._input&&n._input.select()},n.state={value:n.props.defaultValue||"untitled folder",validation:{folderName:null}},n}return(0,C.Z)(t,[{key:"componentDidMount",value:function(){this._input&&this._input.select()}},{key:"render",value:function(){var e=this,r=this.props,t=r.loading,n=r.hideModal,a=r.submitLabel;return(0,F.jsxs)(Z.Z,{modalStyle:{width:"450px"},hideModal:n,onSubmit:this.onSubmit,onCancel:n,submitLabel:t?"Creating...":a,disableSubmit:t,children:[(0,F.jsx)("div",{children:this.props.modalTitle}),(0,F.jsx)("div",{children:(0,F.jsx)(B.a,{name:"folderName",validator:"replFolderName",placeholder:"Folder name",value:this.state.value,onChange:this.onInputChange,ref:function(r){return e._input=r},onValidation:function(r){return e.onValidation(r)},onKeyPress:this.onKeypress})})]})}}]),t}(c.Component),X=t(50029),A=t(87794),L=t.n(A),U=t(11163),V=t(59818),H=t(61790);function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?q(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var K,$={id:"__ROOT_ID__",name:"(home)/",pathnames:["(home)/"],canEdit:!1,timeCreated:null},W=function(e){var r=e.folder,t=e.onSelect,n=e.onNavigate,a=e.isSelected,o=e.isBack,i=void 0!==o&&o;return(0,m.BX)("div",{onClick:function(){t&&t(r)},className:"jsx-2605824329 "+(x()("small-folder-row-container",{"is-selected":a})||""),children:[(0,m.BX)("div",{className:"jsx-2605824329 small-folder-title",children:[(0,m.tZ)("div",{className:"jsx-2605824329 small-folder-icon-container",children:i?(0,m.tZ)("div",{className:"jsx-2605824329 small-back-folder-icon",children:(0,m.tZ)(H.Z,{})}):(0,m.tZ)("div",{className:"jsx-2605824329 small-folder-icon",children:(0,m.tZ)(w.Z,{})})}),(0,m.tZ)("a",{onClick:function(e){return n?n(r,e):function(){}},className:"jsx-2605824329",children:r.name})]}),(0,m.tZ)("div",{className:"jsx-2605824329 small-folder-time",children:r.timeCreated?(0,V.F)(r.timeCreated):""}),(0,m.tZ)(s(),{id:"2605824329",children:[".small-folder-row-container.jsx-2605824329{height:40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 10px;}",".small-folder-row-container.jsx-2605824329:hover{cursor:pointer;background-color:var(--background-root);}",".small-folder-icon-container.jsx-2605824329{height:20px;width:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".small-back-folder-icon.jsx-2605824329{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);}",".small-folder-icon.jsx-2605824329{width:20px;}",".small-back-folder-icon.jsx-2605824329{width:17px;}",".small-folder-title.jsx-2605824329{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".small-folder-title.jsx-2605824329 a.jsx-2605824329{margin-left:20px;color:var(--foreground-dimmer);border-bottom:none;color:inherit;}",".small-folder-time.jsx-2605824329{font-size:12px;color:var(--foreground-dimmer);}",".small-folder-row-container.is-selected.jsx-2605824329:hover,.is-selected.jsx-2605824329{background-color:var(--accent-primary-default);color:var(--background-higher);}",".is-selected.jsx-2605824329 .small-folder-time.jsx-2605824329{color:inherit;}"]})]})},G=function(e){var r,t,n=e.item,a=e.isRepl,o=e.teamId,l=e.hideModal,u=/\/@([^/]*)/.exec(U.default.asPath||""),f=u?u[1]:null,p=o&&f?function(e,r){return{id:"__TEAM__".concat(e,"__"),name:"@".concat(r),pathnames:["@".concat(r)],canEdit:!1,timeCreated:null}}(o,f):$,g=c.useState(null),v=(0,i.Z)(g,2),h=v[0],b=v[1],x=c.useState(p),y=(0,i.Z)(x,2),k=y[0],j=y[1],w=c.useState([]),O=(0,i.Z)(w,2),P=O[0],R=O[1],S=(0,d.wdx)({fetchPolicy:"cache-and-network",variables:{id:k.id,teamId:o},ssr:!1,notifyOnNetworkStatusChange:!0}).data,N=function(e){b(e===h?null:e)},_=function(e,r){r.stopPropagation(),e.pathnames.length>k.pathnames.length?P.push(k):P.pop(),j(e),b(e),R(P)},D=function(){var r=(0,X.Z)(L().mark((function r(){var t,i;return L().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=[],i=[],a?t.push(n.id):i.push(n.id),e.onSubmit({variables:{destFolderId:h?h.id:"",replIds:t,folderIds:i,teamId:o}});case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),C=((null===S||void 0===S||null===(r=S.currentUser)||void 0===r||null===(t=r.replFolder)||void 0===t?void 0:t.folders)||[]).filter((function(e){return!("Unnamed"===e.name&&null===e.parentId)&&e.folderType===d.RV9.Default&&(!!a||e.id!==n.id)})).map((function(e){return Q(Q({},e),{},{pathnames:e.pathnames.slice(1)})})),E=P[P.length-1]||p,M=h?h.id:"",I="name"in n?n.name:n.title;return(0,m.BX)(Z.Z,{modalStyle:{width:"550px"},onSubmit:D,hideOnSubmit:!0,submitLabel:"Move",hideModal:l,children:[(0,m.BX)("div",{children:["Move ",I," to:"]}),(0,m.BX)("div",{children:[(0,m.BX)("div",{className:"jsx-3644966690 folder-picker-container",children:[k.pathnames&&k.pathnames.join()!==p.pathnames.join()&&(0,m.tZ)(W,{folder:Q(Q({},E),{},{name:"(up one level)"}),isBack:!0,onNavigate:_,isSelected:M===E.id}),C&&C.map((function(e){return(0,m.tZ)(W,{folder:e,onSelect:N,onNavigate:_,isSelected:e.id===M},"move-folder-".concat(e.id))})),(0,m.tZ)(s(),{id:"3644966690",children:[".folder-picker-container.jsx-3644966690{height:250px;border:1px solid gray;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:auto;}"]})]}),(0,m.BX)("div",{children:["Moving to:"," ",h?h.pathnames[h.pathnames.length-1]:k.pathnames[k.pathnames.length-1]||"(home)/"]})]})]})},J=t(59259),Y=t(58526);function ee(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function re(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ee(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function te(e,r){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"===typeof e)return ne(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ne(e,r)}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function ne(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}!function(e){e[e.RenameFolder=0]="RenameFolder",e[e.DeleteFolder=1]="DeleteFolder",e[e.MoveItem=2]="MoveItem"}(K||(K={}));var ae=function(e){var r=e.folder;if(r.folderType===d.RV9.Multiplayer)return(0,m.tZ)(y.Z,{size:20});if(r.folderType===d.RV9.Boosts)return(0,m.tZ)(k.Z,{size:20});if(r.folderType===d.RV9.AlwaysOn)return(0,m.tZ)(j.Z,{size:20});if(r.folderType===d.RV9.Team){var t=r.image?{url:r.image}:void 0;return(0,m.tZ)(O.Z,{image:t})}return r.folderType===d.RV9.AllTeams?(0,m.tZ)(y.Z,{size:20}):(0,m.tZ)(w.Z,{size:20})},oe=function(e){var r=e.folder,t=e.teamId,n=e.username,a=e.onDelete,o=e.onMove,l=(0,c.useState)(null),u=l[0],f=l[1],p=(0,_.Z)(),g=p.showConfirm,v=p.showError,b=(0,c.useState)(""),y=b[0],k=b[1],j=(0,U.useRouter)(),w=(0,d.AIu)(),O=(0,i.Z)(w,2),S=O[0],D=O[1],C=(0,d.wSv)({variables:{folderId:r.id}}),E=(0,i.Z)(C,2),M=E[0],I=E[1],B=(0,d.ZJB)(),F=(0,i.Z)(B,2),z=F[0],X=F[1],A=(0,Y.Z)("flag-profile-2"),L="/replsDashboard"===j.pathname,V=[D.error,I.error,X.error];(0,c.useEffect)((function(){var e,r=te(V);try{for(r.s();!(e=r.n()).done;){var t=e.value;t&&(t.graphQLErrors[0]&&t.graphQLErrors[0].message?v(t.graphQLErrors[0].message):v("Something went wrong when updating this folder"))}}catch(n){r.e(n)}finally{r.f()}}),V),(0,c.useEffect)((function(){I.data&&(g("Folder deleted"),a())}),[I.data]),(0,c.useEffect)((function(){D.data&&g("Folder renamed")}),[D.data]),(0,c.useEffect)((function(){X.data&&(g("Folder moved"),o())}),[X.data]);var H=r.pathnames.slice(1).join("/");return(0,m.BX)("div",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]]),children:[(0,m.tZ)(h.default,re(re({},A&&n?(0,R.wQ)({pathnames:r.pathnames,username:n}):(0,R.xd)({pathnames:r.pathnames})),{},{children:(0,m.BX)("a",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]])+" "+(x()("folder-item",{team:r.folderType===d.RV9.Team})||""),children:[(0,m.tZ)("div",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]])+" icon",children:(0,m.tZ)(ae,{folder:r})}),(0,m.BX)("div",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]])+" name",children:[r.name,r.replsCount?" (".concat(r.replsCount,")"):null]}),(0,m.tZ)("div",{title:r.canEdit?r.timeCreated.toLocaleString().replace(",",""):void 0,className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]])+" time",children:r.canEdit?(0,R.Sy)(new Date(r.timeCreated)):null}),(0,m.tZ)("div",{onClick:function(e){return e.preventDefault()},className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]])+" actions",children:r.canEdit?(0,m.tZ)(N,{renameFolder:function(){return f(K.RenameFolder)},deleteFolder:function(){return f(K.DeleteFolder)},moveItem:function(){return f(K.MoveItem)}}):null})]})})),(0,m.BX)(J.Z,{isOpen:null!==u,onRequestClose:function(){f(null)},children:[u===K.RenameFolder?(0,m.tZ)(T,{defaultValue:r.name,submitLabel:"Rename",modalTitle:"Rename Folder",hideModal:function(){return f(null)},onSubmit:function(e){!function(e){D.loading||S({variables:{folderId:r.id,name:e}})}(e),f(null)},loading:D.loading}):null,u===K.DeleteFolder?(0,m.BX)(Z.Z,{modalStyle:{maxWidth:"550px"},onSubmit:function(e){e&&e.preventDefault(),I.loading||(f(null),M())},deleteStyle:!0,submitLabel:I.loading?"Deleting...":"Delete",disableSubmit:y!==H,hideModal:function(){f(null)},children:[(0,m.tZ)("div",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]]),children:"Delete Folder"}),(0,m.BX)("div",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]]),children:["This will remove all folders and repls within. Type in the name of the folder to continue.",(0,m.tZ)("br",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]])}),(0,m.tZ)("br",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]])}),"Folder: ",H,(0,m.tZ)("br",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]])}),(0,m.tZ)("br",{className:s().dynamic([["237905469",[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"]]])}),(0,m.tZ)(P.ZP,{disabled:!!I.loading,value:y,autoFocus:!0,onChange:function(e){return k(e.currentTarget.value)}})]})]}):null,u===K.MoveItem?(0,m.tZ)(G,{item:r,teamId:t,isRepl:!1,onSubmit:function(e){X.loading||z(e)},hideModal:function(){return f(null)}}):null]}),(0,m.tZ)(s(),{id:"237905469",dynamic:[L?"var(--background-default)":"auto",L?"var(--foreground-dimmer)":"var(--forground-default)",L?"var(--background-higher)":"var(--background-default)",L?"var(--foreground-default)":"auto"],children:[".folder-item.__jsx-style-dynamic-selector{position:relative;display:grid;grid-template-columns:40px 1fr 20% auto;grid-column-gap:20px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;min-height:64px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:var(--space-8);border-radius:var(--border-radius-4);background-color:".concat(L?"var(--background-default)":"auto",";color:").concat(L?"var(--foreground-dimmer)":"var(--forground-default)",";font-size:var(--font-size-subhead-default);-webkit-text-decoration:none;text-decoration:none;}"),".folder-item.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector{color:var(--foreground-default);color:var(--background-default);}",".folder-item.__jsx-style-dynamic-selector:hover{background-color:".concat(L?"var(--background-higher)":"var(--background-default)",";color:").concat(L?"var(--foreground-default)":"auto",";}"),".icon.__jsx-style-dynamic-selector{padding:0 6px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".name.__jsx-style-dynamic-selector{font-size:20px;}",".folder-item.team.__jsx-style-dynamic-selector .name.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector{font-weight:500;color:var(--foreground-default);}",".time.__jsx-style-dynamic-selector{white-space:nowrap;font-size:var(--font-size-small);overflow:hidden;text-overflow:ellipsis;}"]})]})},ie=t(29072),le=t(48706);function se(e){var r=e.repl,t=e.editRepl,n=e.deleteRepl,a=e.forkRepl,o=e.moveItem,i=e.togglePinnedToProfile,l=e.removeMultiplayerRepl,s=r.currentUserPermissions,c=[];if((s.changeTitle||s.changeDescription)&&c.push({label:"Edit",value:"edit"}),s.viewHistory&&r.historyUrl){var d={href:{pathname:"/replHistory",query:{slug:r.slug}},as:r.historyUrl};c.push({label:"History",value:"history",link:d})}return s.fork&&c.push({label:"Fork",value:"fork"}),s.move&&c.push({label:"Move",value:"move"}),s.pin&&c.push({label:r.pinnedToProfile?"Unpin":"Pin",value:"pin"}),s.delete&&c.push({label:"Delete",value:"delete",isDestructive:!0}),s.leaveMultiplayer&&c.push({label:"Remove",value:"remove",isDestructive:!0}),(0,m.tZ)(S.Z,{size:"large",items:c,onItemClick:function(e){switch(e.value){case"edit":t();break;case"history":break;case"fork":a();break;case"move":o();break;case"pin":i();break;case"remove":l();break;case"delete":n()}}})}function ce(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function de(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ce(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ce(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var ue=function(e){return(0,m.tZ)("svg",de(de({width:20,height:18,viewBox:"0 0 14 18",fill:e.color},e),{},{children:(0,m.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2h2a2 2 0 012 2v2c0 .364-.097.706-.268 1H4.268A1.99 1.99 0 014 6V4a2 2 0 012-2zM2.126 7A4.007 4.007 0 012 6V4a4 4 0 014-4h2a4 4 0 014 4v2c0 .345-.044.68-.126 1H12a2 2 0 012 2v7a2 2 0 01-2 2H2a2 2 0 01-2-2V9a2 2 0 012-2h.126z"})}))},fe=t(53769),pe=function(e){var r=e.enabled,t=e.onChange;return(0,m.BX)("div",{onClick:t,className:"jsx-3827270095 "+(x()("privacy-toggle-root",{enabled:r})||""),children:[!r&&(0,m.tZ)("div",{className:"jsx-3827270095 privacy-toggle-element",children:(0,m.tZ)("div",{className:"jsx-3827270095 icon",children:(0,m.tZ)(fe.Globe,{color:"var(--background-default)"})})}),r&&(0,m.tZ)("div",{className:"jsx-3827270095 privacy-toggle-element",children:(0,m.tZ)(ue,{color:"var(--background-default)"})}),(0,m.tZ)(s(),{id:"3827270095",children:[".privacy-toggle-root.jsx-3827270095{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-radius:24px;background-color:var(--background-default);border:1.5px solid var(--outline-dimmest);height:24px;width:40px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:var(--foreground-dimmer);}",".privacy-toggle-root.enabled.jsx-3827270095{background-color:var(--foreground-dimmest);-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;}",".icon.jsx-3827270095{height:18px;width:18px;}",".privacy-toggle-element.jsx-3827270095{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:100%;padding:0 2px;}"]})]})},me=function(){return(0,m.BX)("svg",{className:"double-user-icon-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.391 8.483",children:[(0,m.tZ)("defs",{className:"jsx-4165441060",children:(0,m.tZ)(s(),{id:"4165441060",children:[".double-user-icon-svg{width:100%;height:100%;}",".double-user-icon-svg .cls-1{fill:#4e2f8a;}",".double-user-icon-svg .cls-2{fill:none;}"]})}),(0,m.BX)("g",{children:[(0,m.tZ)("ellipse",{className:"cls-1",cx:"4.62",cy:"2.406",rx:"2.14",ry:"2.02"}),(0,m.tZ)("path",{className:"cls-1",d:"M.745,8.1C3.2,4.6,6.421,4.9,8.679,8.1Z"}),(0,m.tZ)("ellipse",{className:"cls-1",cx:"11.586",cy:"2.406",rx:"2.14",ry:"2.02"}),(0,m.tZ)("path",{className:"cls-1",d:"M7.712,8.1c2.453-3.5,5.676-3.2,7.934,0Z"}),(0,m.tZ)("rect",{className:"cls-2",width:"16.391",height:"8.483"})]})]})},ge=t(94972),ve=t(60887),he=function(e){var r=e.fill,t=e.stroke,n=e.name;return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24.956 24.818",width:"24.956",height:"24.818",children:[(0,F.jsx)("defs",{children:(0,F.jsx)("style",{children:"\n        .repl-star-svg-".concat(n," {\n          fill:").concat(r,";\n          stroke:").concat(t,";\n          stroke-miterlimit:10;\n        }\n      ")})}),(0,F.jsx)("path",{className:"repl-star-svg-".concat(n),d:"M23.319,9.255h-7.6a.474.474,0,0,1-.452-.332l-2.313-7.4a.474.474,0,0,0-.9,0l-2.313,7.4a.474.474,0,0,1-.452.332h-7.6a.474.474,0,0,0-.284.853l6.189,4.64a.474.474,0,0,1,.168.52L5.31,23.077a.474.474,0,0,0,.748.511L12.2,18.673a.474.474,0,0,1,.592,0l6.145,4.916a.474.474,0,0,0,.748-.511l-2.441-7.809a.474.474,0,0,1,.168-.52l6.189-4.64A.474.474,0,0,0,23.319,9.255Z"})]})},be=function(e){var r=e.selected,t=e.onClick,n=e.children;return(0,F.jsxs)("div",{onClick:t,className:"jsx-329072442 "+(x()("repl-star",{"repl-star-selected":r})||""),children:[(0,F.jsx)("div",{className:"jsx-329072442 repl-star-active",children:(0,F.jsx)(xe,{})}),(0,F.jsx)("div",{className:"jsx-329072442 repl-star-hover",children:(0,F.jsx)(ye,{})}),(0,F.jsx)("div",{className:"jsx-329072442 repl-star-inactive",children:(0,F.jsx)(ke,{})}),(0,F.jsx)("div",{className:"jsx-329072442 repl-star-tooltip",children:n}),(0,F.jsx)(s(),{id:"329072442",children:[".repl-star.jsx-329072442{width:40px;height:40px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;}",".repl-star-hover.jsx-329072442,.repl-star-active.jsx-329072442,.repl-star-inactive.jsx-329072442{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}",".repl-star-hover.jsx-329072442,.repl-star-active.jsx-329072442{display:none;}",".repl-star.jsx-329072442:hover .repl-star-active.jsx-329072442,.repl-star.jsx-329072442:hover .repl-star-inactive.jsx-329072442{display:none;}",".repl-star.jsx-329072442:hover .repl-star-hover.jsx-329072442{display:block;}",".repl-star-selected.jsx-329072442:hover .repl-star-hover.jsx-329072442{display:none;}",".repl-star-selected.jsx-329072442:hover .repl-star-active.jsx-329072442,.repl-star.jsx-329072442:active .repl-star-active.jsx-329072442,.repl-star-selected.jsx-329072442 .repl-star-active.jsx-329072442{display:block;}",".repl-star-selected.jsx-329072442 .repl-star-inactive.jsx-329072442,.repl-star-selected.jsx-329072442 .repl-star-hover.jsx-329072442{display:none;}",".repl-star.jsx-329072442:hover .repl-star-tooltip.jsx-329072442{display:block;}",".repl-star-tooltip.jsx-329072442{z-index:1;display:none;position:absolute;top:-5px;left:50%;-webkit-transform:translate(-50%,-100%);-ms-transform:translate(-50%,-100%);transform:translate(-50%,-100%);}"]})]})},xe=function(){return(0,F.jsx)(he,{fill:"var(--accent-yellow-default)",stroke:"var(--accent-yellow-default)",name:"active"})},ye=function(){return(0,F.jsx)(he,{fill:"var(--foreground-dimmest)",stroke:"var(--accent-yellow-default)",name:"hover"})},ke=function(){return(0,F.jsx)(he,{fill:"var(--foreground-dimmest)",stroke:"var(--outline-dimmest)",name:"inactive"})},je=t(10748),we=t(4351),Ze=t(36732);function Oe(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=(0,I.Z)(e);if(r){var a=(0,I.Z)(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return(0,M.Z)(this,t)}}var Pe,Re=function(e){(0,E.Z)(t,e);var r=Oe(t);function t(e){var n;return(0,D.Z)(this,t),(n=r.call(this,e)).onSubmit=function(){n.props.onSubmit(n.state)},n.state={title:n.props.repl.title,description:n.props.repl.description||""},function(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];t.forEach((function(r){e["on".concat(r[0].toUpperCase()).concat(r.slice(1),"Change")]=function(t){var n;n=t&&t.target&&void 0!==t.currentTarget.value?t.currentTarget.value:t,e.setState((0,o.Z)({},r,n))}}))}((0,je.Z)(n),"title","description"),n}return(0,C.Z)(t,[{key:"render",value:function(){return(0,F.jsxs)(Z.Z,{hideModal:this.props.hideModal,onCancel:this.props.hideModal,onSubmit:this.onSubmit,submitLabel:"Save",children:[(0,F.jsx)("div",{children:"Edit repl"}),(0,F.jsxs)(we.O,{onSubmit:this.onSubmit,children:[(0,F.jsx)(s(),{id:"1345320176",children:[".EditReplModal__label.jsx-1345320176{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:414px;margin:10px 0px 30px;}",".EditReplModal__span.jsx-1345320176{font-size:19px;color:var(--foreground-dimmer);margin-bottom:15px;}"]}),(0,F.jsxs)("label",{className:"jsx-1345320176 EditReplModal__label",children:[(0,F.jsxs)("span",{className:"jsx-1345320176 EditReplModal__span",children:[" ",(0,F.jsx)(Ze.Z,{level:4,children:"Title"})]}),(0,F.jsx)(we.a,{autoFocus:!0,name:"title",placeholder:"title",validator:"replTitle",value:this.state.title,onChange:this.onTitleChange})]}),(0,F.jsxs)("label",{className:"jsx-1345320176 EditReplModal__label",children:[(0,F.jsx)("span",{className:"jsx-1345320176 EditReplModal__span",children:(0,F.jsx)(Ze.Z,{level:4,children:"Description"})}),(0,F.jsx)(we.a,{name:"description",placeholder:"description",validator:"replDescription",value:this.state.description,onChange:this.onDescriptionChange})]})]})]})}}]),t}(c.Component),Se=Re,Ne=t(80618),_e=t(40090),De=t(88256);function Ce(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ee(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ce(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ce(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Me(e,r){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"===typeof e)return Ie(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ie(e,r)}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function Ie(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}!function(e){e.EditRepl="EditRepl",e.ForkRepl="ForkRepl",e.DeleteRepl="DeleteRepl",e.RemoveRepl="RemoveRepl",e.MoveItem="MoveItem",e.Subscribe="Subscribe"}(Pe||(Pe={}));var Be=function(e){var r,t=e.repl,n=e.onDelete,a=e.onMove,o=e.teamId,l=(0,d.G5p)(),u=(0,i.Z)(l,2),f=u[0],p=u[1],g=(0,_e.Z)(),v=(0,i.Z)(g,2),b=v[0],x=v[1].loading,y=(0,d.x$w)({variables:{replId:t.id}}),j=(0,i.Z)(y,2),w=j[0],P=j[1],S=(0,d.ZJB)(),N=(0,i.Z)(S,2),D=N[0],C=N[1],E=(0,d.cM2)({variables:{replId:t.id}}),M=(0,i.Z)(E,2),I=M[0],B=M[1],F=(0,d.kEC)({variables:{id:t.id},update:(0,Ne.t)({id:t.id})}),z=(0,i.Z)(F,2),T=z[0],X=z[1],A=(0,d.CWT)({variables:{id:t.id}}),L=(0,i.Z)(A,2),V=L[0],H=L[1],q=(0,c.useState)(null),Q=q[0],K=q[1],$=(0,_.Z)(),W=$.showConfirm,Y=$.showError,ee="/replsDashboard"===(0,U.useRouter)().pathname,re=[p.error,P.error,B.error,X.error,H.error,C.error];(0,c.useEffect)((function(){var e,r=Me(re);try{for(r.s();!(e=r.n()).done;){var t=e.value;t&&(t.graphQLErrors[0]&&t.graphQLErrors[0].message?Y(t.graphQLErrors[0].message):Y("Something went wrong when updating this repl"))}}catch(n){r.e(n)}finally{r.f()}}),re),(0,c.useEffect)((function(){X.data&&(W("Repl deleted"),n())}),[X.data]),(0,c.useEffect)((function(){H.data&&(W("Repl removed"),n())}),[H.data]),(0,c.useEffect)((function(){C.data&&(W("Repl moved"),a())}),[C.data]),(0,c.useEffect)((function(){(P.called||B.called)&&W((0,m.BX)("span",{children:[t.pinnedToProfile?"Repl pinned to profile":"Repl unpinned to profile",(0,m.tZ)("br",{}),t.user?(0,m.tZ)("a",{href:t.user.url,target:"_blank",children:"View Profile"}):null]}))}),[t.pinnedToProfile]);var te=function(){if(!p.loading){var e=!t.isPrivate;f({variables:{input:{id:t.id,isPrivate:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:Ee(Ee({},t),{},{isPrivate:e})}}}).then((function(r){r.errors||W(e?"Repl Made Private":"Repl Made Public")}))}},ne=t.currentUserPermissions.star,ae=t.currentUserPermissions.changePrivacy!==d.HA$.Disallowed;return(0,m.BX)("div",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]]),children:[(0,m.tZ)(h.default,Ee(Ee({},(0,le.aq)(t)),{},{children:(0,m.BX)("a",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" repl-item",children:[ne?(0,m.tZ)("div",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" star",children:(0,m.tZ)(be,{selected:t.isStarred,onClick:function(e){if(e.preventDefault(),!p.loading){var r=!t.isStarred;f({variables:{input:{id:t.id,isStarred:r}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:Ee(Ee({},t),{},{isStarred:r})}}}).then((function(e){e.errors||W(r?"Repl Starred":"Repl Unstarred")}))}}})}):null,ae?(0,m.tZ)("div",{"aria-label":t.isPrivate?"Private. Only you and invited multiplayers can see this repl.":"Public. Anyone can see this repl.","data-microtip-position":"right",role:"tooltip",className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" privacy-toggle",children:(0,m.tZ)(pe,{enabled:t.isPrivate,onChange:function(e){e.preventDefault(),t.isPrivate||t.currentUserPermissions.changePrivacy!==d.HA$.SubscriptionRequired?te():K(Pe.Subscribe)}})}):null,(0,m.BX)("div",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" title",children:[(0,m.tZ)("span",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" title-link",children:t.title}),t.isBoosted&&(0,m.tZ)("div",{"aria-label":"Boosted","data-microtip-position":"bottom",role:"tooltip",className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" boosts-indicator",children:(0,m.tZ)(k.Z,{size:12,color:"var(--accent-positive-default)"})}),t.isAlwaysOn&&(0,m.tZ)("div",{"aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip",className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" always-on-indicator"}),t.isOwner?null:(0,m.tZ)("div",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" multiplayer-icon",children:(0,m.tZ)(me,{})})]}),!t.isOwner&&t.user?(0,m.tZ)(h.default,Ee(Ee({},(0,ge.Ru)(t.user)),{},{children:(0,m.BX)("a",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" user-link",children:[(0,m.tZ)(O.Z,{size:"inherit",url:t.user.image}),(0,m.BX)("div",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" user-name-link",children:["@",t.user.username]})]})})):null,(0,m.tZ)("div",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" language",children:t.templateInfo.label}),(0,m.tZ)("div",{title:t.timeCreated.toLocaleString().replace(",",""),className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" time",children:(0,R.Sy)(new Date(t.timeCreated))}),t.isOwner?(0,m.tZ)("div",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" size",children:(0,R.or)({bytes:t.size})}):null,(0,m.tZ)("div",{onClick:function(e){return e.preventDefault()},className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]])+" actions",children:(0,m.tZ)(se,{editRepl:function(){return K(Pe.EditRepl)},deleteRepl:function(){return K(Pe.DeleteRepl)},removeMultiplayerRepl:function(){return K(Pe.RemoveRepl)},togglePinnedToProfile:function(){P.loading||B.loading||(t.pinnedToProfile?I():w())},moveItem:function(){return K(Pe.MoveItem)},forkRepl:function(){x||K(Pe.ForkRepl)},repl:t})})]})})),(0,m.tZ)(J.Z,{isOpen:Q===Pe.EditRepl,onRequestClose:function(){return K(null)},children:(0,m.tZ)(Se,{repl:t,onSubmit:function(e){K(null),function(e){var r=e.title,n=e.description;p.loading||f({variables:{input:{id:t.id,title:r,description:n}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:Ee(Ee({},t),{},{title:r})}}}).then((function(e){e.errors||W("Repl Updated")}))}(e)},hideModal:function(){return K(null)}})}),(0,m.tZ)(J.Z,{isOpen:Q===Pe.DeleteRepl,onRequestClose:function(){return K(null)},children:(0,m.tZ)(ie.Z,{name:t.title,entityType:"Repl",delete:function(){X.loading||T()},hideModal:function(){return K(null)}})}),(0,m.tZ)(J.Z,{isOpen:Q===Pe.MoveItem,onRequestClose:function(){return K(null)},children:(0,m.tZ)(G,{item:t,teamId:o,isRepl:!0,onSubmit:function(e){C.loading||D(e)},hideModal:function(){return K(null)}})}),(0,m.tZ)(J.Z,{isOpen:Q===Pe.RemoveRepl,onRequestClose:function(){return K(null)},children:(0,m.BX)(Z.Z,{onSubmit:function(){H.loading||V()},onCancel:function(){return K(null)},hideModal:function(){return K(null)},deleteStyle:!0,children:[(0,m.tZ)("div",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]]),children:"Remove Shared Repl"}),(0,m.tZ)("div",{className:s().dynamic([["1085828677",[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"]]]),children:"You will no longer be able to access this repl."})]})}),(0,m.tZ)(J.Z,{isOpen:Q===Pe.ForkRepl,onRequestClose:function(){return K(null)},children:(0,m.tZ)(De.Z,{onFork:function(e,r){b({originId:t.id,teamId:e,title:r,forkToPersonal:!o||!e,trackingData:{forkSource:"replsDashboard"}})},initialValue:t.title,hideModal:function(){return K(null)},teamContext:null===(r=t.user)||void 0===r?void 0:r.username})}),(0,m.tZ)(ve.Z,{isOpen:Q===Pe.Subscribe,onClose:function(){return K(null)},trackingInfo:{context:"repls-dashboard-page"}}),(0,m.tZ)(s(),{id:"1085828677",dynamic:[ne?"40px":"",ae?"48px":"",ne||ae?"0":"10px",ee?"var(--foreground-dimmer)":"var(--foreground-default)",ee?"var(--background-default)":"var(--background-root)",ee?"var(--foreground-default)":"auto",ee?"var(--background-higher)":"var(--background-default)",ee?"auto":"var(--foreground-dimmer)"],children:[".repl-item.__jsx-style-dynamic-selector{position:relative;display:grid;grid-template-columns: ".concat(ne?"40px":""," ").concat(ae?"48px":""," minmax( 125px, 1fr ) 0.5fr 0.5fr 0.25fr 36px;-webkit-column-gap:10px;column-gap:10px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:var(--space-8);border-radius:var(--border-radius-4);min-height:64px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:").concat(ee?"var(--foreground-dimmer)":"var(--foreground-default)",";font-size:var(--font-size-subhead-default);-webkit-text-decoration:none;text-decoration:none;background-color:").concat(ee?"var(--background-default)":"var(--background-root)",";}"),".repl-item.__jsx-style-dynamic-selector:hover{color:".concat(ee?"var(--foreground-default)":"auto",";background-color:").concat(ee?"var(--background-higher)":"var(--background-default)",";}"),".user-name-link.__jsx-style-dynamic-selector{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}",".privacy-toggle.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".user-link.__jsx-style-dynamic-selector{display:grid;grid-template-columns:20px 1fr;grid-column-gap:10px;}",".actions.__jsx-style-dynamic-selector{position:relative;}",".title.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".title-link.__jsx-style-dynamic-selector{font-size:16px;text-overflow:ellipsis;overflow:hidden;}",".hosted-url-link.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:20px;height:20px;color:var(--foreground-dimmest);}",".private-icon.__jsx-style-dynamic-selector,.hosted-url-link.__jsx-style-dynamic-selector{margin-left:10px;}",".multiplayer-icon.__jsx-style-dynamic-selector{margin-left:5px;width:var(--space-16);height:var(--space-16);}",".size.__jsx-style-dynamic-selector,.time.__jsx-style-dynamic-selector,.language.__jsx-style-dynamic-selector{color:".concat(ee?"auto":"var(--foreground-dimmer)",";white-space:nowrap;font-size:var(--font-size-small);overflow:hidden;text-overflow:ellipsis;}"),".always-on-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-8);width:8px;height:8px;border-radius:100%;background-color:var(--accent-green-default);box-shadow:0 0 12px var(--accent-green-default);}",".boosts-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}","@media screen and (min-width:700px){.title-link.__jsx-style-dynamic-selector{font-size:var(--font-size-subhead-default);}}"]})]})},Fe=t(83984),ze=t(5318),Te=function(e){var r=e.onCreate,t=e.parentId,n=e.teamId,a=(0,c.useState)(!1),o=a[0],l=a[1],u=(0,_.Z)(),f=u.showConfirm,p=u.showError,g=(0,d.K7o)(),v=(0,i.Z)(g,2),h=v[0],b=v[1];return(0,c.useEffect)((function(){b.data?(f("Folder created"),l(!1),r()):b.error&&p(b.error.graphQLErrors[0].message)}),[b.data,b.error,r,f,p]),(0,m.BX)(m.HY,{children:[(0,m.tZ)(J.Z,{isOpen:o,onRequestClose:function(){l(!1)},children:(0,m.tZ)(T,{submitLabel:"Create",onSubmit:function(e){b.loading||h({variables:{name:e,parentId:t,teamId:n}})},hideModal:function(){l(!1)},modalTitle:"New Folder",showError:p,loading:b.loading})}),(0,m.tZ)(ze.Z,{Icon:Fe.Z,onClick:function(){return l(!0)},children:"new folder"}),(0,m.tZ)(s(),{id:"2930180808",children:[".new-button.jsx-2930180808{height:16px;display:grid;grid-template-columns:35px auto;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]})]})},Xe=function(e){var r=e.fillColor;return(0,F.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"back-folder-icon",viewBox:"0 0 22.3 18.4",children:[(0,F.jsx)("defs",{className:"jsx-2139125080",children:(0,F.jsx)(s(),{id:"2139125080",children:[".back-folder-icon{height:100%;width:100%;}",".st1{fill:currentColor;}"]})}),(0,F.jsxs)("g",{children:[(0,F.jsx)("rect",{x:"1.8",y:"3.7",style:{fill:r},width:"18.5",height:"12.9"}),(0,F.jsxs)("g",{children:[(0,F.jsx)("path",{className:"st1",d:"M18.5,3V0.8h-6.8V3H1v14.6h20.3V3H18.5z M20,16.3H2.2V4.2h10.8V2.1h4.3v2.1H20V16.3z"}),(0,F.jsx)("rect",{x:"12",y:"2",className:"st1",width:"5.6",height:"2.2"})]})]}),(0,F.jsx)("g",{children:(0,F.jsx)("g",{children:(0,F.jsx)("g",{children:(0,F.jsx)("polygon",{className:"st1",points:"10.3,11.1 16.2,11.1 16.2,9.4 10.3,9.4 10.3,6.9 6.8,10.3 10.3,13.8      "})})})})]})};function Ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Le(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ae(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Ue=function(e){var r=e.pathnames,t=e.username,n=(0,Y.Z)("flag-profile-2");return(0,m.tZ)(h.default,Le(Le({},n&&t?(0,R.wQ)({pathnames:r,username:t}):(0,R.xd)({pathnames:r})),{},{children:(0,m.BX)("a",{className:"jsx-933691819",children:[(0,m.tZ)("div",{className:"jsx-933691819 icon",children:(0,m.tZ)(Xe,{fillColor:"var(--background-root)"})}),(0,m.tZ)("div",{className:"jsx-933691819",children:"(up 1 level)"}),(0,m.tZ)(s(),{id:"933691819",children:[".icon.jsx-933691819{color:var(--foreground-dimmest);padding:0 8px;}","a.jsx-933691819{min-height:64px;display:grid;grid-column-gap:20px;grid-template-columns:40px auto;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;padding:var(--space-8);border-radius:var(--border-radius-4);color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default);-webkit-text-decoration:none;text-decoration:none;}","a.jsx-933691819:hover{background-color:var(--background-higher);}"]})]})}))},Ve=(0,t(53566).G)([n.Repl,n.Folder],{drop:function(e){return e.folder}},(function(e,r){return{connectDropTarget:e.dropTarget(),isOver:r.isOver(),canDrop:r.canDrop(),item:r.getItem()}}))((function(e){var r=e.isOver&&e.canDrop&&e.item&&e.item.id!==e.folder.id;return e.connectDropTarget((0,m.BX)("div",{className:"jsx-2979131147 "+(x()({"is-active":r})||""),children:[e.children,(0,m.tZ)(s(),{id:"2979131147",children:[".is-active.jsx-2979131147{background:var(--accent-primary-default);}"]})]}))})),He=t(91296),qe=t.n(He),Qe=function(e){var r=e.loadMore,t=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e=qe()((function(){t.current&&function(e){var r=e.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)}(t.current)&&r()}),200);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[r]),(0,m.tZ)("div",{ref:t})},Ke="var(--accent-yellow-dimmer)",$e="var(--accent-yellow-dimmest)",We="var(--accent-yellow-default)",Ge=38,Je=69,Ye=3,er={width:Ge-Ye,height:Ge-4},rr=function(e){var r=e.onClick,t=e.enabled,n=e.title;return(0,F.jsxs)("div",{onClick:r,title:n,className:"jsx-3386968038 "+(x()("star-toggle",{"star-toggle-toggled":t})||""),children:[(0,F.jsxs)("div",{className:"jsx-3386968038 star-toggle-control",children:[(0,F.jsx)("div",{className:"jsx-3386968038 star-toggle-icon",children:(0,F.jsx)(he,{stroke:"none",fill:"var(--foreground-dimmest)",name:"star-toggle-icon"})}),(0,F.jsx)("div",{className:"jsx-3386968038 star-toggle-icon-active",children:(0,F.jsx)(he,{stroke:"none",fill:"var(--background-root)",name:"star-toggle-icon-active"})})]}),(0,F.jsx)(s(),{id:"3386968038",children:[".star-toggle.jsx-3386968038{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:".concat(Je,"px;height:").concat(Ge,"px;background-color:var(--background-root);border:1.5px solid var(--outline-dimmest);-webkit-transition:background-color 200ms;transition:background-color 200ms;border-radius:").concat(Ge,"px;position:relative;}"),".star-toggle.jsx-3386968038:hover{border-color:".concat($e,";}"),".star-toggle.star-toggle-toggled.jsx-3386968038{background-color:".concat(Ke,";border-color:").concat(Ke,";}"),".star-toggle-control.jsx-3386968038{-webkit-transition:-webkit-transform 200ms;-webkit-transition:transform 200ms;transition:transform 200ms;border-radius:50%;width:".concat(er.width,"px;height:").concat(er.height,"px;position:absolute;background-color:var(--background-default);top:50%;-webkit-transform:translate(").concat(Ye,"px,-50%);-ms-transform:translate(").concat(Ye,"px,-50%);transform:translate(").concat(Ye,"px,-50%);}"),".star-toggle.star-toggle-toggled.jsx-3386968038 .star-toggle-control.jsx-3386968038{background-color:".concat(We,";-webkit-transform:translate( ").concat(Je-er.width-Ye,"px, -50% );-ms-transform:translate( ").concat(Je-er.width-Ye,"px, -50% );transform:translate( ").concat(Je-er.width-Ye,"px, -50% );}"),".star-toggle-icon.jsx-3386968038,.star-toggle-icon-active.jsx-3386968038{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}",".star-toggle-icon.jsx-3386968038 svg.jsx-3386968038,.star-toggle-icon-active.jsx-3386968038 svg.jsx-3386968038{display:block;}",".star-toggle-icon-active.jsx-3386968038{display:none;}",".star-toggle-toggled.jsx-3386968038 .star-toggle-icon-active.jsx-3386968038{display:block;}",".star-toggle-toggled.jsx-3386968038 .star-toggle-icon.jsx-3386968038{display:none;}"]})]})};function tr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function nr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?tr(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var ar=function(e){var r=e.starred,t=e.username,n=(0,U.useRouter)(),a=(0,Y.Z)("flag-profile-2");return(0,m.tZ)(h.default,{href:{pathname:n.pathname,query:nr(nr({},r?{}:{starred:!0}),{},{username:t})},as:{pathname:a?"/@".concat(t):"/repls",query:nr(nr({},r?{}:{starred:!0}),{},{username:t})},scroll:!1,shallow:!0,children:(0,m.tZ)("a",{children:(0,m.tZ)(rr,{enabled:r,onClick:void 0,title:"toggle starred"})})})},or=t(51595),ir=t(85776),lr=t(18952);function sr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function cr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?sr(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var dr=function(e){var r,t,n=e.path,o=e.starred,l=(0,d.qFo)({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{path:n,starred:o},ssr:!1,notifyOnNetworkStatusChange:!0}),c=l.data,p=l.loading,h=l.refetch,b=l.fetchMore,x=(0,_.Z)(),y=x.showError,k=x.showConfirm,j=(0,d.ZJB)({onError:function(e){return y(e.message)},update:function(e,r){var t=r.data;t&&P&&(t.moveItemsToFolder.forEach((function(r){e.modify({id:e.identify({__typename:"ReplFolder",id:P.id}),optimistic:!0,fields:{folders:function(e,t){var n=t.readField;if("ReplFolder"!==r.__typename)return e;var a=e.filter((function(e){return n("id",e)!==r.id}));return a},repls:function(e,t){var n=t.readField;if("Repl"!==r.__typename)return e;var a=e.items.filter((function(e){return n("id",e)!==r.id}));return{pageInfo:e.pageInfo,items:a}}}})})),k("Item moved!"))}}),w=(0,i.Z)(j,2),Z=w[0],O=w[1],P=c&&c.currentUser&&c.currentUser.replFolderByPath?c.currentUser.replFolderByPath:null,R=c&&(null===(r=c.currentUser)||void 0===r?void 0:r.username),S=1===(null===P||void 0===P?void 0:P.pathnames.length)&&""===(null===P||void 0===P?void 0:P.pathnames[0])||null===P||void 0===P?void 0:P.id,N=!!o,D=P&&P.folders.length+P.repls.items.length===0,C=P&&1===P.folders.length&&0===P.repls.items.length&&"multiplayer"===P.folders[0].pathnames[0],E=!N&&(D||C)&&((null===P||void 0===P?void 0:P.canEdit)||!S),M=P&&P.repls.pageInfo.nextCursor?P&&P.repls.pageInfo.nextCursor:null,I=null!==P&&void 0!==P&&P.ownerId&&(null===P||void 0===P?void 0:P.ownerId)!==(null===c||void 0===c||null===(t=c.currentUser)||void 0===t?void 0:t.id)?P.ownerId:void 0,B=function(e){if(!O.loading){var r="repl"in e?[e.repl.id]:[],t="folder"in e?[e.folder.id]:[];Z({variables:{replIds:r,folderIds:t,destFolderId:e.to.id,teamId:I}})}};return!c&&p?(0,m.BX)("div",{className:"jsx-3293788108 spinner",children:[(0,m.tZ)(u.Z,{}),(0,m.tZ)(s(),{id:"3293788108",children:[".spinner.jsx-3293788108{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:20px;width:100%;height:100%;}"]})]}):P?(0,m.BX)("div",{className:"jsx-253992840",children:[(0,m.BX)("div",{className:"jsx-253992840 header",children:[E||!P.canCreateSubFolders&&S?(0,m.tZ)("div",{className:"jsx-253992840"}):(0,m.tZ)("div",{className:"jsx-253992840 new-folder",children:(0,m.tZ)(Te,{onCreate:h,parentId:S,teamId:I})}),(0,m.tZ)(ar,{starred:!!o,username:R})]}),(0,m.tZ)("div",{className:"jsx-253992840 spacer"}),(0,m.tZ)(f.Z,{children:(0,m.BX)("div",{className:"jsx-253992840",children:[P.parent&&P.canEdit&&(0,m.tZ)("div",{className:"jsx-253992840",children:(0,m.tZ)(Ve,{folder:P.parent,children:(0,m.tZ)(Ue,{pathnames:P.parent.pathnames,username:R})})}),P.parent&&!P.canEdit&&(0,m.tZ)(Ue,{pathnames:P.parent.pathnames,username:R}),N?null:P.folders.map((function(e){return e.canEdit?(0,m.tZ)(Ve,{folder:e,children:(0,m.tZ)(v,{onMove:B,folder:e,children:(0,m.tZ)(oe,{onDelete:h,folder:e,teamId:I,username:R,onMove:h})})},e.id):(0,m.tZ)(oe,{onDelete:h,teamId:I,username:R,onMove:h,folder:e},e.id)})),P.repls.items.map((function(e){return(0,m.tZ)(g,{onMove:B,repl:e,children:(0,m.tZ)(Be,{repl:e,onMove:h,onDelete:h,teamId:I})},e.id)})),E&&(0,m.BX)("div",{className:"jsx-253992840 cta-box",children:[(0,m.tZ)(lr.Z,{children:"You don't seem to have anything in here."}),(0,m.tZ)("br",{className:"jsx-253992840"}),(0,m.tZ)(lr.Z,{children:"Let's change that!"}),(0,m.BX)("div",{className:"jsx-253992840 button-container",children:[(0,m.tZ)("div",{className:"jsx-253992840 cta-button",children:(0,m.tZ)(Te,{onCreate:h,parentId:S,teamId:I})}),(0,m.tZ)("div",{className:"jsx-253992840 cta-button",children:(0,m.tZ)(or.Z,{trackingContext:"repl folder",children:(0,m.tZ)(ze.Z,{Icon:ir.Z,children:"new repl"})})})]})]})]})}),p?(0,m.tZ)("div",{className:"jsx-253992840 load-more-spinner",children:(0,m.tZ)(u.Z,{})}):null,M&&!p?(0,m.tZ)(Qe,{loadMore:function(){M&&!p&&b({variables:{path:n,starred:o,after:M},updateQuery:function(e,r){var t=r.fetchMoreResult;return e&&e.currentUser&&e.currentUser.replFolderByPath&&t&&t.currentUser&&t.currentUser.replFolderByPath?{currentUser:cr(cr({},t.currentUser),{},{replFolderByPath:cr(cr({},t.currentUser.replFolderByPath),{},{repls:{pageInfo:cr({},t.currentUser.replFolderByPath.repls.pageInfo),items:[].concat((0,a.Z)(e.currentUser.replFolderByPath.repls.items),(0,a.Z)(t.currentUser.replFolderByPath.repls.items))}})})}:e}})}}):null,(0,m.tZ)(s(),{id:"253992840",children:[".cta-box.jsx-253992840{margin:15px auto;padding:40px 25px 30px 25px;border-style:dashed;border-color:var(--outline-dimmer);border-radius:15px;border-width:thin;text-align:center;max-width:500px;}",".empty-state.jsx-253992840{margin:40px auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;color:var(--outline-default);}",".button-container.jsx-253992840{margin-top:15px;}",".cta-button.jsx-253992840{padding:5px;display:grid;vertical-align:middle;}",".content.jsx-253992840{margin-left:4px;}",".spacer.jsx-253992840{height:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;}","@media screen and (min-width:450px){.cta-button.jsx-253992840{padding:5px;display:inline-block;vertical-align:middle;}}",".spinner.jsx-253992840{width:100%;height:100%;}",".spinner.jsx-253992840,.load-more-spinner.jsx-253992840{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:20px;}",".header.jsx-253992840{display:grid;grid-template-columns:1fr auto auto;grid-column-gap:20px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".empty-folder.jsx-253992840{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".new-folder.jsx-253992840{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;}",".empty-folder.jsx-253992840 *.jsx-253992840{padding:var(--space-16);}"]})]}):(0,m.BX)("div",{className:"jsx-4104118918",children:[(0,m.tZ)(lr.Z,{children:"Unable to fetch repls. Please try again."}),(0,m.tZ)(s(),{id:"4104118918",children:["div.jsx-4104118918{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-16);}"]})]})}},70613:function(e,r,t){var n=t(59499),a=t(65988),o=t.n(a),i=t(67294),l=t(41664),s=t(8309),c=t(18952),d=t(58526),u=t(35944);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.links,t=e.username,n=(0,d.Z)("flag-profile-2");return(0,u.BX)("div",{className:"jsx-3032511647",children:[(0,u.tZ)(c.Z,{size:"small",children:r.map((function(e,a){var o=e.pathnames,c=e.text;return(0,u.BX)(i.Fragment,{children:[a===r.length-1?c:(0,u.tZ)(l.default,p(p({},n&&t?(0,s.wQ)({pathnames:o,username:t}):(0,s.xd)({pathnames:o})),{},{children:(0,u.tZ)("a",{className:"jsx-3032511647",children:c})})),(0,u.tZ)("span",{className:"jsx-3032511647",children:"/"})]},o.join("/"))}))}),(0,u.tZ)(o(),{id:"3032511647",children:["div.jsx-3032511647{font-size:14px;}","span.jsx-3032511647{color:var(--foreground-dimmer);}"]})]})}}}]);
//# sourceMappingURL=6412-edb11371b99ad4a6.js.map