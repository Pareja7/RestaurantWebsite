(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{"+Bsv":function(e,a,n){"use strict";var t=n("ERkP"),l=n.n(t),s=n("3XMw"),i=n.n(s),r=n("M2x3"),o="settingsAppBar",c=n("/yvb"),d=n("rHpw");const u=i.a.bb081ea1,m={viewType:"settings_button"},p=l.a.memo((({onPress:e,pullRight:a,to:n})=>l.a.createElement(c.a,{accessibilityLabel:u,behavioralEventContext:m,hoverLabel:{label:u},icon:l.a.createElement(r.a,null),link:n,onPress:e,pullRight:a,style:h.button,testID:o,type:"primaryText"}))),h=d.a.create((e=>({button:{marginVertical:`calc(-${e.spaces.space12})`}})));a.a=p},Avzu:function(e,a,n){"use strict";var t=n("ERkP"),l=n.n(t),s=n("Lsrn"),i=n("k/Ka");const r=(e={})=>Object(i.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.a.root,e.style],viewBox:"0 0 24 24"},l.a.createElement("g",null,l.a.createElement("path",{d:"M23.25 3.25h-2.425V.825c0-.414-.336-.75-.75-.75s-.75.336-.75.75V3.25H16.9c-.414 0-.75.336-.75.75s.336.75.75.75h2.425v2.425c0 .414.336.75.75.75s.75-.336.75-.75V4.75h2.425c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-3.175 6.876c-.414 0-.75.336-.75.75v8.078c0 .414-.337.75-.75.75H4.095c-.412 0-.75-.336-.75-.75V8.298l6.778 4.518c.368.246.79.37 1.213.37.422 0 .844-.124 1.212-.37l4.53-3.013c.336-.223.428-.676.204-1.012-.223-.332-.675-.425-1.012-.2l-4.53 3.014c-.246.162-.563.163-.808 0l-7.586-5.06V5.5c0-.414.337-.75.75-.75h9.094c.414 0 .75-.336.75-.75s-.336-.75-.75-.75H4.096c-1.24 0-2.25 1.01-2.25 2.25v13.455c0 1.24 1.01 2.25 2.25 2.25h14.48c1.24 0 2.25-1.01 2.25-2.25v-8.078c0-.415-.337-.75-.75-.75z"})));r.metadata={width:24,height:24},a.a=r},DbJc:function(e,a,n){"use strict";var t=n("VPAj");const l={...n("7n04").a,initialScrollHeadroom:Object(t.a)(0),scrollHeadroom:Object(t.a)(0),pinToNewestWhenAtNewest:!0};a.a=l},HvW7:function(e,a,n){"use strict";var t=n("IGGJ")(n("yiKp")),l=n("XiYe"),s=n("PJTX"),i=n("ERkP"),r=n("e1/f").commitMutation,o=i.useState,c=i.useEffect,d=i.useRef,u=i.useCallback;e.exports=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=s(),i=l(),m=d(n),p=d(e),h=d(new Set),g=o(!1),y=g[0],_=g[1],b=u((function(a){m.current===n&&p.current===e&&(h.current.delete(a),i.current&&_(h.current.size>0))}),[n,i,e]);c((function(){m.current===n&&p.current===e||(h.current=new Set,i.current&&_(!1),m.current=n,p.current=e)}),[n,i,e]);var v=u((function(l){var s=a(n,(0,t.default)((0,t.default)({},l),{},{mutation:e,onCompleted:function(e,a){var n;b(s),null===(n=l.onCompleted)||void 0===n||n.call(l,e,a)},onError:function(e){var a;b(s),null===(a=l.onError)||void 0===a||a.call(l,e)},onUnsubscribe:function(){var e;b(s),null===(e=l.onUnsubscribe)||void 0===e||e.call(l)},onNext:function(){var e;null===(e=l.onNext)||void 0===e||e.call(l)}}));return h.current.add(s),i.current&&_(!0),s}),[b,a,n,i,e]);return[v,y]}},IpT4:function(e,a,n){"use strict";var t=n("ERkP"),l=n.n(t),s=n("Lsrn"),i=n("k/Ka");const r=(e={})=>Object(i.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.a.root,e.style],viewBox:"0 0 24 24"},l.a.createElement("g",null,l.a.createElement("path",{d:"M22.238 2.257c-.293-.293-.768-.293-1.06 0L2.52 20.917c-.293.292-.293.767 0 1.06.146.146.338.22.53.22s.384-.073.53-.22l18.658-18.66c.293-.293.293-.767 0-1.06zM2.986 17.82c.155 0 .312-.048.446-.148.112-.083 2.752-2.104 2.708-7.248-.02-2.16.643-3.98 1.913-5.266 1.093-1.107 2.577-1.72 4.18-1.727 1.325.006 2.562.42 3.578 1.195.137.104.297.153.455.153.227 0 .45-.102.598-.295.25-.33.188-.8-.142-1.052-1.278-.975-2.828-1.493-4.483-1.5h-.003c-2.008.008-3.87.78-5.248 2.173-1.536 1.551-2.368 3.8-2.348 6.332.037 4.33-2.02 5.967-2.103 6.03-.332.247-.4.718-.154 1.05.147.2.374.303.603.303zm16.844-7.382c.002-.246-.003-.487-.017-.723-.024-.414-.387-.74-.792-.706-.413.023-.728.378-.705.79.012.205.017.413.015.624-.024 2.868.785 4.765 1.526 5.896h-8.314c-.414 0-.75.336-.75.75s.336.75.75.75h3.522c-.1 1.48-1.323 2.66-2.828 2.66-1.003 0-1.913-.514-2.436-1.372-.214-.354-.675-.467-1.03-.25-.354.214-.467.675-.25 1.03.795 1.31 2.185 2.09 3.716 2.09 2.332 0 4.227-1.85 4.328-4.158h4.922c.32 0 .604-.206.707-.51.104-.305 0-.643-.255-.84-.087-.066-2.145-1.7-2.108-6.032z"})));r.metadata={width:24,height:24},a.a=r},"ShJ/":function(e,a,n){"use strict";var t=n("ERkP"),l=n.n(t),s=n("Lsrn"),i=n("k/Ka");const r=(e={})=>Object(i.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.a.root,e.style],viewBox:"0 0 24 24"},l.a.createElement("g",null,l.a.createElement("path",{d:"M20.472 14.738c-.388-1.808-2.24-3.517-3.908-4.246l-.474-4.307 1.344-2.016c.258-.387.28-.88.062-1.286-.218-.406-.64-.66-1.102-.66H7.54c-.46 0-.884.254-1.1.66-.22.407-.197.9.06 1.284l1.35 2.025-.42 4.3c-1.667.732-3.515 2.44-3.896 4.222-.066.267-.043.672.222 1.01.14.178.46.474 1.06.474h3.858l2.638 6.1c.12.273.39.45.688.45s.57-.177.688-.45l2.638-6.1h3.86c.6 0 .92-.297 1.058-.474.265-.34.288-.745.228-.988zM12 20.11l-1.692-3.912h3.384L12 20.11zm-6.896-5.413c.456-1.166 1.904-2.506 3.265-2.96l.46-.153.566-5.777-1.39-2.082h7.922l-1.39 2.08.637 5.78.456.153c1.355.45 2.796 1.78 3.264 2.96H5.104z"})));r.metadata={width:24,height:24},a.a=r},VcIV:function(e,a,n){"use strict";n.d(a,"a",(function(){return se}));n("kYxP"),n("MvUL");var t=n("MMRb"),l=n("ERkP"),s=n.n(l),i=n("RqPI"),r=n("1YZw"),o=n("HPNB"),c=n("v6aA"),d=n("V/6K"),u=n("XnpN"),m=n("3XMw"),p=n.n(m),h=n("tI3i"),g=n.n(h),y=n("xZGM"),_=n("YemM"),b=n("Irs7"),v=n("0KEI"),k=n("ii+P"),f=n("zCf4"),E=n("MWbm"),S=n("mjJ+"),I=n("eb3s"),F=n("ZToW"),C=n("cHvH"),T=n("kb9v"),x=n("IG7M"),L=n("6u/5"),K=n.n(L),w=n("PJTX"),R=n.n(w),M=n("pHkl"),O=n("X/yg"),D=n("Lsrn"),P=n("k/Ka");const H=(e={})=>Object(P.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[D.a.root,e.style],viewBox:"0 0 24 24"},s.a.createElement("g",null,s.a.createElement("path",{d:"M17.931 2.508c0 .42-.34.75-.75.75h-8.39l1.38 2.08-.56 5.78-.47.16c-1.5.49-3.1 2.07-3.37 3.31-.07.35-.39.59-.73.59-.05 0-.11 0-.16-.01-.4-.09-.66-.49-.58-.89.39-1.81 2.24-3.52 3.91-4.25l.42-4.3-1.35-2.02c-.26-.38-.29-.87-.07-1.29.24-.41.66-.66 1.11-.66h8.86c.41 0 .75.34.75.75zm3.09 12.76c-.14.17-.46.46-1.05.46h-3.86l-2.64 6.1c-.12.28-.39.45-.69.45s-.57-.17-.69-.45l-1.96-4.53c-.16-.38.01-.82.39-.98.38-.17.82.01.99.39l1.27 2.93 1.69-3.91h-1.61c-.42 0-.75-.33-.75-.75 0-.41.33-.75.75-.75h6.81c-.41-1.06-1.64-2.26-2.91-2.82-.09-.04-.16-.09-.22-.16-.22-.21-.3-.54-.17-.83.17-.38.61-.55.99-.39 1.59.7 3.5 2.43 3.89 4.25.06.25.03.66-.23.99zm.839-12.259L3.2 21.659c-.15.15-.34.22-.53.22s-.39-.07-.53-.22c-.29-.29-.29-.76 0-1.06L20.8 1.939c.29-.29.76-.29 1.06 0 .29.3.29.77 0 1.07z"})));H.metadata={width:24,height:24};var A=H,N=n("ShJ/");const U=(e={})=>Object(P.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[D.a.root,e.style],viewBox:"0 0 32 32"},s.a.createElement("g",null,s.a.createElement("path",{d:"M28.05 6.52h-5.42V4.887c0-1.548-1.26-2.808-2.81-2.808h-7.54c-1.548 0-2.807 1.26-2.807 2.808v1.63H4.05c-.414 0-.75.337-.75.75s.336.75.75.75h.753L7 26.435c.27 1.504 1.657 2.554 3.37 2.554h11.36c1.713 0 3.1-1.05 3.376-2.598l2.19-18.37h.753c.413 0 .75-.337.75-.75s-.336-.75-.75-.75zM10.972 4.887c0-.72.586-1.308 1.307-1.308h7.542c.72 0 1.308.587 1.308 1.308v1.63H10.972V4.89zm12.65 21.28c-.163.91-1.068 1.32-1.893 1.32H10.37c-.824 0-1.73-.41-1.887-1.276L6.313 8.02h19.472l-2.162 18.148z"}),s.a.createElement("path",{d:"M13.312 23.123c.414 0 .75-.336.75-.75v-9.6c0-.414-.336-.75-.75-.75s-.75.336-.75.75v9.6c0 .414.336.75.75.75zm5.486 0c.414 0 .75-.336.75-.75v-9.6c0-.414-.336-.75-.75-.75s-.75.336-.75.75v9.6c0 .414.336.75.75.75z"})));U.metadata={width:32,height:32};var j=U,B=n("zIWA"),V=n("5pef"),q=n("IpT4"),W=n("fz3c"),z=n("uDfI");const G=p.a.a30a206d,Q=p.a.ib4b1b85,$=p.a.bd3ca2ee,Y={confirmButtonLabel:p.a.bb1d57b6,actionTextLeave:p.a.g9074da4,header:p.a.gdf4b79f,text:p.a.h09b49f7},X=p.a.ad63377d,J=p.a.e1c9ec9b,Z=p.a.i6b19b07,ee=p.a.e3cfff7c,ae=p.a.f398722d,ne=p.a.bdd91963,te=p.a.a8ed0eca,le=p.a.jac4eb1e;function se(e){const{conversation:a,conversationId:n,conversationType:l,inboxType:m,isHovered:p,isPinned:h,isSnoozed:L,participantCount:w,pinConversation:D,position:P,relayId:H,unpinConversation:U}=e,se=Object(b.b)(),ie=Object(v.useCreateLocalApiErrorHandler)("DIRECT_MESSAGES_INBOX_ITEM"),re=Object(z.c)(),oe=R()(),{featureSwitches:ce}=s.a.useContext(c.a),de=Object(f.f)(),{isDrawer:ue}=s.a.useContext(d.a),me=Object(z.d)(i.r),pe=ce.getValue("dm_conversation_labels_max_pinned_count"),he=ce.isTrue("dm_conversation_labels_pinned_education_enabled")&&!h&&1===P,[ge,ye]=s.a.useState(!1),[_e,be]=s.a.useState(!1),[ve,ke]=Object(k.a)(y.t),[fe,Ee]=s.a.useState(he&&ve);s.a.useEffect((()=>{if(fe)return ke}),[ke,fe]);const Se=()=>{const e=l===t.CONVERSATION_TYPE.GROUP?"leave_group":"delete_thread",a={conversation_type:l===t.CONVERSATION_TYPE.GROUP?M.j.GROUP:M.j.ONE_TO_ONE,conversation_id:n,conversation_participant_count:w,position:P,inbox_type:Object(O.i)(m),entry_point:m===M.e.PRIMARY?M.c.THREE_DOT_MENU:M.c.CELL_X_BUTTON};be(!1),se.scribe({element:"thread",action:e,data:a}),h&&Te(),re(t.leaveConversation({conversationId:n})).then((()=>{H&&K()(oe,(e=>{e.delete(H)}))})).catch(ie({showToast:!0})),de.replace(Object(O.f)(m))},Ie=e=>()=>{e&&e(),ye(!1)},Fe=e=>()=>{const s=W.a.DMConversation,i=l===t.CONVERSATION_TYPE.GROUP?"0":(()=>{const e=a&&Object(u.a)(a,me).map((({user:e})=>e)),n=e&&e[0]||null;return n?n.id_str:""})();if(se.scribeAction("report"),Object(W.g)(ce,s)){const a=Object(W.d)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:s,reportedConversationId:n,reportedUser:i,scribeNamespace:se.contextualScribeNamespace});e.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(a)}}})}else{const a=Object(O.g)(n,window.location.pathname,se.contextualScribeNamespace,m);e.push(a)}},Ce=()=>{if(L)re(t.enableNotifications({conversationId:n})).then((()=>{H&&K()(oe,(e=>{const a=e.get(H);g()(a,"relayId must be defined");const n=a.getLinkedRecord("perspectival_conversation_metadata");g()(n,"metadataRef must be defined"),n.setValue(!1,"muted")})),re(Object(r.b)({ariaOnly:!0,text:le}))}));else{const e={conversation_type:l===t.CONVERSATION_TYPE.GROUP?M.j.GROUP:M.j.ONE_TO_ONE,conversation_id:n,conversation_participant_count:w,entry_point:M.c.THREE_DOT_MENU};se.scribe({element:"thread",action:"mute_dm_thread_forever",data:e}),re(t.disableNotifications({conversationId:n})).then((()=>{H&&K()(oe,(e=>{const a=e.get(H);g()(a,"relayId must be defined");const n=a.getLinkedRecord("perspectival_conversation_metadata");g()(n,"metadataRef must be defined"),n.setValue(!0,"muted")})),re(Object(r.b)({ariaOnly:!0,text:ae}))}))}},Te=()=>{const e=h?"unpin_dm_conversation":"pin_dm_conversation",s=h?U:D,i={conversation_type:l===t.CONVERSATION_TYPE.GROUP?M.j.GROUP:M.j.ONE_TO_ONE,conversation_id:n,conversation_participant_count:w,position:P};se.scribe({element:"thread",action:e,data:i}),a&&s&&s(n,a)},xe=e=>{const a={Icon:h?A:N.a,onClick:Te,text:h?ne:J,withBottomBorder:!0},n={Icon:j,isEmphasized:!0,onClick:()=>be(!0),text:X,withBottomBorder:!0},t={Icon:B.a,onClick:Fe(de),text:Z,withBottomBorder:!0},l={Icon:L?V.a:q.a,onClick:Ce,text:L?te:ee,withBottomBorder:!0},i=D&&U?[a,n,t,l]:[n,t,l];return s.a.createElement(S.a,{items:i,onCloseRequested:Ie(e),shouldCloseOnClick:!0})},Le=!F.a.isEnabled||p||ge||fe;return s.a.createElement(s.a.Fragment,null,_e?s.a.createElement(I.a,{confirmButtonLabel:Y.confirmButtonLabel,confirmButtonType:"destructiveFilled",headline:Y.header,onCancel:()=>be(!1),onConfirm:Se,text:Y.text}):null,Le?s.a.createElement(C.a,null,(({windowWidth:e})=>{const a=o.a.isTwoColumnLayout(e);return s.a.createElement(E.a,{style:_.a.menuContainer},s.a.createElement(T.a,{actionPrimary:{text:G,onClick:()=>Ee(!1)},headline:Q,onDismiss:()=>Ee(!1),shouldDisplay:fe&&!ue,text:$({count:pe}),withMask:!a},a?s.a.createElement(x.a,{onClick:()=>ye(!0),renderActionMenu:xe,style:Le?_.a.menu:_.a.hiddenMenu}):null),a?null:s.a.createElement(x.a,{onClick:()=>ye(!0),renderActionMenu:xe,style:Le?_.a.menu:_.a.hiddenMenu}))})):null)}},X8um:function(e,a,n){"use strict";var t,l,s,i,r,o,c,d,u,m,p,h,g,y,_,b={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"label"}],kind:"Fragment",metadata:null,name:"DMPinnedInboxQuery",selections:[{alias:"labeled_conversation_slice",args:l=[{kind:"Variable",name:"label",variableName:"label"},{kind:"Literal",name:"s",value:18}],concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"__DMPinnedInboxQuery_labeled_conversation_slice_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"items",plural:!0,selections:[s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[r,o={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[u={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[s,i,{kind:"RequiredField",field:m={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null}],storageKey:null},action:"THROW",path:"labeled_conversation_slice.items.legacy.participants_metadata.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},p={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null}],storageKey:null},h={alias:null,args:null,concreteType:"DMConversationLabelInfo",kind:"LinkedField",name:"labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null}],storageKey:null},g={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null},y={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"DMPinnedInboxQuery",selections:[{alias:null,args:l,concreteType:"DMLabeledConversationsSlice",kind:"LinkedField",name:"labeled_conversation_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"items",plural:!0,selections:[s,i,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[r,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[r,o,c,d,{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[_={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[_,{kind:"InlineFragment",selections:[s,i,m,{alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"}],storageKey:null}],storageKey:null},p],storageKey:null},h],storageKey:null},g,y],storageKey:null},{alias:null,args:l,filters:["label","s"],handle:"slice",key:"DMPinnedInboxQuery_labeled_conversation_slice",kind:"LinkedHandle",name:"labeled_conversation_slice",handleArgs:[{kind:"Literal",name:"itemsFieldName",value:"items_results"}]}]},params:{id:"cKsXL-p1VWDQbomSDV2bAg",metadata:{sliceInfoPath:["labeled_conversation_slice","slice_info"]},name:"DMPinnedInboxQuery",operationKind:"query",text:null}};b.hash="ce2e2976cf1d1610f3238a158593facf",e.exports=b},XiYe:function(e,a,n){"use strict";var t=n("ERkP"),l=t.useEffect,s=t.useRef;e.exports=function(){var e=s(!0);return l((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},YemM:function(e,a,n){"use strict";const t=n("rHpw").a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space16,width:"100%"},active:{backgroundColor:e.colors.gray0},bodyColumn:{flexDirection:"row"},inlineTimestamp:{flexDirection:"row"},inlineTimestampVDL:{flexDirection:"row",alignItems:"center"},titleContainer:{flex:1},inlineNotificationsDisabledIcon:{paddingLeft:`calc(${e.spaces.space2} * 3)`,color:e.colors.gray700},inlineNotificationsDisabledIconVDL:{width:e.spaces.space16,height:e.spaces.space16},hiddenMenu:{opacity:0,overflow:"hidden",width:0},menu:{alignSelf:"flex-start"},menuContainer:{height:0,marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`},notificationsDisabledIcon:{alignSelf:"flex-end",color:e.colors.gray700,paddingTop:e.spaces.space4},unreadMessagePip:{backgroundColor:e.colors.blue500,marginTop:`calc(${e.spaces.space8} - ${e.spaces.space1})`,height:e.baseFontSize-5,width:e.baseFontSize-5},vdlXButton:{border:"none",marginLeft:`calc(${e.spaces.space8} + ${e.spaces.space2})`,marginRight:`calc(-1 * ${e.spaces.space4})`,marginTop:`calc(-1 * (${e.spaces.space8} - ${e.spaces.space1}))`},xButton:{alignSelf:"center",marginRight:`calc(-1 * ${e.spaces.space4})`},xIcon:{height:`calc(${e.spaces.space28} - ${e.spaces.space1})`,width:`calc(${e.spaces.space28} - ${e.spaces.space1})`},trashcanIcon:{color:e.colors.gray700},snippet:{maxHeight:e.spaces.space40,overflow:"hidden"},snippetPadding:{paddingRight:`calc(${e.spaces.space28} + ${e.spaces.space1} * 0.75)`},unread:{backgroundColor:e.colors.unreadCellBackground},socialProofContainer:{marginTop:e.spaces.space4},socialProofText:{marginLeft:0},convoLabelIcon:{marginRight:e.spaces.space4},endCell:{marginLeft:e.spaces.space16}})));a.a=t},ZH9U:function(e,a,n){"use strict";var t,l,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"},{defaultValue:null,kind:"LocalArgument",name:"label"}],kind:"Fragment",metadata:null,name:"DMPinnedInboxAppend_Mutation",selections:l=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Variable",name:"label",variableName:"label"},{kind:"Literal",name:"s",value:18}],concreteType:null,kind:"LinkedField",name:"add_dm_conversation_label_v3",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],type:"DMConversationLabelInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"failure_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"DMConversationLabelUnavailable",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"DMPinnedInboxAppend_Mutation",selections:l},params:{id:"o0aymgGiJY-53Y52YSUGVA",metadata:{},name:"DMPinnedInboxAppend_Mutation",operationKind:"mutation",text:null}};s.hash="86e5601441f8d07b68ccbcf112746d23",e.exports=s},d9IC:function(e,a,n){"use strict";var t=n("ERkP"),l=n.n(t),s=n("3XMw"),i=n.n(s),r=n("Irs7"),o=n("MWbm"),c=n("/yvb"),d=n("t62R"),u=n("rHpw");const m=i.a.b08821f3,p=i.a.e047b8fa,h=u.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,paddingLeft:e.spaces.space16,paddingVertical:e.spaces.space4,alignItems:"center",flexDirection:"row",justifyContent:"space-between",borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},backButton:{marginRight:e.spaces.space4},iconContainer:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.text,marginRight:e.spaces.space12,fontSize:e.fontSizes.body,marginVertical:e.spaces.space8},labelHeader:{borderBottomStyle:"none",paddingVertical:e.spaces.space12}})));a.a=e=>{const a=Object(r.b)(),{clearRecentSearches:n,headerText:t,icon:s,isInboxLabelHeader:i,withClearButton:u}=e;l.a.useEffect((()=>{a.scribe({component:"recent_search",action:"impression"})}),[a]);const g=[h.root,i&&h.labelHeader];return l.a.createElement(o.a,{style:g},l.a.createElement(o.a,{style:h.iconContainer},(()=>{const e=s;return e?l.a.createElement(e,{style:h.icon}):null})(),l.a.createElement(d.b,{accessibilityLevel:2,accessibilityRole:"heading",size:"headline1",weight:"heavy"},t)),u?l.a.createElement(c.a,{accessibilityLabel:m,onPress:n,style:h.backButton,type:"onMediaWhiteFilled"},p):null)}},fQBn:function(e,a,n){"use strict";var t=n("ERkP"),l=n.n(t),s=n("t62R"),i=n("MMRb"),r=n("hqKg"),o=n("g54k"),c=n("G6rE"),d=n("rxPX");const u=(e,a)=>a.entry;var m=Object(d.a)().propsFromState((()=>({users:Object(r.createSelector)(c.e.selectAll,u,o.b)}))).adjustStateProps((({users:e})=>({...e}))),p=n("zQEV"),h=n("4n2h");var g=m((({entry:e,entryType:a,isSelected:n=!1,perspective:t,unread:i=!1,users:r})=>{const o=Object(p.a)(e,a,t,r),c=Object(h.b)(i),d=Object(h.a)(i,n);return l.a.createElement(s.b,{color:d,weight:c},o)})),y=n("v6aA");const _=(e,a)=>c.e.select(e,a.senderId),b=(e,a)=>a.recipientId?c.e.select(e,a.recipientId):void 0;var v=Object(d.a)().propsFromState((()=>({user:_,recipient:b}))),k=n("X/yg"),f=n("cTG8"),E=n("3XMw"),S=n.n(E);const I=e=>l.a.createElement(S.a.I18NFormatMessage,{$i18n:"b3a2b11c"},l.a.createElement(s.b,null,e)),F=S.a.dedfd265;const C=S.a.a876e58b,T=S.a.bf584cd1,x=S.a.a9cc8cfd,L=S.a.e20b65b0,K=S.a.e5bfe07d,w=S.a.b1a614fe;var R=v((({entry:e,perspective:a,isGroupDM:n,unread:t=!1,user:i={},recipient:r={},isSelected:o=!1})=>{const{featureSwitches:c}=l.a.useContext(y.a),d=e&&e.message_data;if(!d)return null;const{attachment:u}=d,m=u&&!!(u.video||u.photo||u.animated_gif||u.tweet||u.fleet||u.sticker||u.card),p=a===i.id_str,g=!(!m||!p)||!(!n||p),_=i.name,b=r.name,v=Object(h.b)(t),E=Object(h.a)(t,o);let R=[g&&l.a.createElement(s.b,{key:"senderName"},I(_)," "),d&&d.text&&l.a.createElement(f.a,{displayTextRange:[0,d.text.length],entities:d.entities,key:"message",text:d.text,withMediaLinks:!0})];return u&&(u.tweet?R=g?((e,a)=>e?l.a.createElement(s.b,null,S.a.d5b762c8):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"dfd2b3b9"},l.a.createElement(s.b,null,a)))(p,_):w:u.fleet?R=((e,a,n)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"i005f1fd"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n||"")):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"b35cee40"},l.a.createElement(s.b,null,n||"")))(p,b,d.text):u.video?R=Object(k.l)(u,c)?g?function(e,a){return e?l.a.createElement(s.b,null,S.a.h7033cac):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"be5a9616"},l.a.createElement(s.b,null,a))}(p,_):F:g?((e,a)=>e?l.a.createElement(s.b,null,S.a.j7d81019):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"eee2f120"},l.a.createElement(s.b,null,a)))(p,_):C:u.photo?R=g?((e,a)=>e?l.a.createElement(s.b,null,S.a.f80629ba):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"c1e1f848"},l.a.createElement(s.b,null,a)))(p,_):T:u.animated_gif?R=g?((e,a)=>e?l.a.createElement(s.b,null,S.a.eb3d722e):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"dc4b75a1"},l.a.createElement(s.b,null,a)))(p,_):x:u.sticker?R=g?((e,a)=>e?l.a.createElement(s.b,null,S.a.d30c2d4f):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"c7e2464e"},l.a.createElement(s.b,null,a)))(p,_):L:u.card&&(R=g?((e,a)=>e?l.a.createElement(s.b,null,S.a.db53c017):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"hcbbbb34"},l.a.createElement(s.b,null,a)))(p,_):K)),l.a.createElement(s.b,{color:E,numberOfLines:1,weight:v},R)})),M=n("uKEd");const O=(e,a)=>a.senderId?c.e.select(e,a.senderId):void 0,D=(e,a)=>Object(M.n)(e,a.reactionEntry.message_id),P=(e,a)=>{const n=D(e,a);return n&&n.message_data&&c.e.select(e,n.message_data.sender_id)};var H=Object(d.a)().propsFromState((()=>({reactingUser:O,reactedMessageEntry:D,messageUser:P}))),A=n("33Kz");var N=H((({isGroupDM:e,isSelected:a=!1,messageUser:n,perspective:t,reactedMessageEntry:i,reactingUser:r,reactionEntry:o,unread:c=!1})=>{const{featureSwitches:d}=l.a.useContext(y.a),u=i&&i.message_data,m=u&&u.attachment,p=u&&u.text,g=n&&n.screen_name,_=t===(r&&r.id_str),b=r&&r.name,v=Object(A.b)(o.reaction_key||"",d),k=Object(h.b)(c),f=Object(h.a)(c,a);let E;return E=m&&m.tweet?e?((e,a,n,t)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"c4202784"},l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"b493a890"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)))(_,b,g,v):((e,a,n)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"ca684bf5"},l.a.createElement(s.b,null,n)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"h5797be5"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n)))(_,b,v):m&&m.video?e?((e,a,n,t)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"d1f8bdd9"},l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"d764af97"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)))(_,b,g,v):((e,a,n)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"ab1cdfe2"},l.a.createElement(s.b,null,n)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"f0cf1699"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n)))(_,b,v):m&&m.photo?e?((e,a,n,t)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"hec0fd4d"},l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"j55320de"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)))(_,b,g,v):((e,a,n)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"jf27606a"},l.a.createElement(s.b,null,n)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"cd110359"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n)))(_,b,v):m&&m.animated_gif?e?((e,a,n,t)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"e70dcc35"},l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"g1bf440b"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)))(_,b,g,v):((e,a,n)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"b2da1bf8"},l.a.createElement(s.b,null,n)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"g84c0421"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n)))(_,b,v):m&&m.card?e?((e,a,n,t)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"cd2e7c18"},l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"aee9e7fa"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)))(_,b,g,v):((e,a,n)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"f9fb1cf6"},l.a.createElement(s.b,null,n)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"f2bf910e"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n)))(_,b,v):p?e?((e,a,n,t,i)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"i6cec545"},l.a.createElement(s.b,null,t),l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,i)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"d6998baa"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,t),l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,i)))(_,b,v,g,p):((e,a,n,t)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"cec676f3"},l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"a2706f9a"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n),l.a.createElement(s.b,null,t)))(_,b,v,p):((e,a,n)=>e?l.a.createElement(S.a.I18NFormatMessage,{$i18n:"d6b15bbf"},l.a.createElement(s.b,null,n)):l.a.createElement(S.a.I18NFormatMessage,{$i18n:"ac0d4bc7"},l.a.createElement(s.b,null,a),l.a.createElement(s.b,null,n)))(_,b,v),l.a.createElement(s.b,{color:f,numberOfLines:1,weight:k},E)})),U=n("H4nC"),j=n("b9JY");const B=S.a.fb3ccb55;a.a=({conversationType:e,entry:a,isSelected:n=!1,perspective:t,unread:r})=>{if(a.marked_as_spam){const e=Object(h.b)(r),a=Object(h.a)(r,n);return l.a.createElement(s.b,{color:a,numberOfLines:1,weight:e},B)}if(Object(j.b)(a)){const{message_data:{recipient_id:s,sender_id:o}={}}=a;return l.a.createElement(R,{entry:a,isGroupDM:e===i.CONVERSATION_TYPE.GROUP,isSelected:n,perspective:t,recipientId:s,senderId:o,unread:r})}return Object(j.c)(a)?l.a.createElement(N,{isGroupDM:e===i.CONVERSATION_TYPE.GROUP,isSelected:n,perspective:t,reactionEntry:a,senderId:a.sender_id,unread:r}):Object(j.a)(a)?l.a.createElement(g,{entry:a,entryType:a.type,isSelected:n,perspective:t,unread:r}):Object(j.d)(a)?l.a.createElement(U.a,{entry:a,isCompact:!0,isSelected:n,unread:r}):null}},fuhe:function(e,a,n){"use strict";n.r(a),n.d(a,"DMDrawer",(function(){return Xe}));var t=n("97Jx"),l=n.n(t),s=(n("kYxP"),n("ERkP")),i=n.n(s),r=n("ZUOq"),o=n("MMRb"),c=n("RqPI"),d=n("rxPX"),u=n("0KEI");var m=Object(d.a)().propsFromState((()=>({conversations:o.selectConversations,drawerExperimentEnabled:o.selectDrawerExperimentEnabled,perspective:c.r,poppedOutConversationId:o.selectPoppedOutConversationId,visibility:o.selectDrawerVisibility}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(u.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_CONVERSATION"),fetchInboxIfNeeded:o.fetchInboxIfNeeded,loadDrawerVisibilityFromPersistence:o.loadDrawerVisibilityFromPersistence,setDrawerVisibility:o.setDrawerVisibility}))),p=n("V/6K"),h=n("CDB5"),g=n("1YZw"),y=n("hqKg"),_=n("X/yg"),b=n("AQOc"),v=n("UhuB"),k=n("l0YN"),f=n("G6rE"),E=n("P1r1");const S=(e,a)=>a.conversationId,I=Object(y.createSelector)(((e,a)=>o.selectEntriesForConversation(e,S(0,a))),c.r,((e,a)=>a?Object(_.e)(e,a):void 0)),F=e=>a=>h.c(e,a),C=e=>(a,n)=>h.a(e,a,n),T={conversation:(e,a)=>o.selectConversation(e,S(0,a)),entries:o.selectEntries,perspective:c.r,users:f.e.selectAll,dataSaverMode:E.j,dtabBarInfo:E.m,quickReplyOptions:I,visibility:o.selectDrawerVisibility,inboxUnreadCount:k.a,isUnread:(e,a)=>!o.selectConversationIsRead(e,S(0,a)),isDmReceiptSettingEnabled:v.n},x={draftText:(e,a)=>h.l(e,S(0,a)),gifMetadata:(e,a)=>h.h(e,S(0,a)),isUploading:(e,a)=>h.j(e,S(0,a)),media:(e,a)=>h.i(e,S(0,a)),mediaUploadProgress:(e,a)=>h.k(e,S(0,a))};var L=Object(d.a)().propsFromState((()=>({...T,...x}))).adjustStateProps((({conversation:e,dataSaverMode:a,draftText:n,dtabBarInfo:t,entries:l,gifMetadata:s,inboxUnreadCount:i,isDmReceiptSettingEnabled:r,isUnread:o,isUploading:c,media:d,mediaUploadProgress:u,perspective:m,quickReplyOptions:p,users:h,visibility:g})=>{const y=null==e?void 0:e.data;return{conversation:y&&Object(b.a)(y,l,h),perspective:m,dataSaverMode:a,draftText:n,dtabBarInfo:t,gifMetadata:s,inboxUnreadCount:i,isDmReceiptSettingEnabled:r,isUploading:c,isUnread:o,media:d,mediaUploadProgress:u,quickReplyOptions:p,visibility:g}})).propsFromActions((({conversationId:e})=>({addMedia:C(e),addToast:g.b,createLocalApiErrorHandler:Object(u.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_CONVERSATION"),fetchConversationHistory:o.fetchConversationHistory,removeMedia:F(e),saveText:h.f,sendMessage:h.m,updateConversationReadState:o.updateConversationReadState,updateTyping:o.updateTyping,fetchUpdatesIfNeeded:o.fetchUpdatesIfNeeded}))).withAnalytics({page:"messages",section:"thread_drawer"}),K=n("aWyx"),w=n("qz2E"),R=n("Oi4X"),M=n("OhSZ"),O=Object(d.a)().propsFromState((()=>({visibility:o.selectDrawerVisibility}))).propsFromActions((()=>({popOutConversation:o.popOutConversation,setDrawerVisibility:o.setDrawerVisibility}))).withAnalytics(),D=n("AQ79"),P=n("3XMw"),H=n.n(P),A=n("OrGc"),N=n("hACr"),U=n("fs1G"),j=n("MWbm"),B=n("/yvb"),V=n("Znyr"),q=n("t62R"),W=n("xKuM"),z=n("rHpw"),G=n("v6aA"),Q=n("95Se"),$=n("Avzu"),Y=n("Lsrn"),X=n("k/Ka");const J=(e={})=>Object(X.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[Y.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M12 19.344l-8.72-8.72c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l9.25 9.25c.292.294.767.294 1.06 0l9.25-9.25c.146-.145.22-.337.22-.53s-.073-.383-.22-.53c-.293-.292-.768-.292-1.06 0L12 19.344z"}),i.a.createElement("path",{d:"M12 11.535l-8.72-8.72c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l9.25 9.25c.292.294.767.294 1.06 0l9.25-9.25c.146-.145.22-.337.22-.53s-.073-.383-.22-.53c-.293-.292-.768-.292-1.06 0L12 11.535z"})));J.metadata={width:24,height:24};var Z=J;const ee=(e={})=>Object(X.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[Y.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M12 4.656l8.72 8.72c.293.293.768.293 1.06 0s.294-.768 0-1.06l-9.25-9.25c-.292-.294-.767-.294-1.06 0l-9.25 9.25c-.146.145-.22.337-.22.53s.073.383.22.53c.293.292.768.292 1.06 0L12 4.656z"}),i.a.createElement("path",{d:"M12 12.465l8.72 8.72c.293.293.768.293 1.06 0s.294-.768 0-1.06l-9.25-9.25c-.292-.294-.767-.294-1.06 0l-9.25 9.25c-.146.145-.22.337-.22.53s.073.383.22.53c.293.292.768.292 1.06 0l8.72-8.72z"})));ee.metadata={width:24,height:24};var ae=ee,ne=n("x0mb");const te=H.a.a2f8105f,le=H.a.d227d19e,se=H.a.c64c1883,ie=H.a.j7d0e835,re=H.a.b08821f3,oe=H.a.e736990a,ce=H.a.cdcebd22;class de extends i.a.Component{constructor(...e){super(...e),this._headerBar=i.a.createRef(),this._isExpanded=()=>{const{visibility:e}=this.props;return e===D.b.EXPANDED},this._renderLeftControl=()=>{const{inboxUnreadCount:e}=this.props;return i.a.createElement(j.a,null,i.a.createElement(B.a,{accessibilityLabel:re,icon:i.a.createElement(Q.a,null),onPress:this._handleUnpopConvo,type:this._getButtonType()}),e&&e>0?i.a.createElement(V.a,{pip:!0,style:ue.newMessagePip,truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):null)},this._getButtonType=()=>{const{hasNewMessages:e,isHighlighted:a}=this.props;return a&&e?"onMediaText":"primaryText"},this._renderRightControl=()=>{const{conversationTitle:e}=this.props,a=this._isExpanded(),n=this._getButtonType();return i.a.createElement(j.a,{style:ue.rightControls},e?null:i.a.createElement(B.a,{accessibilityLabel:se,hoverLabel:{label:ce},icon:i.a.createElement($.a,null),onPress:this._handleNewMessage,type:n}),a?i.a.createElement(B.a,{accessibilityLabel:le,hoverLabel:{label:le},icon:i.a.createElement(Z,null),onPress:this._handleToggleVisibility,type:n}):i.a.createElement(B.a,{accessibilityLabel:ie,hoverLabel:{label:ie},icon:i.a.createElement(ae,null),onPress:this._handleToggleVisibility,type:n}))},this._handleUnpopConvo=()=>{const{popOutConversation:e}=this.props;e(null)},this._handleToggleVisibility=()=>{const{analytics:e,onDrawerOpen:a,setDrawerVisibility:n}=this.props,t=this._isExpanded()?D.b.COLLAPSED:D.b.EXPANDED;t===D.b.COLLAPSED?e.scribe({action:"collapse"}):t===D.b.EXPANDED&&(e.scribe({action:"expand"}),a&&a()),n(t)},this._handleToggleVisibilityKeyboard=()=>{this._handleToggleVisibility(),this._headerBar&&this._headerBar.current&&this._headerBar.current.focus()},this._handleNewMessage=()=>{const{analytics:e,history:a}=this.props;e.scribe({section:"compose_drawer",component:"dm",action:"show"}),a.push({pathname:"/messages/compose",state:{source:"drawer"}})},this._renderTitle=()=>{const{conversationTitle:e,hasNewMessages:a,isHighlighted:n}=this.props,t=e||i.a.createElement(q.b,null,te);return i.a.createElement(j.a,{style:ue.titleContainer},i.a.createElement(j.a,{style:[ue.titleTextRoot,n&&a?ue.titleTextHighlighted:null]},t),a?i.a.createElement(j.a,{style:ue.newMessageDotContainer},i.a.createElement(ne.a,{accessibilityLabel:oe,style:[ue.newMessageDotRoot,n?ue.newMessageDotHighlighted:ue.newMessageDotRegular]})):null)}}componentDidUpdate(e){const{hasNewMessages:a,isHighlighted:n,triggerHighlight:t}=this.props;e.isHighlighted||n||e.hasNewMessages||!a||t&&t()}render(){const{conversationSubtitle:e,conversationTitle:a,hasNewMessages:n,isHighlighted:t}=this.props,l=n?t?[ue.headerHighlighted]:[ue.headerActive]:[],s=this._isExpanded();return i.a.createElement(N.a,{enabled:!0,handlers:{[A.e.goLists]:U.a,[A.e.toggleDMDrawer]:this._handleToggleVisibilityKeyboard}},i.a.createElement(j.a,{ref:this._headerBar,style:[ue.headerRoot,!s&&ue.headerBorderClosed,...l,ue.cursor]},i.a.createElement(W.a,{leftControl:a&&this._isExpanded()?this._renderLeftControl():null,onMiddleControlClick:this._handleToggleVisibility,rightControl:this._renderRightControl(),style:ue.roundedAppBarCorners,subtitle:e,title:this._renderTitle(),withBackground:!t})))}}de.contextType=G.a;const ue=z.a.create((e=>({root:{alignSelf:"flex-end",backgroundColor:e.colors.navigationBackground,borderColor:e.colors.borderColor,borderWidth:e.borderWidths.small,marginRight:e.spaces.space20,width:r.a.columnWidths.secondary.normal},cursor:{cursor:"pointer"},expanded:{height:r.a.columnWidths.secondary.normal},headerRoot:{borderTopLeftRadius:e.borderRadii.xLarge,borderTopRightRadius:e.borderRadii.xLarge,transition:"all 0.3s ease"},headerBorderClosed:{borderColor:e.colors.navigationBackground},headerActive:{backgroundColor:e.colors.unreadCellBackground},headerHighlighted:{borderColor:e.colors.primary,backgroundColor:e.colors.primary},titleContainer:{alignItems:"center",display:"flex",flexDirection:"row",flexGrow:1},titleTextRoot:{flexGrow:1,flexShrink:1},titleTextHighlighted:{color:e.colors.white},roundedAppBarCorners:{borderTopLeftRadius:e.borderRadii.xLarge,borderTopRightRadius:e.borderRadii.xLarge},newMessageDotContainer:{flexGrow:1},newMessageDotRoot:{width:e.spaces.space12,height:e.spaces.space12,marginLeft:e.spaces.space4},newMessageDotRegular:{color:e.colors.primary},newMessageDotHighlighted:{color:e.colors.white},newMessagePip:{right:e.spaces.space4,top:e.spaces.space4},rightControls:{flexDirection:"row"}})));var me=O(de),pe=n("zb92");var he=Object(pe.a)({loader:()=>Promise.all([n.e(0),n.e(233)]).then(n.bind(null,"Rk1B"))}),ge=n("aWzz"),ye=n("XnpN"),_e=n("GSsg"),be=n("aITJ"),ve=n("yrzJ");class ke extends i.a.Component{constructor(e,a){super(e,a),this._composer=i.a.createRef(),this._renderConversation=(e,a)=>{const{conversationId:n,history:t,location:l}=this.props;return i.a.createElement(R.a,{conversationId:n,drawerHeader:this._renderHeader(),history:t,isWide:!1,location:l,richTextInputContext:e,typeaheadWrapper:a})},this._isExpanded=()=>{const{visibility:e}=this.props;return e===D.b.EXPANDED},this._fetchUpdatesIfNeeded=()=>{const{conversationId:e,createLocalApiErrorHandler:a,fetchUpdatesIfNeeded:n,isDmReceiptSettingEnabled:t}=this.props;n(t?{active_conversation_id:e,dm_users:!0}:{}).catch(a())},Object(w.a)()}componentDidMount(){this._updatePolling()}componentDidUpdate(e){e.visibility!==this.props.visibility&&this._updatePolling()}render(){const e=this._isExpanded();return i.a.createElement(i.a.Fragment,null,!e&&this._renderHeader(),e?be.b.isDesktopOS()?i.a.createElement(he,null,(({richTextInputContext:e,typeaheadWrapper:a})=>this._renderConversation(e,a))):this._renderConversation():null)}_renderHeader(){const{conversation:e,history:a,inboxUnreadCount:n,isHeaderHighlighted:t,isUnread:l,onDrawerOpen:s,perspective:r,triggerHeaderHighlight:o}=this.props,c=t?"white":"text",d=t?"white":"gray700",u=e&&e.type===K.a.ONE_TO_ONE&&r&&Object(ye.a)(e,r).map((({user:e})=>e.screen_name)),m=u?i.a.createElement(ve.a,{color:d,screenName:u[0]}):void 0;return i.a.createElement(j.a,{style:fe.headerRoot},i.a.createElement(me,{conversationSubtitle:m,conversationTitle:i.a.createElement(M.b,{conversation:e,perspective:r,textColor:c,withScreenName:!1}),hasNewMessages:l,history:a,inboxUnreadCount:n,isHighlighted:t,onDrawerOpen:s,triggerHighlight:o}))}_updatePolling(){this._pollingTimer&&this._pollingTimer.stop(),this.props.visibility===D.b.COLLAPSED&&(this._pollingTimer=new _e.a(this._fetchUpdatesIfNeeded,{interval:3e3}),this._pollingTimer.start())}getChildContext(){return{getCustomLocation:null}}}ke.contextType=G.a,ke.childContextTypes={getCustomLocation:ge.func};const fe=z.a.create((e=>({headerRoot:{position:"sticky",top:0,zIndex:e.componentZIndices.appBarZIndex}})));var Ee=L(ke),Se=n("4q8G"),Ie=n("tn7R");var Fe=Object(d.a)().propsFromState((()=>({conversations:o.selectConversations,settings:E.g,unreadCount:k.a,untrustedConversationCount:o.selectUntrustedConversationCount,untrustedUnreadCount:o.selectUntrustedUnreadCount,visibility:o.selectDrawerVisibility}))).adjustStateProps((({conversations:e,settings:a,unreadCount:n,untrustedConversationCount:t,untrustedUnreadCount:l,visibility:s})=>{const i=[];for(const a of Object(Ie.a)(e)){var r;!a.isDeleted&&null!=(r=a.data)&&r.trusted&&i.push(a.data)}i.sort(Se.a);const o=n>0;return{allowUntrustedInbox:"all"===a.allow_dms_from||t>0,conversationIds:i.map((e=>e.conversation_id)),isUnread:o,untrustedUnreadCount:l,visibility:s}})).propsFromActions((()=>({createLocalApiErrorHandler:Object(u.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),fetchInbox:o.fetchInbox,fetchInboxHistory:o.fetchTrustedInboxHistory,fetchInboxIfNeeded:o.fetchInboxIfNeeded,fetchUpdates:o.fetchUpdatesIfNeeded,updateLastSeenEventId:o.updateTrustedLastSeenEventId,popOutConversation:o.popOutConversation}))).withAnalytics({page:"messages",section:"inbox_drawer"}),Ce=n("cFyg"),Te=n("pXKu"),xe=n("nySH"),Le=n("yw4N"),Ke=n("FIs5"),we=n("csss");const Re=H.a.a2f8105f,Me=H.a.b8aa3744,Oe=H.a.j06309e1,De=H.a.gee5150a,Pe=H.a.cf2d1047,He=H.a.da2f9224,Ae=H.a.h6beb5fa;class Ne extends i.a.Component{constructor(...e){super(...e),this._renderHeader=()=>{const{history:e,isHeaderHighlighted:a,isUnread:n,onDrawerOpen:t,triggerHeaderHighlight:l}=this.props;return i.a.createElement(j.a,{style:Ue.headerRoot},i.a.createElement(me,{hasNewMessages:n,history:e,isHighlighted:a,onDrawerOpen:t,triggerHighlight:l}))},this._renderExpandedInbox=()=>{const{analytics:e,conversationIds:a,fetchInboxHistory:n,updateLastSeenEventId:t}=this.props;return i.a.createElement(j.a,{style:Ue.fill},i.a.createElement(j.a,{style:[Ue.viewportView,Ce.b.drawerHeaderRadius]},i.a.createElement(Le.a,{style:[Ue.viewportView,Ce.b.drawerHeaderRadius]},this._renderHeader(),i.a.createElement(Te.a,{accessibilityTitle:Re,analytics:e,conversationIds:a,customCellClick:this._dmDrawerOnClick,fetchInboxHistory:n,isDrawer:!0,renderEmptyDMInbox:this._renderEmptyDMInbox,renderStickyContent:this._renderPivot,updateLastSeenEventId:t,virtualScrollerCacheKey:"dmDrawerInbox",withPinnedInbox:!0}))))},this._renderEmptyDMInbox=()=>i.a.createElement(i.a.Fragment,null,this._renderPivot(),i.a.createElement(Ke.a,{buttonLink:"/messages/compose",buttonText:De,header:Me,message:Oe,onImpression:this._handleEmptyDMInboxImpression})),this._isExpanded=()=>{const{visibility:e}=this.props;return e===D.b.EXPANDED},this._dmDrawerOnClick=(e,a)=>{const{popOutConversation:n}=this.props;n(a),e.preventDefault()},this._handleEmptyDMInboxImpression=()=>{const{analytics:e}=this.props;e.scribe({component:"empty_message",action:"impression"})},this._handleRequestsPivotClick=()=>{const{analytics:e}=this.props;e.scribe({element:"requests_pivot",action:"click"})},this._renderPivot=()=>{const{allowUntrustedInbox:e}=this.props;return e?i.a.createElement(j.a,{style:Ue.requestPivotContainer},i.a.createElement(we.a,{label:Pe,link:Object(xe.a)(D.d.SECONDARY),onPress:this._handleRequestsPivotClick,renderRightContent:this._renderPivotBadge})):null},this._renderPivotBadge=()=>{const{untrustedUnreadCount:e}=this.props;return e>0?i.a.createElement(V.a,{count:e,standalone:!0,truncatedCountFormatter:Ae,unreadCountLabel:He}):null}}componentDidUpdate(){this._isExpanded()&&Object(w.a)()}render(){const e=this._isExpanded();return i.a.createElement(i.a.Fragment,null,!e&&this._renderHeader(),e&&this._renderExpandedInbox())}}Ne.contextType=G.a;const Ue=z.a.create((e=>({fill:{flex:1,alignSelf:"stretch"},headerRoot:{position:"sticky",top:0,zIndex:e.componentZIndices.appBarZIndex},requestPivotContainer:{backgroundColor:e.colors.cellBackground,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,zIndex:2},viewportView:{...z.a.absoluteFillObject,overflowY:"auto"}})));var je=Fe(Ne),Be=n("YeIG"),Ve=n("A69o"),qe="DMDrawer",We=n("TnY3"),ze=n("0FVZ"),Ge=n("Oe3h"),Qe=n("nBUg");const $e={isGlobal:!0,isSticky:!0},Ye={isGlobal:!0,isSticky:!1};class Xe extends i.a.PureComponent{constructor(...e){super(...e),this.state={isHeaderHighlighted:!1,hasStartedInitialFetch:!1,unexpandedHeight:void 0},this._handleLayout=e=>{const{nativeEvent:{layout:{height:a}}}=e,{unexpandedHeight:n}=this.state;this._isExpanded()||void 0!==n||this.setState({unexpandedHeight:a})},this._showDMDrawer=()=>{const{conversations:e,visibility:a}=this.props,n=a===D.b.CLOSED;return!this._isHideDMDrawerPath()&&!Object(Be.a)(e)&&!n},this._isExpanded=()=>{const{visibility:e}=this.props;return e===D.b.EXPANDED},this._triggerHeaderHighlight=()=>{const{isHeaderHighlighted:e}=this.state;this._isExpanded()||e||this._headerHighlightTimeoutId||(this.setState({isHeaderHighlighted:!0}),this._headerHighlightTimeoutId=setTimeout((()=>{this.setState({isHeaderHighlighted:!1}),this._headerHighlightTimeoutId=void 0}),3e3))},this._handleDrawerOpen=()=>{const{isHeaderHighlighted:e}=this.state;e&&(this.setState({isHeaderHighlighted:!1}),clearTimeout(this._headerHighlightTimeoutId),this._headerHighlightTimeoutId=void 0)},this._isOnOcfFlow=()=>{const{location:e}=this.props;return e.pathname.startsWith("/i/flow")},this._isOnBirdwatchPage=()=>{const{location:e}=this.props;return e.pathname.startsWith("/i/birdwatch")},this._isHideDMDrawerPath=()=>this._isOnOcfFlow()||this._isOnBirdwatchPage()}componentWillUnmount(){clearTimeout(this._headerHighlightTimeoutId)}componentDidUpdate(){this._loadInboxDataIfNeeded()}componentDidMount(){this._loadInboxDataIfNeeded()}render(){const{history:e,location:a,perspective:n,poppedOutConversationId:t,width:s}=this.props,{isHeaderHighlighted:r,unexpandedHeight:o}=this.state,c=this._isExpanded();return this._showDMDrawer()?i.a.createElement(ze.a.Drawer,null,i.a.createElement(Ge.a,{id:"DMDrawer"},((d,u)=>i.a.createElement(p.a.Provider,{value:{isDrawer:!0}},i.a.createElement(Qe.b.Provider,{value:{isDMDrawer:()=>!0}},i.a.createElement(j.a,l()({ref:d()},u({style:[Ce.b.root,{width:s}],testID:qe})),i.a.createElement(j.a,{onLayout:o?void 0:this._handleLayout,style:[Ce.b.expandable,{height:o,maxHeight:o},c&&Ce.b.expanded]},t?i.a.createElement(Ve.a.Provider,{value:Ye},i.a.createElement(Ee,{conversationId:t,history:e,isHeaderHighlighted:r,location:a,onDrawerOpen:this._handleDrawerOpen,perspective:n,triggerHeaderHighlight:this._triggerHeaderHighlight})):i.a.createElement(Ve.a.Provider,{value:$e},i.a.createElement(je,{history:e,isHeaderHighlighted:r,onDrawerOpen:this._handleDrawerOpen,triggerHeaderHighlight:this._triggerHeaderHighlight}))))))))):null}_loadInboxDataIfNeeded(){const{createLocalApiErrorHandler:e,fetchInboxIfNeeded:a,loadDrawerVisibilityFromPersistence:n}=this.props,{hasStartedInitialFetch:t}=this.state;this._isHideDMDrawerPath()||t||(n(),a().catch(e()),this.setState({hasStartedInitialFetch:!0}))}}Xe.defaultProps={width:r.a.dmDrawerWidth.max};const Je=m(Xe);a.default=Object(We.a)(Je)},"ii+P":function(e,a,n){"use strict";n.d(a,"b",(function(){return i}));var t=n("ERkP"),l=n.n(t),s=n("wtru");function i(e){const a=Object(s.b)();return[!!a&&!a.flags[e],l.a.useCallback((()=>{null==a||a.addFlag(e)}),[a,e])]}a.a=i},kb9v:function(e,a,n){"use strict";n("kYxP");var t=n("ERkP"),l=n.n(t),s=n("TIdA"),i=n("t62R"),r=n("A91F"),o=n("/yvb"),c=n("Eqye"),d=n("efqG"),u=n("sgih"),m=n("rHpw"),p=n("MWbm"),h=n("3dyc");const g=m.a.create((e=>({root:{paddingVertical:e.spacesPx.space32},rootWithImage:{paddingTop:0},graphic:{marginBottom:e.spacesPx.space20},icon:{alignSelf:"center",height:e.spacesPx.space64,width:e.spacesPx.space64},container:{paddingHorizontal:e.spacesPx.space32},description:{marginTop:e.spacesPx.space8,marginBottom:e.spacesPx.space4},actionButton:{marginTop:e.spacesPx.space16}})));a.a=({actionPrimary:e,actionSecondary:a,children:n,headline:t,icon:y,iconColor:_,imageUrl:b,onDismiss:v,shouldDisplay:k,text:f,withMask:E=!0})=>{const[S,I]=l.a.useState(!1),F=e=>l.a.createElement(d.a,{onDismiss:R,renderContent:()=>T(R),switchOnlyOnXSmallBreakpoint:!0,visibilityBehavior:h.b.forceVisible,withArrow:!0,withFixedPosition:!0,withMask:E},e),C=()=>l.a.createElement(u.a,{onMaskClick:()=>R(),type:"center",withMask:!0},T(R)),T=n=>l.a.createElement(p.a,{style:[g.root,b&&g.rootWithImage]},x(),l.a.createElement(p.a,{style:g.container},L(),K(),w({action:e,dismiss:n,type:a&&"primaryFilled"}),w({action:a,dismiss:n}))),x=()=>{let e=y&&l.a.createElement(y,{style:_?[g.icon,{color:m.a.theme.colors[_]}]:g.icon});return b&&!c.a.isEnabled&&(e=l.a.createElement(s.a,{accessibilityLabel:"",aspectMode:r.a.exact(2),image:b})),e&&l.a.createElement(p.a,{style:g.graphic},e)},L=()=>l.a.createElement(i.b,{size:"title3",weight:"heavy"},t),K=()=>l.a.createElement(i.b,{color:"gray700",style:g.description},f),w=({action:e,dismiss:a,type:n})=>e&&l.a.createElement(o.a,{link:e.link&&e.link,onPress:e.onClick?e.onClick:a,size:"large",style:g.actionButton,type:n},e.text),R=()=>{v&&v(),I(!0)};return k&&!S?n?F(n):C():n||null}},lBmi:function(e,a,n){"use strict";var t=n("ERkP"),l=n.n(t),s=n("Lsrn"),i=n("k/Ka");const r=(e={})=>Object(i.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[s.a.root,e.style],viewBox:"0 0 24 24"},l.a.createElement("g",null,l.a.createElement("path",{d:"M23.885 19.5c-.762-3.064-3.72-5.206-7.19-5.206-1.17 0-2.27.265-3.258.707 1.246 1.08 2.157 2.5 2.564 4.138.252 1.004.052 2.03-.52 2.86h6.48c.627 0 1.2-.27 1.57-.744.38-.49.51-1.13.355-1.753zm-9.695 1.755c.38-.49.512-1.13.356-1.754-.375-1.506-1.284-2.785-2.52-3.7-1.278-.95-2.905-1.507-4.67-1.507-3.47 0-6.428 2.142-7.19 5.208-.156.626-.025 1.266.356 1.755.37.473.94.744 1.567.744h10.533c.627 0 1.197-.272 1.567-.745zm2.505-8.218c1.185 0 2.51-.132 3.368-1.11.72-.823.952-2.08.715-3.847-.333-2.478-1.86-3.956-4.083-3.956-2.225 0-3.75 1.48-4.084 3.956-.235 1.766 0 3.023.718 3.846.858.98 2.184 1.11 3.368 1.11zm-9.34 0c1.185 0 2.51-.132 3.367-1.11.72-.823.953-2.08.716-3.847-.333-2.478-1.86-3.956-4.083-3.956-2.225 0-3.75 1.48-4.084 3.956-.235 1.766 0 3.023.718 3.846.858.98 2.184 1.11 3.368 1.11z"})));r.metadata={width:24,height:24},a.a=r},nySH:function(e,a,n){"use strict";n.d(a,"a",(function(){return h})),n.d(a,"b",(function(){return g})),n.d(a,"c",(function(){return y}));var t=n("ERkP"),l=n.n(t),s=n("HPNB"),i=n("v6aA"),r=n("jYSG"),o=n("AQ79"),c=n("+Bsv"),d=n("MWbm"),u=n("cHvH"),m=n("t62R"),p=n("rHpw");const h=e=>{switch(e){case o.d.SECONDARY:return"/messages/requests";case o.d.TERTIARY:return"/messages/requests/additional";case o.d.PRIMARY:default:return"/messages"}},g=(e,a)=>l.a.createElement(i.a.Consumer,null,(({featureSwitches:n})=>{const t=n.isTrue("responsive_web_settings_revamp_enabled")?e:"/settings/safety";return l.a.createElement(c.a,{pullRight:a,to:t})})),y=e=>l.a.createElement(u.a,null,(({windowWidth:a})=>{const n=s.a.isTwoColumnLayout(a),t=0===e.length;return n||t?null:l.a.createElement(d.a,{style:_.stickyCopyContainer},l.a.createElement(m.b,{style:_.stickyCopy},r.a))})),_=p.a.create((e=>({stickyCopyContainer:{backgroundColor:e.colors.cellBackground,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,zIndex:1},stickyCopy:{color:e.colors.gray700,padding:e.spaces.space20}})))},pXKu:function(e,a,n){"use strict";n("kYxP");var t=n("ERkP"),l=n.n(t),s=n("BUB3"),i=n("v6aA"),r=n("xZGM"),o=n("rxPX");var c=Object(o.a)().propsFromState((()=>({shouldShowPrompt:(e,a)=>Object(r.D)(e,r.k)}))).propsFromActions((()=>({addFlag:r.z}))).withAnalytics({component:"dm_education_flags_prompt"}),d=n("fs1G"),u=n("t62R"),m=n("feu+"),p=n("3XMw"),h=n.n(p);const g=h.a.fd6150fc,y=l.a.createElement(h.a.I18NFormatMessage,{$i18n:"iac7f92a"},l.a.createElement(u.b,{link:"/privacy"},h.a.d42d239f)),_=h.a.j24c37b2;var b=c((e=>{const{addFlag:a,analytics:n,shouldShowPrompt:t}=e,{featureSwitches:s}=l.a.useContext(i.a);if(!(t&&s.isTrue("dm_education_flags_prompt")))return!1;return n.scribeAction("impression"),l.a.createElement(m.a,{actionLabel:_,headline:g,onAction:()=>{n.scribeAction("click"),a(r.k)},onClose:d.a,subtext:y,withCloseButton:!1})})),v=n("MMRb"),k=n("kGix"),f=n("0KEI");var E=Object(o.a)().propsFromState((()=>({hasConversations:v.selectHasConversations,fetchStatus:v.selectFetchStatus,isLoadingTop:v.selectIsLoadingTop}))).adjustStateProps((({fetchStatus:e,hasConversations:a,isLoadingTop:n})=>({fetchStatus:a?k.a.LOADED:e,isRefreshing:a&&n}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(f.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX"),fetchInbox:v.fetchInbox,fetchInboxIfNeeded:v.fetchInboxIfNeeded,fetchUpdates:v.fetchUpdatesIfNeeded}))),S=(n("MvUL"),n("EbOo")),I=n("tZH3"),F=n("1YZw"),C=n("hqKg"),T=n("AQOc"),x=n("G6rE"),L=n("oEGd");const K=(e,a)=>a.conversationId,w=Object(C.createSelector)(K,((e,a)=>v.selectConversation(e,K(0,a))),v.selectEntries,x.e.selectAll,((e,a)=>!v.selectConversationIsRead(e,K(0,a))),((e,a)=>{const n=K(0,a);return Object(v.selectInboxTypeByConversation)(e,n)}),((e,a)=>Object(r.D)(e,r.t)),((e,a,n,t,l,s,i)=>({conversation:(null==a?void 0:a.data)&&Object(T.a)(a.data,n,t),conversationId:e,unread:l,inboxType:s,shouldShowPinnedEducation:i}))),R={addFlag:r.z,addRecentSearch:v.addRecentSearches,addToast:F.b,block:x.e.block,createLocalApiErrorHandler:Object(f.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_INBOX_ITEM"),disableNotifications:v.disableNotifications,enableNotifications:v.enableNotifications,leaveConversation:v.leaveConversation,muteDMUser:v.muteDMUser,unmuteDMUser:v.unmuteDMUser,unblock:x.e.unblock};var M=Object(L.f)(w,R),O=n("aA19"),D=n("OhSZ"),P=n("fQBn"),H=n("Myq3"),A=n("3wZR"),N=n("XnpN"),U=n("VcIV"),j=n("aWyx"),B=n("YemM"),V="conversation",q=n("u0B7"),W=n("MWbm"),z=n("Irs7"),G=n("Znyr"),Q=n("0PHd"),$=n("yrzJ"),Y=n("Xrkv"),X=n("lHOd"),J=n("efqG"),Z=n("/yvb"),ee=n("GBcw"),ae=n("cm6r"),ne=n("htQn"),te=n("5mJL"),le=n("vMjK"),se=n("AQ79"),ie=n("pHkl"),re=n("X/yg"),oe=n("5oT/"),ce=n("IpT4"),de=n("fz3c");const ue=h.a.d88d0790,me=({children:e})=>l.a.createElement(W.a,{style:B.a.socialProofContainer},e);class pe extends l.a.Component{constructor(...e){super(...e),this._isPinnedInboxEnabled=this.context.featureSwitches.isTrue("dm_conversation_labels_pinned_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),this._renderMenu=({isFocused:e,isFocusedWithin:a,isHovered:n})=>{const{conversation:t,conversationId:s,inboxType:i,pinConversation:r,position:o,unpinConversation:c}=this.props;if(t&&r&&c){const d=(e=>{var a;return Boolean(null==e||null==(a=e.labels)?void 0:a.find((e=>e.label_type===se.a.PINNED)))})(t),u=t.notifications_disabled,m=t.participants.length||0;return l.a.createElement(U.a,{conversation:t,conversationId:s,conversationType:t.type,inboxType:i,isHovered:e||a||n,isPinned:d,isSnoozed:u,participantCount:m,pinConversation:r,position:o,unpinConversation:c})}return null},this._renderConversationActions=({isFocused:e,isFocusedWithin:a,isHovered:n})=>{const{inboxType:t}=this.props;switch(t){case se.d.PRIMARY:return this._isPinnedInboxEnabled?this._renderMenu({isFocused:e,isFocusedWithin:a,isHovered:n}):null;case se.d.SECONDARY:case se.d.TERTIARY:return this._renderX();default:return null}},this._renderConversationEndCell=e=>{const{inboxType:a,searchQuery:n,unread:t}=this.props,s=t?l.a.createElement(G.a,{pip:!0,style:B.a.unreadMessagePip,truncatedCountFormatter:()=>"",unreadCountLabel:()=>""}):null;switch(a){case se.d.PRIMARY:return this._isVDLEnabled?s:n?null:this._renderTimestamp(e);case se.d.SECONDARY:return this._isVDLEnabled?s:null;default:return null}},this._renderConversationLabel=({convo_label:e})=>{if(null==e||!e.text)return null;const a=Object(A.b)(e.icon);return l.a.createElement(u.b,{color:"gray700",size:"subtext2"},a?l.a.createElement(a,{style:B.a.convoLabelIcon}):null,e.text)},this._renderSocialProof=({social_proof:e})=>{if(!e||0===e.length)return null;const a=e[0];switch(a.proof_type){case j.d.MUTUAL_FRIENDS:{if(0===a.total)return null;const e=a.users.map((({profile_image_url_https:e})=>e)),n=a.users.map((({name:e})=>e));return l.a.createElement(me,null,l.a.createElement(u.b,{weight:this._isVDLEnabled?"medium":"normal"},l.a.createElement(Q.a,{displayFacepileInline:!0,knownFollowersAvatarUrls:e,knownFollowersCount:a.total,knownFollowersNames:n,textStyle:this._isVDLEnabled&&B.a.socialProofText,withFacepile:!this._isVDLEnabled})))}default:return null}},this._renderSearchConversationPreview=()=>{const{conversation:e,perspective:a,searchQuery:n}=this.props,t=e?Object(N.a)(e,a):[],s=[],i=(e,a)=>e.localeCompare(a),r=t.map((({user:e})=>e)).filter((e=>{var t;const l=null==(t=e.name)?void 0:t.toLowerCase().includes(n);return e.id_str!==a&&(l&&s.push(e.name),!l)})).map((e=>e.name)).sort(i),o=s.sort(i).concat(r);if(e){if(e.type===v.CONVERSATION_TYPE.ONE_TO_ONE){const[e]=t.map((({user:e})=>e));return l.a.createElement($.a,{color:"gray700",screenName:e.screen_name})}{const e=!0,a=Object(Y.a)(o,e);return l.a.createElement(u.b,{color:"gray700",numberOfLines:2},a)}}},this._renderX=()=>{const{conversation:e,conversationId:a}=this.props,{loggedInUserId:n}=this.context,t=Object(re.j)(e,n),s=(null==e?void 0:e.type)===v.CONVERSATION_TYPE.GROUP;return l.a.createElement(X.a.Consumer,null,(e=>l.a.createElement(J.a,{renderContent:(n,i)=>l.a.createElement(I.a,{dismiss:n,flatBorders:"sheet"===i,isGroup:s,onBlockClick:this._blockUser(t.idStr),onDeleteClick:this._deleteConversation(a),onReportClick:this._handleReportMenuItemClick(e),requestorScreenName:t.screenName,showBlock:!s,showCancel:"sheet"===i,showDelete:!0})},l.a.createElement(Z.a,{accessibilityLabel:ue,icon:l.a.createElement(oe.a,{style:this._isVDLEnabled?B.a.xIcon:void 0}),onPress:this._handleXPress,style:this._isVDLEnabled?B.a.vdlXButton:B.a.xButton,type:this._isVDLEnabled?void 0:"destructiveText"}))))},this._getUserIdOfOneToOneConvo=()=>{const{conversation:e,perspective:a}=this.props,n=e&&Object(N.a)(e,a).map((({user:e})=>e)),t=n&&n[0]||null;return t?t.id_str:""},this._handleReportMenuItemClick=e=>()=>{const{analytics:a,conversation:n,conversationId:t,inboxType:l}=this.props,s=de.a.DMConversation,{featureSwitches:i}=this.context,r=(null==n?void 0:n.type)===v.CONVERSATION_TYPE.GROUP?"0":this._getUserIdOfOneToOneConvo();if(t)if(a.scribeAction("report"),Object(de.g)(i,s)){const n=Object(de.d)({clientReferer:window.location.pathname,isMedia:!1,isPromoted:!1,reportType:s,reportedConversationId:t,reportedUser:r,scribeNamespace:a.contextualScribeNamespace});e.push({pathname:"/i/safety/report_story_start",state:{input:{requested_variant:JSON.stringify(n)}}})}else{const n=Object(re.g)(t,window.location.pathname,a.contextualScribeNamespace,l);e.push(n)}},this._handleXPress=e=>{e.preventDefault()},this._renderTimestamp=e=>{const{conversation:a,isMessageItem:n}=this.props,t=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),s=[t||n?B.a.inlineNotificationsDisabledIcon:B.a.notificationsDisabledIcon,t&&B.a.inlineNotificationsDisabledIconVDL],i=Number(e&&n?null==e?void 0:e.time:null==a?void 0:a.sort_timestamp);return l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,{style:[n&&B.a.inlineTimestamp,t&&B.a.inlineTimestampVDL]},a&&i?l.a.createElement(ee.a,{timestamp:i}):null,null!=a&&a.notifications_disabled?l.a.createElement(ce.a,{style:s}):null))},this._deleteConversation=e=>()=>{const{analytics:a,conversation:n,createLocalApiErrorHandler:t,inboxType:l,leaveConversation:s,position:i}=this.props,{history:r}=this.context,o=(null==n?void 0:n.participants.length)||0,c=n&&n.type===v.CONVERSATION_TYPE.GROUP?"leave_group":"delete_thread",d={conversation_type:(null==n?void 0:n.type)===v.CONVERSATION_TYPE.GROUP?ie.j.GROUP:ie.j.ONE_TO_ONE,conversation_id:e,conversation_participant_count:o,position:i,inbox_type:Object(re.i)(l),entry_point:l===ie.e.PRIMARY?ie.c.THREE_DOT_MENU:ie.c.CELL_X_BUTTON};a.scribe({element:"thread",action:c,data:d}),s({conversationId:e}).catch(t({showToast:!0})),r.replace(Object(re.f)(l))},this._blockUser=e=>()=>{const{addToast:a,analytics:n,block:t,createLocalApiErrorHandler:l}=this.props;t(e).then((()=>{a({action:{label:le.c,onAction:this._createUnblockUserHandler(e)},text:le.a})}),l(S.a)),n.scribeAction("block")},this._createUnblockUserHandler=e=>()=>{const{analytics:a,createLocalApiErrorHandler:n,unblock:t}=this.props;t(e).catch(n(q.a)),a.scribeAction("unblock")},this._handleOnClick=e=>{const{addRecentSearch:a,analytics:n,conversation:t,conversationId:l,onClick:s,position:i,searchQuery:r}=this.props,o=(null==t?void 0:t.participants.length)||0,c=(null==t?void 0:t.type)===v.CONVERSATION_TYPE.GROUP;r&&(n.scribe({component:"search",element:"conversation",action:"click",data:{conversation_id:l,conversation_participant_count:o,conversation_type:c?ie.j.GROUP:ie.j.ONE_TO_ONE,entry_point:ie.c.ALL,inbox_type:ie.e.PRIMARY,dm_search_result_type:ie.a.CONVERSATION,message_type:ie.f.NOT_APPLICABLE,position:i}}),n.scribe({component:"recent_search",action:"add"}),a(r)),s(e,l,t,i)}}shouldComponentUpdate(e){const a=this.props.conversation,n=null==a?void 0:a.conversation_id,t=null==a?void 0:a.notifications_disabled,l=null==a?void 0:a.last_read_event_id,s=null==a?void 0:a.sort_event_id,i=null==a?void 0:a.max_entry_id,r=null==a?void 0:a.convo_label,o=this.props.messageId,c=e.conversation,d=null==c?void 0:c.conversation_id,u=null==c?void 0:c.notifications_disabled,m=null==c?void 0:c.last_read_event_id,p=null==c?void 0:c.sort_event_id,h=null==c?void 0:c.max_entry_id,g=null==c?void 0:c.convo_label,y=e.messageId,{filter:_,isActive:b}=this.props,{filter:v,isActive:k}=e;return n!==d||t!==u||l!==m||s!==p||i!==h||o!==y||b!==k||_!==v||r!==g}render(){const{conversation:e,isActive:a,isMessageItem:n,link:t,messageId:s,perspective:i,position:r,searchQuery:o,unread:c}=this.props,d=(null==e?void 0:e.entries)||[],u=n?d.find((e=>e.id===s)):Object(H.a)(d,(e=>!ie.b.includes(e.type))),m=[B.a.root,c&&!this._isVDLEnabled&&B.a.unread,a&&this._isVDLEnabled&&B.a.active],p=(null==e?void 0:e.type)===v.CONVERSATION_TYPE.GROUP,h=this._isVDLEnabled&&p;if(!e)return null;const g=!!e.convo_label,y=!e.trusted&&!g,_=this._renderConversationEndCell(u),b=o&&!n;let k="text",f="bold";return this._isVDLEnabled&&!c&&(k="gray900",f="medium"),this._isVDLEnabled&&a&&(k="text",f="medium"),!e||!o&&e.isSearchResultOnly?null:l.a.createElement(ae.a,null,(({isFocused:s,isFocusedWithin:d,isHovered:p})=>l.a.createElement(ne.a,{accessibilityRole:"none",accessibilityState:{selected:a},link:{pathname:null==t?void 0:t.pathname,anchorless:!0,state:{...null==t?void 0:t.state,position:r,entryPoint:n?null==u?void 0:u.id:null,isMessageItem:n}},onPress:this._handleOnClick,style:m,testID:V},l.a.createElement(te.a,{avatarCell:l.a.createElement(O.a,{conversation:e,perspective:i,withBadge:h}),avatarSize:"xxLarge"},l.a.createElement(W.a,{style:B.a.bodyColumn},l.a.createElement(W.a,{style:B.a.titleContainer},l.a.createElement(D.b,{conversation:e,isConversationSearchTitle:!!b,isMessageSearchTitle:!!n,perspective:i,renderTimestamp:()=>this._renderTimestamp(u),textColor:k,titleWeight:f,withScreenName:!o&&!n,withVDLRefresh:this._isVDLEnabled}),l.a.createElement(W.a,{style:[B.a.snippet,!s&&!d&&!p&&B.a.snippetPadding]},u&&!b?l.a.createElement(P.a,{conversationType:e.type,entry:u,isMessageItem:n,isSelected:this._isVDLEnabled&&a,perspective:i,unread:this._isVDLEnabled&&c}):b?this._renderSearchConversationPreview():null),g?this._renderConversationLabel(e):null,y?this._renderSocialProof(e):null),_?l.a.createElement(W.a,{style:B.a.endCell},_):null,this._renderConversationActions({isFocused:s,isFocusedWithin:d,isHovered:p}))))))}}pe.contextType=i.a,pe.defaultProps={searchQuery:"",inboxType:"primary",isActive:!1,filter:e=>!0};var he=Object(z.a)(M(pe),{page:"messages",section:"inbox"}),ge=n("eb3s");var ye=Object(o.a)().propsFromState((()=>({pinnedConversationIds:v.selectPinnedConversationIds}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(f.createLocalApiErrorHandlerWithContextFactory)("DM_PINNED_INBOX_CONTEXT")}))).withAnalytics({page:"messages",section:"inbox"}),_e=n("oUUt"),be=n("d9IC"),ve=n("h3MB");n("Qavd");const ke=(e,{module:a})=>a.selectItems(e),fe=(e,{module:a})=>a.selectFetchStatus(e);var Ee=Object(o.a)().propsFromState((()=>({fetchStatus:fe,sliceItems:ke}))).adjustStateProps((({fetchStatus:e,sliceItems:a})=>{const n=(e=>{var a;return(null==(a=e.find((e=>e.groupData)))?void 0:a.groupData)||[]})(a),t=(e=>{var a;return(null==(a=e.find((e=>e.peopleData)))?void 0:a.peopleData)||[]})(a),l=(e=>{var a,n;return(null==(a=e.find((e=>e.messageData)))||null==(n=a.messageData)?void 0:n.conversationIds)||[]})(a);return{entryIds:(e=>{var a,n;return(null==(a=e.find((e=>e.messageData)))||null==(n=a.messageData)?void 0:n.entryIds)||[]})(a),fetchStatus:e,groupConversationIds:n,messageConversationIds:l,peopleSearchConversationIds:t,sliceItems:a}})).propsFromActions((({module:e})=>({createLocalApiErrorHandler:Object(f.createLocalApiErrorHandlerWithContextFactory)("DM_SEARCH_ALL_CONTEXT"),fetchSearchIfNeeded:e.fetchIfNeeded}))),Se=n("MDbM"),Ie=n("v//M"),Fe=n("0yYu"),Ce=n("rHpw"),Te=n("lBmi"),xe=n("91AQ"),Le=n("6ZHn");const Ke=h.a.c94ac69d,we=h.a.a2f8105f,Re=h.a.g2fd3205,Me=h.a.ffd9cfe6;class Oe extends l.a.Component{constructor(...e){super(...e),this._groupBucketSize=this.context.featureSwitches.getNumberValue("dm_inbox_search_groups_bucket_size"),this._messagesBucketSize=this.context.featureSwitches.getNumberValue("dm_inbox_search_messages_bucket_size"),this._peopleBucketSize=this.context.featureSwitches.getNumberValue("dm_inbox_search_people_bucket_size"),this._renderSearchResults=()=>{const{groupConversationIds:e,messageConversationIds:a,peopleSearchConversationIds:n,renderEmptyState:t}=this.props,s=n.length&&e.length,i=this._groupBucketSize<e.length,r=this._messagesBucketSize<a.length,o=this._peopleBucketSize<n.length;return(null==e?void 0:e.length)||n.length||a.length?l.a.createElement(l.a.Fragment,null,n.length?this._renderPeopleSection():null,s&&!o?l.a.createElement(Fe.a,null):null,o?this._renderDMSearchFooter(Re):null,e.length?this._renderGroupsSection():null,i?this._renderDMSearchFooter(Ke):null,a.length?this._renderMessagesSection():null,r?this._renderDMSearchFooter(we):null):t()},this._handleFetch=()=>{const{createLocalApiErrorHandler:e,fetchSearchIfNeeded:a}=this.props;a().catch(e())},this._renderDMSearchFooter=e=>{const{location:a}=this.props;return l.a.createElement(W.a,{style:De.header},l.a.createElement(u.b,{link:{pathname:a.pathname,state:{tab:e}}},Me))},this._renderDMHeader=({headerText:e,icon:a})=>l.a.createElement(be.a,{headerText:e,icon:a}),this._renderGroupsSection=()=>{const{groupConversationIds:e,pinConversation:a,renderInboxItem:n,unpinConversation:t}=this.props;return l.a.createElement(l.a.Fragment,null,this._renderDMHeader({icon:Te.a,headerText:Ke}),e.map((l=>l?n({conversationIds:e,pinConversation:a,unpinConversation:t})(l):null)).slice(0,this._groupBucketSize))},this._renderMessagesSection=()=>{const{entryIds:e,messageConversationIds:a,pinConversation:n,renderInboxItem:t,unpinConversation:s}=this.props;return l.a.createElement(l.a.Fragment,null,this._renderDMHeader({icon:xe.a,headerText:we}),e.map((l=>l?(l=>t({conversationIds:a,isMessageItem:!0,messageIds:e,pinConversation:n,unpinConversation:s})(l))(l):null)).slice(0,this._messagesBucketSize))},this._renderPeopleSection=()=>{const{peopleSearchConversationIds:e,pinConversation:a,renderInboxItem:n,unpinConversation:t}=this.props;return l.a.createElement(l.a.Fragment,null,this._renderDMHeader({icon:Le.a,headerText:Re}),e.map((l=>l?n({conversationIds:e,pinConversation:a,unpinConversation:t})(l):null)).slice(0,this._peopleBucketSize))}}componentDidUpdate(e){const{fetchStatus:a,module:n}=this.props;e.module!==n&&a!==Se.a.FAILED&&this._handleFetch()}componentDidMount(){this._handleFetch()}render(){const{fetchStatus:e,loadingLabel:a}=this.props;return l.a.createElement(Ie.a,{accessibilityLabel:a,fetchStatus:e,onRequestRetry:this._handleFetch,render:this._renderSearchResults})}}Oe.contextType=i.a;const De=Ce.a.create((e=>({header:{backgroundColor:e.colors.cellBackground,paddingLeft:e.spaces.space16,paddingVertical:e.spaces.space12,alignItems:"center",flexDirection:"row",justifyContent:"space-between",borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,borderTopColor:e.colors.borderColor}})));var Pe=Ee(Oe),He=n("wAC9"),Ae=n("xPna");const Ne=(e,a=!0)=>{const n={};let t={};return null!=e&&e.conversations&&(Object.values(e.conversations).forEach((e=>{e&&e.users&&Object.assign(n,e.users),a&&(e.isSearchResult=!0)})),t={conversations:null==e?void 0:e.conversations,users:n}),null!=e&&e.entries&&(t={...t,entries:null==e?void 0:e.entries}),Object(Ae.a)(t)};var Ue=e=>Object(He.a)({contextSuffix:"DM_SEARCH_SLICE",getFetchApiEndpoint:e=>e.DirectMessagesGraphQL.fetchDMAllSearch,sliceKey:`${ie.h}-${e}`,getEndpointParams:a=>({...a,query:e}),mapEntitiesToActions:Ne});const je=(e,a)=>a.query;var Be=Object(o.a)().propsFromState((()=>({sliceModule:Object(C.createSelector)(je,(e=>e?Ue(e):void 0))})))((e=>{const{loadingLabel:a,location:n,pinConversation:t,query:s,renderEmptyState:i,renderInboxItem:r,sliceModule:o,unpinConversation:c}=e;return o?l.a.createElement(Pe,{loadingLabel:a,location:n,module:o,pinConversation:t,query:s,renderEmptyState:i,renderInboxItem:r,unpinConversation:c}):i()}));const Ve=v.selectRecentSearches,qe=(e,a)=>a.query?v.selectSearchConversations(e,a.query):[],We=(e,a)=>a.query?v.selectSearchFetchStatus(e,a.query):k.a.LOADED,ze=(e,a)=>a.conversationIds||[],Ge=(e,a)=>null!=e&&e.length?a.filter((a=>e.indexOf(a)>-1)):e;var Qe=Object(o.a)().propsFromState((()=>({conversationIds:ze,recentSearches:Ve,searchFetchStatus:We,searchConversationIds:qe}))).adjustStateProps((({conversationIds:e,recentSearches:a,searchConversationIds:n,searchFetchStatus:t})=>({conversationIds:e,recentSearches:a,searchFetchStatus:t,searchConversationIds:Ge(n,e)}))).propsFromActions((()=>({addRecentSearch:v.addRecentSearches,createLocalApiErrorHandler:Object(f.createLocalApiErrorHandlerWithContextFactory)("DIRECT_MESSAGES_SEARCH"),search:v.searchConversations,clearRecentSearch:v.clearRecentSearch,clearRecentSearches:v.clearRecentSearches}))),$e=n("VY6S"),Ye=n("s14A");var Xe=e=>Object(He.a)({contextSuffix:"DM_GROUP_SEARCH_SLICE",getFetchApiEndpoint:e=>e.DirectMessagesGraphQL.fetchDMGroupSearch,sliceKey:`${ie.h}-groups-${e}`,getEndpointParams:a=>({...a,query:e}),mapEntitiesToActions:Ne});var Je=e=>Object(He.a)({contextSuffix:"DM_PEOPLE_SEARCH_SLICE",getFetchApiEndpoint:e=>e.DirectMessagesGraphQL.fetchDMPeopleSearch,sliceKey:`${ie.h}-people-${e}`,getEndpointParams:a=>({...a,query:e}),mapEntitiesToActions:Ne});const Ze=(e,a)=>a.query,ea=(e,a)=>a.tabType;var aa=Object(o.a)().propsFromState((()=>({sliceModule:Object(C.createSelector)(ea,Ze,((e,a)=>{const n=a&&e===ie.i.PEOPLE;return a&&e===ie.i.GROUPS?Xe(a):n?Je(a):void 0}))}))),na=n("FS1z");var ta,la=aa((e=>{const{footer:a,onScrollEnd:n,pinConversation:t,renderEmptyState:s,renderInboxItem:i,sliceModule:r,unpinConversation:o}=e;return r?l.a.createElement(na.a,{footer:a,module:r,noItemsRenderer:s,onScrollEnd:n,renderer:i({conversationIds:[],pinConversation:t,unpinConversation:o}),withoutHeadroom:!0}):s()})),sa=n("VPW4"),ia=(n("YWiL"),n("mN6z")),ra=n("TEoO"),oa=n("NjAB"),ca=n("Fr3L"),da=n("uDfI"),ua=n("s8G+"),ma=n("DQzJ");const pa=void 0!==ta?ta:ta=n("y59G"),ha="DM_MESSAGE_SEARCH",ga={context:ha},ya=e=>e,_a=e=>{var a;const{footer:n,noItemsRenderer:t,onScrollEnd:s,pinConversation:i,renderInboxItem:r,searchTerm:o,unpinConversation:c}=e,d=Object(da.c)(),u=Object(ua.a)("dm_inbox_search_message_attachment_previews_enabled"),m=Object(ua.a)("dm_inbox_search_query_highlighting_message_results_enabled"),p=Object(ua.a)("rito_safety_mode_blocked_profile_enabled"),h=Object(ua.a)("super_follow_user_api_enabled"),{data:g,fetchNext:y,hasNext:_}=Object(ma.a)(pa,{query:o,withAttachments:u,withMessageQueryHighlights:m,withSafetyModeUserFields:p,withSuperFollowsUserFields:h}),{entities:b,normalizedConversations:v,normalizedMessages:k}=l.a.useMemo((()=>{var e,a,n;const t=null==g||null==(e=g.dm_message_slice_result)||null==(a=e.items)?void 0:a.map((e=>{var a,n;return null==e||null==(a=e.dm_event)||null==(n=a.legacy)?void 0:n.conversation})),l=null==g||null==(n=g.dm_message_slice_result)?void 0:n.items,s=Object(oa.b)(t,[ve.a]),i=Object(oa.b)(l,[ve.b]);return{normalizedConversations:s,normalizedMessages:i,entities:{...null==s?void 0:s.entities,...null==i?void 0:i.entities}}}),[null==g||null==(a=g.dm_message_slice_result)?void 0:a.items]),f=(e=>{const a=l.a.useRef();return l.a.useEffect((()=>{a.current=e})),a.current})(g);return l.a.useEffect((()=>{Object(ia.a)(g,f)||d(Ne(b,!0))}),[b,g,f,d]),l.a.createElement(ra.a,{cacheKey:ha,footer:_?null:n,identityFunction:ya,items:null==k?void 0:k.result,noItemsRenderer:t,onNearEnd:y,onScrollEnd:s,renderer:r({conversationIds:null==v?void 0:v.result,isMessageItem:!0,messageIds:null==k?void 0:k.result,pinConversation:i,unpinConversation:c}),withoutHeadroom:!0})},ba=Ce.a.create((e=>({activityIndicatior:{paddingVertical:250}})));function va(e){return l.a.createElement(ca.a,{errorConfig:ga},l.a.createElement(l.a.Suspense,{fallback:l.a.createElement(sa.a,{style:ba.activityIndicatior})},l.a.createElement(_a,e)))}var ka=n("j7Bv"),fa=n("VwDm"),Ea=n("hOZg");const Sa=h.a.dbd5d40f;class Ia extends l.a.PureComponent{render(){const{clearRecentSearch:e,handleRecentSearchClick:a,recentSearch:n}=this.props,t=l.a.createElement(ka.a,{Icon:fa.a,color:"neutral",size:"xLarge",style:Fa.searchIcon}),s=[Fa.listItemView,Fa.bottomBorder];return l.a.createElement(ne.a,{onPress:a,style:s},l.a.createElement(W.a,null,l.a.createElement(te.a,{avatarCell:t,avatarSize:"xLarge",cellStyle:Fa.avatarColumn},l.a.createElement(W.a,{style:Fa.container},l.a.createElement(u.b,{numberOfLines:1},n),l.a.createElement(Z.a,{accessibilityLabel:Sa,borderColor:"transparent",icon:l.a.createElement(Ea.a,null),onPress:e,type:"brandText"})))))}}const Fa=Ce.a.create((e=>({container:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},searchIcon:{marginRight:e.spaces.space12,padding:e.spaces.space4},avatarColumn:{flexGrow:1,minWidth:"32px"},bottomBorder:{borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor},listItemView:{backgroundColor:e.colors.cellBackground,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space12,width:"100%"}})));var Ca=Ia,Ta=n("DbJc"),xa=n("IG4P"),La=n("RJrc"),Ka=n("TnY3"),wa=n("FIs5"),Ra=n("6OUF"),Ma=n("k/OQ"),Oa=n("95Se");const Da=e=>e,Pa=h.a.b08821f3,Ha=h.a.a66ac766,Aa=h.a.fe61929d,Na=h.a.a846382a,Ua=h.a.b9dae4f4,ja=h.a.e7fb2027,Ba=h.a.b92a21d8,Va=h.a.jdc67c42,qa=h.a.e8581ccd,Wa=h.a.f08940ab,za=h.a.gaae1fd5,Ga=h.a.i5d7593a,Qa=h.a.f8321d82,$a=h.a.c94ac69d,Ya=h.a.a2f8105f,Xa=h.a.g2fd3205,Ja=h.a.fb3c8e74;class Za extends l.a.Component{constructor(...e){super(...e),this.state={debouncedQuery:"",isLoadingMore:!1,isRefreshing:!1},this._messageSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_message_results_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._modularSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_modular_results_enabled"),this._setInputRef=e=>{this._textInputRef=e},this._renderEmptyDMSearchInbox=()=>{const{analytics:e,query:a}=this.props,{debouncedQuery:n}=this.state;return n&&a?(e.scribe({component:"search",element:"results",action:"empty"}),l.a.createElement(wa.a,{buttonLink:"/messages/compose",buttonText:Wa,header:Ba({query:n}),message:this._messageSearchEnabled?qa:Va,onButtonPress:this._handleComposeButtonPress})):l.a.createElement(W.a,{style:en.emptyState},l.a.createElement(u.b,{align:"center",color:"gray700"},this._messageSearchEnabled?Ga:za))},this._renderRecentSearches=()=>{const{analytics:e,query:a,recentSearches:n}=this.props;return n.length&&!a?l.a.createElement(l.a.Fragment,null,l.a.createElement(be.a,{analytics:e,clearRecentSearches:this._clearRecentSearches,headerText:Ja,withClearButton:!0}),n.map((e=>l.a.createElement(Ca,{clearRecentSearch:a=>this._handleClearRecentSearch(a,e),handleRecentSearchClick:()=>this._handleRecentSearchClick(e),key:e,recentSearch:e})))):this._renderEmptyDMSearchInbox()},this._renderAllDMSearchResultsTab=()=>{const{location:e,pinConversation:a,renderInboxItem:n,unpinConversation:t}=this.props,{debouncedQuery:s}=this.state;return s?l.a.createElement(Be,{loadingLabel:Ha,location:e,pinConversation:a,query:s,renderEmptyState:this._renderEmptyDMSearchInbox,renderInboxItem:n,unpinConversation:t}):this._renderEmptyDMSearchInbox()},this._renderConversationsTab=e=>{const{pinConversation:a,renderInboxItem:n,unpinConversation:t}=this.props,{debouncedQuery:s}=this.state;return l.a.createElement(la,{footer:this._renderFooter(),onScrollEnd:this._handleScrollEnd,pinConversation:a,query:s,renderEmptyState:this._renderEmptyDMSearchInbox,renderInboxItem:n,tabType:e?ie.i.GROUPS:ie.i.PEOPLE,unpinConversation:t})},this._renderMessagesTab=()=>{const{pinConversation:e,renderInboxItem:a,unpinConversation:n}=this.props,{debouncedQuery:t}=this.state;return t?l.a.createElement(va,{footer:this._renderFooter(),noItemsRenderer:this._renderEmptyDMSearchInbox,onScrollEnd:this._handleScrollEnd,pinConversation:e,renderInboxItem:a,searchTerm:t,unpinConversation:n}):this._renderEmptyDMSearchInbox()},this._renderTabContent=()=>{const{location:e}=this.props,{tab:a}=(null==e?void 0:e.state)||{};switch(a){case Xa:return this._renderConversationsTab(!1);case $a:return this._renderConversationsTab(!0);case Ya:return this._renderMessagesTab();default:return this._renderAllDMSearchResultsTab()}},this._renderSearchResults=()=>{const{accessibilityTitle:e,pinConversation:a,renderInboxItem:n,searchConversationIds:t,unpinConversation:s}=this.props,{isRefreshing:i}=this.state;return l.a.createElement(Ye.a,null,l.a.createElement(xa.a,{isRefreshing:i,onRefresh:this._handlePullToRefresh},l.a.createElement(ra.a,{accessibilityRole:"tablist",accessibilityTitle:e,anchoring:Ta.a,assumedItemHeight:100,cacheKey:"dmSearchInbox",footer:this._renderFooter(),identityFunction:Da,items:t,noItemsRenderer:this._renderRecentSearches,onNearEnd:this._handleNearEnd,onScrollEnd:this._handleScrollEnd,renderer:n({conversationIds:t,pinConversation:a,unpinConversation:s}),withoutHeadroom:!0})))},this._renderFooter=()=>this.state.isLoadingMore?l.a.createElement(La.a,null):l.a.createElement(W.a,{style:en.footerContainer},l.a.createElement(u.b,{align:"center",size:"body",weight:"bold"},ja),l.a.createElement(ae.a,{interactiveStyles:null},l.a.createElement(u.b,{align:"center",color:"primary",onPress:this._handleFooterClick,size:"subtext2",withInteractiveStyling:!0},Ua))),this._clearRecentSearches=()=>{const{analytics:e,clearRecentSearches:a}=this.props;e.scribe({component:"recent_search",action:"clear"}),a()},this._handleComposeButtonPress=()=>{const{analytics:e}=this.props;e.scribe({component:"search",element:"empty_results",action:"compose"})},this._handleFooterClick=()=>{var e,a;null==(e=this._textInputRef)||e.clear(),null==(a=this._textInputRef)||a.focus()},this._handleRefetchSearch=()=>{const{analytics:e,createLocalApiErrorHandler:a,search:n}=this.props,{debouncedQuery:t}=this.state;n&&t&&(e.scribe({component:"search",element:"retry",action:"click"}),n({query:t.toLowerCase(),preserveResults:!1,fetchNextPage:!1}).catch(a()))},this._handlePullToRefresh=()=>{const{createLocalApiErrorHandler:e,search:a}=this.props,{debouncedQuery:n}=this.state;this.setState({isRefreshing:!0}),a&&n&&a({query:n.toLowerCase(),preserveResults:!0,fetchNextPage:!1}).then((()=>this.setState({isRefreshing:!1}))).catch((a=>(this.setState({isRefreshing:!1}),e()(a))))},this._handleSearchChangeInner=e=>{const{createLocalApiErrorHandler:a,onQueryChange:n,search:t}=this.props;n(e),this.setState({debouncedQuery:e}),t&&e&&!this._modularSearchEnabled&&t({query:e,preserveResults:!1,fetchNextPage:!1}).catch(a())},this._handleSearchChangeDebounced=Object($e.a)(this._handleSearchChangeInner,200),this._handleSearchChange=({currentTarget:{value:e}})=>{const{onQueryChange:a}=this.props;(e&&e.trim()||!e)&&(a(e),this._handleSearchChangeDebounced(e))},this._handleNearEnd=()=>{const{analytics:e,search:a}=this.props,{debouncedQuery:n}=this.state;this.setState({isLoadingMore:!0}),n&&(e.scribe({component:"search",element:"results",action:"get_older"}),a({query:n,preserveResults:!1,fetchNextPage:!0}).finally((()=>this.setState({isLoadingMore:!1}))))},this._handleScrollEnd=()=>{const{addRecentSearch:e,analytics:a,query:n}=this.props,{debouncedQuery:t}=this.state;t&&n&&(e(n),a.scribe({component:"recent_search",action:"add"}))},this._handleSearchClear=()=>this._handleSearchChangeInner(""),this._handleHideRecentSearches=()=>{const{hideRecentSearches:e}=this.props;e()},this._handleAddRecentSearch=({currentTarget:{value:e}})=>{const{addRecentSearch:a,analytics:n}=this.props;e&&(a(e),n.scribe({component:"recent_search",action:"add"}),this._textInputRef&&this._textInputRef.blur())},this._handleRecentSearchClick=e=>{const{analytics:a,onQueryChange:n}=this.props;n(e),a.scribe({component:"recent_search",action:"click"}),this._handleSearchChangeInner(e)},this._handleClearRecentSearch=(e,a)=>{const{analytics:n,clearRecentSearch:t}=this.props;e.stopPropagation(),e.preventDefault(),n.scribe({component:"recent_search",action:"clear"}),t(a)}}componentDidMount(){var e;const{location:a}=this.props;var n;null!=a&&null!=(e=a.state)&&e.searchQuery&&this._handleSearchChangeInner(null==a||null==(n=a.state)?void 0:n.searchQuery);this._textInputRef&&this._textInputRef.focus()}componentDidUpdate(e){const{analytics:a,query:n,recentSearches:t}=this.props;e.query||!n||t.includes(n)||a.scribe({component:"search",action:"began_typing"})}render(){const{location:e,query:a,searchFetchStatus:n}=this.props,t=!(this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled")||this._modularSearchEnabled&&a),s=[en.searchInput,t?en.searchInputBorder:void 0],{tab:i}=(null==e?void 0:e.state)||{},r=[Qa,Xa,$a];this._messageSearchEnabled&&r.push(Ya);const o=r.map((a=>({key:a,label:a,accessibilityLabel:a,isActive:()=>i===a||!i&&a===Qa,to:{...e,state:{...e.state,tab:a}}}))),c=i===Ya&&this._messageSearchEnabled;return l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,{style:s},l.a.createElement(Z.a,{accessibilityLabel:Pa,icon:l.a.createElement(Oa.a,null),onPress:this._handleHideRecentSearches,pullLeft:!0,type:"primaryText"}),l.a.createElement(Ra.a,{Icon:fa.a,autoComplete:"off",onChange:this._handleSearchChange,onClear:this._handleSearchClear,onSubmitEditing:this._handleAddRecentSearch,placeholder:this._messageSearchEnabled?Na:Aa,ref:this._setInputRef,value:a,withClearButton:!0})),this._modularSearchEnabled&&(a||i===Xa||i===$a||c)?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ma.a,{links:o}),this._renderTabContent()):l.a.createElement(Ie.a,{accessibilityLabel:Ha,fetchStatus:n,onRequestRetry:this._handleRefetchSearch,render:this._renderSearchResults}))}}Za.contextType=i.a,Za.defaultProps={recentSearches:[],searchConversationIds:[],query:""};const en=Ce.a.create((e=>({emptyState:{marginTop:e.spaces.space32},searchInput:{backgroundColor:e.colors.cellBackground,padding:e.spaces.space12,flexDirection:"row",alignItems:"center",zIndex:1},searchInputBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},footerContainer:{marginVertical:e.spaces.space32}})));var an=Object(Ka.a)(Qe(Za)),nn=n("P74S"),tn=n.n(nn),ln=n("OIs+");const sn=h.a.cb367657,rn=h.a.ie9a7e48,on=h.a.hd3927c6,cn=h.a.f1ac0968,dn={[ln.a.Offline]:{toast:{text:rn}},defaultToast:{text:sn},showToast:!0},un={[ln.a.Offline]:{toast:{text:cn}},defaultToast:{text:on},showToast:!0};var mn,pn,hn,gn=n("HvW7"),yn=n.n(gn),_n=n("PJTX"),bn=n.n(_n);const vn=h.a.e4b3f520,kn=h.a.ae4d666a,fn=e=>e,En=h.a.a219e217,Sn=h.a.d571e4f8,In=h.a.a551bf7d,Fn=h.a.d98e066b,Cn=h.a.j302dba7,Tn=void 0!==mn?mn:mn=n("X8um"),xn={context:"DM_PINNED_INBOX"},Ln=e=>{var a;const t=Object(da.c)(),{accessibilityTitle:s,analytics:r,cacheKey:o,conversationIds:c,createLocalApiErrorHandler:d,footer:u,header:m,onNearEnd:p,pinnedConversationIds:h,renderEmptyDMInbox:g,renderInboxItem:y,showSearchView:_,withKeyboardShortcuts:b}=e,k=bn()(),{data:f}=Object(ma.a)(Tn,{label:se.a.PINNED}),E=l.a.useMemo((()=>{var e;return(null==f||null==(e=f.labeled_conversation_slice)?void 0:e.items)||[]}),[f]),{entities:S}=Object(oa.b)(E,[ve.a]),{featureSwitches:I}=l.a.useContext(i.a),C=I.getValue("dm_conversation_labels_max_pinned_count"),[T,x]=l.a.useState(!1),[L,K]=l.a.useState(!1),w=(e=>{const a=l.a.useRef();return l.a.useEffect((()=>{a.current=e})),a.current})(f);l.a.useEffect((()=>{var e;const a=(null==w||null==(e=w.labeled_conversation_slice)?void 0:e.items)||[],n=null==a?void 0:a.filter((e=>-1===E.indexOf(e.rest_id)));n.length&&n.forEach((e=>{var a;const n=null==(a=e.labels)?void 0:a.filter((e=>e.label_type!==se.a.PINNED));t(Ne({conversations:{[e.rest_id]:{...e,labels:n}}}))})),t(Ne(S,!1))}),[f]);const R=l.a.useCallback((()=>{x(!0);const e=tn()(k,Tn,{label:se.a.PINNED}).toPromise();Promise.all([e,()=>t(v.fetchInbox())]).then((()=>x(!1))).catch((e=>{d()(e),x(!1)}))}),[d,t,k]),[M]=yn()(void 0!==pn?pn:pn=n("ZH9U")),[O]=yn()(void 0!==hn?hn:hn=n("rQjK")),D=l.a.useCallback(((e,a)=>{M({variables:{conversation_id:e,label:se.a.PINNED},onCompleted(n){var l;switch(null==(l=n.add_dm_conversation_label_v3)?void 0:l.__typename){case"DMConversationLabelInfo":{const{label_type:l,timestamp:s}=n.add_dm_conversation_label_v3;t(Ne({conversations:{[e]:{...a,labels:[{label_type:l,timestamp:s}]}}})),t(Object(F.b)({ariaOnly:!0,text:Fn}));break}case"DMConversationLabelUnavailable":{const{failure_reason:e}=n.add_dm_conversation_label_v3;r.scribe({element:"thread",action:"error_shown",data:{error_type:ie.g.MAX_PINS_REACHED}}),"ExceededMaxPinnedConversations"===e&&K(!0);break}}},onError(e){d(dn)(e)}})}),[t,d,M,r]),P=l.a.useCallback(((e,a)=>{O({variables:{conversation_id:e,label_type:se.a.PINNED},onCompleted(n){var l;const s=a?null==a||null==(l=a.labels)?void 0:l.filter((e=>e.label_type!==se.a.PINNED)):[];t(Ne({conversations:{[e]:{...a,labels:s}}})),t(Object(F.b)({ariaOnly:!0,text:Cn}))},updater(a){var n,t;const l=null==(n=E.find((a=>a.rest_id===e)))?void 0:n.id,s=null==f||null==(t=f.labeled_conversation_slice)?void 0:t.__id;if(!l||!s)return;const i=a.get(l),r=a.get(s);r&&i&&(Object(_e.b)(r,l),a.delete(l))},onError(e){d(un)(e)}})}),[d,E,null==f||null==(a=f.labeled_conversation_slice)?void 0:a.__id,t,O]),H=null==c?void 0:c.filter((e=>-1===h.indexOf(e))),A=h.length&&H.length,N=l.a.createElement(l.a.Fragment,null,m,null!=h&&h.length?l.a.createElement(l.a.Fragment,null,Kn(vn),h.map(((e,a)=>y({conversationIds:h,pinConversation:D,unpinConversation:P})(e)))):null,A?Kn(kn):null);return null!=c&&c.length?l.a.createElement(l.a.Fragment,null,L?l.a.createElement(ge.a,{confirmButtonLabel:En,headline:Sn({count:C}),onConfirm:()=>K(!1),text:In,withCancelButton:!1}):null,_?l.a.createElement(an,{accessibilityTitle:s,analytics:r,conversationIds:c,hideRecentSearches:e.hideRecentSearches,onQueryChange:e.onQueryChange,pinConversation:D,query:e.query,renderInboxItem:e.renderInboxItem,unpinConversation:P}):l.a.createElement(xa.a,{isRefreshing:T,onRefresh:R},o&&null!=H&&H.length?l.a.createElement(ra.a,{accessibilityRole:"tablist",accessibilityTitle:s,anchoring:Ta.a,assumedItemHeight:100,cacheKey:o,footer:u,header:N,identityFunction:fn,items:H,onNearEnd:p,renderer:y({conversationIds:H,pinConversation:D,unpinConversation:P}),withKeyboardShortcuts:b,withoutHeadroom:!0}):N)):g()},Kn=e=>l.a.createElement(W.a,null,l.a.createElement(be.a,{headerText:e,isInboxLabelHeader:!0}));function wn(e){return l.a.createElement(ca.a,{errorConfig:xn},l.a.createElement(Ln,e))}var Rn=ye(l.a.memo(wn)),Mn=n("dwig"),On=n("QB0K"),Dn=n("Avzu"),Pn=n("FRNI");const Hn=h.a.h845f281,An=h.a.f325afc3;function Nn(){return l.a.createElement(On.a,{accessibilityLabel:Hn,href:"/messages/compose",icon:l.a.createElement(Dn.a,null),label:Hn,scribeComponent:"floating_dm_button",shortLabel:An,testID:Pn.a.message})}var Un=l.a.memo(Nn),jn=n("tI3i"),Bn=n.n(jn),Vn=n("sNn6"),qn=n("883S"),Wn=n("yoO3"),zn=n("GSsg"),Gn=n("2g+p"),Qn=n("mw9i"),$n=n("BcsE"),Yn=n("+d3d");const Xn=e=>e,Jn=h.a.a66ac766,Zn=h.a.fe61929d,et=h.a.a846382a;class at extends l.a.Component{constructor(e,a){var n,t,i,r,o,c,d;super(e,a),this.state={showSearchView:!(null==(n=this.props)||null==(t=n.location)||null==(i=t.state)||!i.searchQuery),searchQuery:null!=(r=null==(o=this.props)||null==(c=o.location)||null==(d=c.state)?void 0:d.searchQuery)?r:""},this._enablePinnedInbox=this.context.featureSwitches.isTrue("dm_conversation_labels_pinned_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._messageSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_message_results_enabled")&&this.context.featureSwitches.isTrue("direct_messages_incremental_holdback_2022h1"),this._modularSearchEnabled=this.context.featureSwitches.isTrue("dm_inbox_search_modular_results_enabled"),this._isVDLEnabled=this.context.featureSwitches.isTrue("dm_vdl_enabled")&&this.context.featureSwitches.isTrue("dm_vdl_inbox_p0_enabled"),this._render=()=>{const{withPinnedInbox:e}=this.props;return this._enablePinnedInbox&&e?this._renderPinnedInbox():this._renderInbox()},this._renderFocusedSearch=()=>{const{accessibilityTitle:e,analytics:a,conversationIds:n}=this.props,{searchQuery:t}=this.state;return l.a.createElement(an,{accessibilityTitle:e,analytics:a,conversationIds:n,hideRecentSearches:this._hideRecentSearches,onQueryChange:this._handleQueryChange,query:t,renderInboxItem:this._renderInboxItem})},this._renderInbox=()=>{var e,a;const{accessibilityTitle:n,conversationIds:t,footer:s,isDrawer:i,isRefreshing:r,renderEmptyDMInbox:o,virtualScrollerCacheKey:c}=this.props,{showSearchView:d}=this.state;return d||null!=(e=this.props.location)&&null!=(a=e.state)&&a.searchQuery?this._renderFocusedSearch():l.a.createElement(xa.a,{isRefreshing:r,onRefresh:this._handlePullToRefresh},c&&t?l.a.createElement(ra.a,{accessibilityRole:"tablist",accessibilityTitle:n,anchoring:Ta.a,assumedItemHeight:100,cacheKey:c,footer:s,header:this._renderHeader(),identityFunction:Xn,items:t,noItemsRenderer:o,onNearEnd:this._handleNearEnd,renderer:this._renderInboxItem({conversationIds:t}),withKeyboardShortcuts:!i,withoutHeadroom:!0}):null)},this._handleNearEnd=()=>{this._handleHistoryRequest()},this._handleQueryChange=e=>{this.setState({searchQuery:e})},this._handleSearchChange=({currentTarget:{value:e}})=>{this.state.showSearchView||this.setState({showSearchView:!0})},this._handleSearchClick=()=>{const{analytics:e}=this.props;e.scribe({component:"search",action:"click"}),this.setState({showSearchView:!0})},this._hideRecentSearches=()=>{this.setState({showSearchView:!1,searchQuery:""})},this._renderInboxItem=({conversationIds:e,isMessageItem:a=!1,messageIds:n,pinConversation:t,unpinConversation:i})=>(r,o)=>{const{loggedInUserId:c}=this.context,{location:d}=this.props,{searchQuery:u}=this.state,m=a?(n||[]).indexOf(r):-1,p=-1!==m&&null!=e&&e.length?e[m]:null,h=p?r:"",g=p||r,y={pathname:`/messages/${g}`,state:{...null==d?void 0:d.state,entryPoint:null,searchQuery:u}},_=g&&null!=e&&e.length?e.indexOf(g):null,b=Object($n.a)(_)?_+1:0;Bn()(!!c,"loggedInUserId must be defined"),o&&o(!0);const v=e=>l.a.createElement(he,{conversationId:g,inboxType:this.props.inboxType,isActive:e,isMessageItem:a,key:g,link:y,messageId:h,onClick:this._handleConversationClick,perspective:c,pinConversation:t,position:b,searchQuery:u,unpinConversation:i});return this._isVDLEnabled?l.a.createElement(Vn.a,{exact:!1,path:y.pathname},v):l.a.createElement(s.a,{exact:!1,path:y.pathname},v)},this._renderPinnedInbox=()=>{const{accessibilityTitle:e,conversationIds:a,footer:n,isDrawer:t,renderEmptyDMInbox:s,virtualScrollerCacheKey:i}=this.props,{searchQuery:r,showSearchView:o}=this.state;return a.length?l.a.createElement(Rn,{accessibilityTitle:e,cacheKey:i,conversationIds:a,footer:n,header:this._renderHeader(),hideRecentSearches:this._hideRecentSearches,onNearEnd:this._handleNearEnd,onQueryChange:this._handleQueryChange,query:r,renderEmptyDMInbox:s,renderInboxItem:this._renderInboxItem,showSearchView:o,withKeyboardShortcuts:!t}):s()},this._handleFetchInitialWrapper=()=>{this._handleFetchInitial()},this._handleFetchInitial=()=>{const{createLocalApiErrorHandler:e,fetchInboxIfNeeded:a,fetchUpdates:n}=this.props;return a().then(this._updateLastSeenEventId,e()).then((()=>{this._updatePolling.start()})).then((()=>n().catch(e())))},this._handleConversationClick=(e,a,n,t)=>{const{analytics:l,customCellClick:s}=this.props,i=(null==n?void 0:n.participants.length)||0,r=(null==n?void 0:n.type)===v.CONVERSATION_TYPE.GROUP;l.scribe({element:"thread",action:"click",data:{event_value:this.state.searchQuery.length,conversation_id:a,conversation_participant_count:i,conversation_type:r?ie.j.GROUP:ie.j.ONE_TO_ONE,position:t}}),s&&s(e,a)},this._handleEmptyDMInboxImpression=()=>{const{analytics:e}=this.props;e.scribe({component:"empty_message",action:"impression"})},this._handlePullToRefresh=()=>{const{createLocalApiErrorHandler:e,fetchInbox:a}=this.props;a().then(this._updateLastSeenEventId,e())},this._updateLastSeenEventIdIfActive=()=>{if("background"!==Gn.a.currentState)return this._updateLastSeenEventId()},this._renderHeader=()=>{const{renderStickyContent:e,withDmSearch:a}=this.props,n=[nt.searchInput,this._isVDLEnabled?void 0:nt.searchInputBorder];return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(W.a,{onClick:this._handleSearchClick,style:n},l.a.createElement(Ra.a,{Icon:fa.a,autoComplete:"off",isCompact:!0,onChange:this._handleSearchChange,placeholder:this._messageSearchEnabled?et:Zn,withClearButton:!0})):null,e?e():null)},this._updateLastSeenEventId=()=>{const{createLocalApiErrorHandler:e,updateLastSeenEventId:a}=this.props;return a().catch(e())},this._fab=l.a.createElement(Un,null)}componentDidMount(){const{createLocalApiErrorHandler:e,fetchInboxHistory:a,fetchUpdates:n}=this.props;return this._updatePolling=new zn.a((()=>{n().then(this._updateLastSeenEventIdIfActive,e(qn.a))}),{interval:8e3}),this._handleHistoryRequest=Object(Yn.a)(((...n)=>{a(...n).catch(e())}),1e3),this._handleFetchInitial()}componentWillUnmount(){this._updatePolling.stop()}render(){return l.a.createElement(Wn.a,null,l.a.createElement(b,null),l.a.createElement(Mn.a,{component:Qn.a,fab:this._fab,style:nt.root},l.a.createElement(Ie.a,{accessibilityLabel:Jn,fetchStatus:this.props.fetchStatus,onRequestRetry:this._handleFetchInitialWrapper,render:this._render})))}}at.contextType=i.a,at.defaultProps={conversationIds:[],inboxType:se.d.PRIMARY,isDrawer:!1,withDmSearch:!1,withPinnedInbox:!1};const nt=Ce.a.create((e=>({root:{backgroundColor:e.colors.cellBackground,flexGrow:1},searchInput:{backgroundColor:e.colors.cellBackground,padding:e.spaces.space12,zIndex:1},searchInputBorder:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:"1px"}})));a.a=Object(Ka.a)(E(at))},rQjK:function(e,a,n){"use strict";var t,l,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"conversation_id"},{defaultValue:null,kind:"LocalArgument",name:"label_type"}],kind:"Fragment",metadata:null,name:"DMPinnedInboxDelete_Mutation",selections:l=[{alias:null,args:[{kind:"Variable",name:"conversation_id",variableName:"conversation_id"},{kind:"Variable",name:"label_type",variableName:"label_type"}],kind:"ScalarField",name:"dm_conversation_label_delete",storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"DMPinnedInboxDelete_Mutation",selections:l},params:{id:"_TQxP2Rb0expwVP9ktGrTQ",metadata:{},name:"DMPinnedInboxDelete_Mutation",operationKind:"mutation",text:null}};s.hash="f0ba5e0b671c54ae94c7322d3036a375",e.exports=s},y59G:function(e,a,n){"use strict";var t,l,s,i,r,o,c,d,u,m,p,h,g,y,_,b,v,k,f,E,S,I,F,C,T,x,L,K,w,R,M,O,D,P,H,A,N,U,j,B,V,q,W,z,G,Q,$,Y,X,J,Z,ee,ae,ne,te,le,se,ie,re,oe,ce,de,ue,me,pe,he,ge,ye,_e,be,ve,ke,fe,Ee,Se,Ie,Fe,Ce,Te,xe,Le,Ke,we,Re,Me,Oe,De,Pe,He,Ae,Ne,Ue,je,Be,Ve,qe,We,ze,Ge,Qe,$e,Ye,Xe,Je,Ze,ea,aa,na,ta,la,sa,ia,ra,oa,ca,da,ua,ma,pa,ha,ga,ya,_a,ba,va,ka,fa,Ea,Sa,Ia,Fa,Ca,Ta={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"cursor"},l={defaultValue:null,kind:"LocalArgument",name:"query"},s={defaultValue:null,kind:"LocalArgument",name:"withAttachments"},i={defaultValue:!1,kind:"LocalArgument",name:"withDmMuting"},r={defaultValue:null,kind:"LocalArgument",name:"withMessageQueryHighlights"},o={defaultValue:null,kind:"LocalArgument",name:"withSafetyModeUserFields"},c={defaultValue:null,kind:"LocalArgument",name:"withSuperFollowsUserFields"}],kind:"Fragment",metadata:null,name:"DMMessageSearchTabQuery",selections:[{alias:"dm_message_slice_result",args:[d={kind:"Variable",name:"query",variableName:"query"},u={kind:"Literal",name:"s",value:19}],concreteType:null,kind:"LinkedField",name:"__DMMessageSearchTabQuery_dm_message_slice_result_slice",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"rest_id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[h={alias:null,args:null,kind:"ScalarField",name:"affects_sort",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"created_at_millis",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"request_id",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"event_id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[p,m,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[v={alias:null,args:null,kind:"ScalarField",name:"conversation_id",storageKey:null},{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[v,k={alias:null,args:null,kind:"ScalarField",name:"conversation_type",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[p,m,{kind:"RequiredField",field:S={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[f,E={alias:null,args:null,kind:"ScalarField",name:"screen_name",storageKey:null}],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.conversation.legacy.metadata.created_by_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[p,m,{kind:"RequiredField",field:S,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.conversation.legacy.metadata.admin_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[T={kind:"InlineFragment",selections:[I={alias:null,args:null,kind:"ScalarField",name:"original_img_url",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"original_img_width",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"original_img_height",storageKey:null}],type:"ApiImage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[p,m,{kind:"RequiredField",field:K={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[x={alias:null,args:null,kind:"ScalarField",name:"id_str",storageKey:null},f,E,L={alias:null,args:null,kind:"ScalarField",name:"profile_image_url_https",storageKey:null}],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.conversation.legacy.participants_metadata.user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"last_read_event_id",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"join_time_millis",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"join_conversation_event_id",storageKey:null}],storageKey:null},O={alias:null,args:null,concreteType:"PerspectivalConversationMetadata",kind:"LinkedField",name:"perspectival_conversation_metadata",plural:!1,selections:[w,{alias:null,args:null,kind:"ScalarField",name:"low_quality",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted_due_to_muted_user",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trusted",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[D={alias:null,args:null,concreteType:"DMInitialLowQualityState",kind:"LinkedField",name:"initial_low_quality_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_low_quality",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"is_new_one_to_one_convo",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"is_spam_hide",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"marked_as_abuse",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},f,U={alias:null,args:null,kind:"ScalarField",name:"possibly_spam",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"sender_registration_token",storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[p,m,{kind:"RequiredField",field:S,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.users_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[p,m,{kind:"RequiredField",field:S,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.participants_snapshot_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[p,m,{kind:"RequiredField",field:S,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.initiating_user_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[B={alias:null,args:null,kind:"ScalarField",name:"created_at_sec",storageKey:null},p,V={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[q={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},ae={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"media",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"media_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[q,{kind:"InlineFragment",selections:Y=[W={alias:null,args:null,kind:"ScalarField",name:"alt_text",storageKey:null},C,F,I,{alias:null,args:null,concreteType:"ApiMediaRect",kind:"LinkedField",name:"salient_rect",plural:!1,selections:[z={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaColorInfo",kind:"LinkedField",name:"color_info",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaColorPaletteItem",kind:"LinkedField",name:"palette",plural:!0,selections:[Q={alias:null,args:null,kind:"ScalarField",name:"percentage",storageKey:null},{alias:null,args:null,concreteType:"MediaColor",kind:"LinkedField",name:"rgb",plural:!1,selections:$=[{alias:null,args:null,kind:"ScalarField",name:"blue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"green",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"red",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"ApiImage",abstractKey:null},{kind:"InlineFragment",selections:[X={alias:null,args:null,concreteType:"AspectRatio",kind:"LinkedField",name:"aspect_ratio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"denominator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"numerator",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_millis",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"embeddable",storageKey:null},J={alias:null,args:null,concreteType:"ApiImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:Y,storageKey:null},ee={alias:null,args:null,concreteType:"VideoVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bit_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null}],type:"ApiVideo",abstractKey:null},{kind:"InlineFragment",selections:[W,X,J,ee],type:"ApiGif",abstractKey:null}],storageKey:null}],storageKey:null}],type:"DMMediaAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[le={alias:null,args:null,concreteType:"LegacyCardBinding",kind:"LinkedField",name:"binding_values",plural:!0,selections:[ne={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingValue",kind:"LinkedField",name:"value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"boolean_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"double_value",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingImageValue",kind:"LinkedField",name:"image_value",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alt",storageKey:null},z,G,Z],storageKey:null},{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"image_color_value",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[te={alias:null,args:null,concreteType:"ApiMediaEntityColor",kind:"LinkedField",name:"rgb",plural:!1,selections:$,storageKey:null},Q],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"integer_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scribe_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,concreteType:"ApiCardBindingUserValue",kind:"LinkedField",name:"user_value",plural:!1,selections:[x,{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},se={alias:null,args:null,concreteType:"ApiCardPlatform",kind:"LinkedField",name:"card_platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformPlatform",kind:"LinkedField",name:"platform",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiCardPlatformAudience",kind:"LinkedField",name:"audience",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket",storageKey:null},f],storageKey:null},{alias:null,args:null,concreteType:"ApiCardPlatformDevice",kind:"LinkedField",name:"device",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},f,Z,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:[p,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[re={alias:null,args:null,concreteType:"TimelineUrl",kind:"LinkedField",name:"url",plural:!1,selections:[ie={alias:"urlType",args:null,kind:"ScalarField",name:"url_type",storageKey:null},Z],storageKey:null},oe={alias:null,args:null,concreteType:"BadgeInfo",kind:"LinkedField",name:"badge",plural:!1,selections:[Z],storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[de={alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"rtl",storageKey:null},V,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[me={alias:"fromIndex",args:null,kind:"ScalarField",name:"from_index",storageKey:null},pe={alias:"toIndex",args:null,kind:"ScalarField",name:"to_index",storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[ge={alias:"type",args:null,kind:"ScalarField",name:"__typename",storageKey:null},_e={kind:"InlineFragment",selections:ye=[V],type:"TimelineRichTextCashtag",abstractKey:null},be={kind:"InlineFragment",selections:[p,Z],type:"TimelineRichTextList",abstractKey:null},ve={kind:"InlineFragment",selections:ye,type:"TimelineRichTextHashtag",abstractKey:null},ke={kind:"InlineFragment",selections:[Z,ie,{alias:"urtEndpointOptions",args:null,concreteType:"TimelineUrtEndpointOptions",kind:"LinkedField",name:"urt_endpoint_options",plural:!1,selections:[{alias:"cacheId",args:null,kind:"ScalarField",name:"cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:"requestParams",args:null,concreteType:"RequestParamsEntry",kind:"LinkedField",name:"request_params",plural:!0,selections:[ne,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],type:"TimelineUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:fe={alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[E],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.user_results.result.legacy"},m],type:"User",abstractKey:null},Ee={kind:"InlineFragment",selections:[{alias:"reason",args:null,kind:"ScalarField",name:"unavailable_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],type:"UserUnavailable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[E,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[{kind:"RequiredField",field:fe,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.affiliates_highlighted_label.label.longDescription.entities.ref.mention_results.result.legacy"},m],type:"User",abstractKey:null},Ee],storageKey:null}],storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Se={alias:"userLabelType",args:null,kind:"ScalarField",name:"user_label_type",storageKey:null}],storageKey:null}],storageKey:null},Ie={condition:"withDmMuting",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"dm_muting",storageKey:null}]},Fe={alias:null,args:null,kind:"ScalarField",name:"has_nft_avatar",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[{kind:"RequiredField",field:Ce={alias:null,args:null,kind:"ScalarField",name:"blocked_by",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.blocked_by"},{kind:"RequiredField",field:Te={alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.blocking"},xe={alias:null,args:null,kind:"ScalarField",name:"can_dm",storageKey:null},Le={alias:null,args:null,kind:"ScalarField",name:"can_media_tag",storageKey:null},Ke={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},we={alias:null,args:null,kind:"ScalarField",name:"default_profile",storageKey:null},Re={alias:null,args:null,kind:"ScalarField",name:"default_profile_image",storageKey:null},ce,De={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"entities",plural:!1,selections:Oe=[{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"description",plural:!1,selections:Me=[{alias:null,args:null,concreteType:"UrlsEntity",kind:"LinkedField",name:"urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expanded_url",storageKey:null},Z,{alias:null,args:null,kind:"ScalarField",name:"indices",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntitySet",kind:"LinkedField",name:"url",plural:!1,selections:Me,storageKey:null}],storageKey:null},Pe={alias:null,args:null,kind:"ScalarField",name:"fast_followers_count",storageKey:null},{kind:"RequiredField",field:He={alias:null,args:null,kind:"ScalarField",name:"favourites_count",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.favourites_count"},{kind:"RequiredField",field:Ae={alias:null,args:null,kind:"ScalarField",name:"follow_request_sent",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.follow_request_sent"},Ne={alias:null,args:null,kind:"ScalarField",name:"follow_request_received",storageKey:null},{kind:"RequiredField",field:Ue={alias:null,args:null,kind:"ScalarField",name:"followed_by",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.followed_by"},{kind:"RequiredField",field:je={alias:null,args:null,kind:"ScalarField",name:"followers_count",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.followers_count"},{kind:"RequiredField",field:Be={alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.following"},{kind:"RequiredField",field:Ve={alias:null,args:null,kind:"ScalarField",name:"friends_count",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.friends_count"},qe={alias:null,args:null,kind:"ScalarField",name:"has_custom_timelines",storageKey:null},We={alias:null,args:null,kind:"ScalarField",name:"is_translator",storageKey:null},ze={alias:null,args:null,kind:"ScalarField",name:"listed_count",storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{kind:"RequiredField",field:Qe={alias:null,args:null,kind:"ScalarField",name:"media_count",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.media_count"},$e={alias:null,args:null,kind:"ScalarField",name:"muting",storageKey:null},f,Ye={alias:null,args:null,kind:"ScalarField",name:"needs_phone_verification",storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"normal_followers_count",storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"notifications",storageKey:null},Ze={alias:null,args:null,kind:"ScalarField",name:"pinned_tweet_ids_str",storageKey:null},aa={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_banner_extensions",plural:!1,selections:ea=[{alias:null,args:null,concreteType:"ApiMediaColorExtension",kind:"LinkedField",name:"mediaColor",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaColorExtensionR",kind:"LinkedField",name:"r",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPalette",kind:"LinkedField",name:"ok",plural:!1,selections:[{alias:null,args:null,concreteType:"ApiMediaEntityColorPaletteColor",kind:"LinkedField",name:"palette",plural:!0,selections:[Q,te],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},na={alias:null,args:null,kind:"ScalarField",name:"profile_banner_url",storageKey:null},ta={alias:null,args:null,concreteType:"ApiMediaExtensions",kind:"LinkedField",name:"profile_image_extensions",plural:!1,selections:ea,storageKey:null},L,la={alias:null,args:null,kind:"ScalarField",name:"profile_interstitial_type",storageKey:null},{kind:"RequiredField",field:sa={alias:null,args:null,kind:"ScalarField",name:"protected",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.protected"},E,{kind:"RequiredField",field:ia={alias:null,args:null,kind:"ScalarField",name:"statuses_count",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.statuses_count"},ra={alias:null,args:null,kind:"ScalarField",name:"time_zone",storageKey:null},oa={alias:null,args:null,kind:"ScalarField",name:"translator_type",storageKey:null},Z,ca={alias:null,args:null,kind:"ScalarField",name:"utc_offset",storageKey:null},{kind:"RequiredField",field:da={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy.verified"},ua={alias:null,args:null,kind:"ScalarField",name:"want_retweets",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"withheld_description",storageKey:null},pa={alias:null,args:null,concreteType:"UserEntities",kind:"LinkedField",name:"withheld_entities",plural:!1,selections:Oe,storageKey:null},ha={alias:null,args:null,kind:"ScalarField",name:"withheld_in_countries",storageKey:null},ga={alias:null,args:null,kind:"ScalarField",name:"withheld_scope",storageKey:null}],storageKey:null},action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.attachments.card.legacy.user_refs.legacy"},{alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[m,ya={alias:null,args:null,kind:"ScalarField",name:"professional_type",storageKey:null},_a={alias:null,args:null,concreteType:"BusinessCategory",kind:"LinkedField",name:"category",plural:!0,selections:[p,f,{alias:null,args:null,kind:"ScalarField",name:"display",storageKey:null}],storageKey:null}],storageKey:null},ba={condition:"withSafetyModeUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"smart_blocked_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"smart_blocking_expiration",storageKey:null}]},va={condition:"withSuperFollowsUserFields",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"super_follow_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_followed_by",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"super_following",storageKey:null}]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"DMCardAttachment",abstractKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[p,m,{kind:"RequiredField",field:S,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.recipient_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[{kind:"InlineFragment",selections:[p,m,{kind:"RequiredField",field:S,action:"THROW",path:"dm_message_slice_result.items.dm_event.legacy.event_detail.dm.sender_results.result.legacy"}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ka={condition:"withMessageQueryHighlights",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"DMHighlighting",kind:"LinkedField",name:"highlighting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"query_tokens",storageKey:null}],storageKey:null}]}],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},fa={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"previous_cursor",storageKey:null}],storageKey:null}],type:"DMMessageSlice",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,l,s,r,c,o,i],kind:"Operation",name:"DMMessageSearchTabQuery",selections:[{alias:null,args:Ea=[{kind:"Variable",name:"cursor",variableName:"cursor"},d,u],concreteType:null,kind:"LinkedField",name:"dm_message_slice_result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[q,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DMEvent",kind:"LinkedField",name:"dm_event",plural:!1,selections:[m,p,{alias:null,args:null,concreteType:"DMEventMetadata",kind:"LinkedField",name:"legacy",plural:!1,selections:[h,g,y,_,b,{alias:null,args:null,concreteType:"DMConversation",kind:"LinkedField",name:"conversation",plural:!1,selections:[p,m,{alias:null,args:null,concreteType:"ConversationInfo",kind:"LinkedField",name:"legacy",plural:!1,selections:[v,{alias:null,args:null,concreteType:"ConversationMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[v,k,f,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"created_by_user_results",plural:!1,selections:Fa=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[p,m,S,Sa={alias:null,args:null,filters:null,handle:"defaultScalars",key:"",kind:"LinkedHandle",name:"legacy"}],type:"User",abstractKey:null}],storageKey:null},Ia={alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"result"}],storageKey:null},g,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"admin_user_results",plural:!1,selections:Fa,storageKey:null},{alias:null,args:null,concreteType:"ApiMedia",kind:"LinkedField",name:"avatar",plural:!1,selections:[p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_info",plural:!1,selections:[q,T],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ParticipantConversationMetadata",kind:"LinkedField",name:"participants_metadata",plural:!0,selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[p,m,K,Sa],type:"User",abstractKey:null}],storageKey:null},Ia],storageKey:null},w,R,M],storageKey:null},O],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"DMEventDetail",kind:"LinkedField",name:"event_detail",plural:!1,selections:[D,P,H,A,N,f,U,j,{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"users_results",plural:!0,selections:Fa,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"participants_snapshot_results",plural:!0,selections:Fa,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"initiating_user_results",plural:!1,selections:Fa,storageKey:null},{alias:null,args:null,concreteType:"DirectMessageInfo",kind:"LinkedField",name:"dm",plural:!1,selections:[B,p,V,{condition:"withAttachments",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[q,ae,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Card",kind:"LinkedField",name:"card",plural:!1,selections:[m,{alias:null,args:null,concreteType:"LegacyCard",kind:"LinkedField",name:"legacy",plural:!1,selections:[le,se,f,Z,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user_refs",plural:!0,selections:[p,m,{alias:"affiliates_highlighted_label",args:null,concreteType:"HighlightedUserLabelResponse",kind:"LinkedField",name:"identity_profile_labels_highlighted_label",plural:!1,selections:[{alias:null,args:null,concreteType:"HighlightedUserLabel",kind:"LinkedField",name:"label",plural:!1,selections:[re,oe,ce,{alias:"longDescription",args:null,concreteType:"TimelineRichText",kind:"LinkedField",name:"long_description",plural:!1,selections:[de,ue,V,{alias:null,args:null,concreteType:"TimelineRichTextEntity",kind:"LinkedField",name:"entities",plural:!0,selections:[me,pe,he,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ref",plural:!1,selections:[q,{kind:"TypeDiscriminator",abstractKey:"__isTimelineReferenceObject"},ge,_e,be,ve,ke,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Ca=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"result",plural:!1,selections:[q,{kind:"InlineFragment",selections:[fe,Sa,m,p],type:"User",abstractKey:null},Ee],storageKey:null}],storageKey:null}],type:"TimelineRichTextUser",abstractKey:null},{kind:"InlineFragment",selections:[E,{alias:"mention_results",args:null,concreteType:"UserResults",kind:"LinkedField",name:"user_results",plural:!1,selections:Ca,storageKey:null}],type:"TimelineRichTextMention",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Se],storageKey:null}],storageKey:null},Ie,Fe,{alias:null,args:null,concreteType:"ApiUser",kind:"LinkedField",name:"legacy",plural:!1,selections:[Ce,Te,xe,Le,Ke,we,Re,ce,De,Pe,He,Ae,Ne,Ue,je,Be,Ve,qe,We,ze,Ge,Qe,$e,f,Ye,Xe,Je,Ze,aa,na,ta,L,la,sa,E,ia,ra,oa,Z,ca,da,ua,ma,pa,ha,ga],storageKey:null},Sa,{alias:null,args:null,concreteType:"Professional",kind:"LinkedField",name:"professional",plural:!1,selections:[m,ya,_a,p],storageKey:null},ba,va],storageKey:null},{alias:null,args:null,filters:null,handle:"user",key:"",kind:"LinkedHandle",name:"user_refs",handleArgs:[{kind:"Literal",name:"isPlural",value:!0}]}],storageKey:null},p],storageKey:null}],type:"DMCardAttachment",abstractKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"recipient_results",plural:!1,selections:Fa,storageKey:null},{alias:null,args:null,concreteType:"UserResults",kind:"LinkedField",name:"sender_results",plural:!1,selections:Fa,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ka],type:"DMMessageSearchItem",abstractKey:null}],storageKey:null},fa],type:"DMMessageSlice",abstractKey:null}],storageKey:null},{alias:null,args:Ea,filters:["query","s"],handle:"slice",key:"DMMessageSearchTabQuery_dm_message_slice_result",kind:"LinkedHandle",name:"dm_message_slice_result"}]},params:{id:"xBiqai6wRDHzTJWA3o5RnQ",metadata:{sliceInfoPath:["dm_message_slice_result","slice_info"]},name:"DMMessageSearchTabQuery",operationKind:"query",text:null}};Ta.hash="ce6fb97d9798378904193bb452a54b1a",e.exports=Ta}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/loader.DMDrawer.a52c9bb5.js.map