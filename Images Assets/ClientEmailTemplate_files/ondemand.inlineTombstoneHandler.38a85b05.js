(window.webpackJsonp=window.webpackJsonp||[]).push([[351,8],{"2qZs":function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M2.264 22.983c-.322 0-.638-.126-.88-.368-.374-.374-.473-.926-.25-1.405L2.8 17.58c-1.017-1.7-1.55-3.62-1.55-5.58C1.25 6.072 6.072 1.25 12 1.25S22.75 6.072 22.75 12 17.928 22.75 12 22.75c-1.957 0-3.876-.533-5.55-1.54l-3.66 1.657c-.17.078-.35.116-.526.116zm4.158-3.286c.278 0 .558.077.807.23 1.434.864 3.085 1.323 4.77 1.323 5.1 0 9.25-4.15 9.25-9.25S17.1 2.75 12 2.75 2.75 6.9 2.75 12c0 1.688.458 3.338 1.326 4.774.266.44.298.977.086 1.434l-1.384 3.014 3.016-1.386c.2-.093.413-.14.628-.14z"}),i.a.createElement("path",{d:"M12 18.25c-3.446 0-6.25-2.804-6.25-6.25S8.554 5.75 12 5.75s6.25 2.804 6.25 6.25-2.804 6.25-6.25 6.25zm0-11c-2.62 0-4.75 2.13-4.75 4.75s2.13 4.75 4.75 4.75 4.75-2.13 4.75-4.75S14.62 7.25 12 7.25z"}),i.a.createElement("path",{d:"M14.5 12.75c-.414 0-.75-.336-.75-.75 0-.965-.785-1.75-1.75-1.75-.414 0-.75-.336-.75-.75s.336-.75.75-.75c1.792 0 3.25 1.458 3.25 3.25 0 .414-.336.75-.75.75z"})));s.metadata={width:24,height:24},t.a=s},"3zeG":function(e,t,n){"use strict";n("kYxP"),n("ERkP");var o=n("zb92");const i=Object(o.a)({loader:()=>Promise.all([n.e(0),n.e(186)]).then(n.bind(null,"MzK7"))});t.a=i},"68+r":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("k49u"),i=n("3XMw");const a=n.n(i).a.ed428a75,r={[o.a.NotMutingTargetUser]:{toast:{text:a}},showToast:!0}},"6bZg":function(e,t,n){"use strict";var o=n("OIC0");t.a={[o.a.CASHTAG]:void 0,[o.a.EMOJI]:void 0,[o.a.HASHTAG]:"hashtag_click",[o.a.INTERACTIVE_HIGHLIGHT]:"highlight_click",[o.a.MEDIA]:void 0,[o.a.MENTION]:"mention_click",[o.a.TEXT]:void 0,[o.a.URL]:"open_link"}},"9B+1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n("PbbS");const i=e=>({topicId:e.topicId,functionalityType:e.functionalityType}),a=e=>e===o.a.Star?o.a.Star:e===o.a.Favorite?o.a.Favorite:e===o.a.Interested?o.a.Interested:o.a.Default},BLtI:function(e,t,n){"use strict";n.d(t,"a",(function(){return kn}));var o=n("97Jx"),i=n.n(o),a=(n("kYxP"),n("849X"),n("ERkP")),r=n.n(a),s=n("rcen"),l=n("Rp9C"),c=n("MWbm"),d=n("Irs7"),h=n("htQn"),u=n("t62R"),p=n("OOKO"),m=n("/yvb"),_=n("rHpw"),w=n("v6aA"),b=n("Lsrn"),g=n("k/Ka");const C=(e={})=>Object(g.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[b.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M20.937 3.223c-.403-.263-.948-.375-1.48-.195-.726.247-1.906.534-3.457.534-1.38 0-2.286-.225-3.273-.472l-.01-.003c-1.01-.252-2.1-.525-3.717-.525-1.67 0-3.235.484-4.357.946-.16.066-.312.132-.455.197V2.75c0-.518-.42-.938-.938-.938s-.937.42-.937.938v18.5c0 .518.42.938.938.938s.94-.42.94-.938v-2.457c.28-.15.682-.35 1.168-.55 1.002-.414 2.312-.806 3.642-.806 1.38 0 2.286.225 3.273.472l.01.002c1.01.253 2.102.525 3.717.525 2.4 0 4.075-.6 4.804-.922.58-.257.883-.823.883-1.378V4.577c0-.612-.343-1.088-.75-1.354zm-3.28 8.717c-.465.226-1.026.03-1.25-.435-.71-1.462-2.598-1.42-3.234.113l-.307.74c-.145.35-.487.58-.866.58-.38 0-.72-.23-.866-.58l-.308-.74c-.636-1.532-2.525-1.576-3.233-.113-.226.466-.786.66-1.252.435-.465-.226-.66-.786-.434-1.252C7.16 8.1 10.392 7.905 12 9.94c1.608-2.035 4.84-1.84 6.094.748.225.466.03 1.026-.436 1.252z"})));C.metadata={width:24,height:24};var v=C;const f=(e={})=>Object(g.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[b.a.root,e.style],viewBox:"0 0 24 24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M3.25 22c-.414 0-.75-.336-.75-.75V2.75c0-.414.336-.75.75-.75s.75.336.75.75v1.247C5.144 3.453 7.007 2.75 9 2.75c1.592 0 2.655.266 3.682.522.982.246 1.91.478 3.318.478 1.687 0 2.945-.332 3.704-.61.41-.15.87-.086 1.235.168.35.244.56.64.56 1.054V16.21c0 .474-.272.905-.694 1.1-.62.284-2.325.94-4.806.94-1.593 0-2.654-.266-3.682-.522-.983-.246-1.91-.478-3.318-.478-2.147 0-4.203.996-5 1.433v2.567c0 .414-.336.75-.75.75zM4 5.683v11.314c1.144-.544 3.007-1.247 5-1.247 1.592 0 2.655.266 3.682.522.982.245 1.91.478 3.318.478 1.975 0 3.36-.458 4-.725v-11.4c-.887.302-2.246.625-4 .625-1.593 0-2.654-.266-3.682-.522-.983-.246-1.91-.478-3.318-.478-2.147 0-4.203.996-5 1.433z"}),r.a.createElement("path",{d:"M17.925 10.77c-1.23-2.543-4.46-2.65-5.925-.496-1.465-2.153-4.695-2.047-5.925.495-.18.372-.025.82.348 1 .373.182.82.026 1.002-.347.78-1.61 2.878-1.556 3.575.123l.308.74c.116.28.39.464.693.464s.578-.182.694-.463l.306-.74c.697-1.68 2.795-1.734 3.575-.124.18.373.63.53 1.002.348.373-.18.53-.628.348-1z"})));f.metadata={width:24,height:24};var T=f,y=n("OKMS"),k=n("7Mjr");class I extends r.a.Component{constructor(...e){super(...e),this._scribeAction=e=>{const{analytics:t,destinationUrl:n,note:o}=this.props;t.scribe({action:e,data:{items:[l.a.getBirdwatchItem(null==o?void 0:o.rest_id,n)]}})},this._handlePivotClick=()=>{this._scribeAction("click")},this._getBirdwatchIcon=e=>{switch(e){case"BirdwatchFlagFill":return r.a.createElement(v,{style:E.birdwatchIcon,testID:"icon-birdwatch-flag"});case"BirdwatchFlagStroke":return r.a.createElement(T,{style:E.birdwatchIcon,testID:"icon-birdwatch-flag-stroke"});default:return r.a.createElement(y.a,{style:E.birdwatchIcon,testID:"icon-birdwatch-fill"})}}}componentDidMount(){this._scribeAction("impression")}render(){const{callToAction:e,destinationUrl:t,footer:n,iconType:o,subtitle:i,title:a}=this.props,l="#"===t?void 0:{pathname:t,anchorless:!0},d=l?this._handlePivotClick:void 0,_=(null==e?void 0:e.destinationUrl)||"#",w="#"===_?void 0:_;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{link:l,onPress:d,style:E.pivotContainer,testID:"birdwatch-pivot",withInteractiveStyling:!!l},r.a.createElement(c.a,{style:E.headerContainer},r.a.createElement(c.a,{style:[E.headerTextContainer,!e&&E.headerTextAndThumbnailContainer]},this._getBirdwatchIcon(o),r.a.createElement(u.b,{size:"subtext1",style:E.birdwatchLabel,weight:"bold"},a)),e?null:r.a.createElement(k.a,{style:E.icon,testID:"icon-arrow-right"})),i?r.a.createElement(s.a,{entities:i.entities,size:"body",style:E.subtitle,text:i.text}):null,e?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{spacing:"space2"}),r.a.createElement(c.a,{style:E.callToActionContainer},r.a.createElement(u.b,{size:"subtext1"},e.prompt),r.a.createElement(m.a,{link:w,onPress:this._handlePivotClick,size:"small",type:"primaryOutlined"},e.title))):null),n?r.a.createElement(s.a,{color:"gray700",entities:n.entities,size:"subtext2",style:E.footer,text:n.text}):null)}}I.contextType=w.a;const E=_.a.create((e=>({birdwatchLabel:{display:"flex",alignItems:"center"},footer:{paddingVertical:e.spaces.space12},pivotContainer:{borderColor:e.colors.nestedBorderColor,borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.xLarge,marginTop:e.spaces.space12,overflow:"hidden"},headerContainer:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,backgroundColor:e.colors.hoverBlack,justifyContent:"space-between",alignItems:"center",flexDirection:"row",flexGrow:1},headerTextContainer:{flexDirection:"row",width:"100%"},headerTextAndThumbnailContainer:{width:"80%"},callToActionContainer:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12,justifyContent:"space-between",alignItems:"center",flexDirection:"row",flexGrow:1},icon:{color:e.colors.text,paddingLeft:e.spaces.space12,flexShrink:0},birdwatchIcon:{marginRight:e.spacesPx.space4,padding:e.spacesPx.space2,color:e.colors.primary,flexShrink:0},thumbnail:{color:e.colors.whiteOnColor},subtitle:{paddingVertical:e.spaces.space12,paddingHorizontal:e.spaces.space12}})));var x=Object(d.a)(I,{element:"birdwatch_pivot"}),S=n("6/RC"),A=n("3XMw"),P=n.n(A),L=n("5S/X");function O(e){this.name="AssertionError",this.message=e,this.stack=(new Error).stack}O.prototype=Object.create(Error.prototype),O.prototype.constructor=O;var D=(e,t)=>{if(!e)throw new O(t?`Assertion failed: ${t}`:"Assertion failed (also, no message was provided)")},M=n("E6XO"),R=n("sXY3"),F=n("tn7R"),U=n("+d3d"),B=n("oECP"),H=n("fs1G");let N={},j=0;const W={mount:["didMount","willMount"],update:["didUpdate","willUpdate"]},z=()=>{Object(R.a)(N).forEach((([e,t],n)=>{const o=Object(F.a)(t),i=o.length;o.forEach((t=>{Object(R.a)(W).map((([n,[o,a]])=>{(e=>1===e||Math.random()<=.01)(i)&&o in t&&a in t&&Object(M.c)(((e,t)=>`lifecycle:${e.toLowerCase()}:${t}`)(e,n),{duration_ms:t[o]-t[a]})}))}))})),Object(M.a)(),N={}},q=Object(U.a)(z,2e4)||z,V=(e,t=!1)=>{const n=e.constructor.displayName;D(n,`${e.constructor.name} component has "displayName" set.`);let o=e.__lifecycleIdentifier;return!o&&t&&(j+=1,o=e.__lifecycleIdentifier=j),N[n]&&N[n][o]||(N[n]={...N[n],[o]:{}}),[n,o]},K=(e,t,n,o)=>{N[e][t][n]=o};var G=S.canUseDOM?function(e){const t={UNSAFE_componentWillMount:e.prototype.UNSAFE_componentWillMount||H.a,componentDidMount:e.prototype.componentDidMount||H.a,UNSAFE_componentWillUpdate:e.prototype.UNSAFE_componentWillUpdate||H.a,componentDidUpdate:e.prototype.componentDidUpdate||H.a,componentWillUnmount:e.prototype.componentWillUnmount||H.a};return e.prototype.UNSAFE_componentWillMount=function(...e){const[n,o]=V(this,!0);t.UNSAFE_componentWillMount.apply(this,e),K(n,o,"willMount",Date.now())},e.prototype.componentDidMount=function(...e){const[n,o]=V(this);t.componentDidMount.apply(this,e),K(n,o,"didMount",Date.now()),q()},e.prototype.UNSAFE_componentWillUpdate=function(...e){const[n,o]=V(this,!0);t.UNSAFE_componentWillUpdate.apply(this,e),K(n,o,"willUpdate",Date.now())},e.prototype.componentDidUpdate=function(...e){const[n,o]=V(this);t.componentDidUpdate.apply(this,e),K(n,o,"didUpdate",Date.now()),q()},e.prototype.componentWillUnmount=function(...e){t.componentWillUnmount.apply(this,e),q()},e}:B.a,Q=n("caTy"),$=n("Y6L+"),X=n("zb92");var J=Object(X.a)({loader:()=>n.e(180).then(n.bind(null,"mL9d"))}),Z=n("xM7j"),Y=n("LKCq");const ee="inner_tombstone";function te({children:e,config:t,nativeID:n}){var o;const a=Object(d.b)();if(L.b)return e;const l=(null==(o=t.richRevealText)?void 0:o.text)||t.revealText,h=t.richText?r.a.createElement(s.a,{alignment:t.richText.alignment,entities:t.richText.entities,onEntityClick:function(){a.scribe({action:"open_link",component:ee})},rtl:t.richText.rtl,text:t.richText.text}):t.text;return r.a.createElement(c.a,{nativeID:n},l?r.a.createElement(Y.a,{label:h,onReveal:function(){a.scribe({action:"click",component:ee})},render:({onActionClick:e,...t})=>r.a.createElement(Z.a,i()({},t,{inline:!0,onClick:e})),revealLabel:l},e):r.a.createElement(Z.a,{inline:!0},h))}var ne=n("PeW/"),oe=n("3IPs"),ie=n("PbbS"),ae=n("LWCC"),re=n("JUsM");const se=_.a.create((e=>({topicFollowPrompt:{marginBottom:e.spaces.space12,marginTop:`-${e.spaces.space8}`}})));var le=({defaultRef:e,topic:t,topicFollowPrompt:n})=>{const{entities:o,text:i}=(null==n?void 0:n.description)||{};return r.a.createElement(c.a,{style:se.topicFollowPrompt},r.a.createElement(re.a,{containerRef:e,primaryAction:r.a.createElement(ae.a,{showRelationshipChangeConfirmation:!0,textMode:ie.a.FollowTopic,topic:t}),text:r.a.createElement(s.a,{entities:o,text:i})}))},ce=n("SrIh"),de=n("gdQ4"),he=n("qbku"),ue=n("tocL"),pe="analyticsButton",me="promotedIndicator",_e="readerModeBottomBar",we="socialContext",be="tweet",ge=n("X04g"),Ce=n("v/3V"),ve=n("RqPI"),fe=n("3zvM"),Te=n("lMB6"),ye=n("iChn");const ke=Object(fe.e)({namespace:"translationsTweets",fetchOneContext:"FETCH_TWEET_TRANSLATION",fetchOneEndpoint:e=>(t,n)=>e.Tweets.fetchTranslation(t,n).then(Ie),fetchOneParams:e=>({id:e})}),Ie=e=>{const t=Array.isArray(e)?e:[e];return{entities:{translationsTweets:Object(ye.a)(t,(e=>e.id_str))}}};var Ee=Te.a.register(ke),xe=n("rxPX"),Se=n("0KEI");const Ae=(e,t)=>Ee.select(e,t.tweetId),Pe=(e,t)=>Ee.selectFetchStatus(e,t.tweetId);var Le=Object(xe.a)().propsFromState((()=>({translation:Ae,translationFetchStatus:Pe,userLanguage:ve.p}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(Se.createLocalApiErrorHandlerWithContextFactory)("TRANSLATE_TWEET"),fetchTranslation:Ee.fetchOneIfNeeded}))),Oe=n("PdwO"),De=n("cTG8"),Me=n("oQhu"),Re=n("YeIG"),Fe=n("Gpeq");const Ue=P.a.b4947556;class Be extends r.a.Component{constructor(...e){super(...e),this._fetchTranslation=()=>{const{createLocalApiErrorHandler:e,fetchTranslation:t,tweetId:n}=this.props;t(n).catch(e())},this._shouldDisableTranslation=()=>{const{disableTranslation:e,displayTextRange:t,entities:n,isFocal:o,lang:i,supplementalLang:a,text:r,userLanguage:s}=this.props;return this._getMemoizedDisableTranslation(e,t,n,r,i,a,s)||!(o||this.context.featureSwitches.isTrue("tweet_translation_timeline_enabled"))},this._renderTranslation=()=>{const{createLocalApiErrorHandler:e,disableTranslation:t,enrichments:n,fetchTranslation:o,header:a,hitHighlights:s,isFocal:l,onMediaTranslation:c,style:d,supplementalLang:h,translation:u,translationFetchStatus:p,tweetId:m,userLanguage:_,weight:w,withOriginalText:b,...g}=this.props;if(u)return r.a.createElement(De.a,i()({},g,{displayTextRange:this._getMemoizedDisplayTextRange(u.text),entities:u.entities,lang:u.destinationLanguage,text:u.text}))},this._getMemoizedDisplayTextRange=Object(Me.a)((e=>[0,e.length])),this._getMemoizedDisableTranslation=Object(Me.a)(((e,t,n,o,i,a,r)=>{const s=r&&Object(Fe.c)(i.split("-")[0])!==Object(Fe.c)(r.split("-")[0]);return e||!!a||!s||!Object(Fe.b)({displayTextRange:t,entities:n,text:o,language:i})}))}componentDidUpdate(e){const{onMediaTranslation:t,translation:n}=this.props;if(e.translation!==n&&n){var o;const{featureSwitches:e}=this.context,i={};((null==n||null==(o=n.entities)?void 0:o.media)||[]).forEach((e=>{e.alt_text&&(i[e.id_str]=e.alt_text)})),t&&!Object(Re.a)(i)&&e.isTrue("responsive_web_alt_text_translations_enabled")&&t(i)}}render(){const{createLocalApiErrorHandler:e,disableTranslation:t,fetchTranslation:n,header:o,isFocal:i,onMediaTranslation:a,style:s,supplementalLang:l,translation:c,translationFetchStatus:d,tweetId:h,userLanguage:u,withOriginalText:p,...m}=this.props;return r.a.createElement(Oe.a,{disableTranslation:this._shouldDisableTranslation(),fetchTranslation:this._fetchTranslation,header:o,key:h,originLanguage:c&&c.localizedSourceLanguage,style:s,translateButtonText:Ue,translatedMessage:this._renderTranslation(),translationFetchStatus:d,withOriginalText:p},r.a.createElement(De.a,m))}}Be.contextType=w.a;var He=Le(Be),Ne=n("2qZs"),je=n("wwsH");const We={viewType:"birdwatch"},ze=_.a.create((e=>({birdwatchIcon:{marginLeft:e.spaces.space12}})));var qe=({onPress:e,onShow:t,tweetId:n})=>{const o={pathname:`/i/birdwatch/t/${n}`,external:!0};return r.a.useEffect((()=>{t&&t()}),[t]),r.a.createElement(je.a,{Icon:Ne.a,accessibilityLabel:"Birdwatch note",activeColor:"primary",behavioralEventContext:We,link:o,onPress:e,style:ze.birdwatchIcon})},Ve=n("xXop"),Ke=n("xrkw"),Ge=n("mqpi");const Qe=P.a.e6901eeb;class $e extends r.a.PureComponent{constructor(...e){super(...e),this._shouldDisable=Ge.b.bind(null,this.context.featureSwitches)}render(){const{endControl:e,loggedInUserId:t,onAnalyticsClick:n,style:o,tweet:i}=this.props;return!this._shouldDisable(i,Ge.a.Analytics)&&t===i.user.id_str?r.a.createElement(c.a,{style:[Xe.analyticsContainerWithChildren,o]},r.a.createElement(h.a,{link:`${i.permalink}/analytics`,onPress:n,style:Xe.analyticsButton,testID:pe},r.a.createElement(Ke.a,{style:Xe.analyticsIcon}),r.a.createElement(u.b,{color:"gray700"},Qe)),e):null}}$e.contextType=w.a;const Xe=_.a.create((e=>({analyticsIcon:{color:e.colors.gray700,paddingRight:e.spaces.space4},analyticsButton:{paddingVertical:e.spaces.space16,flexDirection:"row",flexGrow:1},analyticsContainerWithChildren:{justifyContent:"space-between",borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",flexDirection:"row",alignItems:"center"}})));var Je=$e,Ze=n("tmUV"),Ye=n("YBcl"),et=n("k89r");var tt=e=>{const t=Object(et.a)();return r.a.createElement(Ye.a,i()({},e,{handleAnchorAction:()=>{t.scribe({component:"conversation_control_prompt",element:"see_conversation",action:"click"})},handleAnchorOpen:e=>{t.scribe({element:e,action:"click"})},handleAnchorSecondaryAction:()=>{t.scribe({component:"conversation_control_prompt",element:"ok",action:"click"})},handleHeadsUpImpression:(e,n)=>{t.scribe({element:"heads_up_context",action:n,data:{tweet_id:e}})}}))},nt=n("uFYP");const ot=P.a.g6237a1e,it=P.a.d6b5949e,at=e=>{switch(e){case"paused":return it;case"in-progress":default:return ot}};var rt=e=>{const{nativeID:t,status:n,style:o}=e,i="paused"===n;return r.a.createElement(c.a,{style:[st.root,o]},r.a.createElement(nt.a,{style:[st.icon,i?st.withGray700:null]}),r.a.createElement(u.b,{color:i?"gray700":"text",nativeID:t,size:"subtext2"},at(n)))};const st=_.a.create((e=>({root:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.buttonBlack,height:"1em",marginRight:e.spaces.space4,flexShrink:0},withGray700:{color:e.colors.gray700}})));var lt=n("TuTd");const ct=(e,t)=>Object(lt.a)(e,t.tweetId);var dt=Object(xe.a)().propsFromState((()=>({liveCounts:ct}))).adjustStateProps((({liveCounts:e})=>({liveLikeCount:e&&e.likeCount,liveQuoteCount:e&&e.quoteCount,liveRetweetCount:e&&e.retweetCount}))),ht=n("Jkc4"),ut=n("855f"),pt=n("MtXG"),mt=n("de1q"),_t=n("cHvH");const wt=P.a.fd80ffbf,bt=_.a.theme.spacesPx.space20;class gt extends r.a.PureComponent{constructor(e,t){super(e,t),this._reactionsLegacyHeartEnabled=this.context.featureSwitches.isTrue("responsive_web_reactions_legacy_heart"),this._renderQuoteTweetTimelinePivot=()=>{const{permalink:e}=this.props;return r.a.createElement(h.a,{link:`${e}/retweets/with_comments`,onPress:this._handleQuoteTweetPivotScribeOnClick,style:Ct.quoteTweetPivot,withDarkerInteractiveBackground:!1},r.a.createElement(u.b,{color:"primary"},wt))},this._updateStateIfChanged=(e,t)=>n=>{const{nativeEvent:{layout:{width:o}}}=n;o!==e()&&t(o)},this._handleQuoteTweetStatLayout=this._updateStateIfChanged((()=>this.state.quoteTweetLabelWidth),(e=>this.setState({quoteTweetLabelWidth:e}))),this._handleRetweetStatLayout=this._updateStateIfChanged((()=>this.state.retweetLabelWidth),(e=>this.setState({retweetLabelWidth:e}))),this._handleLikeStatLayout=this._updateStateIfChanged((()=>this.state.likeLabelWidth),(e=>this.setState({likeLabelWidth:e}))),this._handleStatGroupLayout=this._updateStateIfChanged((()=>this.state.groupWidth),(e=>this.setState({groupWidth:e}))),this._handleRetweetScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"retweet_stat",action:"click"})},this._handleQuoteTweetScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"quote_tweet_stat",action:"click"})},this._handleQuoteTweetPivotScribeOnClick=()=>{const{analytics:e}=this.props;e.scribe({element:"quote_tweet_pivot",action:"click"})},this.state={retweetLabelWidth:void 0,likeLabelWidth:void 0,quoteTweetLabelWidth:void 0,groupWidth:void 0}}componentDidMount(){const{analytics:e,isNonCompliantTweet:t,quoteTweetCount:n}=this.props;t&&e.scribe({element:"quote_tweet_pivot",action:"impression"}),n&&n>0&&e.scribe({element:"quote_tweet_stat",action:"impression"})}render(){const{isNonCompliantTweet:e}=this.props;return e?this._renderQuoteTweetTimelinePivot():this._renderStats()}_renderReaction(e){const{permalink:t}=this.props,n=ut.a.getTruncatedCount(e.count),o={pathname:`${t}/reactions`,state:{reactionType:e.type}};return r.a.createElement(c.a,{key:e.type},r.a.createElement(ht.a,null,(t=>r.a.createElement(pt.a,{count:e.count,link:o,onPress:t()},r.a.createElement(c.a,{style:Ct.reactionStat},r.a.createElement(mt.a,{legacyHeart:this._reactionsLegacyHeartEnabled,reactionType:e.type,style:Ct.reaction}),r.a.createElement(pt.a.Value,{animated:!0,count:e.count,weight:"normal"},n))))))}_renderReactionsStatsGroup(){const{permalink:e,reactionCount:t}=this.props,n=t&&t.reduce(((e,t)=>(t.count||0)+e),0)||0;if(!n||!t)return null;const o=ut.a.getTruncatedCount(n),i=t.sort(((e,t)=>t.count-e.count)).filter((e=>e.count>0));return r.a.createElement(_t.a,null,(({windowWidth:t})=>r.a.createElement(pt.a.Group,{style:[Ct.detailItemContainer,Ct.detailItem]},t>_.a.theme.breakpoints.small?r.a.createElement(c.a,null,r.a.createElement(ht.a,null,(t=>r.a.createElement(pt.a,{count:n,link:`${e}/reactions`,onPress:t()},r.a.createElement(P.a.I18NFormatMessage,{$i18n:"d01be6d8"},r.a.createElement(pt.a.Value,{animated:!0,count:n},P.a.b4a4e4aa({displayCountAll:o})),r.a.createElement(pt.a.Label,null,P.a.ifa70ada({count:n}))))))):null,i.map((e=>this._renderReaction(e))))))}_renderLikesStat(e){const t=ut.a.getTruncatedCount(e),{permalink:n}=this.props;return r.a.createElement(c.a,{onLayout:this._handleLikeStatLayout},r.a.createElement(ht.a,null,(o=>r.a.createElement(pt.a,{count:e,link:`${n}/likes`,onPress:o()},r.a.createElement(P.a.I18NFormatMessage,{$i18n:"e4eeeefe"},r.a.createElement(pt.a.Value,{animated:!0,count:e},P.a.ha054943({displayCount:t})),r.a.createElement(pt.a.Label,null,P.a.d260af55({count:e})))))))}_renderRetweetsStat(e){const t=ut.a.getTruncatedCount(e),{permalink:n}=this.props;return r.a.createElement(c.a,{onLayout:this._handleRetweetStatLayout},r.a.createElement(ht.a,null,(o=>r.a.createElement(pt.a,{count:e,link:`${n}/retweets`,onPress:o(this._handleRetweetScribeOnClick)},r.a.createElement(P.a.I18NFormatMessage,{$i18n:"b07c7c02"},r.a.createElement(pt.a.Value,{animated:!0,count:e},P.a.j142cb3f({displayCount:t})),r.a.createElement(pt.a.Label,null,P.a.e59a4e90({count:e})))))))}_renderQuoteTweetsStat(e){const t=ut.a.getTruncatedCount(e),{permalink:n}=this.props;return r.a.createElement(c.a,{onLayout:this._handleQuoteTweetStatLayout},r.a.createElement(ht.a,null,(o=>r.a.createElement(pt.a,{count:e,link:`${n}/retweets/with_comments`,onPress:o(this._handleQuoteTweetScribeOnClick)},r.a.createElement(P.a.I18NFormatMessage,{$i18n:"f0259953"},r.a.createElement(pt.a.Value,{animated:!0,count:e},P.a.f6e12705({displayCount:t})),r.a.createElement(pt.a.Label,null,P.a.e2414184({count:e})))))))}_renderStats(){const{containerStyle:e,likeCount:t,quoteTweetCount:n,reactionCount:o,retweetCount:i,style:a,withReactions:s}=this.props,{groupWidth:l,likeLabelWidth:d,quoteTweetLabelWidth:h,retweetLabelWidth:u}=this.state,p=u&&h&&d&&l&&u+bt+(s?0:d+bt)+h>l,m=l,_=s?void 0:t;return i||_||n||o?r.a.createElement(c.a,{onLayout:this._handleStatGroupLayout,style:m?e:Ct.hidden},s?this._renderReactionsStatsGroup():null,i||_||n?r.a.createElement(pt.a.Group,{style:[Ct.detailItemContainer,Ct.detailItem,Ct.noWrap,a]},i?this._renderRetweetsStat(i):null,n?this._renderQuoteTweetsStat(n):null,_&&!p?this._renderLikesStat(_):null):null,p&&_?r.a.createElement(pt.a.Group,{style:[Ct.detailItemContainer,Ct.detailItem,a]},this._renderLikesStat(_)):null):null}}gt.contextType=w.a;const Ct=_.a.create((e=>({detailItem:{paddingHorizontal:e.spaces.space4,paddingVertical:e.spaces.space16},detailItemContainer:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",flexDirection:"row"},hidden:{visibility:"hidden"},noWrap:{flexWrap:"nowrap"},quoteTweetPivot:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:"1px",paddingVertical:e.spaces.space16},reaction:{width:"1.2em",height:"1.2em",marginRight:"0.5em"},reactionStat:{flexDirection:"row",alignItems:"center",display:"inline-flex"}})));var vt=Object(d.a)(gt);var ft=dt((function(e){const{containerStyle:t,isNonCompliantTweet:n,liveLikeCount:o,liveQuoteCount:i,liveRetweetCount:a,tweetLikeCount:s,tweetPermalink:l,tweetQuoteTweetCount:c,tweetReactionCount:d,tweetRetweetCount:h,withReactions:u}=e;return r.a.createElement(vt,{containerStyle:t,isNonCompliantTweet:n,likeCount:o||s,permalink:l,quoteTweetCount:i||c,reactionCount:d,retweetCount:a||h,withReactions:u})})),Tt=n("avOP");var yt=e=>{const{children:t}=e;return L.b?r.a.createElement(Tt.a,{itemProp:"articleBody"},t):t},kt=n("hqKg"),It=n("B/Qy"),Et=n("M0jS");const xt=(e,t)=>Et.b.select(e,t.userId);var St=Object(xe.a)().propsFromState((()=>({userSpace:Object(kt.createSelector)(xt,(e=>{const t=e?e.spaces:void 0;return t?{presenceRingType:"space",link:{pathname:Object(It.a)(t.live_content.audiospace.broadcast_id),state:{origin:"audiospace_ring"}}}:void 0}))}))),At=n("Sksh"),Pt=n("1I0O"),Lt=n("oSwX");const Ot=e=>{const{avatarRef:t,imageLayoutCache:n,nativeID:o,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:c,size:d,style:h,uri:u,userId:p,userSpace:m,withHoverCard:_,withLink:w}=e;return r.a.useEffect((()=>(At.a.registerUserInApp(p),()=>{At.a.deregisterUserInApp(p)})),[p]),m?r.a.createElement(Pt.a,i()({avatarRef:t,imageLayoutCache:n,nativeID:o,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:c,size:d,style:h,uri:u,withHoverCard:_,withLink:w},m)):r.a.createElement(Lt.default,{avatarRef:t,imageLayoutCache:n,nativeID:o,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:c,size:d,style:h,uri:u,withHoverCard:_,withLink:w})};var Dt=St(r.a.memo(Ot)),Mt=n("FGLp"),Rt=n("TIdA"),Ft=n("DNho");const Ut=Rt.a.createLayoutCache(),Bt=_.a.create((e=>({avatar:{display:"block"},avatarWrapper:{flexShrink:1,flexGrow:0,width:"100%"}})));var Ht=e=>{const t=Object(d.b)(),{featureSwitches:n}=r.a.useContext(w.a),{avatarRef:o,nativeID:i,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:h,uri:u,userId:p,withHoverCard:m=!0,withLink:_=!0,withNftAvatar:b,withUserPresence:g=!1}=e;return Object(Mt.a)((()=>{b&&n.isTrue("responsive_web_nft_avatar")&&t.scribe({element:"nft_avatar",action:"impression"})})),r.a.createElement(c.a,{style:Bt.avatarWrapper},r.a.createElement(Ft.a.Consumer,null,(({avatarSize:e})=>g?r.a.createElement(Dt,{avatarRef:o,imageLayoutCache:Ut,nativeID:i,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:h,size:e,style:Bt.avatar,uri:u,userId:p,withHoverCard:m,withLink:_}):r.a.createElement(Lt.default,{avatarRef:o,imageLayoutCache:Ut,nativeID:i,onClick:a,onHoverCardScreenNameClick:s,promotedContent:l,screenName:h,size:e,style:Bt.avatar,uri:u,withHoverCard:m,withLink:_}))))},Nt=n("aITJ"),jt=n("E0cF"),Wt=n("Z6aJ"),zt=n("dCqJ"),qt=n("Olb6"),Vt=n("nBUg"),Kt=n("r7g+"),Gt=n("PbQQ"),Qt=n("e5HP"),$t=n("JWUO"),Xt=n("9VO7"),Jt=n("GBcw"),Zt=n("jV+4"),Yt=n("ir4X"),en=n("aA1u"),tn=n("kY28"),nn=n("6nXH");function on(e,t,n){var o;const i=jt.a.getOriginalTweet(e),a=null==i||null==(o=i.entities)?void 0:o.hashtags;if(!Array.isArray(a)||a.length<1)return;const r=a[0];return n&&function(e){const t=jt.a.getOriginalTweet(e),n=t.extended_entities&&t.extended_entities.media;return!!(n&&n.length>0)&&n.some((e=>"animated_gif"===e.type))}(e)&&t.isTrue("responsive_web_hashtag_highlight_is_enabled")?r.text:void 0}var an=n("9B+1"),rn=n("YICZ"),sn=n("21zW"),ln=n("8bWS");const cn=P.a.gf5e9ea6,dn=P.a.e2f2b658,hn=Object.freeze({see_more:P.a.ffd9cfe6,discover_more:P.a.d172116a,more:P.a.h63a5c3b,more_tweets:P.a.iac074c3,more_suggestions:P.a.g11ebd34,browse:P.a.g4a69019,browse_tweets:P.a.b1abb17d});const un=({onUndoTopicNotInterestedClick:e})=>r.a.createElement(c.a,{style:_n.tombstone},r.a.createElement(Z.a,{actionText:cn,children:dn,inline:!0,onClick:e})),pn=Object(d.a)((e=>{const{analytics:t,bannerText:n,label:o,link:i,linkText:a,onNotInterestedPress:l,topic:d,withRightControl:h}=e,p=n&&""===n.text,m=a&&""===a.text,_=!m,w=!(p||m);return r.a.createElement(c.a,{style:_n.topicActions},w&&r.a.createElement(sn.a,null),_&&r.a.createElement(u.b,{color:"primary",link:i,onClick:()=>{t.scribeAction("click")},size:"subtext2",weight:"bold"},a?r.a.createElement(s.a,a):o),h?r.a.createElement(c.a,{style:_n.notInterestedButtonWrapper},r.a.createElement(rn.a,{onPress:l,size:"small",topicId:d.id,type:"brandText",withIconOnly:!0})):null)})),mn=e=>{const{isExpanded:t,onNotInterestedPress:n,topic:o}=e,i=o.following?_n.followingTopicButtonWrapper:_n.followTopicButtonWrapper,a=[t&&i,!t&&_n.followTopicButtonWrapperNotExpanded],s=t?_n.largeNotInterestedButtonWrapper:_n.notInterestedButtonWrapper;return r.a.createElement(c.a,{style:_n.topicActions},t?null:r.a.createElement(sn.a,{style:_n.topicMiddot}),r.a.createElement(c.a,{style:a},r.a.createElement(ae.a,{isTransparent:!t,showRelationshipChangeConfirmation:!0,size:t?"small":"xSmall",style:_n.followTopicButton,textMode:ie.a.FollowTopic,topic:o})),n||t&&!o.following?r.a.createElement(c.a,{style:s},r.a.createElement(rn.a,{onPress:n,size:"small",topicId:o.id,type:t?"primaryOutlined":"brandText",withIconOnly:!t})):null)};const _n=_.a.create((e=>({tombstone:{paddingBottom:e.componentDimensions.gutterVertical},iconStyle:{paddingBottom:`calc(${e.spaces.space2} + ${e.spaces.space1})`,marginBottom:e.spaces.space4},topicActions:{flexDirection:"row",flexGrow:1,alignItems:"center",minHeight:e.spaces.space32},topicMiddot:{alignSelf:"center",paddingRight:0},followTopicButton:{marginTop:e.spaces.space1},followTopicButtonWrapperNotExpanded:{marginBottom:e.spaces.space2},followTopicButtonWrapper:{marginVertical:e.spaces.space4,paddingRight:e.spaces.space4,width:"50%"},followingTopicButtonWrapper:{marginVertical:e.spaces.space4,width:"100%"},notInterestedButtonWrapper:{alignItems:"flex-end",flexGrow:1},largeNotInterestedButtonWrapper:{marginVertical:e.spaces.space4,paddingLeft:e.spaces.space4,width:"50%"}})));var wn=n("0zXz");const bn=_.a.theme.aspectRatios.maxTimelineImage,gn=_.a.theme.aspectRatios.minTimelineImage,Cn=P.a.f277e949,vn=P.a.ee79367a,fn=P.a.a2a3824a,Tn=P.a.c14cdb18,yn=P.a.e8adeec8;class kn extends r.a.Component{constructor(...e){super(...e),this._defaultInlinePromptRef=r.a.createRef(),this._iconContainerRef=r.a.createRef(),this.state={mediaAltTranslations:{}},this._transformPromotedUrl=Ce.a.bind(null,this.context.featureSwitches),this._isEdgeToEdgeEnabled=this.context.featureSwitches.isTrue("media_edge_to_edge_content_enabled"),this._getWithTopLine=()=>{const{conversationTreeMetadata:e,isFocal:t,tweet:n}=this.props,o=jt.a.getOriginalTweet(n),i=this._getConversationPosition(),a=this._getIsConversationStart(),r=e&&e.ancestorConnector,s=e&&e.indents,l=t&&!!o.in_reply_to_status_id_str||i&&!a;return s?"top"===r:l},this._getWithBottomLine=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,n=jt.a.getOriginalTweet(t),o=this._getConversationPosition(),i=e&&e.indents,a=e&&e.descendantConnector,r=o&&!o.isEnd;return i?a:!(!n.in_reply_to_status_id_str&&"ancestor"!==(null==o?void 0:o.position)&&this._isEdgeToEdgeEnabled)&&r},this._getFeatureConfigurationContextProviderValue=()=>{const{onMediaHashtagHighlightClick:e,promotedContent:t,promotedContentAdvertiser:n,tweet:o}=this.props,{featureSwitches:i}=this.context,a={highlightedHashtag:()=>on(o,i,Wt.a.isPromoted(t)),avatarURIForHashtagHighlight:()=>function(e,t){if(e&&t.isTrue("responsive_web_hashtag_highlight_show_avatar"))return e.profile_image_url_https}(n,i),shouldUseSmallFontForHashtagHighlight:()=>i.isTrue("responsive_web_hashtag_highlight_use_small_font"),onMediaHashtagHighlightClick:e},r={c9sEnabled:()=>i.isTrue("c9s_enabled"),trustedFriendsEnabled:()=>i.isTrue("trusted_friends_consumption_enabled")},s=this._getWithTopLine(),l=this._getWithBottomLine(),c=!this.props.isFocal&&(s||l);return{...a,...r,withEdgeToEdgeContent:()=>!c&&i.isTrue("media_edge_to_edge_content_enabled"),withEdgeToEdgeTweetAnatomy:()=>i.isTrue("media_edge_to_edge_content_enabled"),headsUpVariant:()=>i.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),misinfoLabelRevampTweaksEnabled:()=>i.isTrue("responsive_web_misinfo_label_revamp_tweaks_enabled"),sensitiveMediaWarningsEnabled:()=>i.isTrue("sensitive_tweet_warnings_enabled"),tweetRendersPromotedContentBadgeBelowHeader:()=>i.isTrue("responsive_web_promoted_badge_below_header"),socialContextRefreshEnabled:()=>this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled")}},this._renderPromotedDetails=e=>{const{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,onPromotedIndicatorClick:o,promotedContent:i,promotedContentAdvertiser:a,tweet:s}=this.props;return n&&t&&o?r.a.createElement(zt.a,{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,onPromotedIndicatorClick:o,promotedContent:i,promotedContentAdvertiser:a,style:In.promotedDetails,testID:me,tweet:s,withCircleIcon:e}):null},this._getPromoteButtonOnPress=e=>{const{onPromoteAgainButtonClick:t,onPromoteButtonClick:n}=this.props;return"EligibleWithPreviousCampaign"===e?t:n},this._renderBirdwatchPivot=()=>{const{tweet:e,withBirdwatchPivots:t}=this.props,n=jt.a.getOriginalTweet(e);return n.birdwatch_pivot&&t&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_pivots_enabled")?r.a.createElement(x,n.birdwatch_pivot):null},this._renderModeratedRepliesIcon=()=>{const{hasModeratedReplies:e,onModeratedIconClick:t,tweet:n}=this.props;return e?r.a.createElement(qt.a,{link:`${n.permalink}/hidden`,onPress:t}):null},this._renderBirdwatchNotesIcon=()=>{const{onBirdwatchNotesIconClick:e,onBirdwatchNotesIconShown:t,tweet:n}=this.props;return!(n.birdwatch_pivot&&!0===this.context.featureSwitches.getValueWithoutScribeImpression("responsive_web_birdwatch_pivots_enabled"))&&n.has_birdwatch_notes&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_consumption_enabled")&&this.context.featureSwitches.isTrue("responsive_web_birdwatch_contribution_enabled")?r.a.createElement(qe,{onPress:e,onShow:t,tweetId:n.id_str}):null},this._getUsernameStackedLayoutEnabled=()=>this.props.isFocal||this._isEdgeToEdgeEnabled,this._handleSocialContextClick=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,socialContext:n}=this.props;if(e&&n&&t&&t(ge.a.ItemType.USER)){var o;const t=(null==(o=n.landingUrl)?void 0:o.url.match($.A.id))||"",i=n.text||"";e({topic:{id:t&&t[0],name:i,description:fn,type:oe.a.Topic}})}},this._renderTweetTextHWTweet=e=>{const{excludeCardUrl:t,hitHighlights:n,isFocal:o,linkify:a,onEntityClick:s,tweet:l,tweetTextSize:c,withCardLinks:d,withInlineMedia:h,withQuotedTweetLinks:u}=this.props,p=jt.a.getOriginalTweet(l),m=jt.a.hasInteractiveText(p),_=c||(m?"title4":e.size),w={...e,excludeCardUrl:t,hitHighlights:n,linkify:a,onEntityClick:s,size:_,style:m&&In.interactiveHighlightSpacer,transformUrl:this._transformUrl,unmentionedUserIds:p.unmentioned_user_ids,weight:m?"heavy":void 0,withCardLinks:d,withMediaLinks:!h,withQuoteLinks:u||jt.a.isQuotedTweetUnavailable(p),withUnicodeEmojis:L.b};return r.a.createElement(yt,null,r.a.createElement(He,i()({},w,{disableTranslation:p.user.protected,isFocal:o,lang:p.lang,onMediaTranslation:this._handleMediaTranslations,supplementalLang:p.supplemental_language,text:p.text,tweetId:p.id_str,withOriginalText:o})))},this._renderTweetText=e=>{const{excludeCardUrl:t,hitHighlights:n,isFocal:o,linkify:i,onEntityClick:a,tweet:s,tweetTextSize:l,withCardLinks:c,withInlineMedia:d,withQuotedTweetLinks:h}=this.props,u=jt.a.getOriginalTweet(s),p=jt.a.hasInteractiveText(u),m=l||(o||p?"title4":"body");return r.a.createElement(yt,null,r.a.createElement(He,{disableTranslation:u.user.protected,displayTextRange:u.display_text_range,enrichments:u.enrichments,entities:u.entities,excludeCardUrl:t,hitHighlights:o?void 0:n,isFocal:o,lang:u.lang,linkify:!!o||i,nativeID:e,onEntityClick:a,onMediaTranslation:this._handleMediaTranslations,quotedTweetId:u.quoted_status&&u.quoted_status.id_str,quotedTweetPermalink:u.quoted_status_permalink,size:m,style:o?In.expandedTweetText:p&&In.interactiveHighlightSpacer,supplementalLang:u.supplemental_language,text:u.text,transformUrl:this._transformUrl,tweetId:u.id_str,unmentionedUserIds:u.unmentioned_user_ids,weight:p?"heavy":void 0,withCardLinks:o?void 0:c,withMediaLinks:o?void 0:!d,withOriginalText:o,withQuoteLinks:!o&&h||jt.a.isQuotedTweetUnavailable(u),withUnicodeEmojis:L.b}))},this._handleMediaTranslations=e=>{this.setState({mediaAltTranslations:e})},this._transformUrl=e=>{var t;return this._transformPromotedUrl(e,null==(t=this.props.promotedContent)?void 0:t.click_tracking_info)}}render(){const{conversationTreeMetadata:e,forwardPivotInfo:t,hideConversationControlsEducationText:n,hideExclusivityInfoEducationTextInReplies:o,hideTrustedFriendsEducationTextInReplies:a,isFocal:s,loggedInUser:l,onBlur:d,onClick:h,onFocus:p,promotedContent:w,quotedTweetTombstoneInfo:b,readerModeAvailable:g,renderCurationActionMenu:C,showConversationHeadsUp:v,socialContext:f,to:T,tweet:y,withReaderModeBottomBar:k,withTimestamp:I,withTimestampLink:E,withUnreadStyles:x}=this.props,A=jt.a.getOriginalTweet(y),{has_super_follower:P,quick_promote_eligibility:L,user:O}=A,D=null==L?void 0:L.eligibility,M=this._getIsQuickPromoteEligible(D),R=Wt.a.isPromoted(w),F=!!R&&this.context.featureSwitches.isTrue("responsive_web_promoted_badge_below_header"),U=!!R&&this.context.featureSwitches.isTrue("responsive_web_promoted_badge_use_circle_icon"),B=!(!O.professional||!M),H="IneligibleCampaignRunning"===D||"IneligibleCampaignPaused"===D,N="string"==typeof T?{pathname:T}:T,j=e&&e.ancestorConnector,W=e&&e.indents,z=this._getWithTopLine(),q=this._getWithBottomLine(),V=z||q,K=V&&!s||!this._isEdgeToEdgeEnabled,G=N?{...N,anchorless:!0}:void 0,$=s?"detail":"inline";return!s&&this.context.featureSwitches.isTrue("responsive_web_consumes_horizon_web_tweet_in_timelines")?r.a.createElement(Vt.b.Provider,{value:this._getFeatureConfigurationContextProviderValue()},r.a.createElement(Ze.a,{forwardPivotInfo:t,tweet:y},r.a.createElement(Kt.a,{conversationTreeMetadata:e?{ancestorConnector:e.ancestorConnector,depth:e.depth,indents:e.indents}:void 0,link:S.canUseDOM?G:void 0,onBlur:d,onFocus:p,onPress:h,promotedContent:w,quotedTweetTombstoneInfo:b,renderActionMenu:C&&S.canUseDOM?C:wn.a,renderActionsBar:y.isPreview?()=>r.a.createElement(J,{previewTweetId:y.id_str}):e=>r.a.createElement(r.a.Fragment,null,this._renderTweetActions({actionSize:e.actionSize,displayStyle:e.displayStyle,nativeID:e.nativeID,style:e.style,withCount:e.withCount,withAnalyticsAction:!0}),this.props.withReaderModeBottomBar?r.a.createElement(c.a,{style:In.readerBottomBar,testID:_e}):null),renderEducation:e=>r.a.createElement(r.a.Fragment,null,B&&r.a.createElement(m.a,{link:`${y.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(D),style:In.promoteButton,type:"primaryOutlined"},this._getPromoteButtonText(D)),r.a.createElement(tt,i()({},e,{hideConversationControlsEducationText:!!n,hideExclusivityInfoEducationTextInReplies:!!o,hideTrustedFriendsEducationTextInReplies:!!a,loggedInUser:l}))),renderHighlightedUserLabel:e=>{var t;return"AutomatedLabel"!==(null==(t=e.label)?void 0:t.userLabelType)||this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled")?r.a.createElement(Kt.a.HighlightedUserLabel,e):null},renderPromotedIndicator:e=>r.a.createElement(Kt.a.PromotedIndicator,i()({},e,{withCircleIcon:U})),renderPromotionStatusBadge:H?e=>r.a.createElement(rt,{nativeID:e.nativeID,status:this._getTweetPromotionStatus(D),style:In.promotionStatus}):()=>null,renderReplyContext:e=>this._renderReplyContext({nativeID:e.nativeID}),renderRichContent:e=>this._renderRichContent({nativeID:e.nativeID,withRoundMediaCorners:K}),renderSelfThreadCTA:()=>this._renderSelfThreadCTA(),renderSocialContext:e=>this._renderSocialContext({nativeID:e.nativeID}),renderText:e=>this._renderTweetTextHWTweet(e),renderTimestamp:I?e=>r.a.createElement(Kt.a.Timestamp,i()({},e,{link:E?e.link:void 0,nativeID:this._isEdgeToEdgeEnabled?void 0:e.nativeID})):wn.a,renderTombstone:e=>this._renderTombstoneHWTweet(e),renderUserAvatar:e=>this._renderAvatar(e.nativeID),renderUserName:e=>this._renderUserNameHWTweet(e),socialContext:f?{contextType:f.contextType,isSelfRetweet:f.isSelfRetweet,link:f.landingUrl?Object(Q.b)(f.landingUrl):void 0,name:f.name,screenName:f.screenName,text:f.text}:void 0,staticLinkConfig:null,testID:be,tweet:y,withBottomLine:q,withTopLine:z,withUnreadStyles:x}))):r.a.createElement(Gt.c.UseTweetA11yIds,{tweet:y},(([i,b])=>{const f=F?jt.a.hasInteractiveText(A)?In.promotedIndicatorBelowHeaderWithInteractiveHighlights:In.promotedIndicatorBelowHeader:In.promotedIndicator,T=w&&R?r.a.createElement(Qt.a,{contentAuthorId:O.id_str,nativeID:i.promotedLabel,promotedContent:w,style:f,withCircleIcon:U}):null,E=H?r.a.createElement(rt,{nativeID:i.promotionStatusLabel,status:this._getTweetPromotionStatus(D),style:In.promotionStatus}):null,L=e?r.a.createElement(u.b,{nativeID:i.conversationLevel,style:_.a.visuallyHidden},vn({conversationTreeDepth:e.depth.toString()})):null,M=A.tombstoneInfo||y.tombstoneInfo,N=r.a.createElement(r.a.Fragment,null,M?this._renderTombstone(i.tombstone,M):null,s||!M?r.a.createElement(r.a.Fragment,null,this._renderReplyContext({nativeID:i.replyContext}),r.a.createElement(c.a,null,this._renderTweetText(i.text)),r.a.createElement(c.a,null,this._renderRichContent({nativeID:i.richContent,withRoundMediaCorners:K}))):null);return r.a.createElement(Vt.b.Provider,{value:this._getFeatureConfigurationContextProviderValue()},r.a.createElement(Ze.a,{forwardPivotInfo:t,tweet:y},r.a.createElement($t.a,{a11yDomIds:b,actionMenu:C&&S.canUseDOM?C():null,avatar:this._renderAvatar(i.avatar),footer:this._renderFooter(),header:this._renderHeader(i),indents:W,link:s||!S.canUseDOM?void 0:G,onBlur:d,onFocus:p,onPress:h,testID:be,timestamp:R||this._getUsernameStackedLayoutEnabled()||!I?null:this._renderTweetRelativeTimestamp(i.timestamp),userFollowIndicators:P?r.a.createElement(Xt.a,{type:"superFollower"}):void 0,userLabel:this._renderUserLabel(O,i.userLabel),userName:this._renderUserName(i.username,i.timestamp),withBottomLine:q,withElbow:W?"side"===j:void 0,withFooterGap:!s,withFullWidthChildren:s||!V&&this._isEdgeToEdgeEnabled,withTopLine:z,withUnreadStyles:x},F&&s?this._renderPromotedDetails(U):null,F&&!s?T:null,L,N,B&&"inline"===$&&r.a.createElement(m.a,{link:`${y.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(D),style:In.promoteButton,type:"primaryOutlined"},this._getPromoteButtonText(D)),this._renderFocalContent(F,B,E),"inline"===$&&r.a.createElement(tt,{conversationControlLabelNativeID:i.conversationControlLabel,displayStyle:"inline",exclusivityInfoLabelNativeID:i.exclusivityInfoLabel,hideConversationControlsEducationText:!!n,hideExclusivityInfoEducationTextInReplies:!!o,hideTrustedFriendsEducationTextInReplies:!!a,loggedInUser:l,trustedFriendsLabelNativeID:i.trustedFriendsLabel,tweet:y}),y.isPreview?r.a.createElement(J,{previewTweetId:y.id_str}):this._renderTweetActions({actionSize:s?"large":void 0,displayStyle:s?"block":void 0,nativeID:i.actionsBar,style:[s?In.actionBarFocalTweet:In.actionBar,s&&!g&&In.actionBarWithInlineReply],withAnalyticsAction:!s,withCount:!s}),this._renderReaderModeButton(),F||s?null:T,s?null:E,"detail"===$&&r.a.createElement(tt,{conversationControlLabelNativeID:i.conversationControlLabel,displayStyle:"detail",exclusivityInfoLabelNativeID:i.exclusivityInfoLabel,hideConversationControlsEducationText:!!n,hideExclusivityInfoEducationTextInReplies:!!o,hideTrustedFriendsEducationTextInReplies:!!a,loggedInUser:l,showConversationHeadsUp:v,trustedFriendsLabelNativeID:i.trustedFriendsLabel,tweet:y}),k?r.a.createElement(c.a,{style:In.readerBottomBar,testID:_e}):null)))}))}_renderTweetRelativeTimestamp(e){const{promotedContent:t,tweet:n,withTimestampLink:o}=this.props,i=jt.a.getOriginalTweet(n);return r.a.createElement(Jt.a,{link:o?{pathname:i.permalink,state:{contextTweetId:i.id_str,promotedContent:t}}:void 0,nativeID:e,timestamp:i.created_at})}_renderUserNameHWTweet(e){const{onAvatarClick:t,onScreenNameClick:n,tweet:o,withUserHoverCard:a,withUserName:s}=this.props,l=jt.a.getOriginalTweet(o),{user:c}=l;return s?r.a.createElement(Kt.a.UserName,i()({},e,{onAvatarClick:t,onLinkClick:n,onScreenNameClick:n,withHoverCard:a&&!c.blocking,withLink:!!n})):null}_renderUserName(e,t){const{isFocal:n,onAvatarClick:o,onScreenNameClick:i,promotedContent:a,tweet:s,withUserHoverCard:l,withUserName:c}=this.props,d=jt.a.getOriginalTweet(s),{user:h}=d,u=Wt.a.isPromoted(a);return c?r.a.createElement(Zt.a,{isProtected:h.protected,isVerified:h.verified,name:h.name,nativeID:e,onAvatarClick:o,onLinkClick:i,onScreenNameClick:i,promotedContent:a,screenName:h.screen_name,screenNameSuffix:u||n||!this._isEdgeToEdgeEnabled?null:this._renderTweetRelativeTimestamp(),withHoverCard:l&&!h.blocking,withLink:!!i,withStackedLayout:this._getUsernameStackedLayoutEnabled()}):null}_renderUserLabel(e,t){const{highlightedLabel:n}=e,o="AutomatedLabel"===(null==n?void 0:n.userLabelType),i=!!o&&this.context.featureSwitches.isTrue("account_taxonomy_automated_label_enabled");return!n||o&&!i?null:r.a.createElement(Yt.a,{label:n,nativeID:t})}_renderFocalContent(e,t,n){const{isFocal:o,onAnalyticsClick:i,tweet:a}=this.props,s=jt.a.getOriginalTweet(a),{created_at:l,place:d,quick_promote_eligibility:h,source:u,source_name:p}=s,_=null==h?void 0:h.eligibility,w=this.context.featureSwitches.isTrue("responsive_web_reactions_enabled");return o?r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{style:In.footerContainer},r.a.createElement(c.a,{style:In.footerContent},r.a.createElement(en.a,{linkColor:"gray700",place:d&&d.full_name,placeLink:d&&d.id?`/places/${d.id}`:void 0,source:u&&p?p:void 0,sourceLink:"https://help.twitter.com/using-twitter/how-to-tweet#source-labels",style:In.timeLocSource,timestamp:l,timestampLink:s.permalink}),r.a.createElement(c.a,{style:In.footerIcons},this._renderModeratedRepliesIcon(),this._renderBirdwatchNotesIcon())),e?null:this._renderPromotedDetails(),n),r.a.createElement(Je,{endControl:t?r.a.createElement(m.a,{link:`${a.permalink}/quick_promote_web/intro`,onPress:this._getPromoteButtonOnPress(_),style:In.tweetAnalyticsPromoteButton,type:"primaryFilled"},this._getPromoteButtonText(_)):null,loggedInUserId:this.context.loggedInUserId,onAnalyticsClick:i,tweet:s}),r.a.createElement(ft,{isNonCompliantTweet:"non_compliant"===s.limited_actions,tweetId:s.id_str,tweetLikeCount:s.favorite_count,tweetPermalink:s.permalink,tweetQuoteTweetCount:s.quote_count,tweetReactionCount:s.reaction_count,tweetRetweetCount:s.retweet_count,withReactions:w})):null}_renderFooter(){const{isFocal:e,topic:t,topicFollowPrompt:n}=this.props;return r.a.createElement(r.a.Fragment,null,this._renderSelfThreadCTA(),!e&&t&&n&&this.context.featureSwitches.isTrue("topics_context_controls_inline_prompt_enabled")?le({defaultRef:this._defaultInlinePromptRef,topic:t,topicFollowPrompt:n}):null)}_renderHeader(e){const{isFocal:t,topic:n,topicFollowPrompt:o}=this.props;return r.a.createElement(r.a.Fragment,null,t&&o&&n&&this.context.featureSwitches.isTrue("topics_context_controls_inline_prompt_enabled")?le({defaultRef:this._defaultInlinePromptRef,topic:n,topicFollowPrompt:o}):this._renderSocialContext({nativeID:e.socialContext}))}_renderSelfThreadCTA(){const{onSelfThreadClick:e,onSelfThreadImpression:t,tweet:n}=this.props,o=jt.a.getOriginalTweet(n),i=this._shouldShowSelfThreadWithAvatar();return this._shouldShowSelfThread()?r.a.createElement(de.a,{avatarUrl:i?o.user.profile_image_url_https:void 0,onClick:e,onImpression:t,style:In.selfThreadCTA,to:n.permalink,userName:o.user.screen_name,withConversationLine:i}):null}_shouldShowSelfThread(){const{conversationPosition:e,tweet:t,withSelfThread:n}=this.props,o=jt.a.getOriginalTweet(t);return n&&!e&&o.self_thread&&!t.isPreview}_shouldShowSelfThreadWithAvatar(){const{shouldSelfThreadIncludeAvatar:e,tweet:t}=this.props,n=jt.a.getOriginalTweet(t);return this._shouldShowSelfThread()&&e&&!n.in_reply_to_status_id_str}_getConversationPosition(){return this._shouldShowSelfThreadWithAvatar()?{isStart:!0,isEnd:!1}:this.props.conversationPosition}_getIsConversationStart(){const{tweet:e}=this.props,t=this._getConversationPosition(),n=jt.a.getOriginalTweet(e);return t&&(t.isStart||!n.in_reply_to_status_id_str)}_getIsQuickPromoteEligible(e){switch(e){case"Eligible":case"EligibleWithPreviousCampaign":return!0;default:return!1}}_getPromoteButtonText(e){switch(e){case"Eligible":return Tn;case"EligibleWithPreviousCampaign":return yn;default:return Object(ce.a)(new Error(`Tweet promote button should never render when quick promote eligibility is ${e||"null"}`),{level:"warning"}),Tn}}_getTweetPromotionStatus(e){switch(e){case"IneligibleCampaignRunning":return"in-progress";case"IneligibleCampaignPaused":return"paused";default:return Object(ce.a)(new Error(`Tweet promotion badge should never render when quick promote eligibility is ${e||"null"}`),{level:"warning"}),"in-progress"}}_renderSocialContext({nativeID:e}){const{conversationPosition:t,injectedFeedbackItem:n,isFocal:o,onUndoTopicNotInterestedClick:a,promotedContent:l,socialContext:c,topic:d,withSocialContext:h}=this.props;if(!h||!c||Wt.a.isPromoted(l))return null;const{featureSwitches:u}=this.context,p=t&&!this._getIsConversationStart(),{contextType:m,isSelfRetweet:_,landingUrl:w,name:b,screenName:g,text:C,topicContext:v}=c,f=w?Object(Q.b)(w):void 0;if(v&&d&&function({featureSwitches:e,isExpanded:t,topic:n,topicContext:o}){return Object(ln.c)(o)&&t&&n.not_interested&&(!(e.getStringValue("topics_context_controls_implicit_variation")in hn)||e.isTrue("topics_context_controls_implicit_context_x_enabled"))}({featureSwitches:u,isExpanded:o,topic:d,topicContext:v}))return r.a.createElement(un,{onUndoTopicNotInterestedClick:a});const T={contextType:m,iconSize:"large",withLeftPadding:this.context.featureSwitches.isTrue("social_context_and_topic_context_refresh_alignment_enabled")?p||!1:!p&&!o,text:C},y=v&&d?function(e){var t;const{featureSwitches:n,iconSize:o,injectedFeedbackItem:i,isExpanded:a,socialContext:l,topic:c,withLeftPadding:d}=e,{contextType:h,landingUrl:u,topicContext:p}=l,m=u?Object(Q.b)(u):void 0,_=p&&Object(ln.b)(p),w=p&&Object(ln.c)(p),b=n.isTrue("media_edge_to_edge_content_enabled"),g=b?ue.a.TextOnly:ue.a.Topic,C=null==i||null==(t=i.markNotInterestedTopic)?void 0:t.onClick,v=p?Object(an.a)(p):void 0,f=null!=p&&p.bannerText?r.a.createElement(s.a,p.bannerText):l.text;if(_&&n.getStringValue("topics_context_controls_followed_variation")in hn){const e=hn[n.getStringValue("topics_context_controls_followed_variation")];return{iconSize:o,contextType:g,rightControl:r.a.createElement(pn,{bannerText:l.topicContext&&l.topicContext.bannerText,label:e,link:m,linkText:l.topicContext&&l.topicContext.linkText,topic:c}),withBottomBorder:!1,withLeftPadding:!(n.isTrue("social_context_and_topic_context_refresh_alignment_enabled")||b),topicData:v,text:f}}if(w){if(n.getStringValue("topics_context_controls_implicit_variation")in hn){var T;const e=hn[n.getStringValue("topics_context_controls_implicit_variation")];return{iconSize:o,contextType:g,rightControl:r.a.createElement(pn,{bannerText:l.topicContext&&l.topicContext.bannerText,label:e,link:m,linkText:null==(T=l.topicContext)?void 0:T.linkText,onNotInterestedPress:C,topic:c,withRightControl:n.isTrue("topics_context_controls_implicit_context_x_enabled")}),topicData:v,text:f,withBottomBorder:!1,withLeftPadding:!(n.isTrue("social_context_and_topic_context_refresh_alignment_enabled")||b)}}{const e=r.a.createElement(mn,{isExpanded:a,onNotInterestedPress:C,topic:c});return a?{bottomControl:e,contextType:h,iconSize:"xLarge",iconStyle:_n.iconStyle,textColor:"text",textSize:"headline1",text:l.text,topicData:void 0,withBottomBorder:!0,withLeftPadding:d}:{contextType:h,iconSize:o,iconStyle:_n.iconStyle,rightControl:e,topicData:v,text:l.text,withBottomBorder:!0,withLeftPadding:d}}}return{contextType:h,iconSize:o,text:l.text,withLeftPadding:d}}({featureSwitches:u,iconSize:T.iconSize,injectedFeedbackItem:n,isExpanded:o,socialContext:c,topic:d,withLeftPadding:T.withLeftPadding}):T;return r.a.createElement(he.a,i()({},y,{link:f,nativeID:e,onClick:m===ue.a.Topic?this._handleSocialContextClick:void 0,retweetData:{name:b,screenName:g,isSelfRetweet:_},style:In.socialContext,testID:we,weight:"bold"}))}_renderReplyContext({nativeID:e}){var t;const{conversationPosition:n,conversationTreeMetadata:o,isFocal:i,onReplyContextClick:a,replyContext:s,tweet:l}=this.props,c=jt.a.getOriginalTweet(l),d=c.self_thread;return this._shouldShowSelfThread()||s!==tn.a.ReplyContextTypes.Isolated||!c.in_reply_to_status_id_str||o&&!i||d&&n&&!n.isStart||d&&i?null:r.a.createElement(tn.a,{displayTextRange:c.display_text_range,inReplyToName:c.in_reply_to_name,inReplyToScreenName:c.in_reply_to_screen_name,inReplyToStatusIdStr:c.in_reply_to_status_id_str,inReplyToUserIdStr:c.in_reply_to_user_id_str,nativeID:e,onClick:a,style:[In.replyContext,i&&In.replyContextBig],tweetPermalink:c.permalink,unmentionedUserIds:c.unmentioned_user_ids,userMentionsEntities:null==(t=c.entities)?void 0:t.user_mentions})}_renderReaderModeButton(){const{readerModeAvailable:e,tweet:t}=this.props;return e?r.a.createElement(c.a,{style:In.actionBarWithInlineReply},r.a.createElement(ne.a,{focalTweet:t,isExpanded:!0,readerModeAvailable:!!e})):null}_renderTweetActions({actionSize:e,displayStyle:t,nativeID:n,style:o,withAnalyticsAction:i,withCount:a}){const{allowDownvote:s,bookmarkFolderId:l,contextTweet:c,enableKeyboardShortcuts:d,forwardPivotInfo:h,onLikeSuccess:u,onReplyPress:p,promotedContent:m,tweet:_,withActionsDisabled:w,withRemoveFromBookmarks:b}=this.props;return this.props.withActions?r.a.createElement(Ve.a,{actionSize:e,allowDownvote:s,bookmarkFolderId:l,displayStyle:t,enableKeyboardShortcuts:d,forwardPivotInfo:_.softIntervention||h,likeActionIconContainerRef:this._iconContainerRef,nativeID:n,onLikeSuccess:u,onReplyPress:p,promotedContent:m,style:o,tweet:c||_,withActionsDisabled:w,withAnalyticsAction:i,withCount:a,withRemoveFromBookmarks:b}):null}_renderAvatar(e){const{onAvatarClick:t,onScreenNameClick:n,promotedContent:o,tweet:i,withAvatarLink:a,withUserAvatar:s,withUserHoverCard:l,withUserPresence:c}=this.props,d=jt.a.getOriginalTweet(i),{user:h}=d,u=jt.a.getOriginalTweet(i).user.id_str;return s?r.a.createElement(Ht,{avatarRef:this._defaultInlinePromptRef,nativeID:e,onClick:t,onHoverCardScreenNameClick:n,promotedContent:o,screenName:h.screen_name,uri:h.profile_image_url_https,userId:u,withHoverCard:l&&!h.blocking,withLink:a,withNftAvatar:h.has_nft_avatar,withUserPresence:c}):null}_renderTombstoneHWTweet({actionLink:e,actionText:t,children:n,nativeID:o,style:i}){const{conversationTreeMetadata:a,onClick:s}=this.props;return r.a.createElement(c.a,{nativeID:o,style:i},r.a.createElement(Z.a,{actionLink:e,actionText:t,conversationTreeMetadata:a,inline:!0,onClick:s},n))}_renderTombstone(e,t){const{conversationTreeMetadata:n,isFocal:o,onClick:i,tweet:a}=this.props,l=jt.a.getOriginalTweet(a),{richText:d}=t;return l&&t&&d?r.a.createElement(c.a,{nativeID:e,style:In.spacingVertical},r.a.createElement(Z.a,{actionLink:o?void 0:l.permalink,actionText:o?void 0:Cn,conversationTreeMetadata:n,inline:!0,onClick:o?void 0:i},r.a.createElement(s.a,{entities:d.entities,rtl:d.rtl,text:d.text}))):null}_hasPhoto(){const{tweet:e}=this.props,t=jt.a.getOriginalTweet(e),n=t.extended_entities&&t.extended_entities.media;return!!(n&&n.length>0)&&n.some((e=>"photo"===e.type))}_quoteTweetHasPhoto(){const{tweet:e}=this.props,t=jt.a.getOriginalTweet(e);return!!(t.quoted_status&&t.quoted_status.entities&&t.quoted_status.entities.media&&t.quoted_status.entities.media.length>0&&t.quoted_status.entities.media.some((e=>"photo"===e.type)))}_renderRichContent({nativeID:e,withRoundMediaCorners:t}){const{featureSwitches:n}=this.context;let{withActionsDisabled:o}=this.props;const{enableKeyboardShortcuts:i,forwardPivotInfo:a,inlineCalloutInfo:s,innerForwardPivotInfo:l,isFocal:c,linkableQuotedTweet:d,onCardLinkClick:h,onMediaClick:u,onQuoteTweetClick:p,preventVideoPlayback:m,promotedContent:_,quoteTweetSocialContextProps:w,quotedTweetTombstoneInfo:b,tweet:g,withCardLinks:C,withInlineMedia:v,withUserHoverCard:f}=this.props,T=c?"DETAIL":"TIMELINE",y=(this._hasPhoto()||this._quoteTweetHasPhoto())&&!!Nt.b.isDesktopOS()&&!c,k=this.context.featureSwitches.isTrue("responsive_web_reactions_enabled"),I=jt.a.getOriginalTweet(g);return o=o||Object(Ge.b)(n,I,Ge.a.VoteOnPoll),r.a.createElement(r.a.Fragment,null,r.a.createElement(nn.a,{cardCacheLocationKey:T,displayMediaMetadata:c,enableKeyboardShortcuts:i,forwardPivotInfo:g.softIntervention||a,inlineCalloutInfo:s,innerForwardPivotInfo:l,isMediaMaxHeightEnabled:y,loggedInUserId:this.context.loggedInUserId,mediaAltTranslations:this.state.mediaAltTranslations,mediaCacheLocationKey:T,nativeID:e,onCardLinkClick:h,onMediaClick:u,onQuoteTweetClick:p,preventVideoPlayback:m,promotedContent:_,quoteTweetSingleImageMinAspectRatio:gn,quoteTweetSocialContextProps:w,quotedTweetTombstoneInfo:b,renderQuoteTweetTombstone:e=>r.a.createElement(te,e),singleImageMaxAspectRatio:bn,singleImageMinAspectRatio:c?.1:gn,tweet:g,withActionsDisabled:o,withAltTextBadge:this.context.featureSwitches.isTrue("responsive_web_alt_text_badge_enabled"),withCardLinks:C,withCenterCrop:!0,withCondensedQuoteTweet:!c&&jt.a.hasMedia(I,!v),withMediaTagsIcon:c,withQuoteTweetHeaderLinks:!S.canUseDOM,withQuoteTweetLink:d,withQuoteTweetMedia:v,withReactions:k,withRoundMediaCorners:t,withTweetMedia:v,withUserHoverCard:f}),this._renderBirdwatchPivot())}}kn.contextType=w.a,kn.displayName="Tweet",kn.defaultProps={displayBlocked:!1,isFocal:!1,linkify:!0,onBirdwatchNotesIconClick:H.a,onModeratedIconClick:H.a,onModeratedIconShown:H.a,replyContext:tn.a.ReplyContextTypes.Isolated,withActions:!1,withAvatarLink:!0,withBirdwatchPivots:!0,withCardLinks:!1,withInlineMedia:!0,withQuotedTweetLinks:!1,withRemoveFromBookmarks:!1,withSocialContext:!1,withTimestampLink:!0,withUserHoverCard:!0,withUserAvatar:!0,withUserName:!0,withTimestamp:!0};const In=_.a.create((e=>({replyContextBig:{marginTop:e.spaces.space12,marginBottom:0},replyContext:{marginBottom:e.spaces.space2},selfThreadCTA:{marginHorizontal:`calc(-1 * ${e.componentDimensions.gutterHorizontal})`},innerRow:{alignItems:"baseline",flexDirection:"row",flexShrink:1},actionBar:{marginTop:e.spaces.space12},actionBarFocalTweet:{borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,height:e.spaces.space48},actionsBarNarrow:{minWidth:250,marginRight:"auto"},actionBarWithInlineReply:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},promoteButton:{marginTop:e.spaces.space12},tweetAnalyticsPromoteButton:{marginVertical:e.spaces.space8},promotedIndicator:{marginTop:e.spaces.space12},promotedIndicatorBelowHeader:{marginBottom:e.spaces.space8},promotedIndicatorBelowHeaderWithInteractiveHighlights:{marginBottom:e.spaces.space4},promotedDetails:{marginTop:e.spaces.space4},promotionStatus:{marginTop:e.spaces.space12},socialContext:{marginBottom:e.spaces.space4,marginTop:`-${e.spaces.space4}`},spacingVertical:{marginVertical:e.spaces.space4},followTopicButton:{justifyContent:"center"},expandedTweetText:{marginTop:e.spaces.space12},footerContainer:{marginVertical:e.spaces.space16},footerContent:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},footerIcons:{flexDirection:"row"},interactiveHighlightSpacer:{marginTop:e.spaces.space8},readerBottomBar:{borderBottomColor:e.colors.nestedBorderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small,marginTop:e.spaces.space20,width:e.spaces.space32},timeLocSource:{marginRight:e.spaces.space12},topicFollowPrompt:{marginBottom:e.spaces.space12,marginTop:`-${e.spaces.space8}`}})));t.b=G(kn)},JUsM:function(e,t,n){"use strict";n("kYxP");var o=n("ERkP"),i=n.n(o),a=n("t62R"),r=n("rHpw"),s=n("shC7"),l=n("MWbm");const c=r.a.create((e=>({root:{flexDirection:"row",backgroundColor:e.colors.navigationBackground,borderStyle:"solid",borderWidth:e.borderWidths.small,borderRadius:e.borderRadii.large,borderColor:e.colors.gray50,paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,justifyContent:"space-between"},containerDown:{marginTop:e.spaces.space12},containerUp:{marginTop:e.spaces.space20},text:{flexShrink:1,alignSelf:"center",alignItems:"flex-start"},actionsContainer:{flexDirection:"row",alignItems:"center",marginLeft:e.spaces.space12},arrowContainer:{position:"absolute",display:"flex",width:"100%",alignItems:"center"},arrowDirectionUp:{top:`calc(-${e.spaces.space8} + ${e.spaces.space1})`},arrowDirectionDown:{bottom:`calc(-${e.spaces.space8} + ${e.spaces.space1})`},arrow:{borderStyle:"solid",borderTopWidth:0,borderRightWidth:e.spaces.space1,borderBottomWidth:e.spaces.space1,borderLeftWidth:0,borderColor:e.colors.gray50,width:e.spaces.space12,height:e.spaces.space12,backgroundColor:e.colors.navigationBackground}})));t.a=({containerRef:e,primaryAction:t,secondaryAction:n,text:o})=>{const[r,d]=i.a.useState(void 0),h=s.a.getConstants().isRTL,u=i.a.useRef(0),p=i.a.useRef(0),m=(()=>{if(null!=e&&e.current&&r){const{left:t,top:n,width:o}=e.current.getBoundingClientRect();u.current=n;const i=t+o/2-r;return{left:h?void 0:i,right:h?i:void 0}}})(),_=p.current<u.current,w=_?[c.arrowDirectionDown]:[c.arrowDirectionUp],b=_?h?{transform:"rotate(-45deg)"}:{transform:"rotate(45deg)"}:h?{transform:"rotate(135deg)"}:{transform:"rotate(-135deg)"},g=_?[c.containerDown]:[c.containerUp];return i.a.createElement(l.a,{accessibilityRole:"text",onLayout:e=>{const{nativeEvent:{layout:{left:t,top:n,width:o}}}=e;p.current=n;d(t+o/2)},style:[c.root,g]},null!=e&&e.current?i.a.createElement(l.a,{style:[w,c.arrowContainer,m]},i.a.createElement(l.a,{style:[c.arrow,b]})):null,i.a.createElement(a.b,{style:c.text},o),i.a.createElement(l.a,{style:c.actionsContainer},t,n))}},LWCC:function(e,t,n){"use strict";n("kYxP");var o=n("ERkP"),i=n.n(o),a=n("Zejx"),r=n("rxPX"),s=n("0KEI");var l=Object(r.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(s.createLocalApiErrorHandlerWithContextFactory)("FOLLOW_TOPIC_BUTTON"),follow:a.a.follow,unfollow:a.a.unfollow}))).withAnalytics(),c=n("CGyZ"),d=n("PbbS"),h=n("3XMw"),u=n.n(h),p=n("sUoZ"),m=n("Tp1h"),_=n("Jkc4"),w=n("TnY3");const b=Object.freeze({follow:u.a.i79ab12a,following:u.a.d960b55b,unfollow:u.a.c0f56044}),g=Object.freeze({follow:u.a.fcf51fe6,following:u.a.e9a90d71,unfollow:u.a.bf403715,confirmationHeadline:u.a.c9f08e28,confirmationSheetText:u.a.abc600f3}),C=Object.freeze({follow:u.a.cd876e01,following:u.a.f2816e02,unfollow:u.a.f5b04fbb,confirmationHeadline:u.a.c481ae3f,confirmationSheetText:u.a.aa3ba123}),v=Object.freeze({follow:u.a.e0e730b0,following:u.a.e0e730b0,unfollow:u.a.b1850062,confirmationHeadline:u.a.gd3f996f,confirmationSheetText:u.a.i36c403c});class f extends i.a.Component{constructor(...e){super(...e),this._getDisplayMode=e=>void 0===this._getFollowButtonIcon(e)?"only-text":"icon-text",this._getFollowButtonIcon=e=>{switch(e){case d.a.Favorite:case d.a.Star:case d.a.Interested:return i.a.createElement(p.a,null);case d.a.FollowTopic:case d.a.Default:default:return}},this._getFollowingButtonIcon=e=>"icon-text"===this._getDisplayMode(e)?i.a.createElement(i.a.Fragment,null):void 0,this._getButtonText=e=>{const{topic:t}=this.props;switch(e){case d.a.FollowTopic:return{follow:b.follow,unfollow:b.unfollow,following:b.following};case d.a.Favorite:return{follow:C.follow,unfollow:C.unfollow,following:C.following,confirmationHeadline:C.confirmationHeadline&&C.confirmationHeadline({title:t.name}),confirmationSheetText:C.confirmationSheetText};case d.a.Star:return{follow:g.follow,unfollow:g.unfollow,following:g.following,confirmationHeadline:g.confirmationHeadline&&g.confirmationHeadline({title:t.name}),confirmationSheetText:g.confirmationSheetText};case d.a.Interested:return{follow:v.follow,unfollow:v.unfollow,following:v.following,confirmationHeadline:v.confirmationHeadline&&v.confirmationHeadline({title:t.name}),confirmationSheetText:v.confirmationSheetText};case d.a.Default:default:return}},this._handleOnFollow=()=>{const{createLocalApiErrorHandler:e,educateOnFollow:t,follow:n,history:o,topic:i}=this.props;n(i.id).catch(e()),this._handleScribe("follow"),t&&i&&o.push({pathname:"/i/topics/education",state:{topicName:i.name}})},this._handleOnUnfollow=()=>{const{createLocalApiErrorHandler:e,topic:t,unfollow:n}=this.props;n(t.id).catch(e()),this._handleScribe("unfollow")}}render(){const{ariaDescribedBy:e,isTransparent:t,nativeID:n,showRelationshipChangeConfirmation:o,size:a,style:r,textMode:s,topic:{following:l,name:d}}=this.props;return i.a.createElement(_.a,{customText:d,displayMode:m.a.topic},(h=>i.a.createElement(c.a,{ariaDescribedBy:e,buttonIcons:{followIcon:this._getFollowButtonIcon(s),followingIcon:this._getFollowingButtonIcon(s)},buttonText:this._getButtonText(s),displayMode:this._getDisplayMode(s),isFollowing:l,isTransparent:t,name:d,nativeID:n,onFollow:h(this._handleOnFollow),onUnfollow:h(this._handleOnUnfollow),showRelationshipChangeConfirmation:o,size:a,style:r,type:"topic",withConfirmationSheetText:l})))}_handleScribe(e){const{analytics:t}=this.props;t.scribe({element:"topic",action:e})}}f.defaultProps={size:"small",textMode:d.a.Default};t.a=Object(w.a)(l(f))},"NO+D":function(e,t,n){"use strict";n.r(t);var o=n("ezF+"),i=n("ERkP"),a=n.n(i),r=n("VPAj"),s=n("rcen"),l=(n("kYxP"),n("xM7j")),c=n("xZXe"),d=n("P1oR"),h=n("kY28");const u=({actionText:e,children:t,contextTweetId:n,conversationPosition:o,conversationTreeMetadata:i,ctaLink:r,ctaText:s,forwardPivotInfo:u,innerForwardPivotInfo:p,isFocalTweet:m,isReaderMode:_,lang:w,onTweetDismiss:b,quotedTweetTombstoneInfo:g,socialContext:C,tweetId:v,withHideReply:f})=>{const[T,y]=a.a.useState(!0);a.a.useEffect((()=>{y(!0)}),[v]);const k=a.a.useCallback((()=>{y(!1)}),[]);return T||!v?a.a.createElement(l.a,{actionText:e,children:t,conversationPosition:o,conversationTreeMetadata:i,ctaLink:r,ctaText:s,lang:w,onClick:k}):v?m&&!_?a.a.createElement(d.b,{contextTweetId:n,forwardPivotInfo:u,innerForwardPivotInfo:p,onTweetDismiss:b,quotedTweetTombstoneInfo:g,socialContext:C,tweetId:v,withHideReply:f}):a.a.createElement(c.b,{conversationPosition:o,conversationTreeMetadata:i,displayBlocked:!0,displayPromotedContent:!0,forwardPivotInfo:u,innerForwardPivotInfo:p,isReaderMode:_,onTweetDismiss:b,quotedTweetTombstoneInfo:g,replyContext:_?h.a.ReplyContextTypes.None:void 0,shouldSelfThreadIncludeAvatar:!0,tweetId:v,withActions:!0,withHideReply:f,withInlineMedia:!0,withSocialContext:!0}):null};var p=a.a.memo(u);const m=Object(r.a)(!1),_=e=>{const{alignment:t,entities:n,rtl:o,text:i}=e;return a.a.createElement(s.a,{alignment:t,entities:n,rtl:o,text:i})};t.default=({createAdditionalProps:e=Object(r.a)(null),shouldDisplayBorder:t=m})=>o.g({bindActions:({module:e})=>({applyFeedbackAction:e.applyFeedbackAction}),component:p,createProps:t=>{var n,o,i,a;const{actions:r,entry:s}=t,{content:l,conversationPosition:c,conversationTreeMetadata:d}=s,{revealText:h,richRevealText:u,richText:p,text:m}=l.tombstoneInfo||{};return{actionText:u?_(u):h,children:p?_(p):m,conversationPosition:c,conversationTreeMetadata:d,forwardPivotInfo:null==(n=l.tweet)?void 0:n.forwardPivot,innerForwardPivotInfo:null==(o=l.tweet)?void 0:o.innerForwardPivot,quotedTweetTombstoneInfo:null==(i=l.tweet)?void 0:i.innerTombstoneInfo,tweetId:null==(a=l.tweet)?void 0:a.id,...e(s,r)}},shouldDisplayBorder:e=>{const{conversationPosition:t,treeDisplay:n}=e;return"VerticalConversation"!==(null==n?void 0:n.displayType)&&(!t||!!t.isEnd)}})},OKMS:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M17.296 2.642c-2.068-1.17-4.464-1.62-6.816-1.283C8.13 1.692 5.956 2.8 4.3 4.5c-1.658 1.707-2.704 3.91-2.976 6.27-.27 2.357.245 4.738 1.468 6.77.005.01.008.02.01.03 0 .01-.002.017-.004.025L1.12 21.2c-.11.232-.145.49-.103.742.043.254.162.488.343.67.18.184.412.307.665.353.253.047.514.014.747-.094l3.63-1.67h.01l.01.01.01.005c1.68 1.01 3.606 1.542 5.567 1.537 2.373 0 4.68-.783 6.562-2.232 1.882-1.45 3.23-3.482 3.836-5.778.604-2.298.432-4.73-.49-6.92-.925-2.188-2.548-4.01-4.614-5.178zM12 7.25c-2.623 0-4.75 2.127-4.75 4.75s2.127 4.75 4.75 4.75 4.75-2.127 4.75-4.75S14.623 7.25 12 7.25zM5.75 12c0-3.452 2.798-6.25 6.25-6.25s6.25 2.798 6.25 6.25-2.798 6.25-6.25 6.25S5.75 15.452 5.75 12zm5.5-2.5c0-.414.336-.75.75-.75 1.794 0 3.25 1.455 3.25 3.25 0 .413-.337.75-.75.75-.415 0-.75-.337-.75-.75 0-.967-.784-1.75-1.75-1.75-.414 0-.75-.336-.75-.75z"})));s.metadata={width:24,height:24},t.a=s},OOKO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("ERkP"),i=n.n(o),a=n("rHpw"),r=n("MWbm");function s({spacing:e}){return i.a.createElement(r.a,{accessibilityRole:"separator",style:[l.divider,{marginVertical:null!=e?a.a.theme.spaces[e]:void 0}]})}const l=a.a.create((e=>({divider:{backgroundColor:e.colors.borderColor,height:e.borderWidths.small}})))},Olb6:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("3XMw"),r=n.n(a),s=n("5cUs"),l=n("wwsH");const c=r.a.d9fd5570,d={viewType:"hidden_replies"};t.a=({link:e,onPress:t})=>i.a.createElement(l.a,{Icon:s.a,accessibilityLabel:c,activeColor:"primary",behavioralEventContext:d,link:e,onPress:t})},P1oR:function(e,t,n){"use strict";n.d(t,"a",(function(){return He}));var o=n("97Jx"),i=n.n(o),a=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),r=n.n(a),s=n("TZwD"),l=n("6rlp"),c=n("RqPI"),d=n("1YZw"),h=n("Ig1G"),u=n("eSoz"),p=n("0pUJ"),m=n("Z6aJ"),_=n("SrIh"),w=n("Fmkq"),b=n("j7tW"),g=n("Zejx"),C=n("XOJV"),v=n("G6rE"),f=n("xZGM"),T=n("jL08"),y=n("rxPX"),k=n("0KEI"),I=n("EGrD"),E=n("x5Pi"),x=n("P1r1");const S=(e,t)=>Object(b.b)(e,t.tweetId),A=(e,t)=>t.tweetId,P=(e,t)=>t.contextTweetId,L=(e,t)=>{const{promotedContent:n,tweetId:o}=t;if(n&&n.advertiser)return v.e.select(e,n.advertiser.id_str);if(n&&m.a.isPromoted(n)){const{advertiser_name:e}=n;Object(_.a)("No advertiser info for non-URT promoted tweet",{extra:{advertiser_name:e,tweetId:o}})}},O=(e,t)=>t.socialContext,D=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?g.a.select(e,n.topicId):void 0},M=(e,t)=>{const n=C.a.createHydratedTweetSelector(A)(e,t);return null!=n&&n.community_id_str?u.c.select(e,null==n?void 0:n.community_id_str):void 0},R=(e,t)=>{const n=C.a.createHydratedTweetSelector(A)(e,t),o=null==n?void 0:n.quoted_status,i=null==o?void 0:o.community_id_str;return i?u.c.select(e,i):void 0},F=(e,t)=>"PUSH"===t.history.action,U=(e,t)=>Object(f.D)(e,f.l),B=(e,t)=>Object(f.B)(e,f.l);var H=Object(y.a)().propsFromState((()=>({adFreeArticleDomains:I.c,articleDomains:T.b,community:M,contextTweet:C.a.createHydratedTweetSelector(P),daysSinceDownvoteEducation:B,displaySensitiveMedia:x.k,explicitSocialContext:O,isForwardNavigation:F,isNsfwUser:x.t,isPinned:S,loggedInUser:v.e.selectLoggedInUser,promotedContentAdvertiser:L,quoteTweetCommunity:R,shouldShowDownvoteFullscreenEducation:U,topic:D,tweet:C.a.createHydratedTweetSelector(A),userCountry:c.z,userLanguage:c.p}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:o,daysSinceDownvoteEducation:i,displaySensitiveMedia:a,explicitSocialContext:r,isForwardNavigation:s,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:u,quoteTweetCommunity:p,shouldShowDownvoteFullscreenEducation:m,topic:_,tweet:w,userCountry:b,userLanguage:g})=>{var C,v,f;const y=o?Object(E.f)(o,null==d?void 0:d.id_str,n):w?Object(E.f)(w,null==d?void 0:d.id_str,n):void 0,k=null==w||null==(C=w.card)||null==(v=C.binding_values)||null==(f=v.domain)?void 0:f.string_value,I=Object(T.a)(t,k),x=null==w?void 0:w.quoted_status,S=x?Object(E.f)(x,null==d?void 0:d.id_str,p):void 0;return{adFreeArticleDomains:e,community:n,contextTweet:o,daysSinceDownvoteEducation:i,displaySensitiveMedia:a,isCardArticle:I,isForwardNavigation:s,isNsfwUser:l,isPinned:c,loggedInUser:d,promotedContentAdvertiser:u,quoteTweetSocialContextProps:S&&Object(E.e)(S),shouldShowDownvoteFullscreenEducation:m,socialContext:r||y,topic:_,tweet:w,userCountry:b,userLanguage:g,withCommunityModerationAuthority:Object(h.c)(null==n?void 0:n.role)}})).propsFromActions((()=>({addFlag:f.z,addToast:d.b,block:v.e.block,createLocalApiErrorHandler:Object(k.createLocalApiErrorHandlerWithContextFactory)("TWEET_DETAIL_CONTAINER"),fetchAdFreeToken:I.a,fetchCommunityIfNeeded:u.c.fetchOneIfNeeded,fetchTopicIfNeeded:g.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:I.b,log:l.a,mute:p.a,updateHeadsUp:C.a.updateHeadsUp,richScribeAction:w.richScribeAction,setArticlesVisited:T.e,unblock:v.e.unblock,undoTopicNotInterested:g.a.undoNotInterested,unmute:v.e.unmute}))),N=n("zb92");var j=Object(N.a)({loader:()=>n.e(204).then(n.bind(null,"5Yok"))}),W=n("IqLm"),z=n("Irs7"),q=n("MWbm"),V=n("3XMw"),K=n.n(V),G=n("4zmP"),Q=n("rHpw");const $=K.a.c9370e46,X=K.a.b4e042b9,J=K.a.i859a9d3,Z=Q.a.create((e=>({root:{borderTopWidth:e.borderWidths.small,borderColor:e.colors.borderColor,borderStyle:"solid"},callout:{margin:e.spaces.space8,width:"auto"}})));var Y=e=>{const{onAction:t,onClose:n}=e,o=Object(z.b)();r.a.useEffect((()=>{o.scribe({section:"reply_voting_nux",element:"pre_downvote",action:"impression"})}),[o]);const i=r.a.createElement(K.a.I18NFormatMessage,{$i18n:"id9ba4fb"},r.a.createElement(W.a,{accessibilityLabel:X}));return r.a.createElement(q.a,{style:Z.root},r.a.createElement(G.a,{action:{label:J,link:""},headline:$,onAction:t,onClose:n,style:Z.callout,text:i,withCloseButton:!0}))},ee=n("6bZg"),te=n("LSr9"),ne=n("RuTB");var oe=Object(N.a)({loader:()=>Promise.all([n.e(0),n.e(3),n.e(7),n.e(12),n.e(78)]).then(n.bind(null,"x8Sc")),renderPlaceholder:(e,t)=>r.a.createElement(ne.a,{hasError:e,onRetry:t})});var ie=Object(N.a)({loader:()=>Promise.all([n.e(0),n.e(3),n.e(4),n.e(5),n.e(84)]).then(n.bind(null,"RrO2")),renderPlaceholder:(e,t)=>r.a.createElement(ne.a,{hasError:e,onRetry:t})}),ae=n("iFPY"),re=n("hACr"),se=n("Nh1N"),le=n("FGLp");const ce=K.a.de21174c,de=K.a.haebcf51,he=K.a.i859a9d3,ue=Q.a.create((e=>({callout:{marginVertical:e.spaces.space8,marginHorizontal:e.spaces.space16}})));var pe=()=>{const e=Object(z.b)();return Object(le.a)((()=>{e.scribe({element:"left_conversation_banner",action:"impression"})})),r.a.createElement(q.a,{style:ue.callout},r.a.createElement(G.a,{Icon:se.a,action:{label:he,link:"https://help.twitter.com/using-twitter/mentions-and-replies#mention-control"},headline:ce,text:de,type:"primary"}))},me=n("jQy5"),_e=n("vMOa"),we=n("Rp9C"),be=n("xM7j"),ge=n("BLtI"),Ce=n("3zeG"),ve=n("aITJ"),fe=n("TnY3"),Te=n("mqpi"),ye=n("v6aA"),ke=n("E0cF"),Ie=n("OIC0"),Ee=n("+pKb"),xe=n("/Ikv"),Se=n("7JQg"),Ae=n("cFuS"),Pe=n("24HD"),Le=n("fz3c"),Oe=n("4hQ9"),De=n("oQhu"),Me=n("mN6z"),Re=n("ONCy"),Fe=n("Cqiq");const Ue=K.a.f277e949;class Be extends r.a.Component{constructor(...e){var t,n;super(...e),this.state={displayReported:!1,enableKeyboardShortcuts:!1,showDownvoteFullscreenFromInline:!1,replyPressToggle:!1,showBlockOrUnblockConfirmation:!1},this._shouldDisable=Te.b.bind(null,this.context.featureSwitches),this._downvoteEnabled=this.context.featureSwitches.isTrue("rweb_reply_downvote_enabled"),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._hasClaimsForAdFreeArticles=null==(t=this.context.userClaims)?void 0:t.isTrueAndEnabled("subscriptions_feature_1006"),this._conversationHeadsUpFSValue=null==(n=this.context.featureSwitches)?void 0:n.getStringValue("conversational_safety_heads_up_treatment_A_enabled"),this._downvoteNuxDays=this.context.featureSwitches.getNumberValue("rweb_reply_downvote_nux_inline_days"),this._getScribeData=Object(De.a)(((e,t,n)=>{const o=function(e,t,n){return{...n||{},items:we.a.addTweetToItems(n?n.items:[],e,t)}}(e,t,n);return this._cachedScribeData&&Object(Me.a)(o,this._cachedScribeData)||(this._cachedScribeData=o),this._cachedScribeData})),this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return!1;const n=ke.a.getOriginalTweet(t),o=!!n.community_id_str,i=n.user.id_str===e,a=n.reply_count>0;return i&&a&&!n.in_reply_to_status_id_str&&!o},this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props;if(!e)return null;const{user:t}=e;return Object(Pe.j)({confirmation:Object(Pe.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._shouldShowDownvoteInlineEducation=()=>{const{daysSinceDownvoteEducation:e}=this.props;return this._allowDownvoteEducations()&&null!==e&&e>=this._downvoteNuxDays},this._shouldShowDownvoteFullscreenEducation=()=>{const{isForwardNavigation:e,shouldShowDownvoteFullscreenEducation:t}=this.props;return e&&this._allowDownvoteEducations()&&t},this._allowDownvoteEducations=()=>{const{loggedInUser:e,tweet:t}=this.props,n=new Date;n.setDate(n.getDate()-14);const o=e&&new Date(null==e?void 0:e.created_at)<n;return this._downvoteEnabled&&e&&o&&t&&t.reply_count>=10&&!t.self_thread&&!t.softIntervention&&!t.tombstoneInfo},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:o,userCountry:i,userLanguage:a}=this.props,{featureSwitches:r,loggedInUserId:s}=this.context;if(o&&Object(Oe.e)({displaySensitiveMedia:e,featureSwitches:r,isNsfwUser:t,loggedInUserId:s,tweet:o,userCountry:i,userLanguage:a}))return Object(Oe.d)(o,n,r)},this._handleReplyPress=()=>{this.setState({replyPressToggle:!this.state.replyPressToggle})},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0})},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),{loggedInUserId:o}=this.context,{tweet:i}=this.props;if(!i)return{};const a=i.user.id_str===o;return{...t&&{[t]:e},...n&&!a&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualBehavioralEventInfo:n,createLocalApiErrorHandler:o,promotedContent:i,tweet:a,unblock:r}=this.props;if(!a)return{};const{user:l}=a,c={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(s.a)({...c,block:t,unblock:r,user:l,promotedContent:i})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualBehavioralEventInfo:t,createLocalApiErrorHandler:n,mute:o,promotedContent:i,tweet:a,unmute:r}=this.props;if(!a)return{};const{user:s}=a,l={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(me.a)({...l,mute:o,unmute:r,user:s,promotedContent:i})},this._getRenderCurationActionMenu=Object(De.a)(((e,t,n,o,i,a,s,l,c,d,h,u,p,m,_,w)=>()=>!!c&&r.a.createElement(Ce.a,{behavioralEventEntityToken:m,forwardPivotDisplayType:e,isNsfwUser:n,isPinned:o,onDeleteTweet:()=>{const{fromApp:e,usedFallback:n}=i.state||{};e&&!n?t.goBack():t.push("/")},onMenuClick:a,onTweetDismiss:s,promotedContent:l,tweet:c,userCountry:_,userLanguage:w,withChangeConversationControls:d,withChangeConversationControlsTooltip:h,withCommunityModerationAuthority:p,withHideReply:u,withMuteConversation:!0,withViewHiddenReplies:!0}))),this._scribeAction=(e,t,n,o)=>{const{promotedContent:i,richScribeAction:a,scribeNamespace:r,tweet:s}=this.props,l=s?we.a.forTweet(s,i):void 0,c=o?{...l,article_details:{is_ad_free:o}}:l;a({...r,...e},{items:c?[c]:[],...Object(Re.a)(n?{click_tracking_embed_details:n}:null),...t})},this._handleReplyContextClick=(e,t)=>{this._scribeAction({element:"reply_context",action:"click"},{event_value:t})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(Ae.b.FOOTER_PROFILE)},this._handleMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(Ae.b.EMBEDDED_MEDIA)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:i,fetchAdFreeToken:a,tweet:r}=this.props,s=Ae.a[t],l=ee.a[t],c=we.a.getClickTrackingEmbedDetails(this.props.promotedContent,n);if(s){const t=s===Ae.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(s,t)}t===Ie.a.URL&&c&&this._scribeAction({action:Ee.b.CLICK_ID_EMBED},void 0,c);let d=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[s,l]=new te.a(a,i()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:null==r?void 0:r.user.id_str});s&&(l(e),d=!0)}if(t===Ie.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:n.id}},void 0,d);l&&this._scribeAction({action:l},void 0,void 0,d)},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Ae.b.PROFILE_IMAGE_CLICK)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e?e.user.id:""}`}),this._handleAsyncPromotedEvent(Ae.b.SCREEN_NAME_CLICK)},this._handleCaretClick=()=>{this._scribeAction({element:"caret",action:"click"})},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(n&&this._isCommunitiesEnabled){var o;const i=n.community_id_str,a=null==(o=n.quoted_status)?void 0:o.community_id_str;i&&t(i).catch(e()),a&&t(a).catch(e())}},this._handleHeadsUpRender=()=>{const{conversationAnnotation:e,tweet:t,updateHeadsUp:n}=this.props;if(!t)return null;const o=ke.a.getOriginalTweet(t),i=(null==o?void 0:o.reply_count)>20;if(!("Political"===(null==e?void 0:e.conversation_annotation_type)&&i))return null;n(o.id_str)},this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:o}=this.props,i=null==o||null==(e=o.topicContext)?void 0:e.topicId;i&&n(i).catch(t())},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,createLocalApiErrorHandler:o,fetchAdFreeToken:i,isCardArticle:a,setArticlesVisited:r,tweet:s}=this.props;if(this._isArticleNudgeEnabled&&a){var l;const e=null==s||null==(l=s.card)?void 0:l.url;var c;if(e)r(e),this._scribeAction({component:"article_nudge",element:"read_article",action:"click"},{items:[{token:null==s||null==(c=s.card)?void 0:c.url,in_reply_to_tweet_id:null==s?void 0:s.id_str}]})}const d=null==s||null==(t=s.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&d){const[t,a]=new te.a(i,o()).getAdFreeArticlesClickHandler({destinationUrl:xe.a.getBindingValue(d,"card_url"),linkDomain:xe.a.getBindingValue(d,"domain"),adFreeArticleDomains:n});t&&a(e)}},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(Ae.b.HASHTAG_CLICK)}}componentDidMount(){this._handleTopicFetch(),this._handleCommunityFetch(),this._handleHeadsUpRender(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}componentDidUpdate(e){if(this.props.tweet&&e.tweet&&!e.tweet.user.blocking&&this.props.tweet.user.blocking){const{history:e}=this.props;e.goBack({backLocation:"/"})}this.props.conversationAnnotation!==e.conversationAnnotation&&this._handleHeadsUpRender()}componentWillUnmount(){const{addFlag:e}=this.props;this._shouldShowDownvoteInlineEducation()&&e(f.l,{updateTimestamp:!0})}render(){const{loggedInUserId:e}=this.context,{tweet:t}=this.props;if(!t)return null;const n=t.user.id_str===e,o=Object(Fe.b)(t.withheld_scope),i=Object(Le.h)(t)&&!this.state.displayReported;return r.a.createElement(r.a.Fragment,null,o?r.a.createElement(q.a,null,this._renderWithheldTweet(),n?this._renderTweetComponent():null):i?this._renderReportedTombstone():this._renderTweetComponent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation&&!n?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{forwardPivotInfo:e,history:t,tweet:n}=this.props;if(n&&t.location.pathname.indexOf("/intent/")>-1)return r.a.createElement(ae.a,{forwardPivotInfo:e,history:t,location:t.location,tweetId:n.id_str})}_renderTweetComponent(){var e;const{allowDownvote:t,changeDropdownState:n,contextTweet:o,contextualBehavioralEventInfo:a,conversationAnnotation:s,forwardPivotInfo:l,hasModeratedReplies:c,history:d,innerForwardPivotInfo:h,isNsfwUser:u,isPinned:p,location:m,loggedInUser:_,onTweetDismiss:w,promotedContent:b,promotedContentAdvertiser:g,quoteTweetSocialContextProps:C,quotedTweetTombstoneInfo:v,readerModeAvailable:f,replyDropdownSelection:T,scribeData:y,scribeNamespace:k,socialContext:I,topic:E,topicFollowPrompt:x,tweet:S,userCountry:A,userLanguage:P,withActions:L,withCommunityModerationAuthority:O,withHideReply:D,withInlineMedia:M,withSocialContext:R}=this.props,{loggedInUserId:F}=this.context,U={allowDownvote:t,contextTweet:o,forwardPivotInfo:l,hasModeratedReplies:c,innerForwardPivotInfo:h,promotedContent:b,promotedContentAdvertiser:g,quotedTweetTombstoneInfo:v,quoteTweetSocialContextProps:C,readerModeAvailable:f,socialContext:I,topic:E,topicFollowPrompt:x,tweet:S,withActions:L,withInlineMedia:M,withSocialContext:R},{enableKeyboardShortcuts:B}=this.state;if(!S)return null;const H=Object(Me.a)(this._cachedScribeNamespace,k)?this._cachedScribeNamespace:this._cachedScribeNamespace=k,N=S&&S.card&&!S.is_quote_status?S.card.url:void 0,j=ke.a.getOriginalTweet(S),W=j.user.id_str===F,z=!j.in_reply_to_status_id_str&&W&&!j.community_id_str,q=this._renderConversationControlsTooltip(),V=!!j.in_reply_to_status_id_str,K=(null==j?void 0:j.reply_count)>20,G="Political"===(null==s?void 0:s.conversation_annotation_type)&&(null==(e=S.headsUp)?void 0:e.showBanner)&&!V&&K,Q=this.context.featureSwitches.isTrue("responsive_web_deamplification_replies_dropdown_selector_enabled")&&S.reply_count>0;return r.a.createElement(Se.c,{data:this._getScribeData(S.retweeted_status||S,b,y),namespace:H},r.a.createElement(re.a,{enabled:!!B,handlers:this._getShortcutKeyHandlers()},this._renderLeftConversationBanner(),r.a.createElement(ge.b,i()({},U,{enableKeyboardShortcuts:B,excludeCardUrl:N,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:!0,loggedInUser:_,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onMediaClick:this._handleMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onReplyContextClick:this._handleReplyContextClick,onReplyPress:this._handleReplyPress,onScreenNameClick:this._handleScreenNameClick,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,renderCurationActionMenu:this._getRenderCurationActionMenu(null==l?void 0:l.displayType,d,u,p,m,this._handleCaretClick,w,b,ke.a.getOriginalTweet(S),z,q,D,O,null==a?void 0:a.entityToken,A,P),showConversationHeadsUp:G,tweet:S})),Q?r.a.createElement(_e.a,{changeDropdownState:n,replyDropdownSelection:T}):null,this._renderInlineReply(),this._renderDownvoteEducation()))}_renderLeftConversationBanner(){var e;const{tweet:t}=this.props,{loggedInUserId:n}=this.context;return(null==t||null==(e=t.unmentioned_user_ids)?void 0:e.includes(n))?r.a.createElement(pe,null):null}_renderDownvoteEducation(){const{addFlag:e}=this.props,{showDownvoteFullscreenFromInline:t}=this.state;return r.a.createElement(r.a.Fragment,null,t||this._shouldShowDownvoteFullscreenEducation()?r.a.createElement(j,{onDismiss:()=>{t?this.setState({showDownvoteFullscreenFromInline:!1}):e(f.l)}}):null,this._shouldShowDownvoteInlineEducation()?r.a.createElement(Y,{onAction:()=>{this.setState({showDownvoteFullscreenFromInline:!0})},onClose:()=>{e(f.l,{updateTimestamp:!0})}}):null)}_renderInlineReply(){const{history:e,location:t,tweet:n,tweetId:o}=this.props,{replyPressToggle:i}=this.state,{loggedInUserId:a}=this.context;if(!n)return null;const s=a&&!this._shouldDisable(n,Te.a.Reply),l=ve.b.isMobileOS()?oe:ie;return s?r.a.createElement(l,{history:e,location:t,parentTweetId:o,replyPressToggle:i}):null}_renderWithheldTweet(){const{tweet:e}=this.props;return!!e&&r.a.createElement(Fe.a,{displayTextRange:e.display_text_range,entities:e.withheld_entities||e.entities,lang:e.lang,text:e.withheld_text||e.text})}_renderReportedTombstone(){const{tweet:e}=this.props;if(e){const t=ke.a.getOriginalTweet(e),n=Object(Le.c)(t.reportingVisibility);return r.a.createElement(be.a,{actionText:Ue,lang:e.lang,onClick:this._handleShowReportedTweet},n)}}_handleAsyncPromotedEvent(e,t){const{createLocalApiErrorHandler:n,log:o,promotedContent:i,tweet:a}=this.props;if(a&&i){const{disclosure_type:r,impression_id:s}=i;o({disclosureType:r,itemId:a.id_str,itemType:"tweet",params:{event:e,impression_id:s,...t}}).catch(n())}}}Be.contextType=ye.a;const He=Object(fe.a)(H(Be));t.b=Object(Se.a)({component:"tweet"})(He)},PbbS:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("ERkP");const o=Object.freeze({Default:"default",FollowTopic:"follow",Star:"star",Interested:"interested",Favorite:"favorite"})},Sksh:function(e,t,n){"use strict";n("849X");var o=n("SrIh"),i=n("M0jS"),a=n("+d3d"),r=n("VY6S");t.a=new class{constructor(){this.usersInApp={},this._throttledInitialFetch=Object(a.a)((()=>{this.store.dispatch(i.b.fetchManyIfNeeded(Object.keys(this.usersInApp)))}),1500)}init(e){this.store=e}registerUserInApp(e){Object.keys(this.usersInApp).length>50&&(this.usersInApp={},Object(o.a)(new Error("Registered users in app has exceeded 50"),{level:"warning"})),this.usersInApp[e]?this.usersInApp[e]=this.usersInApp[e]+1:(this.usersInApp[e]=1,Object(r.a)(this._throttledInitialFetch(),100))}deregisterUserInApp(e){this.usersInApp[e]&&this.usersInApp[e]>1?this.usersInApp[e]=this.usersInApp[e]-1:delete this.usersInApp[e]}}},TZwD:function(e,t,n){"use strict";var o=n("EbOo"),i=n("u0B7"),a=n("24HD");t.a=({addToast:e,behavioralEventEntityToken:t,block:n,createLocalApiErrorHandler:r,promotedContent:s,scribeAction:l,unblock:c,user:d})=>{const h=()=>{c(d.id_str,{promotedContent:s}).catch(r(i.a)),l({element:"unblock"})},u={user:d,source:a.k.TWEET,blockAction:()=>{n(d.id_str,{promotedContent:s}).then((()=>{e({action:{label:a.l,onAction:h,behavioralEventViewType:"unblock"},behavioralEventEntityToken:t,text:a.d})}),r(o.a)),l({element:"block"})},unblockAction:h};return Object(a.g)(u)}},YICZ:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("Zejx"),r=n("rxPX"),s=n("0KEI");var l=Object(r.a)().propsFromActions((()=>({createLocalApiErrorHandler:Object(s.createLocalApiErrorHandlerWithContextFactory)("TOPIC_NOT_INTERESTED_CONTEXT"),setNotInterested:a.a.notInterested}))),c=n("3XMw"),d=n.n(c),h=n("hOZg"),u=n("Jkc4"),p=n("Irs7"),m=n("/yvb"),_=n("rHpw");const w=d.a.d9b417c4,b=d.a.c29d6806,g=d.a.e839db39,C=e=>{const{createLocalApiErrorHandler:t,nativeID:n,onPress:o,setNotInterested:a,size:r,style:s,text:l,topicId:c,type:d,withIconOnly:h}=e,_=Object(p.b)(),b=i.a.useCallback((e=>{e.preventDefault(),o?o(e):(_.scribe({element:"topic",action:"not_interested"}),a(c).catch(t()))}),[_,t,o,a,c]);return i.a.createElement(u.a,null,(e=>i.a.createElement(m.a,{accessibilityLabel:w,hoverLabel:{label:g},icon:h?f:void 0,nativeID:n,onPress:e(b),pullRight:h,size:r,style:s,type:d},h?null:l)))};C.defaultProps={size:"small",text:b,type:"brandText",withIconOnly:!0};const v=_.a.create((e=>({closeIcon:{color:e.colors.gray700}}))),f=i.a.createElement(h.a,{style:v.closeIcon}),T=l(C);t.a=T},aA1u:function(e,t,n){"use strict";n("kYxP");var o=n("ERkP"),i=n.n(o),a=n("t62R"),r=n("21zW"),s=n("rHpw"),l=n("3XMw"),c=n.n(l);class d extends i.a.Component{constructor(...e){super(...e),this._formatTimestamp=e=>{const t=c.a.jade381b,n=c.a.d725a288,o=new Date(e),i=t(o);return`${n(o)} · ${i}`}}render(){const{style:e}=this.props;return i.a.createElement(a.b,{color:"gray700",style:e},this._renderTimestampAndMaybePlace(),this._maybeRenderSource())}_renderTimestampAndMaybePlace(){const{linkColor:e,onPlaceClick:t,onTimestampClick:n,place:o,placeLink:r,timestamp:s,timestampLink:l}=this.props,d=this._formatTimestamp(s);return o?i.a.createElement(c.a.I18NFormatMessage,{$i18n:"ba64a3b2"},i.a.createElement(a.b,{color:l?e:void 0,link:l,onClick:n},c.a.e9c24489({date:d})),i.a.createElement(a.b,{color:r?e:void 0,link:r,onClick:t},c.a.a16de8a4({place:o}))):i.a.createElement(a.b,{color:l?e:void 0,link:l,onClick:n},d)}_maybeRenderSource(){const{linkColor:e,onSourceClick:t,source:n,sourceLink:o}=this.props;return n?i.a.createElement(i.a.Fragment,null,i.a.createElement(r.a,null),i.a.createElement(a.b,{color:o?e:void 0,link:o,onClick:t,style:h.source},n)):null}}d.defaultProps={linkColor:"link"};const h=s.a.create((e=>({source:{whiteSpace:"normal"}})));t.a=d},dCqJ:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("cm6r"),r=(n("kYxP"),n("t62R")),s=n("rHpw"),l=n("3XMw"),c=n.n(l);const d=c.a.d7e50a66,h="INDIRECT",u="NO_SPONSORSHIP",p="ISSUE";class m extends i.a.Component{constructor(...e){super(...e),this._renderDisclaimerDetails=()=>{const{onPoliticalSponsorWebsiteClick:e,promotedContent:t}=this.props;if(!t.adMetadataContainer)return null;const{disclaimerType:n,sponsorshipCandidate:o,sponsorshipOrganization:a,sponsorshipOrganizationWebsite:s,sponsorshipType:l}=t.adMetadataContainer,d=s&&n!==p?i.a.createElement(r.b,{link:s,onClick:e}):i.a.createElement(r.b,{color:"gray700",size:"subtext2"});if(!a)return null;const m=i.a.createElement(c.a.I18NFormatMessage,{$i18n:"e1e348dc"},i.a.cloneElement(d,null,c.a.b1e5bc63({sponsorshipOrganization:a}))),_=i.a.createElement(c.a.I18NFormatMessage,{$i18n:"c7dea0d0"},i.a.cloneElement(d,null,c.a.a84fcff2({sponsorshipOrganization:a}))),w=o?i.a.createElement(c.a.I18NFormatMessage,{$i18n:"b5c2371a",sponsorshipCandidate:o},i.a.cloneElement(d,null,c.a.fd985325({sponsorshipOrganization:a}))):null;return i.a.createElement(r.b,{color:"gray700",size:"subtext2"},n===p?m:l===u?_:l===h?w:m)},this._renderLearnMoreLink=()=>{const{onPromotedDisclaimerLearnMoreClick:e,promotedContent:t,tweet:n}=this.props,{disclaimerType:o}=t.adMetadataContainer||{},a=o===p?"issue_ad":"political_ad",s=`http://ads.twitter.com/transparency/ads/${n.user.screen_name}/tweet/${n.id_str}`;return i.a.createElement(r.b,{link:s,onClick:e(a),size:"subtext2",style:_.learnMore},d)}}render(){return i.a.createElement(i.a.Fragment,null,this._renderDisclaimerDetails(),this._renderLearnMoreLink())}}const _=s.a.create((e=>({learnMore:{alignSelf:"flex-start"}})));var w=n("e5HP"),b=n("Z6aJ"),g=n("MWbm");t.a=function(e){const{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,onPromotedIndicatorClick:o,promotedContent:r,promotedContentAdvertiser:s,style:l,testID:c,tweet:d,withCircleIcon:h}=e,u=b.a.isPromoted(r),p=!!r&&(r.adMetadataContainer&&("POLITICAL"===r.adMetadataContainer.disclaimerType||"ISSUE"===r.adMetadataContainer.disclaimerType)||"political"===b.a.getDisclosureType(r)||"issue"===b.a.getDisclosureType(r));return u?i.a.createElement(g.a,{style:l,testID:c},s&&r?i.a.createElement(a.a,{interactiveStyles:null,link:{pathname:`https://twitter.com/${s.screen_name}`,state:{promotedTweetState:r}},onPress:o},i.a.createElement(w.a,{promotedContent:r,withCircleIcon:h})):!!r&&i.a.createElement(w.a,{promotedContent:r}),p&&r?i.a.createElement(m,{onPoliticalSponsorWebsiteClick:t,onPromotedDisclaimerLearnMoreClick:n,promotedContent:r,tweet:d}):null):null}},foB5:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("k49u"),i=n("3XMw");const a=n.n(i).a.ee87e71c,r={[o.a.SelfMuteError]:{toast:{text:a}},showToast:!0}},gdQ4:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n("kYxP");var o=n("ERkP"),i=n.n(o),a=n("tRj+"),r=n("3XMw"),s=n.n(r),l=n("oQhu"),c=n("MWbm"),d=n("htQn"),h=n("5mJL"),u=n("oSwX"),p=n("/yvb"),m=n("t62R"),_=n("rHpw");const w=s.a.e3a24e4b,b=s.a.i569ff3e;class g extends i.a.PureComponent{constructor(...e){super(...e),this._getMemoizedBehavioralEventContext=Object(l.a)((e=>({viewType:e})))}componentDidMount(){const{onImpression:e}=this.props;e&&e()}render(){const{avatarUrl:e,onClick:t,style:n,to:o,userName:r,withButton:s,withConversationLine:l}=this.props,_=e&&r,g=s?"add_tweet":"see_more",v=this._getMemoizedBehavioralEventContext(g);return i.a.createElement(a.a,{behavioralEventContext:v},i.a.createElement(d.a,{link:o,onClick:t,style:[C.root,n]},i.a.createElement(h.a,{avatarCell:_?i.a.createElement(c.a,{style:[C.avatarColumn,!l&&C.avatarColumnWithoutLine]},l?i.a.createElement(c.a,{style:C.conversationLine}):null,i.a.createElement(u.default,{size:"large",uri:e})):null,avatarCellStyle:C.conversationConnector,cellStyle:s?C.buttonContainer:_?C.labelWithAvatar:C.label},s?i.a.createElement(p.a,{accessibilityRole:"none",size:"xSmall",style:C.button,type:"brandOutlined"},w):i.a.createElement(m.b,{color:"link",style:C.enlargeTouchTarget},b))))}}g.defaultProps={withButton:!1,withConversationLine:!1};const C=_.a.create((e=>({root:{overflow:"hidden",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.space2},avatarColumn:{flexDirection:"column",flexGrow:0,alignItems:"center",paddingBottom:e.spaces.space4},avatarColumnWithoutLine:{paddingTop:e.spaces.space12},conversationConnector:{alignItems:"center",display:"flex",position:"relative"},label:{flexGrow:1,paddingVertical:e.spaces.space4},labelWithAvatar:{flexGrow:1,justifyContent:"center"},conversationLine:{backgroundColor:e.colors.gray200,flexGrow:1,flexShrink:1,width:e.componentDimensions.conversationLineWidth,marginBottom:e.spaces.space4},buttonContainer:{paddingVertical:e.spaces.space4,flexDirection:"row",flexGrow:1},button:{marginVertical:e.spaces.space4},enlargeTouchTarget:{paddingVertical:e.spaces.space8}})))},j7tW:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p}));n("kYxP");var o=n("oEOe"),i=n("PiaM");const a="rweb/pinnedTweets";var r=n("x5Pi"),s=n("G6rE"),l=n("SRyb");const c=o.a(a,"PIN"),d=o.a(a,"UNPIN"),h=e=>(t,n,{api:a,featureSwitches:d})=>o.c(t,{params:{id:e},request:a.Tweets.pin})({actionTypes:c,context:"ACTION_PIN_TWEET",meta:{tweetId:e}},(o=>{const a=s.e.selectLoggedInUser(n());if(void 0===a)return;const c=a.id_str,h=a.pinned_tweet_ids_str&&a.pinned_tweet_ids_str[0];t(s.e.patchUser(c,{pinned_tweet_ids_str:[e]}));const u=Object(l.a)(d,c,"default");return[...h?[u.removeTweets({[h]:!0}),u.injectEntry(i.k({id:h,sortIndex:h}),{atTop:!1})]:[],u.removeTweets({[e]:!0}),u.injectEntry(i.k({id:e,content:{socialContext:{generalContext:r.a}},sortIndex:"NOT_USED"}))]})),u=e=>(t,n,{api:a,featureSwitches:r})=>o.c(t,{params:{id:e},request:a.Tweets.unpin})({actionTypes:d,context:"ACTION_UNPIN_TWEET",meta:{tweetId:e}},(o=>{const a=s.e.selectLoggedInUser(n());if(void 0===a)return;const c=a.id_str;return t(s.e.patchUser(c,{pinned_tweet_ids_str:[]})),[Object(l.a)(r,c,"default").removeTweets({[e]:!0}),Object(l.a)(r,c,"default").injectEntry(i.k({id:e,sortIndex:e}),{atTop:!1})]})),p=(e,t)=>{const n=s.e.selectLoggedInUser(e);return!(null==n||!n.pinned_tweet_ids_str)&&n.pinned_tweet_ids_str[0]===t}},jQy5:function(e,t,n){"use strict";var o=n("OrGc"),i=n("foB5"),a=n("1bnC"),r=n("68+r"),s=n("P2xQ");t.a=({addToast:e,behavioralEventEntityToken:t,createLocalApiErrorHandler:n,dismissUserFromConversation:l,mute:c,promotedContent:d,scribeAction:h,unmute:u,user:p})=>{const m=()=>{u(p.id_str,{promotedContent:d}).then((()=>{e({text:Object(s.d)(p.screen_name),behavioralEventEntityToken:t})}),n(r.a)),h({element:"unmute"})},{Icon:_,behavioralEventContext:w,onClick:b,text:g}=Object(s.a)(p,(()=>{c(p.id_str,{promotedContent:d}).then((()=>{l&&l({userId:p.id_str,feedbackKeys:["UnfollowEntity"]}),e({action:{label:a.a,onAction:m,behavioralEventViewType:"unmute_person"},behavioralEventEntityToken:t,text:Object(s.b)(p.screen_name)})}),n(i.a)),h({element:"mute"})}),m);return{behavioralEventContext:w,Icon:_,text:g,onClick:b,shortcutKey:o.e.mute}}},qbku:function(e,t,n){"use strict";var o=n("97Jx"),i=n.n(o),a=n("ERkP"),r=n.n(a),s=n("rxPX"),l=Object(s.a)().withAnalytics({element:"social_proof"}),c=n("aTAq"),d=n("Nqmc"),h=n("x5Pi");const u=l((e=>{const t=r.a.useContext(h.b);if(t&&e.contextType===t)return null;const{analytics:n,link:o,...a}=e,s=o&&!Object(c.a)(o)?{...o,state:{...o.state,referringScribeNamespace:{...n.contextualScribeNamespace,action:"click"}}}:o;return r.a.createElement(d.a,i()({},a,{link:s,onClick:function(){const{analytics:t,onClick:n}=e;t.scribeAction("click"),n&&n()}}))}));t.a=u},sUoZ:function(e,t,n){"use strict";var o=n("ERkP"),i=n.n(o),a=n("Lsrn"),r=n("k/Ka");const s=(e={})=>Object(r.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[a.a.root,e.style],viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M22.18 9.565c-.157-.487-.61-.82-1.126-.82h-5.928l-2.007-5.88c-.164-.476-.612-.8-1.12-.8s-.956.322-1.12.8L8.874 8.743H2.945c-.513 0-.97.332-1.126.82-.158.49.02 1.02.44 1.318l4.735 3.357-2.018 5.908c-.164.484 0 1.02.415 1.324.415.304.97.31 1.39.016L12 17.782l5.22 3.703c.206.146.446.218.686.218.25 0 .497-.08.705-.233.41-.305.577-.84.41-1.324l-2.015-5.906 4.735-3.356c.414-.3.595-.83.44-1.32z"})));s.metadata={width:24,height:24},t.a=s},xZXe:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie}));var o=n("97Jx"),i=n.n(o),a=(n("kYxP"),n("Cm4o"),n("KrtT"),n("ERkP")),r=n.n(a),s=n("ZyXd"),l=n("TZwD"),c=n("RqPI"),d=n("1YZw"),h=n("Ig1G"),u=n("6rlp"),p=n("0pUJ"),m=n("Fmkq"),_=n("j7tW"),w=n("Zejx"),b=n("XOJV"),g=n("D5n3"),C=n("G6rE"),v=n("jL08"),f=n("eSoz"),T=n("rxPX"),y=n("0KEI"),k=n("EGrD"),I=n("x5Pi"),E=n("P1r1");const x=(e,{tweetId:t})=>Object(_.b)(e,t),S=(e,t)=>t.tweetId,A=(e,{urtAdvertiser:t,urtPromotedContent:n})=>{if(e&&n){const o=e.promoted_content;return{...e,promoted_content:{adMetadataContainer:n.adMetadataContainer,disclosure_type:n.disclosureType,experiment_values:n.experimentValues,impression_id:n.impressionId,advertiser:t?{id_str:t.id_str}:void 0,advertiser_name:(null==t?void 0:t.name)||void 0,click_tracking_info:n.clickTrackingInfo,...o}}}return e},P=(e,{socialContext:t})=>t,L=(e,{socialContext:t})=>{const n=t&&t.topicContext;return n?w.a.select(e,n.topicId):void 0},O=(e,t)=>{const n=t.tweetId,o=n&&b.a.select(e,n);return o?Object(f.g)(e,o):void 0},D=(e,t)=>{const n=b.a.createHydratedTweetSelector(S)(e,t),o=null==n?void 0:n.quoted_status;return o?Object(f.g)(e,o):void 0},M=(e,{urtPromotedContent:t})=>t,R=(e,{urtPromotedContent:t})=>t?C.e.select(e,t.advertiserId):null,F=(e,t)=>t.contextTweetId;var U=Object(T.a)().propsFromState((()=>({adFreeArticleDomains:k.c,articleDomains:v.b,community:O,contextTweet:b.a.createHydratedTweetSelector(F),displaySensitiveMedia:E.k,explicitSocialContext:P,isNsfwUser:E.t,isPinned:x,loggedInUser:C.e.selectLoggedInUser,quoteTweetCommunity:D,topic:L,tweet:b.a.createHydratedTweetSelector(S),urtAdvertiser:R,urtPromotedContent:M,userCountry:c.z,userLanguage:c.p}))).adjustStateProps((({adFreeArticleDomains:e,articleDomains:t,community:n,contextTweet:o,displaySensitiveMedia:i,explicitSocialContext:a,isNsfwUser:r,isPinned:s,loggedInUser:l,quoteTweetCommunity:c,topic:d,tweet:u,urtAdvertiser:p,urtPromotedContent:m,userCountry:_,userLanguage:w})=>{var b,g,C;const f=u&&Object(I.f)(u,null==l?void 0:l.id_str),T=null==u||null==(b=u.card)||null==(g=b.binding_values)||null==(C=g.domain)?void 0:C.string_value,y=Object(v.a)(t,T),k=null==u?void 0:u.quoted_status,E=k?Object(I.f)(k,null==l?void 0:l.id_str,c):void 0,x=E&&Object(I.e)(E),S=Object(h.c)(null==n?void 0:n.role);return{adFreeArticleDomains:e,contextTweet:o,displaySensitiveMedia:i,isCardArticle:y,isNsfwUser:r,isPinned:s,loggedInUser:l,promotedContentAdvertiser:p||void 0,quoteTweetSocialContextProps:x,socialContext:a||f,topic:d,tweet:A(u,{urtPromotedContent:m,urtAdvertiser:p}),userCountry:_,userLanguage:w,withCommunityModerationAuthority:S}})).propsFromActions((()=>({addToast:d.b,block:C.e.block,createLocalApiErrorHandler:Object(y.createLocalApiErrorHandlerWithContextFactory)("TWEET_CONTAINER_CONTEXT"),log:u.a,fetchAdFreeToken:k.a,fetchCommunityIfNeeded:f.c.fetchOneIfNeeded,fetchTopicIfNeeded:w.a.fetchOneIfNeeded,loadAdFreeArticleDomainsFromPersistence:k.b,mute:p.a,onUnretweet:g.a,richScribeAction:m.richScribeAction,setArticlesVisited:v.e,undoTopicNotInterested:w.a.undoNotInterested,unblock:C.e.unblock,unmute:C.e.unmute}))).withAnalytics(),B=n("6bZg"),H=n("LSr9"),N=n("3XMw"),j=n.n(N),W=n("iFPY"),z=n("hACr"),q=n("jQy5"),V=n("3IPs"),K=n("Rp9C"),G=n("uArA"),Q=n("X04g"),$=n("xM7j"),X=n("BLtI"),J=n("3zeG"),Z=n("IO7v"),Y=n("Irs7");var ee=n("MWbm"),te=n("v6aA"),ne=n("E0cF"),oe=n("OIC0"),ie=n("+pKb"),ae=n("/Ikv"),re=n("Z6aJ"),se=n("lHOd"),le=n("7JQg"),ce=n("cFuS"),de=n("24HD"),he=n("4hQ9"),ue=n("fz3c"),pe=n("gZV8");class me extends r.a.PureComponent{constructor(...e){super(...e),this._handlePlacementChange=e=>{const{id:t,onFullyVisible:n,onVisible:o}=this.props;this._lastVisibleId!==t&&e.verticalOverlap()>=1&&(this._lastVisibleId=t,o(e));const i=e.visibleFraction()>=pe.c,a=e.item.height>e.viewport.height,r=e.verticalOverlap()===e.viewport.height||a&&e.visibleFraction()>=pe.d;this._lastFullyVisibleId!==t&&(i||r)&&(this._lastFullyVisibleId=t,n&&n(e))},this._handleLayout=e=>{const{nativeEvent:{layout:{height:t,width:n}}}=e,o={width:n,height:t};if(this._prevLayout&&(this._prevLayout.width!==n||this._prevLayout.height!==t)){const{onResize:e}=this.props;e&&e(this._prevLayout,o)}this._prevLayout=o}}render(){const{children:e,id:t}=this.props;return r.a.createElement(pe.e,{key:t,onLayout:this._handleLayout,onPlacementChange:this._handlePlacementChange},e)}}var _e=n("fs1G"),we=n("oQhu"),be=n("mN6z"),ge=n("Cqiq");const Ce=j.a.f277e949,ve=j.a.e4c6c309;class fe extends r.a.Component{constructor(e,t){var n;super(e,t),this._shouldLogPromotedImpression=ye.bind(null,this.context.featureSwitches),this._isProbablyRemovedByAdBlocker=Te.bind(null,this.context.featureSwitches),this._isArticleNudgeEnabled=this.context.featureSwitches.isTrue("responsive_web_article_nudge_enabled"),this._isCompatibilityScribeEnabled=this.context.featureSwitches.isTrue("responsive_web_extension_compatibility_scribe"),this._isCommunitiesEnabled=this.context.featureSwitches.isTrue("c9s_enabled"),this._hasClaimsForAdFreeArticles=null==(n=this.context.userClaims)?void 0:n.isTrueAndEnabled("subscriptions_feature_1006"),this._renderBlockOrUnblockConfirmationSheet=()=>{const{tweet:e}=this.props,{user:t}=e;return Object(de.j)({confirmation:Object(de.h)(t),onClose:this._handleBlockOrUnblockConfirmClose,handleConfirm:this._handleBlockOrUnblockUserConfirm})},this._handleShowReportedTweet=()=>{this.setState({displayReported:!0,enableKeyboardShortcuts:!1})},this._handleUnretweet=()=>{const{createLocalApiErrorHandler:e,onUnretweet:t,tweet:n}=this.props;t(ne.a.getOriginalTweet(n).id_str,{promotedContent:n.promoted_content}).catch(e(Z.a))},this._getShortcutKeyHandlers=()=>{const{onClick:e,shortcutKey:t}=this._getMuteOrUnmuteAction(),{shortcutKey:n}=this._getBlockOrUnblockAction(),o=this.context.loggedInUserId===this.props.tweet.user.id_str;return{...t&&{[t]:e},...n&&!o&&{[n]:this._handleBlockOrUnblockConfirmOpen}}},this._handleBlockOrUnblockConfirmOpen=()=>{this.setState({showBlockOrUnblockConfirmation:!0})},this._handleBlockOrUnblockConfirmClose=()=>{this.setState({showBlockOrUnblockConfirmation:!1})},this._handleBlockOrUnblockUserConfirm=()=>{const{onClick:e}=this._getBlockOrUnblockAction();this._handleBlockOrUnblockConfirmClose(),e&&e()},this._getBaseTweetProps=()=>{const{contextualClientEventInfo:e,conversationTreeMetadata:t,feedbackItems:n,focalTweetId:o,forwardPivotInfo:i,isNsfwUser:a,isPinned:r,onTweetDismiss:s,ruxContext:l,saveAsRecentSearch:c,scribeData:d,shouldStoreTypeaheadItem:h,socialContext:u,topicFollowPrompt:p,tweet:m,userCountry:_,userLanguage:w,withActionsDisabled:b,withCommunityModerationAuthority:g,withCurationMenu:C,withHideReply:v,withMuteConversation:f,withUnhideReply:T,withViewHiddenReplies:y}=this.props,k=ne.a.getOriginalTweet(m),I=this._getPromotedContent(),E=d.items&&d.items[0]&&d.items[0].suggestion_details,x=this._isSelected(),S=k&&k.card&&!m.is_quote_status?k.card.url:void 0,{loggedInUserId:A}=this.context,P=k.user.id_str===A,L=!k.in_reply_to_status_id_str&&P&&!k.community_id_str,O=this._renderConversationControlsTooltip();return{excludeCardUrl:S,inlineCalloutInfo:this._getInlineCalloutInfo(),isFocal:o===m.id_str,onAnalyticsClick:this._handleAnalyticsClick,onAvatarClick:this._handleAvatarClick,onBirdwatchNotesIconClick:this._handleBirdwatchNotesIconClick,onBirdwatchNotesIconShown:this._handleBirdwatchNotesIconShown,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:m.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:this._handleEntityClick,onFocus:this._handleFocus,onLikeSuccess:this._handleLikeSuccess,onMediaClick:m.isPreview?this._handleEmbeddedMediaPreviewClick:this._handleEmbeddedMediaClick,onMediaHashtagHighlightClick:this._handleMediaHashtagHighlightClick,onModeratedIconClick:this._handleModeratedIconClick,onModeratedIconShown:this._handleModeratedIconShown,onPoliticalSponsorWebsiteClick:this._handlePoliticalSponsorWebsiteClick,onPromoteButtonClick:this._handlePromoteButtonClick,onPromoteAgainButtonClick:this._handlePromoteAgainButtonClick,onPromotedDisclaimerLearnMoreClick:this._handlePromotedDisclaimerLearnMoreClick,onPromotedIndicatorClick:this._handlePromotedIndicatorClick,onQuoteTweetClick:this._handleQuoteTweetClick,onReply:this._handleInlineReplyClick,onReplyContextClick:this._handleReplyContextClick,onScreenNameClick:this._handleScreenNameClick,onSelfThreadClick:this._handleSelfThreadClick,onSelfThreadImpression:this._handleSelfThreadImpression,onUndoTopicNotInterestedClick:this._handleUndoTopicNotInterested,promotedContent:I,renderCurationActionMenu:C&&!m.isPreview?this._getRenderCurationActionMenu(i&&i.displayType,n,b,a,r,x,this._handleCaretClick,s,I,k,v,g,f,T,L,y,t,null==e?void 0:e.entityToken,O,_,w):void 0,saveAsRecentSearch:c,shouldStoreTypeaheadItem:h,to:{state:{focal:k.id_str,socialContext:u,contextualClientEventInfo:e,contextTweetId:m.id_str,promotedContent:I,suggestionDetails:E,topicFollowPrompt:p},pathname:k.permalink,query:l?{cxt:l}:void 0}}},this._getReaderModeTweetProps=()=>{var e;const{contextualClientEventInfo:t,ruxContext:n,scribeData:o,socialContext:i,topicFollowPrompt:a,tweet:r,tweetTextSize:s}=this.props,l=ne.a.getOriginalTweet(r),c=this._getPromotedContent(),d=o.items&&o.items[0]&&o.items[0].suggestion_details;return{excludeCardUrl:null==(e=r.card)?void 0:e.url,onAnalyticsClick:_e.a,onAvatarClick:_e.a,onBlur:this._handleBlur,onCardLinkClick:this._handleCardLinkClick,onClick:r.isPreview?this._handlePreviewClick:this._handleTweetClick,onEntityClick:_e.a,onFocus:this._handleFocus,onMediaClick:this._handleEmbeddedMediaClick,onReplyContextClick:_e.a,to:{state:{focal:l.id_str,socialContext:i,contextualClientEventInfo:t,contextTweetId:r.id_str,promotedContent:c,suggestionDetails:d,topicFollowPrompt:a},pathname:l.permalink,query:n?{cxt:n}:void 0},tweet:r,tweetTextSize:s||"headline1",withActions:!1,withAvatarLink:!1,withReaderModeBottomBar:!0,withUserAvatar:!1,withUserHoverCard:!1,withUserName:!1,withTimestamp:!1}},this._getInlineCalloutInfo=()=>{const{displaySensitiveMedia:e,isNsfwUser:t,scribeNamespace:n,tweet:o,userCountry:i,userLanguage:a}=this.props,{featureSwitches:r,loggedInUserId:s}=this.context;if(Object(he.e)({displaySensitiveMedia:e,featureSwitches:r,isNsfwUser:t,loggedInUserId:s,tweet:o,userCountry:i,userLanguage:a}))return Object(he.d)(o,n,r)},this._getBlockOrUnblockAction=()=>{const{addToast:e,block:t,contextualClientEventInfo:n,createLocalApiErrorHandler:o,tweet:i,unblock:a}=this.props,{user:r}=i,s=this._getPromotedContent(),c={addToast:e,behavioralEventEntityToken:null==n?void 0:n.entityToken,createLocalApiErrorHandler:o,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}};return Object(l.a)({...c,block:t,unblock:a,user:r,promotedContent:s})},this._getMuteOrUnmuteAction=()=>{const{addToast:e,contextualClientEventInfo:t,createLocalApiErrorHandler:n,mute:o,tweet:i,unmute:a}=this.props,{user:r}=i,s={addToast:e,behavioralEventEntityToken:null==t?void 0:t.entityToken,createLocalApiErrorHandler:n,scribeAction:({element:e})=>{this._scribeAction({element:e,action:"click"})}},l=this._getPromotedContent();return Object(q.a)({...s,mute:o,unmute:a,user:r,promotedContent:l})},this._renderConversationControlsTooltip=()=>{const{loggedInUserId:e}=this.context,{showMidConversationControlEducationText:t,tweet:n}=this.props,o=ne.a.getOriginalTweet(n);if(!o)return!1;const i=!!o.community_id_str,a=o.user.id_str===e,r=o.reply_count>0;return!o.in_reply_to_status_id_str&&a&&r&&!i&&t},this._getRenderCurationActionMenu=Object(we.a)(((e,t,n,o,i,a,s,l,c,d,h,u,p,m,_,w,b,g,C,v,f)=>()=>r.a.createElement(J.a,{behavioralEventEntityToken:g,feedbackItems:t,forwardPivotDisplayType:e,isDisabled:n,isNsfwUser:o,isPinned:i,onMenuClick:s,onTweetDismiss:l,promotedContent:c,tweet:d,userCountry:v,userLanguage:f,withChangeConversationControls:_,withChangeConversationControlsTooltip:C,withCommunityModerationAuthority:u,withHideReply:h,withMuteConversation:p,withUnhideReply:m,withViewHiddenReplies:w}))),this._getDefaultScribeData=Object(we.a)(((e,t,n,o,i,a)=>{const r=(({clickTrackingEmbedDetails:e,contextualScribeData:t,isSelected:n,overflow:o,promotedContent:i,scribeData:a,tweet:r})=>({...t||{},...a||{},...e&&{click_tracking_embed_details:e},items:K.a.addTweetToItems(a?a.items:[],r,i,n,o)}))({tweet:e,promotedContent:t,scribeData:n,overflow:o,isSelected:this._isSelected(),contextualScribeData:i,clickTrackingEmbedDetails:a});return this._cachedFinalScribeData&&Object(be.a)(r,this._cachedFinalScribeData)||(this._cachedFinalScribeData=r),this._cachedFinalScribeData})),this._scribeAction=(e,t={},n,o,i)=>{var a;const{analytics:r,history:s,richScribeAction:l,scribeData:c,scribeNamespace:d,tweet:h}=this.props,u=null==(a=s.location.state)?void 0:a.overflow,p=this._getPromotedContent();let m=c;if(o){const e=K.a.getUserItem(h.user,p),t=m.items?[...m.items,e]:[e];m={...m,items:t}}if(i){const e={article_details:{is_ad_free:i}},t=m.items?[...m.items,e]:[e];m={...m,items:t}}l({...d,...e},{...this._getDefaultScribeData(ne.a.getOriginalTweet(h),p,m,u,r.contextualScribeData,n),...t})},this._handlePoliticalSponsorWebsiteClick=()=>{this._scribeAction({component:"political_ad",element:"organization_website",action:"click"})},this._handlePromotedDisclaimerLearnMoreClick=e=>()=>{this._scribeAction({component:e,element:"learn_more",action:"click"})},this._handlePromotedIndicatorClick=()=>{this._handleAsyncPromotedEvent(ce.b.FOOTER_PROFILE)},this._handleFocus=()=>{this.setState({enableKeyboardShortcuts:!0})},this._handleBlur=()=>{this.setState({enableKeyboardShortcuts:!1})},this._getPromotedContent=()=>{const{displayPromotedContent:e,tweet:t}=this.props;return e?t.promoted_content:void 0},this._handleImpression=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ce.b.IMPRESSION)},this._handleFullyVisible=e=>{this._shouldLogPromotedImpression(e)&&this._handleAsyncPromotedEvent(ce.b.DWELL)},this._handleResize=(e,t)=>{!this._isProbablyRemovedByAdBlocker(e)&&this._isProbablyRemovedByAdBlocker(t)&&(s.a.recordAdBlockerPresence(),this._isCompatibilityScribeEnabled&&this._scribeAction({action:"blocked_ad"}))},this._handleInlineReplyClick=e=>{const{loggedInUserId:t}=this.context,{history:n,tweet:o}=this.props,i=this._getPromotedContent();e.preventDefault(),this._scribeAction({element:"inline_reply",action:"reply"}),n.push({state:{inReplyToStatusId:o.id_str,isSelfThreadReply:!!t&&Object(he.c)({tweet:o,loggedInUserId:t}),promotedContent:i},pathname:"/compose/tweet"})},this._handleLikeSuccess=()=>{if(this.context.featureSwitches.isTrue("home_timeline_like_reactivity_enabled")){const{onLike:e}=this.props,t="LikeReactionFatigue";try{const n=JSON.parse(window.sessionStorage.getItem(t))||0;n<this.context.featureSwitches.getNumberValue("home_timeline_like_reactivity_fatigue")&&e&&e().then((e=>{null!=e&&e.performed&&window.sessionStorage.setItem(t,JSON.stringify(n+1))}))}catch(e){}}},this._handleReplyContextClick=(e,t)=>this._scribeAction({element:"reply_context",action:"click"},{event_value:t}),this._handleAsyncPromotedEvent=(e,t)=>{const{createLocalApiErrorHandler:n,log:o,tweet:i}=this.props,a=this._getPromotedContent();if(a){const{disclosure_type:r,impression_id:s}=a;o({disclosureType:r,itemId:i.id_str,itemType:ce.c.TWEET,params:{event:e,impression_id:s,...t}}).catch(n())}},this._handleModeratedIconClick=()=>this._scribeAction({element:"moderated_replies_icon",action:"click"}),this._handleModeratedIconShown=()=>this._scribeAction({element:"moderated_replies_icon",action:"impression"}),this._handleBirdwatchNotesIconClick=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"click"}),this._handleBirdwatchNotesIconShown=()=>this._scribeAction({element:"birdwatch_notes_icon",action:"impression"}),this._handleAnalyticsClick=()=>{this._scribeAction({element:"analytics",action:"click"})},this._handlePromoteButtonClick=()=>{this._scribeAction({element:"promote",action:"click"})},this._handlePromoteAgainButtonClick=()=>{this._scribeAction({element:"promote_again",action:"click"})},this._handleAvatarClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"avatar",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.PROFILE_IMAGE_CLICK)},this._handleCaretClick=()=>this._scribeAction({element:"caret",action:"click"}),this._handleTweetClick=Object(G.a)((e=>{if(!e.defaultPrevented){if(e.stopPropagation(),window.getSelection().toString().length)return;this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ce.b.VIEW_DETAILS)}})),this._handlePreviewClick=e=>{e.preventDefault()},this._handleEmbeddedMediaPreviewClick=e=>{null==e||e.preventDefault()},this._handleEmbeddedMediaClick=()=>{this._scribeAction({element:"platform_photo_card",action:"click"}),this._handleAsyncPromotedEvent(ce.b.EMBEDDED_MEDIA)},this._handleQuoteTweetClick=()=>{this._scribeAction({element:"tweet",action:"click"}),this._handleAsyncPromotedEvent(ce.b.VIEW_DETAILS)},this._handleEntityClick=(e,t,n)=>{const{adFreeArticleDomains:o,createLocalApiErrorHandler:i,fetchAdFreeToken:a,tweet:r}=this.props,s=ce.a[t],l=B.a[t],c=this._getPromotedContent(),d=K.a.getClickTrackingEmbedDetails(c,n);if(s){const t=s===ce.b.URL_CLICK&&e.currentTarget instanceof window.HTMLElement?{url:e.currentTarget.href}:void 0;this._handleAsyncPromotedEvent(s,t)}if(t===oe.a.MEDIA)return this._handleTweetClick(e);t===oe.a.URL&&d&&this._scribeAction({action:ie.b.CLICK_ID_EMBED},{},d);let h=!1;if(this._hasClaimsForAdFreeArticles&&null!=n&&n.expandedUrl){const t=new URL(n.expandedUrl).hostname,[s,l]=new H.a(a,i()).getAdFreeArticlesClickHandler({destinationUrl:n.embeddedUrl,linkDomain:t,adFreeArticleDomains:o,tweetAuthorUserId:r.user.id_str});s&&(l(e),h=!0)}if(t===oe.a.MENTION){const e=null!=n&&n.text?[{item_type:Q.a.ItemType.USER,name:n.text,id:n.id_str}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,h)}if(t===oe.a.HASHTAG){const e=null!=n&&n.text?[{name:n.text}]:void 0;return this._scribeAction({action:l},{targets:e},void 0,void 0,h)}if(t===oe.a.INTERACTIVE_HIGHLIGHT&&void 0!==(null==n?void 0:n.id))return this._scribeAction({element:"interactive_text",action:l},{interactive_text_details:{id:n.id}},void 0,void 0,h);l&&this._scribeAction({action:l},void 0,void 0,void 0,h)},this._handleScreenNameClick=()=>{const{tweet:e}=this.props;this._handleSaveAsRecentSearchUser(),this._scribeAction({element:"user",action:"profile_click"},{profile_id:`${e.user.id}`},void 0,!0),this._handleAsyncPromotedEvent(ce.b.SCREEN_NAME_CLICK)},this._handleSelfThreadClick=()=>this._scribeAction({element:"self_thread",action:"click"}),this._handleSelfThreadImpression=()=>this._scribeAction({element:"self_thread",action:"impression"}),this._handleTopicFetch=()=>{var e;const{createLocalApiErrorHandler:t,fetchTopicIfNeeded:n,socialContext:o}=this.props,i=o&&(null==(e=o.topicContext)?void 0:e.topicId);i&&n(i).catch(t())},this._handleCommunityFetch=()=>{const{createLocalApiErrorHandler:e,fetchCommunityIfNeeded:t,tweet:n}=this.props;if(this._isCommunitiesEnabled&&n){var o;const i=n.community_id_str,a=null==(o=n.quoted_status)?void 0:o.community_id_str;i&&t(i).catch(e()),a&&t(a).catch(e())}},this._handleUndoTopicNotInterested=()=>{const{createLocalApiErrorHandler:e,topic:t,undoTopicNotInterested:n}=this.props;this._scribeAction({element:"topic",action:"un_not_interested"}),t&&n(t.id).catch(e())},this._handleCardLinkClick=e=>{var t;const{adFreeArticleDomains:n,analytics:o,createLocalApiErrorHandler:i,fetchAdFreeToken:a,isCardArticle:r,setArticlesVisited:s,tweet:l}=this.props;if(r&&this._isArticleNudgeEnabled){var c;const e=null==l||null==(c=l.card)?void 0:c.url;var d;if(e)s(e),o.scribe({component:"article_nudge",element:"read_article",action:"click",data:{items:[{token:null==l||null==(d=l.card)?void 0:d.url,in_reply_to_tweet_id:l.id_str}]}})}const h=null==l||null==(t=l.card)?void 0:t.binding_values;if(this._hasClaimsForAdFreeArticles&&h){const[t,o]=new H.a(a,i()).getAdFreeArticlesClickHandler({destinationUrl:ae.a.getBindingValue(h,"card_url"),linkDomain:ae.a.getBindingValue(h,"domain"),adFreeArticleDomains:n});t&&o(e)}},this._handleSaveAsRecentSearchUser=()=>{const{saveAsRecentSearch:e,shouldStoreTypeaheadItem:t,tweet:n}=this.props,{user:o}=n;e&&t&&t(Q.a.ItemType.USER)&&e({user:{id:o.id_str,type:V.a.User}})},this._isSelected=()=>{const{conversationTreeMetadata:e,tweet:t}=this.props,{selectedTweet:n}=e||{};return n&&t.id_str===n.selectedTweetId},this._handleMediaHashtagHighlightClick=()=>{this._handleAsyncPromotedEvent(ce.b.HASHTAG_CLICK)},this.state={displayReported:!1,enableKeyboardShortcuts:!1,showBlockOrUnblockConfirmation:!1};const o=this._getPromotedContent();this._shouldHidePromotedTweet=re.a.isPromoted(o)&&s.a.shouldHidePromotedTweets(this.context.featureSwitches)}shouldComponentUpdate(e,t){return!Object(be.a)(this.props,e)||!Object(be.a)(this.state,t)}componentDidMount(){this._shouldHidePromotedTweet&&this._isCompatibilityScribeEnabled&&this._scribeAction({action:"hide_promoted"}),this._handleTopicFetch(),this._handleCommunityFetch(),this._hasClaimsForAdFreeArticles&&this.props.loadAdFreeArticleDomainsFromPersistence()}render(){const{loggedInUserId:e}=this.context,{conversationPosition:t,conversationTreeMetadata:n,showWithheldBannerOnMyTweets:o,tweet:i}=this.props;if(!this._shouldRender())return n?r.a.createElement($.a,{conversationPosition:t,conversationTreeMetadata:n},ve):null;const a=i.user.id_str===e,s=Object(ge.b)(ne.a.getOriginalTweet(i).withheld_scope),l=a&&!i.retweeted_status,c=l&&"user"===ne.a.getOriginalTweet(i).withheld_scope&&!o,d=Object(ue.h)(i)&&!this.state.displayReported;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(ee.a,null,c?null:this._renderWithheldTweet(),l?this._renderContent():null):d?this._renderReportedTombstone():this._renderContent(),this._renderIntentPrompt(),this.state.showBlockOrUnblockConfirmation?this._renderBlockOrUnblockConfirmationSheet():null)}_renderIntentPrompt(){const{contextualClientEventInfo:e,forwardPivotInfo:t,history:n,tweet:o,tweetId:i}=this.props;if(o&&"focal_module"===(null==e?void 0:e.component)&&n.location.pathname.indexOf("/intent/")>-1&&n.location.query.tweet_id===i)return r.a.createElement(W.a,{forwardPivotInfo:t,history:n,location:n.location,tweetId:o.id_str})}_renderWithheldTweet(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,o=n.user.id_str,i=ne.a.getOriginalTweet(n),{loggedInUserId:a}=this.context,s=!!a&&a===o&&i.retweeted,l=i.withheld_text||i.text,c=i.withheld_entities||i.entities,d=n.user.id_str===a;return r.a.createElement(ge.a,{conversationPosition:e,conversationTreeMetadata:d?void 0:t,displayTextRange:i.display_text_range,entities:c,lang:i.lang,onUnretweet:s?this._handleUnretweet:void 0,showUnretweetButton:s,text:l})}_renderReportedTombstone(){const{conversationPosition:e,conversationTreeMetadata:t,tweet:n}=this.props,o=ne.a.getOriginalTweet(n),i=Object(ue.c)(o.reportingVisibility);return r.a.createElement($.a,{actionText:Ce,conversationPosition:e,conversationTreeMetadata:t,lang:o.lang,onClick:this._handleShowReportedTweet},i)}_renderContent(){var e;const{allowDownvote:t,analytics:n,bookmarkFolderId:o,contextTweet:i,conversationPosition:a,conversationTreeMetadata:s,displayBlocked:l,forwardPivotInfo:c,hasModeratedReplies:d,hideConversationControlsEducationText:h,hideExclusivityInfoEducationTextInReplies:u,hideTrustedFriendsEducationTextInReplies:p,history:m,hitHighlights:_,injectedFeedbackItem:w,innerForwardPivotInfo:b,isReaderMode:g,isUnread:C,linkify:v,loggedInUser:f,promotedContentAdvertiser:T,quoteTweetSocialContextProps:y,quotedTweetTombstoneInfo:k,replyContext:I,scribeData:E,scribeNamespace:x,shouldSelfThreadIncludeAvatar:S,socialContext:A,topic:P,topicFollowPrompt:L,tweet:O,withActions:D,withActionsDisabled:M,withBirdwatchPivots:R,withCardLinks:F,withInlineMedia:U,withQuotedTweetLinks:B,withRemoveFromBookmarks:H,withSelfThread:N,withSocialContext:j,withUserPresence:W}=this.props,{enableKeyboardShortcuts:q}=this.state,V=ne.a.getOriginalTweet(O),K=this._getPromotedContent(),G=Object(be.a)(this._cachedScribeNamespace,x)?this._cachedScribeNamespace:this._cachedScribeNamespace=x,Q=null==(e=m.location.state)?void 0:e.overflow,$={...{allowDownvote:t,bookmarkFolderId:o,contextTweet:i,conversationPosition:a,conversationTreeMetadata:s,displayBlocked:l,enableKeyboardShortcuts:q,forwardPivotInfo:c,hasModeratedReplies:d,hideConversationControlsEducationText:h,hideExclusivityInfoEducationTextInReplies:u,hideTrustedFriendsEducationTextInReplies:p,hitHighlights:_,injectedFeedbackItem:w,innerForwardPivotInfo:b,linkify:v,loggedInUser:f,promotedContentAdvertiser:T,quotedTweetTombstoneInfo:k,quoteTweetSocialContextProps:y,replyContext:I,shouldSelfThreadIncludeAvatar:S,socialContext:A,topic:P,topicFollowPrompt:L,tweet:O,withActions:D,withActionsDisabled:M,withBirdwatchPivots:R,withCardLinks:F,withInlineMedia:U,withQuotedTweetLinks:B,withRemoveFromBookmarks:H,withSelfThread:N,withSocialContext:j,withUnreadStyles:C,withUserPresence:W},...g?this._getReaderModeTweetProps():this._getBaseTweetProps()},J=r.a.createElement(le.c,{data:this._getDefaultScribeData(V,K,E,Q,n.contextualScribeData,void 0),namespace:G},r.a.createElement(z.a,{enabled:!!q,handlers:this._getShortcutKeyHandlers()},r.a.createElement(X.b,$)));return K?r.a.createElement(me,{id:O.id_str,onFullyVisible:this._handleFullyVisible,onResize:this._handleResize,onVisible:this._handleImpression},J):J}_shouldRender(){const{tweet:e}=this.props;return!(this._shouldHidePromotedTweet||this._tweetIsDeleted()||this._shouldHideBlockedTweet()||Object(ue.f)(e))}_tweetIsDeleted(){const{tweet:e}=this.props,{retweeted_status:t}=e;return e.isDeleted||t&&t.isDeleted}_shouldHideBlockedTweet(){var e,t;const{displayBlocked:n,focalTweetId:o,tweet:i}=this.props,a=ne.a.getOriginalTweet(i),r=!(null==i||null==(e=i.user)||!e.blocking)||!(null==a||null==(t=a.user)||!t.blocking);return o!==i.id_str&&(!n&&r)}}fe.defaultProps={displayBlocked:!1,shouldSelfThreadIncludeAvatar:!1,showWithheldBannerOnMyTweets:!0,withCardLinks:!1,withCurationMenu:!0,withRemoveFromBookmarks:!1,withMuteConversation:!1},fe.contextType=te.a;const Te=(e,t)=>t.height<=e.getNumberValue("responsive_web_extension_compatibility_size_threshold",50),ye=(e,t)=>!(e.isTrue("responsive_web_extension_compatibility_impression_guard")&&Te(e,t.item)),ke=e=>{const t=r.a.useContext(se.a);return((e,t)=>{const n=Object(Y.b)();r.a.useEffect((()=>{t||n.scribe({action:"hydration_failed",data:{tweet_id:e}})}),[n,t,e])})(e.tweetId,e.tweet),e.tweet?r.a.createElement(fe,i()({},e,{history:t,tweet:e.tweet})):null};ke.defaultProps=fe.defaultProps;const Ie=U(ke);t.b=Object(le.a)({component:"tweet"})(Ie)}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.inlineTombstoneHandler.38a85b05.js.map