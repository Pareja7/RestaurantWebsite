"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6258],{59339:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(35944),i=n(65988),o=n.n(i),a=(n(67294),n(94184)),l=n.n(a),c=n(92704),u=n(58458),s=n(44054);function d(e){return(0,r.BX)("div",{className:o().dynamic([["eef9855d073021de",[s.j.tabletMin]]])+" "+(l()("dialog",{"is-destructive":e.isDestructive})||""),children:[(0,r.tZ)("div",{className:o().dynamic([["eef9855d073021de",[s.j.tabletMin]]])+" title",children:e.title}),(0,r.tZ)("div",{className:o().dynamic([["eef9855d073021de",[s.j.tabletMin]]])+" content",children:"string"===typeof e.children?(0,r.tZ)(u.Z,{children:e.children}):e.children}),(0,r.BX)("div",{className:o().dynamic([["eef9855d073021de",[s.j.tabletMin]]])+" buttons",children:[(0,r.tZ)("div",{className:o().dynamic([["eef9855d073021de",[s.j.tabletMin]]]),children:(0,r.tZ)(c.ZP,{css:{width:"100%"},onClick:e.onCancel,text:"Cancel"})}),(0,r.tZ)("div",{className:o().dynamic([["eef9855d073021de",[s.j.tabletMin]]]),children:(0,r.tZ)(c.ZP,{css:{width:"100%"},colorway:e.isDestructive?"negative":"primary",onClick:e.onConfirm,text:e.confirmLabel||"Confirm"})})]}),(0,r.tZ)(o(),{id:"eef9855d073021de",dynamic:[s.j.tabletMin],children:".dialog.__jsx-style-dynamic-selector{padding:var(--space-16);display:grid;grid-row-gap:25px}.is-destructive.__jsx-style-dynamic-selector .title.__jsx-style-dynamic-selector{color:var(--accent-negative-default)}.title.__jsx-style-dynamic-selector{font-size:var(--font-size-header-default)}.buttons.__jsx-style-dynamic-selector{display:grid;grid-row-gap:var(--space-8)}@media screen and (min-width:".concat(s.j.tabletMin,"px){.dialog.__jsx-style-dynamic-selector{padding:var(--space-32)}.buttons.__jsx-style-dynamic-selector{grid-auto-flow:column;grid-column-gap:var(--space-8);-webkit-justify-content:end;justify-content:end}) {-webkit-order:1;-ms-flex-order:1;order:1}}")})]})}},17221:function(e,t,n){var r=n(35944),i=n(65988),o=n.n(i),a=n(40425),l=n(58458),c=n(51281),u=n(8996),s=n(45193),d=n(7177),f=n(3204),p=n(84409);t.Z=function(e){e.devHide;var t=e.eventId,n=e.currentUserImage,i=e.currentUserUsername;return(0,r.tZ)(s.Z,{width:"medium",isOpen:!0,preventClose:!0,onRequestClose:function(){},children:(0,r.BX)("div",{className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]])+" modal-content",children:[(0,r.BX)(u.gC,{spacing:2,align:"center",children:[(0,r.tZ)(a.Z,{level:2,children:" The IDE is having a bit of trouble."}),(0,r.tZ)("div",{className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]])+" spacer"}),(0,r.tZ)(l.Z,{size:"large",children:"Parts of the IDE are not working correctly. Try reloading the page to get back to coding."}),t&&(0,r.tZ)("div",{css:[f.l0.p(16),f.l0.width("100%"),f.l0.backgroundColor.backgroundHigher,f.l0.borderRadius(8)],className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]]),children:(0,r.BX)(u.gC,{spacing:1,children:[i&&n&&(0,r.BX)(u.Ug,{spacing:2,align:"center",children:[(0,r.tZ)(p.Z,{src:n,username:i,size:48}),(0,r.tZ)(l.Z,{size:"medium",children:i})]}),(0,r.BX)("div",{css:[f.l0.font.code],className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]]),children:["Error: ",t]})]})}),(0,r.tZ)("div",{className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]])+" spacer"}),(0,r.tZ)(c.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,r.tZ)(o(),{id:"30e8a0c2f6e8b8b5",dynamic:[d.n],children:".modal-content.__jsx-style-dynamic-selector{padding:var(--space-32)}.sentry-error-embed-wrapper{z-index:".concat(d.n,"!important}")})]})})}},38732:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(34051),i=n.n(r),o=n(35944),a=n(67294),l=n(1864),c=n.n(l),u=n(55982),s=n(89431),d=n(46846),f=n(46010);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,l,"next",e)}function l(e){h(o,r,i,a,l,"throw",e)}a(void 0)}))}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return w.apply(this,arguments)}function w(){return(w=v(i().mark((function e(t){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([n.e(2738),n.e(4474)]).then(n.t.bind(n,74474,23));case 3:return r=e.sent.exportToSvg,o=r({elements:JSON.parse(t).elements,appState:{exportBackground:!1}}),e.abrupt("return",window.btoa(window.unescape(window.encodeURIComponent(o.outerHTML))));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Z(e,t){var n=function(e){var t=e.fs,n=b(a.useState({}),2),r=n[0],o=n[1];return a.useCallback((function(e){var n,a=function(){var n=v(i().mark((function n(){var a,l,c,s,f;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,t.stat(e);case 3:if((l=n.sent).exists&&l.type===d.Tv.File){n.next=7;break}return r[e]&&o((function(t){return y({},t,m({},e,null))})),n.abrupt("return");case 7:if(!r[e]||(null===(a=r[e])||void 0===a?void 0:a.lastModified.getTime())!==l.lastModified.getTime()){n.next=9;break}return n.abrupt("return");case 9:return n.next=11,t.readFile(e);case 11:if((c=n.sent).error){n.next=25;break}if(!(0,u.sL)(e)){n.next=23;break}return n.next=17,g(c.content.toString());case 17:if(f=n.sent){n.next=20;break}return n.abrupt("return");case 20:s=f,n.next=24;break;case 23:s=c.content.toString("base64");case 24:o((function(t){return y({},t,m({},e,{content:s,lastModified:l.lastModified}))}));case 25:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a(),r[e]?null===(n=r[e])||void 0===n?void 0:n.content:null}),[r,t])}({fs:e});return a.useCallback((function(e){var r=e.src;return(0,o.tZ)(x,{previewFilePath:t,src:r,getImageContent:n,deeplink:!0})}),[n,t])}function x(e){var t=e.previewFilePath,n=e.src,r=void 0===n?"":n,i=e.getImageContent,a=e.deeplink,l=void 0!==a&&a,d=(0,f.vt)(r),p=(0,u.yC)(r),h=(0,s.Z)("flag-md-embed-draw")&&(0,u.sL)(r);if(h&&(p="image/svg+xml"),!p||!p.startsWith("image/")||!t)return(0,o.tZ)(o.HY,{children:r});if(""===d){var v=c().dirname(t),m=c().resolve(v,r);0===m.indexOf("/")&&(m=m.substr(1));var y=i(m);if(y){var b=(0,o.tZ)("img",{className:h?"draw-img":void 0,src:"data:".concat(p,";base64,").concat(y)});return l?(0,o.tZ)("a",{href:"#".concat(r),children:b}):(0,o.tZ)(o.HY,{children:b})}}return(0,o.tZ)("a",{href:d,target:"_blank",children:(0,o.tZ)("img",{src:d})})}},3104:function(e,t,n){n.d(t,{G:function(){return g},Z:function(){return w}});var r=n(35944),i=(n(67294),n(70917)),o=n(88768),a=n(54929),l=n(14285),c=n(67938),u=n(3204),s=n(77070),d=n(24506),f=n(27464),p=n(66552),h=n(24388);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=(0,i.iv)([d.gU.filled,u.l0.p(8),{width:"auto",height:"auto"}]);function w(e){var t=e.repl,n=e.currentUser,i=e.surface,d=void 0===i||i,v=b((0,o.lUA)(),2),m=v[0],w=v[1].loading,Z=(0,r.BX)(r.HY,{children:[(null===n||void 0===n?void 0:n.isVerified)?(0,r.tZ)(f.Z,{alt:t.currentUserDidLike?"Unlike":"Like",css:d&&g,disabled:w,onClick:function(){t.currentUserDidLike||(0,s.j)(s.U3.REACTED_TO_REPL,{replView:"https://replit.com"+t.url,reaction:"heart",isReplTalk:!1,item:"repl",isCommunityPublish:t.wasPosted,isAppPublish:t.wasPublished}),m({variables:{input:{replId:t.id}},optimisticResponse:{toggleReplLike:y({},t,{likeCount:Math.max(0,t.likeCount+(t.currentUserDidLike?-1:1)),currentUserDidLike:!t.currentUserDidLike})}})},children:(0,r.tZ)(l.Z,{filled:t.currentUserDidLike})}):null,n&&!n.isVerified?(0,r.tZ)(f.Z,{alt:"Verify your email to like",css:d&&g,disabled:!0,children:(0,r.tZ)(l.Z,{})}):null,n?null:(0,r.tZ)(f.Z,{alt:"Login to like",css:d&&g,disabled:!0,children:(0,r.tZ)(l.Z,{})})]});return(0,r.BX)(a.Z,{css:[u.l0.rowWithGap(8),u.l0.align.center],children:[t.likeCount>0?(0,r.tZ)(c.x,{children:(0,h.d)(t.likeCount)}):null,d?(0,r.tZ)(p.Z,{background:"default",css:[u.l0.borderRadius(8)],children:Z}):(0,r.tZ)(a.Z,{children:Z})]})}},46258:function(e,t,n){n.d(t,{Z:function(){return bt}});var r=n(35944),i=n(67294),o=n(88768),a=n(66552),l=n(3204),c=n(54929),u=n(92704),s=n(16108),d=n(67938),f=n(81193),p=n(58375),h=n(59339),v=n(45193),m=n(38956),y=n(27464),b=n(79744),g=n(70917),w=n(52620),Z=n(77070),x=n(33717);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=(0,g.iv)({position:"absolute",top:0,left:0,width:"100%",height:"100%"});function P(e){var t=e.src,n=e.alt;return(0,r.BX)(c.Z,{css:[O,{borderBottomLeftRadius:8,borderBottomRightRadius:8,overflow:"hidden"}],children:[(0,r.tZ)(b.Z,{objectFit:"cover",layout:"fill",src:t,alt:n}),(0,r.tZ)(c.Z,{css:[O,{background:"radial-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6))",backgroundRepeat:"no-repeat"}]})]})}function R(e){var t=e.onClick;return(0,r.tZ)(c.Z,{onClick:function(){(0,Z.j)(Z.U3.RUN_BUTTON_CLICKED,{context:"replView",overlay:!0}),t()},css:[O,l.l0.center,{":hover > svg":{transform:"scale(1.2)"},"> svg":{transition:"transform 200ms",width:64,height:"auto",cursor:"pointer",filter:l.TV.shadowDefault}}],children:(0,r.tZ)(s.Z,{filled:!0,color:l.TV.white})})}function E(e){var t=e.isPublished,n=e.onChangeClick,o=e.onRemoveClick,a=j(i.useState(!1),2),s=a[0],d=a[1];return(0,r.BX)(c.Z,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(u.ZP,{onClick:function(e){e.stopPropagation(),n()},text:"Change image"}),t?(0,r.tZ)(y.Z,{alt:"Cannot remove cover image of a published repl",disabled:!0,colorway:"negative",children:(0,r.tZ)(p.Z,{})}):null,t?null:(0,r.tZ)(c.Z,{children:(0,r.tZ)(y.Z,{alt:"Remove Image",colorway:"negative",onClick:function(){d(!0)},children:(0,r.tZ)(p.Z,{})})}),(0,r.tZ)(v.Z,{isOpen:s,onRequestClose:function(){return d(!1)},children:(0,r.tZ)(h.Z,{title:"Remove image",isDestructive:!0,onConfirm:function(){o(),d(!1)},onCancel:function(){return d(!1)},children:"This will remove your repl's cover image. You can always add one back at any time."})})]})}function N(e){var t=e.onClick,n=e.isActive;return(0,r.BX)(c.Z,{css:[l.l0.colWithGap(16),l.l0.center],children:[(0,r.BX)(c.Z,{css:[l.l0.colWithGap(8),l.l0.center],children:[(0,r.tZ)(c.Z,{css:[{"> svg":{width:44,height:"auto"}},n&&{color:l.TV.accentPrimaryDefault}],children:(0,r.tZ)(w.Z,{})}),(0,r.tZ)(d.x,{children:"Drag and drop a cover image"})]}),(0,r.tZ)(c.Z,{children:(0,r.tZ)(u.ZP,{onClick:t,colorway:"primary",text:"Or select a file"})})]})}function A(e){var t=e.onClick,n=e.repl,a=function(e){if(null!==e&&0!==e.length){var t=e.find((function(e){return e.type.startsWith("image/")}));t?(p(null),b.uploadImage(t)):p("Expected an image file")}},u=i.useRef(null),s=j(i.useState(null),2),d=s[0],p=s[1],h=j(i.useState(n.imageUrl),2),v=h[0],y=h[1],b=(0,m.Z)({onUpload:function(e){var t=e.url;g({variables:{input:{id:n.id,imageUrl:t}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:S({},n,{imageUrl:t})}}})},onUploadPreview:function(e){var t=e.dataUrl;y(t)},onError:function(e){p(e.message)}}),g=j((0,o.wPL)({onCompleted:function(e){p(null),y(e.updateRepl.repl.imageUrl)}}),1)[0],w=n.currentUserPermissions.changeImageUrl,Z=j((0,f.Z)(a),2),k=Z[0],C=Z[1],O=!v&&w;return(0,r.BX)(c.Z,S({css:[l.l0.center,l.l0.flex.growAndShrink(1),!O&&{backgroundColor:l.TV.black},{borderBottomLeftRadius:8,borderBottomRightRadius:8,position:"relative",":hover .image-controls":{opacity:1}}]},C,{children:[v?(0,r.tZ)(P,{src:v,alt:n.title}):null,O?null:(0,r.tZ)(R,{onClick:t}),v&&w?(0,r.BX)(c.Z,{className:"image-controls",css:[{position:"absolute",top:l.TV.space8,right:l.TV.space8,opacity:0,".is-touch-device &":{opacity:1}}],children:[(0,r.tZ)(E,{onChangeClick:function(){var e;null===(e=u.current)||void 0===e||e.click()},onRemoveClick:function(){g({variables:{input:{id:n.id,imageUrl:null}}})},isPublished:Boolean(n.lastPublishedAt)}),d?(0,r.tZ)("div",{className:"error",children:d}):null]}):null,O?(0,r.tZ)(N,{isActive:k,onClick:function(){var e;null===(e=u.current)||void 0===e||e.click()}}):null,w?(0,r.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:u,accept:x.W.join(","),type:"file",onChange:function(e){var t=e.target,n=t.validity,r=t.files;n.valid&&a(r?Array.from(r):null)}}):null]}))}var D=n(17221),I=n(73049),U=n(56700),T=n(21217),B=n(81544),L=n(34051),_=n.n(L),M=n(40802),V=n(11163),F=n(68618),X=n(27754),W=n(44521),G=n(39441),H=n(97930),z=n(9440),$=n(11938),K=n(25108);function Y(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}var q=n(91272),Q=n(46846);function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te,ne,re=".lesson/lessonplan.md";function ie(e){var t=e.fs,n=e.container,r=e.dotReplit,o=e.skip,a=e.preferredFile,l=ee(i.useState(null),2),c=l[0],u=l[1],s=function(e){var t,n=ee(i.useState(null===(t=e.getContext())||void 0===t?void 0:t.repl.id),2),r=n[0],o=n[1];return i.useEffect((function(){return e.onConnectionStateChanged((function(t){var n;t===X.e.CONNECTING&&o(null===(n=e.getContext())||void 0===n?void 0:n.repl.id)}))}),[e]),r}(n);return i.useEffect((function(){if(!o&&s){var e=!1;return Promise.all([(0,q.W)({replId:s,dotReplit:r,fs:t}),t.stat(re)]).then((function(t){var n=ee(t,2),r=n[0],i=r.entrypoint,o=r.readmeFile,l=n[1];e||(a===te.LessonPlan&&l.exists&&l.type===Q.Tv.File?u(re):a===te.Readme&&o?u(o):i&&u(i))})),function(){e=!0}}}),[t,r,s,o,a]),c}function oe(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function ae(e){var t=e.currentDeeplink,n=e.onChange,r=e.fs,o=e.enabled,a=(0,i.useRef)(!1);(0,i.useEffect)((function(){if(o){var e=function(){var e,t=(e=_().mark((function e(){var t,i,o,l;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,I.mv)(r);case 4:if(t=e.sent,i=t.path,o=t.line,l=t.col,i){e.next=11;break}return n(null),e.abrupt("return");case 11:n({path:i,line:o,col:l});case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){oe(o,r,i,a,l,"next",e)}function l(e){oe(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}}),[r,n,o]),(0,i.useEffect)((function(){if(o&&t){var e=(0,I.YM)(t);if(!V.default.asPath.endsWith(e)){var n=V.default.asPath.includes("#")?V.default.asPath.slice(0,V.default.asPath.indexOf("#")):V.default.asPath;a.current=!0,V.default.push({pathname:V.default.pathname,query:V.default.query},"".concat(n).concat(e),{shallow:!0}),a.current=!1}}}),[r,t,o])}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e){var t=e.currentUser,n=e.repl,r=e.initialViewMode,a=void 0===r?ne.Output:r,l=e.enableDeeplinks,c=ce(i.useState(""),2),u=c[0],s=c[1],d=(0,i.useState)(U.e.DISCONNECTED),f=d[0],p=d[1],h=(0,i.useState)(T.A.OFFLINE),v=h[0],m=h[1],y=(0,i.useState)((function(){return function(e){var t,n=e.setBsodSentryEventId,r=(0,X.Z)({onUnrecoverableError:function(e){if(e.message.toLowerCase().includes("repl not found"))V.default.push("/home","~/");else{K.error(e),M.Tb(e);var t=(0,H.Q)(e,{tags:{replviewer:"true"}});n(t)}}}),i=(0,F.Z)({container:r}),o=(0,$.Z)({container:r,fs:i}),a=(0,G.Z)({container:r,dotReplit:o}),l=(0,W.Z)({container:r,beforeRun:(t=_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,z.Z)(r,o);case 2:if(!e.sent){e.next=5;break}return e.next=5,a.installPackages();case 5:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){Y(o,r,i,a,l,"next",e)}function l(e){Y(o,r,i,a,l,"throw",e)}a(void 0)}))})});return{container:r,fs:i,runner:l,dotReplit:o,packager:a}}({setBsodSentryEventId:s})})),b=y[0],g=b.container,w=b.fs,x=b.dotReplit,k=b.runner,C=b.packager,S=(0,i.useRef)((0,I.u9)()),j=n.isProject?te.LessonPlan:te.Readme,O=(0,i.useState)((function(){return a===ne.Code||S.current?{type:"code",fs:w,container:g,dotReplit:x}:null})),P=O[0],R=O[1],E=(0,i.useState)(S.current),N=E[0],A=E[1],D=ce(i.useState(null),2),L=D[0],q=D[1],Q=Boolean("code"===(null===P||void 0===P?void 0:P.type)&&!P.deeplink&&!S.current),J=ie({fs:w,dotReplit:x,container:g,preferredFile:j,skip:!Q});ae({fs:w,currentDeeplink:"code"===(null===P||void 0===P?void 0:P.type)?P.deeplink:void 0,onChange:function(e){R(e?{deeplink:e,type:"code",container:g,fs:w,dotReplit:x}:null)},enabled:l});var ee=ce((0,o.yo9)({variables:{replId:n.id}}),1)[0];(0,i.useEffect)((function(){if((0,I.u9)()){var e=!1;return(0,I.mv)(w).then((function(t){var n=t.path,r=t.line,i=t.col;e||n&&R({type:"code",container:g,fs:w,dotReplit:x,deeplink:{path:n,line:r,col:i}})})),function(){e=!0}}}),[g,w,x]),(0,i.useEffect)((function(){Q&&J&&R({type:"code",container:g,fs:w,dotReplit:x,deeplink:{path:J}})}),[Q,J,g,w,x]),(0,i.useEffect)((function(){L&&R("server"!==L?{type:"vnc",container:g,fs:w}:{type:"server",previewUrl:n.previewUrl})}),[g,w,L,n.previewUrl]),(0,i.useEffect)((function(){f!==U.e.CONNECTED&&q(null)}),[f]);var re=(0,B.b)({repl:n,currentUser:t}),oe=function(e){return!!["html","web_project","kaboom"].includes(e.lang.id)||Boolean(e.config.isServer)}(n),le=N||Boolean(P&&("code"===P.type||"vnc"===P.type||"replboxDisplay"===P.type||"terminal"===P.type));(0,i.useEffect)((function(){if(le&&g.getConnectionState()===U.e.DISCONNECTED){g.connect({context:re});var e=oe?[g.close]:[k.onStateChanged(m),g.onConnectionStateChanged(p),g.onPortOpened((function(e){var t=e.isVnc;q(t?"vnc":"server")})),g.close];return function(){e.forEach((function(e){return e()}))}}}),[le,g,k,re,oe]);var ue=(0,i.useRef)(!1);return(0,i.useEffect)((function(){v===T.A.IDLE&&ue.current&&(ue.current=!1,"terminal"===(null===P||void 0===P?void 0:P.type)&&k.run())}),[v,P,k]),{fs:w,openFile:function(e){"server"!==(null===P||void 0===P?void 0:P.type)&&"replboxDisplay"!==(null===P||void 0===P?void 0:P.type)||m(T.A.IDLE),R({type:"code",container:g,fs:w,deeplink:{path:e},dotReplit:x}),k.getRunState()===T.A.RUNNING&&k.stopRun()},viewState:P,runRepl:function(){if(A(!1),t&&ee(),(0,Z.j)(Z.U3.REACTED_TO_REPL,{replView:"https://replit.com"+n.url,reaction:"repl_ran",isReplTalk:!1,item:"repl",isCommunityPublish:n.wasPosted,isAppPublish:n.wasPublished}),oe){var e,r,i=(null===(e=n.deployment)||void 0===e||null===(r=e.activeRelease)||void 0===r?void 0:r.previewUrl)||n.previewUrl;return R({type:"server",previewUrl:i}),void m(T.A.RUNNING)}return n.lang.canUseShellRunner?(R("server"===L?{type:"server",previewUrl:n.previewUrl}:"vnc"===L?{type:"vnc",container:g,fs:w}:{type:"terminal",runner:k,packager:C}),k.getRunState()!==T.A.IDLE?void(ue.current=!0):void k.run()):n.lang.hasReplboxWebview?(R({type:"replboxDisplay",fs:w}),void m(T.A.RUNNING)):void R({type:"deprecationNotice"})},stopRepl:function(){R(null),A(!1),m(T.A.IDLE),oe||k.getRunState()===T.A.RUNNING&&k.stopRun()},runState:v,isFileTreeOpen:N,setIsFileTreeOpen:A,didBsod:Boolean(u),showUrlOutput:oe,devClearBsod:function(){s("")}}}!function(e){e.Entrypoint="Entrypoint",e.Readme="Readme",e.LessonPlan="LessonPlan"}(te||(te={})),function(e){e.Code="Code",e.Output="Output"}(ne||(ne={}));var se=n(72590),de=n(65988),fe=n.n(de),pe=n(55982),he=n(23754),ve=n(71291),me=n(44054),ye=me.j.tabletMin,be=n(5152),ge=n(82820);function we(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=function(){var e,t=(e=_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([n.e(2738),n.e(4474)]).then(n.t.bind(n,74474,23)).then((function(e){return e.default})));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){we(o,r,i,a,l,"next",e)}function l(e){we(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),ke=(0,be.default)(xe,{ssr:!1,loading:function(){return null}});function Ce(e){var t=e.contents,n={scrollToContent:!0};try{n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ze(e,t,n[t])}))}return e}({},n,JSON.parse(t||"{}"))}catch(o){}var i=(0,ge.Fg)();return(0,r.BX)("div",{className:"jsx-f04e2237e6284377 excalidraw-wrapper",children:[(0,r.tZ)(ke,{viewModeEnabled:!0,zenModeEnabled:!0,initialData:n,theme:i===ge.V2.replitLight?"light":"dark"}),(0,r.tZ)(fe(),{id:"f04e2237e6284377",children:".excalidraw-wrapper.jsx-f04e2237e6284377{cursor:all-scroll;height:100%;width:100%}"})]})}var Se=n(34837),je=n.n(Se),Oe=n(51409);function Pe(e){var t=e.contents,n=e.isKbmsprite,o=i.useRef(null);return i.useEffect((function(){var e=o.current;if(e){e.width=e.offsetWidth,e.height=e.offsetHeight;var r=JSON.parse(t),i=je()({canvas:e,data:n?(0,Oe.C)(r):r,readonly:!0});return function(){i.cleanUp()}}}),[t,n]),(0,r.tZ)("canvas",{ref:o,className:"jsx-93826966b3fae22 pedit",children:(0,r.tZ)(fe(),{id:"93826966b3fae22",children:".pedit.jsx-93826966b3fae22{width:100%;height:100%}"})})}var Re=n(45421);function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ne(e,t,n[t])}))}return e}({},e,t)}var Ie={isLoading:!1,result:null,error:null,fileViewerType:null};var Ue=n(86261),Te=n(5426),Be=n(79399);function Le(e){var t=e.fs,n=e.deeplink,o=null===n||void 0===n?void 0:n.path,a=function(e){var t=e.fs,n=e.path,r=Ae(i.useReducer(De,Ie),2),o=r[0],a=r[1];return i.useEffect((function(){if(n){var e=!1,r=(0,Re.V)(n);return a({isLoading:!0,fileViewerType:r}),t.readFile(n).then((function(t){e||(t.error?a({isLoading:!1,result:null,error:{path:n,fileViewerType:r,error:t.error}}):a({isLoading:!1,result:{path:n,fileViewerType:r,content:t.content},error:null}))})),function(){e=!0}}a(Ie)}),[t,n]),o}({fs:t,path:o});return(0,r.BX)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" file-viewer",children:[(0,r.BX)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" content",children:[a.result&&a.result.fileViewerType===Re.D.Media?(0,r.tZ)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" media",children:(0,r.tZ)(he.A,{content:ve.Z.from(a.result.content).toString("base64"),mime:(0,pe.yC)(a.result.path)})}):null,a.isLoading&&a.fileViewerType===Re.D.Media?(0,r.tZ)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" file-loader",children:(0,r.tZ)(Ue.Z,{})}):null,a.result&&a.result.fileViewerType===Re.D.Markdown?(0,r.tZ)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" markdown",children:(0,r.tZ)(Be.Z,{path:a.result.path,source:a.result.content.toString(),fs:t,sourcePos:!1})}):null,a.isLoading&&a.fileViewerType===Re.D.Markdown?(0,r.tZ)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" file-loader",children:(0,r.tZ)(Ue.Z,{})}):null,a.result&&a.result.fileViewerType===Re.D.Draw?(0,r.tZ)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" draw",children:(0,r.tZ)(Ce,{contents:a.result.content.toString()})}):null,a.isLoading&&a.fileViewerType===Re.D.Draw?(0,r.tZ)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" file-loader",children:(0,r.tZ)(Ue.Z,{})}):null,a.result&&a.result.fileViewerType===Re.D.Code?(0,r.tZ)(Te.Z,{filePath:a.result.path,code:a.result.content.toString(),fontSize:14}):null,a.isLoading&&a.fileViewerType===Re.D.Code?(0,r.tZ)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" file-loader",children:(0,r.tZ)(Ue.Z,{})}):null,a.result&&a.result.fileViewerType===Re.D.Pedit?(0,r.tZ)(Pe,{contents:a.result.content.toString(),isKbmsprite:!!(null===o||void 0===o?void 0:o.endsWith(".kbmsprite"))}):null,!a.isLoading&&a.error?(0,r.tZ)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]])+" error",children:(0,r.BX)("div",{className:fe().dynamic([["2895239035e2208a",[ye]]]),children:["Could not load ",a.error.path]})}):null]}),(0,r.tZ)(fe(),{id:"2895239035e2208a",dynamic:[ye],children:".file-viewer.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;align:stretch;height:100%;width:100%}.markdown.__jsx-style-dynamic-selector{word-break:break-word;max-width:840px;margin:0 auto;padding:var(--space-16);overflow-y:auto;position:relative;height:100%}.draw.__jsx-style-dynamic-selector{height:100%;width:100%}.file-tree.__jsx-style-dynamic-selector{background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);overflow:auto;display:none}.content.__jsx-style-dynamic-selector{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:100%;height:100%;overflow-y:auto;position:relative}.file-loader.__jsx-style-dynamic-selector{width:100%;padding-top:var(--space-8);padding-left:var(--space-8);position:absolute;top:0;left:0;z-index:100;opacity:0;-webkit-animation:fadeIn ease 0s forwards;-moz-animation:fadeIn ease 0s forwards;-o-animation:fadeIn ease 0s forwards;animation:fadeIn ease 0s forwards;-webkit-animation-delay:200ms;-moz-animation-delay:200ms;-o-animation-delay:200ms;animation-delay:200ms}.media.__jsx-style-dynamic-selector,.error.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:100%;height:100%}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@media screen and (min-width:".concat(ye,"px){.file-tree.__jsx-style-dynamic-selector{display:block;width:260px}}")})]})}var _e=n(55662),Me=n(48265),Ve=n(24388),Fe=n(96194),Xe=n(78842);function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var He=(0,c.K)("div");function ze(e){var t=e.replId,n=e.language,o=Ge(i.useState((function(){return(0,Fe.Z)({beforeRun:function(){return Promise.resolve()},getMainFileContents:function(){return(0,Xe.Z)({language:e.language,fs:e.fs})}})})),1)[0],a=i.useRef(null);return i.useEffect((function(){if(a.current){var e=!1;return o.load({replId:t,language:n,iframeParent:a.current}).then((function(){e||o.run()})),function(){e=!0,o.getRunState()!==T.A.OFFLINE&&o.destroy()}}}),[o,t,n]),(0,r.tZ)(He,{ref:a,css:[l.l0.width("100%"),l.l0.height("100%"),{backgroundColor:"white",borderBottomRightRadius:8,borderBottomLeftRadius:8,iframe:[l.l0.width("100%"),l.l0.height("100%"),{display:"block",utline:"none",border:"none",borderBottomRightRadius:8,borderBottomLeftRadius:8}]}]})}var $e=n(41045),Ke=n(48507),Ye=n(37156),qe=n(49602),Qe=n(58864);function Je(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function et(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Je(o,r,i,a,l,"next",e)}function l(e){Je(o,r,i,a,l,"throw",e)}a(void 0)}))}}function tt(e){var t=e.fs,n=e.language,i=e.activePath,o=e.onNodeClick;return(0,r.tZ)(Qe.i.Provider,{value:{activePath:i,downloadFile:function(){},fs:t,transformChildren:(0,qe.Z)({language:n,shouldHideHiddenFiles:!1}),setPendingFileType:function(){},uploadFiles:function(){},pendingFileType:null,getNodeType:function(){var e=et(_().mark((function e(n){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readFile(n);case 2:return r=e.sent,e.abrupt("return",r.error===Q.Df.IsDirectory?Q.Tv.Directory:Q.Tv.File);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pendingUploads:[],currentRenamePath:null,setCurrentRenamePath:function(){},pendingDelete:null,setPendingDelete:function(){},overwriteNode:function(){},renameNode:function(){},deleteNode:function(){},duplicateFile:et(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),currentOp:null,nodeOpError:null},children:(0,r.tZ)(Ye.Z,{children:(0,r.BX)(c.Z,{css:[l.l0.flex.column,l.l0.p(8),(0,g.iv)({overflow:"auto",height:"100%"})],children:[(0,r.tZ)(c.Z,{css:[l.l0.p(8)],children:(0,r.tZ)(d.h,{level:3,variant:"subheadDefault",children:"Files"})}),(0,r.tZ)(Ke.Z,{siblings:[],readOnly:!0,onClick:function(){return null},onNodeClick:o,path:$e.Q})]})})})}var nt=n(34860),rt=n(85252),it=n(3104),ot=n(59897),at=n(29868),lt=n(79523);function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ut="1px solid "+l.TV.outlineDimmer;function st(e){var t=e.children;return(0,r.tZ)(c.Z,{tag:"header",css:[{borderBottom:ut},l.l0.p(8),l.l0.rowWithGap(8),l.l0.align.center],children:t})}var dt=(0,c.K)("a");function ft(e){var t=e.runCount,n=e.runState,i=e.onClick,a=e.publishedAs,f=n===T.A.RUNNING?(0,r.tZ)(_e.Z,{fill:"currentColor"}):(0,r.tZ)(s.Z,{fill:"currentColor"}),p=a===o.O2h.Template?"Run example":"Run";return n===T.A.RUNNING&&(p="Stop"),(0,r.BX)(c.Z,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(d.x,{children:(0,Ve.d)(t)}),(0,r.tZ)(u.ZP,{colorway:n===T.A.RUNNING||a===o.O2h.Template?void 0:"positive",onClick:i,iconLeft:f,text:p})]})}function pt(e){var t=e.children;return(0,r.tZ)(a.Z,{elevated:!0,css:[{border:ut},l.l0.borderRadius(8)],children:t})}function ht(e){var t=e.src;return(0,r.tZ)(c.Z,{css:[l.l0.width("100%"),l.l0.height("100%")],children:(0,r.tZ)(c.Z,{tag:"iframe",sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals",src:t,css:[l.l0.width("100%"),l.l0.height("100%"),{borderBottomRightRadius:8,borderBottomLeftRadius:8,position:"absolute",backgroundColor:"white",display:"block",border:"none",top:0,left:0}]})})}function vt(e){var t=e.fs,n=e.isOpen,i=e.language,o=e.activePath,l=e.onFileClick;return(0,r.tZ)(c.Z,{css:[{zIndex:101,position:"absolute",top:0,left:0,height:"100%",overflow:"hidden",borderBottomLeftRadius:8},!n&&{pointerEvents:"none"}],children:(0,r.tZ)(a.Z,{elevated:!0,css:[{height:"100%",width:200,transition:"transform ".concat(160,"ms"),transform:"translateX(".concat(n?0:-200,"px)")}],children:(0,r.tZ)(tt,{fs:t,language:i,activePath:o,onNodeClick:function(e){e.type!==Q.Tv.Directory&&l(e.path)}})})})}var mt=(0,c.K)("div");function yt(e){var t,n=e.repl,s=e.currentUser,f=e.enableDeeplinks,p=ue({enableDeeplinks:Boolean(f),repl:n,currentUser:s,initialViewMode:n.publishedAs===o.O2h.Template||n.isProject?ne.Code:ne.Output}),h=p.openFile,v=p.viewState,m=p.fs,b=p.runRepl,g=p.stopRepl,w=p.runState,x=p.didBsod,k=p.devClearBsod,C=p.isFileTreeOpen,S=p.setIsFileTreeOpen,j=p.showUrlOutput,O=(0,i.useState)(!1),P=O[0],R=O[1],E=(0,rt.Z)((function(e){void 0!==e.width&&R(e.width<=500)}));return x?(0,r.tZ)(D.Z,{devHide:k}):(0,r.BX)(pt,{children:[(0,r.BX)(st,{children:[(0,r.BX)(c.Z,{css:[l.l0.flex.growAndShrink(1),l.l0.rowWithGap(8)],children:[(0,r.BX)(c.Z,{css:[l.l0.rowWithGap(4),l.l0.align.center],children:[(0,r.tZ)(u.ZP,{iconLeft:(0,r.tZ)(ot.Z,{}),text:C?"Hide files":"Show files",onClick:function(){return S((function(e){return!e}))},css:ct({},"@media (max-width: ".concat(me.j.mobileMax,"px)"),{display:"none"})}),(0,r.tZ)(a.Z,{background:"default",css:[l.l0.borderRadius(8),ct({},"@media (min-width: ".concat(me.j.mobileMax+1,"px)"),{display:"none"})],children:(0,r.tZ)(y.Z,{css:it.G,alt:C?"Hide files":"Show files",onClick:function(){return S((function(e){return!e}))},children:(0,r.tZ)(ot.Z,{})})})]}),j?(0,r.tZ)(c.Z,{css:[l.l0.center,{borderLeft:"1px solid "+l.TV.outlineDimmest}],children:(0,r.BX)(dt,{css:[l.l0.rowWithGap(4),l.l0.color.foregroundDimmer,l.l0.px(8)],href:n.prodUrl,target:"_blank",children:[(0,r.tZ)(nt.Z,{}),(0,r.tZ)(d.x,{children:(0,r.tZ)("span",{css:ct({},"@media (max-width: ".concat(me.j.mobileMax+20,"px)"),{display:"none"}),children:"Open website"})})]})}):null]}),(0,r.BX)(c.Z,{css:[l.l0.rowWithGap(8),l.l0.align.center],children:[(0,r.tZ)(it.Z,{repl:n,currentUser:s}),(0,r.tZ)(ft,{runCount:n.runCount,runState:w,publishedAs:n.publishedAs,onClick:function(){if(w===T.A.IDLE||w===T.A.OFFLINE)return(0,Z.j)(Z.U3.RUN_BUTTON_CLICKED,{context:"replView"}),void b();w===T.A.RUNNING&&g()}})]})]}),(0,r.BX)(mt,{ref:E,css:[l.l0.flex.growAndShrink(1),{position:"relative"}],children:[null===v?(0,r.tZ)(A,{repl:n,onClick:b}):null,"server"===(null===v||void 0===v?void 0:v.type)?(0,r.tZ)(ht,{src:v.previewUrl}):null,"vnc"===(null===v||void 0===v?void 0:v.type)?(0,r.tZ)(se.Z,{fs:v.fs,container:v.container}):null,"replboxDisplay"===(null===v||void 0===v?void 0:v.type)?(0,r.tZ)(ze,{replId:n.id,language:n.language,fs:v.fs}):null,"deprecationNotice"===(null===v||void 0===v?void 0:v.type)?(0,r.tZ)(c.Z,{css:[l.l0.center,l.l0.p(16),l.l0.height("100%")],children:(0,r.BX)(d.x,{multiline:!0,variant:"subheadDefault",children:['Running "',n.lang.displayName,'" is no longer supported.'," ",(0,r.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"Send feedback"})]})}):null,"terminal"===(null===v||void 0===v?void 0:v.type)?(0,r.tZ)(c.Z,{css:[l.l0.height("100%"),l.l0.width("100%"),l.l0.position.relative,{overflow:"hidden",borderBottomLeftRadius:8,borderBottomRightRadius:8}],children:(0,r.tZ)(Me.ZP,{packager:v.packager,runner:v.runner,languageHeader:n.lang.header||void 0})}):null,"code"===(null===v||void 0===v?void 0:v.type)?(0,r.tZ)(c.Z,{css:[l.l0.height("100%"),l.l0.flex.growAndShrink(1),{position:"relative",overflow:"hidden",borderBottomLeftRadius:8,borderBottomRightRadius:8,transition:"margin ".concat(160,"ms"),marginLeft:C&&!P?200:0}],children:(0,r.tZ)(Le,{fs:v.fs,deeplink:v.deeplink})}):null,(0,r.tZ)(vt,{isOpen:C,language:n.lang.id,activePath:"code"===(null===v||void 0===v?void 0:v.type)&&v.deeplink?null===(t=v.deeplink)||void 0===t?void 0:t.path:null,onFileClick:function(e){h(e),P&&S(!1)},fs:m})]})]})}function bt(e){var t=e.repl,n=e.currentUser,o=e.enableDeeplinks,a=(0,i.useState)(!1),l=a[0],c=a[1];return(0,i.useEffect)((function(){return c(!0)}),[]),(0,i.useEffect)(lt.S,[]),l?(0,r.tZ)(at.Z.Provider,{value:t.id,children:(0,r.tZ)(yt,{repl:t,currentUser:n,enableDeeplinks:o})}):(0,r.tZ)(pt,{})}},45421:function(e,t,n){n.d(t,{D:function(){return r},V:function(){return o}});var r,i=n(55982);function o(e){return e.endsWith(".md")?r.Markdown:(0,i.sL)(e)?r.Draw:(0,i.IQ)(e)?r.Pedit:(0,i.T3)(e)?r.Media:r.Code}!function(e){e.Media="Media",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw",e.Pedit="Pedit"}(r||(r={}))},59897:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(35944),i=(n(67294),n(47240));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(0,r.tZ)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M19.5 9H4.5C3.67157 9 3 8.32843 3 7.5V4.5C3 3.67157 3.67157 3 4.5 3H19.5C20.3284 3 21 3.67157 21 4.5V7.5C21 8.32843 20.3284 9 19.5 9ZM19.5 9H8.5C7.67157 9 7 9.67157 7 10.5V13.5C7 14.3284 7.67157 15 8.5 15M19.5 9C20.3284 9 21 9.67157 21 10.5V13.5C21 14.3284 20.3284 15 19.5 15M8.5 15H19.5M8.5 15C7.67157 15 7 15.6716 7 16.5V19.5C7 20.3284 7.67157 21 8.5 21H19.5C20.3284 21 21 20.3284 21 19.5V16.5C21 15.6716 20.3284 15 19.5 15",strokeLinejoin:"round"})}))}},97930:function(e,t,n){n.d(t,{Q:function(){return h}});var r=n(75971),i=n(40802),o=n(15775),a=n(54144),l=n(77070),c=n(24704);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}var d=function(e){return{dsn:e,release:"b88ffe5",environment:"production",allowUrls:[/(?:[a-z]+\.)?replit\.com/,/(?:[a-z]+\.)?repl\.it/],denyUrls:[/^file/],beforeSend:function(e,t){var n;return t&&(n=t.originalException,Boolean(n&&"object"===typeof n&&"CustomSentryError"===n.name))&&(t.originalException.extras&&(e.extra=s({},e.extra,t.originalException.extras)),t.originalException.tags&&(e.tags=s({},e.tags,t.originalException.tags))),e}}},f=new r.R(d("https://7f707426a65447cc94b6fca9a2a4afb9@sentry.replit.com/14")),p=new o.R(d("https://8fc6307797c84bfca2c567601a7860f2@o1151714.ingest.sentry.io/6229092"));function h(e,t){if((0,l.j)(l.U3.WS_CRASHED),!f||!p)return"undefined-event-id";var n;try{throw new Error("Sentry syntheticException")}catch(u){n=u}var r=s({},null===t||void 0===t?void 0:t.tags,{bsod:"true"});c.v.addError(e,s({},r)),i.$e((function(i){i.setTags(r),(null===t||void 0===t?void 0:t.extras)&&i.setExtras(t.extras),f.captureException(e,{originalException:e,syntheticException:n},i)}));var o="undefined-event-id";return a.$e((function(i){i.setTags(r),(null===t||void 0===t?void 0:t.extras)&&i.setExtras(t.extras),o=p.captureException(e,{originalException:e,syntheticException:n},i)||"undefined-event-id"})),o}},73049:function(e,t,n){n.d(t,{u9:function(){return y},mv:function(){return b},YM:function(){return w}});var r=n(34051),i=n.n(r),o=n(46846);function a(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function l(e){a(o,r,i,l,c,"next",e)}function c(e){a(o,r,i,l,c,"throw",e)}l(void 0)}))}}var c=/^\d+$/,u=function(e){return 0===e.length||e.startsWith("/")},s=function(e){return e.startsWith("./")?e.slice(2):e},d=function(e){if(e)return c.test(e)?parseInt(e,10):void 0},f=function(e){return e.split(":").length-1};function p(e,t){return h.apply(this,arguments)}function h(){return(h=l(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.stat(n);case 4:if((r=e.sent).exists){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",r.type===o.Tv.File);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return m.apply(this,arguments)}function m(){return(m=l(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,n);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",{path:n});case 4:if(0!==f(n)){e.next=6;break}return e.abrupt("return",{});case 6:return r=n.split(":"),o=d(r.pop()),n=r.join(":"),e.next=11,p(t,n);case 11:if(!e.sent){e.next=13;break}return e.abrupt("return",{path:n,line:o});case 13:if(0!==f(n)){e.next=15;break}return e.abrupt("return",{});case 15:return a=o,o=d(r.pop()),n=r.join(":"),e.next=20,p(t,n);case 20:if(!e.sent){e.next=22;break}return e.abrupt("return",{path:n,line:o,col:a});case 22:return e.abrupt("return",{});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return window.location.hash.length>1}function b(e){return g.apply(this,arguments)}function g(){return(g=l(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=window.location.hash.slice(1);try{n=window.decodeURI(n)}catch(i){}if(r=s(n),!u(r)){e.next=5;break}return e.abrupt("return",{});case 5:return e.abrupt("return",v(t,r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.path,n=e.line,r=e.col,i="#".concat(t);return n?r?"".concat(i,":").concat(n,":").concat(r):"".concat(i,":").concat(n):i}},51409:function(e,t,n){function r(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=e.width,t.height=e.height,!n)throw new Error("failed to get canvas ctx");return{version:"1",width:e.width,height:e.height,palette:[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],anims:{},frames:e.frames.map((function(r){var i=new window.ImageData(new Uint8ClampedArray(r.pixels),e.width,e.height);return n.putImageData(i,0,0),t.toDataURL()}))}}function i(e){return new Promise((function(t,n){var r=new window.Image;r.src=e,r.onload=function(){t(r)},r.onerror=n}))}function o(e){return new Promise((function(t,n){Promise.all(e.frames.map(i)).then((function(r){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var o=i.getContext("2d");if(o){var a=r.map((function(t){return o.drawImage(t,0,0),{pixels:Array.from(o.getImageData(0,0,e.width,e.height).data),width:e.width,height:e.height}}));t({frames:a,preview:e.frames[0],width:e.width,height:e.height})}else n(new Error("failed to get canvas ctx"))})).catch(n)}))}n.d(t,{C:function(){return r},u:function(){return o}})},79399:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(35944),i=(n(67294),n(60001)),o=n(38732);function a(e){var t=e.source,n=e.sourcePos,a=e.fs,l=e.path,c=(0,o.Z)(a,l);return(0,r.tZ)(i.Z,{components:{img:c},sourcePos:n,children:t})}}}]);
//# sourceMappingURL=6258-a7d62148870a1aae.js.map