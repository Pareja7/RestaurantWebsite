"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6950],{38880:function(e,r,t){t.d(r,{Z:function(){return a}});var n=t(67294),o=t(78135),i=t(67718);function a(){var e=(0,o.I0)(),r=n.useCallback((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;e((0,i.P)({content:r,type:"error",time:t}))}),[e]),t=n.useCallback((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;e((0,i.P)({content:r,type:"confirm",time:t}))}),[e]),a=n.useCallback((function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;e((0,i.P)({content:r,type:"notice",time:null!==t&&void 0!==t?t:null}))}),[e]);return{showError:r,showConfirm:t,showNotice:a}}},98772:function(e,r,t){t.d(r,{Z:function(){return a}});var n=t(88691);function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{wait:0},t=function(){if(!r.maxWait)return r.wait;if(!l)throw new Error("Expected scheduledAt to be a set when getting wait");var e=Date.now()-l;return Math.min(r.maxWait-e,r.wait)},o=function(){s&&clearTimeout(s),s=null,f=null,c=null,l=null},a=function(){if(!c||!s)throw new Error("Expected to call debounced function once before flushing");var r=c,t=f;return o(),e.apply(void 0,i(t)).then((function(e){return r.resolve(e),e})).catch((function(e){throw r.reject(e),e}))},u=function(){if(!s||!c)throw new Error("Expected to call debounced function once before cancelling");var e=c;o(),e.reject(new Error("Debounced function cancelled"))},c=null,s=null,l=null,f=null;if(r.wait<0)throw new Error("wait must be 0 or more");if(r.maxWait){if(r.maxWait<0)throw new Error("maxWait must be 0 or more");if(r.maxWait<r.wait)throw new Error("maxWait must be higher than wait")}return Object.assign((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];if(c){if(!s)throw new Error("Did not expect to have deferred and no timeout");clearTimeout(s)}else c=(0,n.Z)(),l=Date.now();return f=r,s=window.setTimeout((function(){a()}),t()),c.promise}),{isScheduled:function(){return Boolean(c&&s)},cancel:u,flush:a})}},88691:function(e,r,t){function n(){var e,r,t={promise:new Promise((function(t,n){e=t,r=n})),resolve:function(r){t.isFulfilled=!0,e(r)},reject:function(e){t.isFulfilled=!0,r(e)},isFulfilled:!1};return t}t.d(r,{Z:function(){return n}})},41045:function(e,r,t){t.d(r,{Q:function(){return n},o:function(){return o}});var n=".",o=".lesson"},68618:function(e,r,t){t.d(r,{Z:function(){return se}});var n=t(34051),o=t.n(n),i=t(71291),a=t(46846),u=t(55982),c=t(7377),s=t(41045),l=t(50055),f=t(17187),p=t(34606),d=t(51207),h=t(3606),v=t(37756),m=t(44215),b=t(77070),y=t(37510),w=t(44894);function g(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function x(e,r,t,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,o)}function k(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){x(i,n,o,a,u,"next",e)}function u(e){x(i,n,o,a,u,"throw",e)}a(void 0)}))}}function C(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E={replsList:function(){return"dataLossRepls"},replFiles:function(e){return"dataLossReplFiles".concat(e)},latestOp:function(e,r){return"dataLossLatestOp--".concat(e,"--").concat(r)},latestFlushedOp:function(e,r){return"dataLossLatestFlushed--".concat(e,"--").concat(r)},latestOwnOp:function(e,r){return"dataLosslatestOwnOp--".concat(e,"--").concat(r)}};function O(e,r){var t={latestOp:null,latestFlushedOp:null,latestOwnOp:null},n=Object.keys(t),o=!0,i=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value,l=w.Z.get(E[s](e,r),"object");l&&(l&&"object"===typeof l&&"number"===typeof l.crc32&&"number"===typeof l.version&&(t[s]=l))}}catch(f){i=!0,a=f}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return t}function S(){var e=w.Z.get(E.replsList(),"array");return e||(e=[],w.Z.set(E.replsList(),e)),e}function T(e){var r=w.Z.get(E.replFiles(e),"array");return r||(r=[],w.Z.set(E.replFiles(e),r)),r}function F(e){var r=T(e),t=!0,n=!1,o=void 0;try{for(var i,a=r[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;"string"===typeof u&&D(e,u)}}catch(s){n=!0,o=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}w.Z.remove(E.replFiles(e));var c=S().filter((function(r){return r!==e}));w.Z.set(E.replsList(),c)}function D(e,r){w.Z.remove(E.latestOp(e,r)),w.Z.remove(E.latestFlushedOp(e,r)),w.Z.remove(E.latestOwnOp(e,r));var t=T(e).filter((function(e){return e!==r}));w.Z.set(E.replFiles(e),t)}function R(e){var r=e.replId,t=e.filePath;!function(e){var r=S();r.includes(e)||(r.length>20?(F(r[0]),r[0]=e):r.push(e),w.Z.set(E.replsList(),r))}(r);var n=T(r);n.includes(t)||(n.length>20?(F(n[0]),n[0]=t):n.push(t),w.Z.set(E.replFiles(r),n))}function j(e){var r=e.filePath,t=e.replId,n=e.opType,o=e.op;w.Z.set(E[n](t,r),o)}var P={};function I(e){return N.apply(this,arguments)}function N(){return N=k(o().mark((function e(r){var t,n,i,a,u,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.filePath,n=r.replId,i=r.serverVersion,a=r.serverContent,u=r.fetchOps,!P[t+n]){e.next=3;break}return e.abrupt("return");case 3:P[t+n]=!0,c=O(n,t),s=p.str(a)>>>0,Object.keys(c).forEach(function(){var e=k(o().mark((function e(r){var t,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c[r]){e.next=3;break}return e.abrupt("return");case 3:if(!(i<t.version)){e.next=6;break}return m.kg.info("ot client dataloss",{opType:r,case:"server_forgot"}),e.abrupt("return");case 6:if(i!==t.version){e.next=9;break}return s!==t.crc32&&m.kg.info("ot client dataloss",{opType:r,case:"crc32_mistmach"}),e.abrupt("return");case 9:return e.prev=10,e.t0=C,e.next=15,u(t.version,t.version);case 15:e.t1=e.sent,a=(0,e.t0)(e.t1,1),n=a[0],e.next=25;break;case 21:return e.prev=21,e.t2=e.catch(10),m.kg.info("ot client dataloss",{opType:r,case:"error_fetching_op"}),e.abrupt("return");case 25:if(n){e.next=28;break}return m.kg.info("ot client dataloss",{opType:r,case:"op_not_found"}),e.abrupt("return");case 28:n.crc32!==t.crc32&&m.kg.info("ot client dataloss",{opType:r,case:"crc32_mismatch"});case 29:case"end":return e.stop()}}),e,null,[[10,21]])})));return function(r){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,r,t,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,o)}function L(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){A(i,n,o,a,u,"next",e)}function u(e){A(i,n,o,a,u,"throw",e)}a(void 0)}))}}function M(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function U(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){M(e,r,t[r])}))}return e}function B(e,r){return!r||"object"!==V(r)&&"function"!==typeof r?_(e):r}function z(e,r){return z=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e},z(e,r)}var V=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function q(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Z(e);if(r){var o=Z(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return B(this,t)}}var W=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&z(e,r)}(t,e);var r=q(t);function t(e,n){var a;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),(a=r.call(this)).writeOps=function(e){if(!a.channel&&!a.isReconnecting)throw new Error("Trying to send changes before ever coming online");a.isReconnecting&&(a.didEditOffline=!0);var r=a.localContent,t=[],n=0,o=!0,i=!1,u=void 0;try{for(var c,s=e[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value,f=null;switch("undefined"===typeof l?"undefined":V(l)){case"number":n+=l;break;case"string":var p=(0,v.strPosToUni)(r,n);f=p>0?[p,l]:[l],n+=l.length;break;case"object":var h=(0,v.strPosToUni)(r,n),m=(0,v.strPosToUni)(r,n+l.d)-h;f=h>0?[h,{d:m}]:[{d:m}];break;default:return void a.emit("error",new Error("OT Error: unknown op type"))}f&&(r=d.type.apply(r,f),t=d.type.compose(t,f))}}catch(b){i=!0,u=b}finally{try{o||null==s.return||s.return()}finally{if(i)throw u}}a.pending=d.type.compose(a.pending,t),a.localContent=r,0!==a.pending.length?a.emit("fileDirty"):a.commitPromise&&a.emit("commitStart"),a.debounceSend()},a.updateCursors=function(e){a.pendingCursors=e,a.debounceSend()},a.isClean=function(){return a.committedVersion===a.version&&0===a.inflight.length&&0===a.pending.length},a.sendOps=function(){if(a.channel&&"open"===a.channel.status&&!a.isReconnecting&&!(a.inflight.length>0)){if(0!==a.pending.length){var e=a.pending.map((function(e){return"object"===typeof e?{delete:e.d}:"number"===typeof e?{skip:e}:{insert:e}}));a.inflight=a.pending,a.pending=[],a.inflightOpsPromise=a.channel.request({ot:{spookyVersion:a.version,ops:e}}),a.inflightOpsPromise.then((function(r){r.error&&a.emit("error",new Error("OT Error: error accepting packet"),{originalError:r.error,ops:e})}))}if(0!==a.pendingCursors.length){var r=!0,t=!1,n=void 0;try{for(var o,i=a.flushedCursorIds[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value;a.channel.send({otDeleteCursor:{id:u}})}}catch(v){t=!0,n=v}finally{try{r||null==i.return||i.return()}finally{if(t)throw n}}a.flushedCursorIds=[];var c=!0,s=!1,l=void 0;try{for(var f,p=a.pendingCursors[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var d=f.value,h=Number(Math.random().toString().split(".")[1]).toString(36);a.flushedCursorIds.push(h),a.channel.send({otNewCursor:U({id:h,user:a.user},d)})}}catch(v){s=!0,l=v}finally{try{c||null==p.return||p.return()}finally{if(s)throw l}}a.pendingCursors=[]}}},a.handlePacket=function(e,r){var t=e.ops,n=e.version,o=e.crc32,i=r.overrideReconnectingBuffer;if(!a.isReconnecting||i)if(-1!==a.version){if(a.version++,n!==a.version){var u={expectedVersion:a.version,receievedVersion:n,incomingOps:t};return m.kg.error("OT Error: invalid server version",(0,m.P1)({details:u})),void a.emit("error",new Error("OT Error: invalid server version"),u)}var c="";try{c=d.type.apply(a.serverContent,t)}catch(D){return void a.emit("error",new Error("OT Error: unable to apply updated content"),{originalError:D,incomingOps:t})}var s=p.str(c)>>>0;if(s!==o){var l={version:n,server:o,client:s,incomingOps:t};return m.kg.error("OT Error: crc32 mismatch",(0,m.P1)({details:l})),void a.emit("error",new Error("OT Error: crc32 mismatch"),l)}if(a.uncommittedOps.push({version:n,crc32:o,ops:t}),a.shouldTrackDataLoss&&j({replId:a.replId,filePath:a.linkedFile,opType:"latestOp",op:{version:n,crc32:o}}),JSON.stringify(t)===JSON.stringify(a.inflight))return a.shouldTrackDataLoss&&j({replId:a.replId,filePath:a.linkedFile,opType:"latestOwnOp",op:{version:n,crc32:o}}),a.debounceCommit(),a.inflight=[],a.inflightOpsPromise=null,a.serverContent=c,a.debounceSend(),void a.debounceSend.flush();if(a.commitPromise||a.emit("fileDirty"),a.debounceCommit(),a.hasUncommittedMultiplayerOps=!0,a.inflight.length){var f=d.type.transform(a.inflight,t,"right");t=d.type.transform(t,a.inflight,"left"),a.inflight=f}if(a.pending.length){var h=d.type.transform(a.pending,t,"right");t=d.type.transform(t,a.pending,"left"),a.pending=h}a.localContent=d.type.apply(a.localContent,t);var b=[],w=0,g=!0,x=!1,k=void 0;try{for(var C,E=t[Symbol.iterator]();!(g=(C=E.next()).done);g=!0){var O=C.value;switch("undefined"===typeof O?"undefined":V(O)){case"number":w+=O;break;case"string":var S=(0,v.uniToStrPos)(a.localContent,w);b=S>0?y.qC(b,[S,O]):y.qC(b,[O]),w+=(0,v.strPosToUni)(O);break;case"object":var T=(0,v.uniToStrPos)(a.localContent,w),F=(0,v.uniToStrPos)(a.localContent,w+O.d)-T;b=T>0?y.qC(b,[T,{d:F}]):y.qC(b,[{d:F}]);break;default:return void a.emit("error",new Error("OT Error: unknown op type"))}}}catch(R){x=!0,k=R}finally{try{g||null==E.return||E.return()}finally{if(x)throw k}}a.serverContent=c,a.emit("op",b)}else a.emit("error",new Error("Got packet while version is still -1, expected version to be set in handleStatus"));else a.bufferedReconnectingOps.push({crc32:o,ops:t,version:n})},a.handleNewCursor=function(e){a.emit("cursor",e)},a.handleDeleteCursor=function(e){var r=e.id;a.emit("removeCursor",r)};var u=_(a);a.handleStatus=function(){var e=L(o().mark((function e(r){var t,n,a,c,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.channel&&"open"===u.channel.status){e.next=3;break}return e.abrupt("return");case 3:if(!r.linkedFile){e.next=26;break}if(null!=r.contents){e.next=7;break}return u.emit("error",new Error("expected status contents,  got null or undefined")),e.abrupt("return");case 7:if(null!=r.cursors){e.next=10;break}return u.emit("error",new Error("expected status cursors, got null or undefined")),e.abrupt("return");case 10:if(null!=r.version){e.next=13;break}return u.emit("error",new Error("expected status version, got null or undefined")),e.abrupt("return");case 13:if(!u.isReconnecting){e.next=16;break}return u.handleReconnect(r.contents,r.version),e.abrupt("return");case 16:return u.shouldTrackDataLoss&&I({serverContent:r.contents,serverVersion:r.version,replId:u.replId,filePath:u.linkedFile,fetchOps:u.fetchOps}),u.serverContent=r.contents,u.localContent=u.serverContent,u.version=r.version,u.emit("firstConnect"),u.emit("op",[u.serverContent]),r.cursors.forEach(u.handleNewCursor),u.emit("fileDirty"),u.debounceCommit(),e.abrupt("return");case 26:return e.next=28,u.channel.request({otLinkFile:{file:{path:u.linkedFile},highConsistency:Boolean(window["flag-ot-high-consitency"])}});case 28:if(!(n=e.sent).channelClosed){e.next=31;break}return e.abrupt("return");case 31:if(!n.error){e.next=34;break}return u.emit("error",new Error("link file error "+n.error)),e.abrupt("return");case 34:if(n.otLinkFileResponse){e.next=37;break}return u.emit("error",new Error("link file error "+JSON.stringify(n.toJSON()))),e.abrupt("return");case 37:if(a=n.otLinkFileResponse.version,s=i.Z.from(null!==(c=null===(t=n.otLinkFileResponse.linkedFile)||void 0===t?void 0:t.content)&&void 0!==c?c:"").toString(),l=[s],!u.isReconnecting){e.next=44;break}return u.handleReconnect(s,a),e.abrupt("return");case 44:u.shouldTrackDataLoss&&I({serverContent:s,serverVersion:a,replId:u.replId,filePath:u.linkedFile,fetchOps:u.fetchOps}),u.serverContent=s,u.localContent=u.serverContent,u.version=a,u.committedVersion=a,u.committedContent=u.serverContent,u.emit("firstConnect"),u.emit("op",l);case 52:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();var c=_(a);a.handleReconnect=function(){var e=L(o().mark((function e(r,t){var n,i,a,u,s,l,f,p,h,v,m,y,w,g,x,k,C,E,O,S,T,F,D,R,j,P,I,N,_,A,L,M,Z,B,z,V,q,W,G,H,Y,$,K,Q,X,J,ee,re,te;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.timeDisconnected){e.next=2;break}throw new Error("wat");case 2:if(n=Date.now()-c.timeDisconnected,i=function(e){c.reconnectTrackedData=U({},e,{serverVersion:t,ourVersion:c.version,ourCommittedVersion:c.committedVersion,areContentsEqual:c.serverContent===r,areCommittedContentsEqual:c.committedContent===r,didReceiveOpsWhileReconnecting:Boolean(c.bufferedReconnectingOps),didEditOffline:c.didEditOffline,hasPendingOps:Boolean(c.pending.length),disconnectDuration:n}),c.shouldTrackReconnects&&(0,b.j)(b.U3.FILE_RECONNECTED_STATUS2,c.reconnectTrackedData)},a=function(){c.isReconnecting=!1,c.bufferedReconnectingOps=[],c.didEditOffline=!1,c.timeDisconnected=null,c.debounceSend(),c.debounceCommit(),c.emit("reconnected")},!c.inflight.length){e.next=23;break}if(t!==c.version||c.serverContent!==r){e.next=13;break}return i({case:"has_inflight_happy_path_ops_unreached",prompted:!1}),c.pending=d.type.compose(c.inflight,c.pending),c.inflight=[],c.inflightOpsPromise=null,a(),e.abrupt("return");case 13:u=!1,s=c.serverContent;try{s=d.type.apply(r,c.inflight)}catch(o){u=!0}if(u||c.version+1!==t||s!==r){e.next=20;break}return i({case:"has_inflight_happy_path_ops_reached",prompted:!0}),c.emit("promptUserReconnect"),e.abrupt("return");case 20:return i({case:"has_inflight",prompted:!0}),c.emit("promptUserReconnect"),e.abrupt("return");case 23:if(!c.hasUncommittedMultiplayerOps){e.next=27;break}return i({case:"multiplayer",prompted:!0}),c.emit("promptUserReconnect"),e.abrupt("return");case 27:if(c.version!==t){e.next=35;break}if(r!==c.serverContent){e.next=32;break}return i({case:"happy_path",prompted:!1}),a(),e.abrupt("return");case 32:return i({case:"same_version_different_content",prompted:!0}),c.emit("promptUserReconnect"),e.abrupt("return");case 35:if(c.committedVersion!==t){e.next=91;break}for(l=r,e.prev=37,f=!0,p=!1,h=void 0,e.prev=39,v=c.uncommittedOps[Symbol.iterator]();!(f=(m=v.next()).done);f=!0)y=m.value.ops,l=d.type.apply(l,y);e.next=47;break;case 43:e.prev=43,e.t0=e.catch(39),p=!0,h=e.t0;case 47:e.prev=47,e.prev=48,f||null==v.return||v.return();case 50:if(e.prev=50,!p){e.next=53;break}throw h;case 53:return e.finish(50);case 54:return e.finish(47);case 55:e.next=62;break;case 57:return e.prev=57,e.t1=e.catch(37),i({case:"same_committed_version_unable_to_apply_ops",prompted:!0}),c.emit("promptUserReconnect"),e.abrupt("return");case 62:if(l!==c.serverContent){e.next=88;break}for(i({case:"happy_path_uncommitted",prompted:!1}),w=[],g=!0,x=!1,k=void 0,e.prev=66,C=c.uncommittedOps[Symbol.iterator]();!(g=(E=C.next()).done);g=!0)O=E.value.ops,w=d.type.compose(w,O);e.next=74;break;case 70:e.prev=70,e.t2=e.catch(66),x=!0,k=e.t2;case 74:e.prev=74,e.prev=75,g||null==C.return||C.return();case 77:if(e.prev=77,!x){e.next=80;break}throw k;case 80:return e.finish(77);case 81:return e.finish(74);case 82:return c.pending=d.type.compose(w,c.pending),c.uncommittedOps=[],c.version=t,c.serverContent=r,a(),e.abrupt("return");case 88:return i({case:"same_committed_version_different_content_fixed",prompted:!0}),c.emit("promptUserReconnect"),e.abrupt("return");case 91:if(!(c.version<t)){e.next=189;break}return e.next=94,c.fetchOps(c.version+1,t);case 94:for(S=e.sent,T=!1,F=c.serverContent,e.prev=97,D=!0,R=!1,j=void 0,e.prev=99,P=S[Symbol.iterator]();!(D=(I=P.next()).done);D=!0)N=I.value.ops,F=d.type.apply(F,N);e.next=107;break;case 103:e.prev=103,e.t3=e.catch(99),R=!0,j=e.t3;case 107:e.prev=107,e.prev=108,D||null==P.return||P.return();case 110:if(e.prev=110,!R){e.next=113;break}throw j;case 113:return e.finish(110);case 114:return e.finish(107);case 115:e.next=120;break;case 117:e.prev=117,e.t4=e.catch(97),T=!0;case 120:if(T||F!==r){e.next=158;break}for(i({case:"happy_path_server_ahead",prompted:!1}),_=!0,A=!1,L=void 0,e.prev=123,M=S[Symbol.iterator]();!(_=(Z=M.next()).done);_=!0)B=Z.value,c.handlePacket(B,{overrideReconnectingBuffer:!0});e.next=131;break;case 127:e.prev=127,e.t5=e.catch(123),A=!0,L=e.t5;case 131:e.prev=131,e.prev=132,_||null==M.return||M.return();case 134:if(e.prev=134,!A){e.next=137;break}throw L;case 137:return e.finish(134);case 138:return e.finish(131);case 139:for(z=!0,V=!1,q=void 0,e.prev=140,W=c.bufferedReconnectingOps[Symbol.iterator]();!(z=(G=W.next()).done);z=!0)H=G.value,c.handlePacket(H,{overrideReconnectingBuffer:!0});e.next=148;break;case 144:e.prev=144,e.t6=e.catch(140),V=!0,q=e.t6;case 148:e.prev=148,e.prev=149,z||null==W.return||W.return();case 151:if(e.prev=151,!V){e.next=154;break}throw q;case 154:return e.finish(151);case 155:return e.finish(148);case 156:return a(),e.abrupt("return");case 158:return e.next=160,c.fetchOps(c.committedVersion+1,t);case 160:for(Y=e.sent,$=!1,K=c.committedContent,e.prev=163,Q=!0,X=!1,J=void 0,e.prev=165,ee=Y[Symbol.iterator]();!(Q=(re=ee.next()).done);Q=!0)te=re.value.ops,K=d.type.apply(K,te);e.next=173;break;case 169:e.prev=169,e.t7=e.catch(165),X=!0,J=e.t7;case 173:e.prev=173,e.prev=174,Q||null==ee.return||ee.return();case 176:if(e.prev=176,!X){e.next=179;break}throw J;case 179:return e.finish(176);case 180:return e.finish(173);case 181:e.next=186;break;case 183:e.prev=183,e.t8=e.catch(163),$=!0;case 186:return $||K!==r||i({case:"happy_path_uncommitted_server_ahead",prompted:!0}),c.emit("promptUserReconnect"),e.abrupt("return");case 189:i({case:"other",prompted:!0}),c.emit("promptUserReconnect");case 191:case"end":return e.stop()}}),e,null,[[37,57],[39,43,47,55],[48,,50,54],[66,70,74,82],[75,,77,81],[97,117],[99,103,107,115],[108,,110,114],[123,127,131,139],[132,,134,138],[140,144,148,156],[149,,151,155],[163,183],[165,169,173,181],[174,,176,180]])})));return function(r,t){return e.apply(this,arguments)}}();var s=_(a);a.flush=L(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.commitPromise;case 2:return s.debounceCommit(),s.debounceCommit.flush(),e.next=6,s.commitPromise;case 6:case"end":return e.stop()}}),e)})));var l=_(a);a.fetchOps=function(){var e=L(o().mark((function e(r,t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.channel){e.next=2;break}throw new Error("No cahnnel, cannot fetch");case 2:return e.next=4,l.channel.request({otFetchRequest:{versionFrom:r,versionTo:t}});case 4:if(!(n=e.sent).channelClosed){e.next=7;break}throw new Error("Channel closed while requesting");case 7:if(!n.error){e.next=9;break}throw new Error("Fetch ops returned an error"+n.error);case 9:if(n.otFetchResponse){e.next=11;break}throw new Error("Expected otFetchResponse");case 11:if(n.otFetchResponse.packets){e.next=13;break}throw new Error("Expected otFetchResponse.packets");case 13:return e.abrupt("return",n.otFetchResponse.packets.map((function(e){var r=e.crc32,t=e.ops,n=e.version;if(null==r)throw new Error("Expected crc32 in packet");if(null==t)throw new Error("Expected ops in packet");if(null==n)throw new Error("Expected version in packet");return{crc32:r,version:n,ops:G(t)}})));case 14:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();var f=_(a);return a.transformSelection=function(){var e=L(o().mark((function e(r){var t,n,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.indexStart,n=r.indexEnd,i=r.versionFrom,a=r.versionTo,f.channel){e.next=3;break}throw new Error("No channel, cannot fetch");case 3:return e.next=5,f.channel.request({otTransformSelectionRequest:{indexStart:t,indexEnd:n,versionFrom:i,versionTo:a}});case 5:if((u=e.sent).otTransformSelectionResponse){e.next=8;break}throw new Error("Expected otTransformSelectionResponse");case 8:return e.abrupt("return",u.otTransformSelectionResponse);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),a.shouldTrackDataLoss=!1,a.replId="",a.linkedFile=e,a.channel=null,a.inflight=[],a.inflightOpsPromise=null,a.uncommittedOps=[],a.hasUncommittedMultiplayerOps=!1,a.committedVersion=-1,a.isReconnecting=!1,a.bufferedReconnectingOps=[],a.didEditOffline=!1,a.pending=[],a.version=-1,a.serverContent="",a.localContent="",a.committedContent="",a.flushedCursorIds=[],a.pendingCursors=[],a.user=null,a.debounceSend=(0,h.Z)((function(){return a.sendOps()}),20,{maxWait:60}),a.debounceCommit=(0,h.Z)((function(){return a.commitToDisk()}),1e3,{maxWait:3e3}),a.commitPromise=null,a.timeDisconnected=null,a.shouldTrackReconnects=!1,a.destroy=n.openChannel({service:"ot",name:"ot:".concat(e)},(function(r){if(!r.error){var t=r.channel,n=r.context;if(a.user=n.currentUser?{name:n.currentUser.username,id:n.currentUser.id}:null,n.currentUser&&n.repl){var o=window.navigator.userAgent.includes("Firefox");a.shouldTrackDataLoss=n.currentUser.flagTrackOtClientDataLoss&&!o,a.replId=n.repl.id,a.shouldTrackDataLoss&&R({replId:a.replId,filePath:e})}return a.channel=t,t.onCommand((function(e){switch(e.body){case"ot":if(!e.ot||null==e.ot.ops||null==e.ot.spookyVersion||null==e.ot.crc32)return void a.emit("error",new Error("OT Error: missing data in ot packet"),e.ot||{});if(-1===a.version)return;var r={crc32:e.ot.crc32,ops:G(e.ot.ops),version:e.ot.spookyVersion};return a.handlePacket(r,{overrideReconnectingBuffer:!1});case"otstatus":return a.handleStatus(e.otstatus);case"error":if(e.ref)return;return a.emit("error",new Error("Unknown protocol error OT channel"),{originalError:e.error||"Server error"});case"otNewCursor":return a.handleNewCursor(e.otNewCursor);case"otDeleteCursor":return a.handleDeleteCursor(e.otDeleteCursor)}})),function(){a.channel=null,a.isReconnecting=!0,a.debounceSend.cancel(),a.debounceCommit.cancel(),a.timeDisconnected||(a.timeDisconnected=Date.now())}}})),a}return t.prototype.commitToDisk=function(){var e=this;return L(o().mark((function r(){var t,n,i,a,u;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.channel){r.next=2;break}throw new Error("Tryna commit while offline");case 2:if("open"===e.channel.status){r.next=4;break}return r.abrupt("return");case 4:if(!e.isReconnecting){r.next=6;break}throw new Error("Committing while reconnecting");case 6:if(!e.isClean()){r.next=8;break}return r.abrupt("return");case 8:if(!e.commitPromise){r.next=11;break}return e.debounceCommit(),r.abrupt("return");case 11:if(t=function(){},e.commitPromise=new Promise((function(e){return t=e})),!e.inflightOpsPromise){r.next=21;break}return r.next=16,e.inflightOpsPromise;case 16:if(!r.sent.channelClosed){r.next=21;break}return e.commitPromise=null,t(),r.abrupt("return");case 21:if(!(e.pending.length>0)){r.next=36;break}if(e.debounceSend(),e.debounceSend.flush(),e.inflightOpsPromise){r.next=29;break}return e.commitPromise=null,t(),e.emit("error",new Error("expected inflight promise")),r.abrupt("return");case 29:return r.next=31,e.inflightOpsPromise;case 31:if(!r.sent.channelClosed){r.next=36;break}return e.commitPromise=null,t(),r.abrupt("return");case 36:return e.emit("commitStart"),n=e.version,i=e.serverContent,r.next=41,e.channel.request({flush:{}});case 41:if(!(a=r.sent).channelClosed){r.next=46;break}return e.commitPromise=null,t(),r.abrupt("return");case 46:if("ok"===a.body){r.next=51;break}return e.commitPromise=null,t(),e.emit("error",new Error("OT Error: unable to flush"),{originalError:a.error||a.toString()}),r.abrupt("return");case 51:return e.shouldTrackDataLoss&&(u=e.uncommittedOps[e.uncommittedOps.length-1])&&j({replId:e.replId,filePath:e.linkedFile,op:{crc32:u.crc32,version:u.version},opType:"latestFlushedOp"}),e.uncommittedOps=[],e.hasUncommittedMultiplayerOps=!1,e.committedVersion=n,e.committedContent=i,e.emit("commitComplete",n),e.isClean()&&e.emit("fileClean"),e.commitPromise=null,t(),r.abrupt("return",a);case 61:case"end":return r.stop()}}),r)})))()},t}(f.EventEmitter);function G(e){return e.map((function(e){if("delete"in e&&e.delete)return{d:e.delete};if("skip"in e&&e.skip)return e.skip;if("insert"in e&&"string"===typeof e.insert)return e.insert;throw new Error("Unexpected op type")}))}var H=W,Y=t(62776),$=t(27740),K=t.n($),Q=t(40802),X=t(98772),J=t(88691);function ee(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function re(e,r,t,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,o)}function te(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){re(i,n,o,a,u,"next",e)}function u(e){re(i,n,o,a,u,"throw",e)}a(void 0)}))}}function ne(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function oe(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){ne(e,r,t[r])}))}return e}function ie(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return ee(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ee(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e){return!!e.includes("no such file")||!!e.includes("file does not exist")}function ue(e){return ae(e)?a.Df.NotFound:e.includes("file exist")?a.Df.AlreadyExists:e.includes("not a directory")?a.Df.NotDirectory:void 0}function ce(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return new Promise((function(r,n){setTimeout((function(){e.apply(void 0,ie(t)).then(r).catch(n)}),0)}))}function se(e){var r,t=e.container,n=function(e){P.push(e),R(),e.then((function(){var r=P.indexOf(e);r>-1&&P.splice(r,1),F()}))},f=function(e){if(e.startsWith("/home/runner"))throw new Error("watchOtFile requires relative paths");var r=new H(e,t);return r.on("commitComplete",F),r.on("fileDirty",R),r.on("fileClean",R),r.on("commitStart",R),r},d=null,h=null,v=null,m=0,w=new Map,g=new Map,x=new Map;t.openChannel({service:"fsevents"},(function(e){var r=e.error,t=e.channel;if(!r){if(!t)throw new Error("Expected channel");d=t,t.onCommand((function(e){if("fileEvent"===e.body){if(!e.fileEvent)throw new Error("Expected fileEvent");var r=e.fileEvent,t=r.file,n=r.dest,o=r.op;if(t){var i=t.path;if(null!==i&&null!==o&&void 0!==i&&void 0!==o){var s;if(F(),w.get(i)||t.type===l.api.File.Type.DIRECTORY)s=a.Tv.Directory;else{var f,p=Array.from(w.keys()).find((function(e){return(0,c.pC)(e,i)})),d=p&&(null===(f=w.get(p))||void 0===f?void 0:f.children.find((function(e){return e.filename===(0,u.UO)(i)})));s=d?d.type:a.Tv.File}switch(o){case l.api.FileEvent.Op.Create:_({eventType:a.kS.Create,node:{path:i,type:s}});break;case l.api.FileEvent.Op.Modify:if(s===a.Tv.Directory)break;_({eventType:a.kS.Modify,node:{path:i,type:s}});break;case l.api.FileEvent.Op.Remove:_({eventType:a.kS.Delete,node:{path:i,type:s}});break;case l.api.FileEvent.Op.Move:if(null==n||null==n.path)throw new Error("Expected dest path");var h=n.path;_({eventType:a.kS.Move,node:{path:i,type:s},to:h})}}}}}));var n=ie(new Set(ie(w.keys()).concat(ie(g.keys()),ie(x.keys()))));return n.length&&t.send({subscribeFile:{files:n.map((function(e){return{path:e}}))}}),function(){d=null}}}));var k=new Promise((function(e){return r=e}));t.openChannel({service:function(e){return e.repl.currentUserPermissions.containerWrite?"gcsfiles":"files"}},(function(e){var t=e.error,n=e.channel;if(!t){if(!n)throw new Error("Expected channel");r(n);var o=ie(w.keys()).sort(),i=!0,u=!1,c=void 0;try{for(var l,f=function(e,r){var t=r.value;Z.readDir(t).then((function(e){var r=w.get(t);if(r)if(e.error)_({eventType:a.kS.Delete,node:{path:t,type:a.Tv.Directory}});else{var n=e.children,o=r.children,i=o.filter((function(e){return!n.some((function(r){return r.filename===e.filename&&r.type===e.type}))})),u=!0,c=!1,l=void 0;try{for(var f,p=i[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value;_({eventType:a.kS.Delete,node:{path:t===s.Q?d.filename:t+"/"+d.filename,type:d.type}})}}catch(k){c=!0,l=k}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}var h=n.filter((function(e){return!o.some((function(r){return r.filename===e.filename&&r.type===e.type}))})),v=!0,m=!1,b=void 0;try{for(var y,g=h[Symbol.iterator]();!(v=(y=g.next()).done);v=!0){var x=y.value;_({eventType:a.kS.Create,node:{path:t===s.Q?x.filename:t+"/"+x.filename,type:x.type}})}}catch(k){m=!0,b=k}finally{try{v||null==g.return||g.return()}finally{if(m)throw b}}}}))},p=o[Symbol.iterator]();!(i=(l=p.next()).done);i=!0)f(0,l)}catch(g){u=!0,c=g}finally{try{i||null==p.return||p.return()}finally{if(u)throw c}}var d=!0,h=!1,v=void 0;try{for(var m,b=function(e,r){var t=r.value;Z.readFile(t,{fromDisk:!0}).then((function(e){var r=x.get(t);r&&(e.error?_({eventType:a.kS.Delete,node:{path:t,type:a.Tv.File}}):e.content.toBuffer().equals(r.latestContent.toBuffer())||_({eventType:a.kS.Modify,node:{path:t,type:a.Tv.File}}))}))},y=x.keys()[Symbol.iterator]();!(d=(m=y.next()).done);d=!0)b(0,m)}catch(g){h=!0,v=g}finally{try{d||null==y.return||y.return()}finally{if(h)throw v}}return function(){k=new Promise((function(e){return r=e}))}}}));var C=(0,J.Z)();C.promise.catch((function(e){return e}));var E=(0,X.Z)(te(o().mark((function e(){var r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.promise;case 2:return r=e.sent,e.next=5,r.request({fsSnapshot:{}});case 5:if(!(t=e.sent).channelClosed){e.next=8;break}return e.abrupt("return",{success:!1,error:"channel closed"});case 8:if(!t.error){e.next=10;break}return e.abrupt("return",{success:!1,error:t.error});case 10:return e.abrupt("return",{success:!0});case 11:case"end":return e.stop()}}),e)}))),{wait:5e3,maxWait:1e4});t.openChannel({service:"snapshot",skip:function(e){return!e.repl.currentUserPermissions.containerWrite}},(function(e){var r=e.error,t=e.channel;if(!r){if(!t)throw new Error("Expected channel");return C.resolve(t),function(){C.isFulfilled&&(C=(0,J.Z)()).promise.catch((function(e){return e}))}}C.isFulfilled||C.reject(r)}));var O=a.kO.Clean,S=[],T=0;function F(){return D.apply(this,arguments)}function D(){return(D=te(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T++,R(),e.next=4,Z.persist();case 4:T--,R();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return j.apply(this,arguments)}function j(){return(j=te(o().mark((function e(){var r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0===T&&0===P.length&&Array.from(g.values()).every((function(e){return e.otClient.isClean()})),t=O===a.kO.Clean,r!==t){e.next=4;break}return e.abrupt("return");case 4:O=r?a.kO.Clean:a.kO.Syncing,S.forEach((function(e){e(O)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=[];function I(e,r){return N.apply(this,arguments)}function N(){return N=te(o().mark((function e(r,t){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){var e=te(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k;case 2:if("open"===(t=e.sent).status){e.next=5;break}return e.abrupt("return",ce(i));case 5:return e.next=7,t.request(r);case 7:if(!(n=e.sent).channelClosed){e.next=10;break}return e.abrupt("return",ce(i));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=i(),t.isMutative&&n(a),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function _(e){v=null;var r=e.node.path.includes("/")?(0,u.Il)(e.node.path):s.Q,t=w.get(r),n=(0,u.UO)(e.node.path);if(!n)throw new Error("Expected filename");var o=null;if(e.eventType===a.kS.Move){var i=e.to.includes("/")?(0,u.Il)(e.to):s.Q;o=w.get(i)}if(t||o)switch(e.eventType){case a.kS.Create:if(!t)break;var l=ie(t.children.filter((function(e){return e.filename!==n}))).concat([{type:e.node.type,filename:n}]),f=!0,p=!1,d=void 0;try{for(var h,m=t.listeners[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){(0,h.value.onChange)(l)}}catch(xe){p=!0,d=xe}finally{try{f||null==m.return||m.return()}finally{if(p)throw d}}t.children=l;break;case a.kS.Move:var b=(0,u.UO)(e.to);if(t&&t===o){var y=ie(t.children.filter((function(e){return e.filename!==n&&e.filename!==b}))).concat([{type:e.node.type,filename:b}]),k=!0,C=!1,E=void 0;try{for(var O,S=t.listeners[Symbol.iterator]();!(k=(O=S.next()).done);k=!0){(0,O.value.onChange)(y)}}catch(xe){C=!0,E=xe}finally{try{k||null==S.return||S.return()}finally{if(C)throw E}}t.children=y;break}if(t){var T=t.children.filter((function(e){return e.filename!==n})),F=!0,D=!1,R=void 0;try{for(var j,P=t.listeners[Symbol.iterator]();!(F=(j=P.next()).done);F=!0){(0,j.value.onChange)(T)}}catch(xe){D=!0,R=xe}finally{try{F||null==P.return||P.return()}finally{if(D)throw R}}t.children=T}if(o){var I=ie(o.children.filter((function(e){return e.filename!==n&&e.filename!==b}))).concat([{type:e.node.type,filename:b}]),N=!0,A=!1,L=void 0;try{for(var M,U=o.listeners[Symbol.iterator]();!(N=(M=U.next()).done);N=!0){(0,M.value.onChange)(I)}}catch(xe){A=!0,L=xe}finally{try{N||null==U.return||U.return()}finally{if(A)throw L}}o.children=I}break;case a.kS.Delete:if(!t)break;var B=t.children.filter((function(e){return e.filename!==n})),z=!0,V=!1,q=void 0;try{for(var W,G=t.listeners[Symbol.iterator]();!(z=(W=G.next()).done);z=!0){(0,W.value.onChange)(B)}}catch(xe){V=!0,q=xe}finally{try{z||null==G.return||G.return()}finally{if(V)throw q}}t.children=B;break;case a.kS.Modify:break;default:throw new Error("unknown event")}switch(e.eventType){case a.kS.Move:case a.kS.Delete:var H=[g.get(e.node.path),x.get(e.node.path),w.get(e.node.path)],Y=!0,$=!1,K=void 0;try{for(var X,J=H[Symbol.iterator]();!(Y=(X=J.next()).done);Y=!0){var ee=X.value;if(ee){var re=!0,te=!1,ne=void 0;try{for(var ae,ue=ee.listeners[Symbol.iterator]();!(re=(ae=ue.next()).done);re=!0){var ce=ae.value,se=ce.onMoveOrDelete,le=ce.dispose;se&&se(e),le()}}catch(xe){te=!0,ne=xe}finally{try{re||null==ue.return||ue.return()}finally{if(te)throw ne}}}}}catch(xe){$=!0,K=xe}finally{try{Y||null==J.return||J.return()}finally{if($)throw K}}if(e.node.type===a.Tv.File)break;var fe=ie(new Set(ie(w.keys()).concat(ie(x.keys()),ie(g.keys())))).map((function(e){var r=g.get(e)||x.get(e)||w.get(e);if(!r)throw new Error("expected node");return r})),pe=[],de=!0,he=!1,ve=void 0;try{for(var me,be=fe.sort()[Symbol.iterator]();!(de=(me=be.next()).done);de=!0){var ye=me.value;if((0,c.yr)(e.node.path,ye.path)){var we=pe.slice(-1)[0];if(!we||!(0,c.yr)(we,ye.path)){var ge={eventType:a.kS.Delete,node:{path:ye.path,type:ye.type}};e.eventType===a.kS.Move&&(ge=oe({},ge,{eventType:a.kS.Move,to:(0,c.hk)(e.node.path,e.to,ye.path)})),pe.push(ye.path),_(ge)}}}}catch(xe){he=!0,ve=xe}finally{try{de||null==be.return||be.return()}finally{if(he)throw ve}}break;case a.kS.Create:case a.kS.Modify:if(!x.has(e.node.path))break;Z.readFile(e.node.path,{fromDisk:!0}).then((function(r){var t=x.get(e.node.path);if(t)if(r.error)_({eventType:a.kS.Delete,node:{path:e.node.path,type:a.Tv.File}});else{t.latestContent=r.content;var n=!0,o=!1,i=void 0;try{for(var u,c=t.listeners[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var s=u.value.onChange;s&&s(r.content)}}catch(xe){o=!0,i=xe}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}}})).catch((function(e){e.message="File read after modify error: "+e.message,Q.Tb(e)}))}}function A(){return L.apply(this,arguments)}function L(){return(L=te(o().mark((function e(){var r,n,i,a,u,c,s,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=window.performance.now(),e.next=5,(r=t).exec.apply(r,["ag","--noaffinity","-g *","--hidden"].concat(ie(Y.ignoredDirs.map((function(e){return"--ignore=".concat(e)})))));case 5:if(a=e.sent,u=a.output,c=a.error,(0,b.j)(b.U3.LIST_FILES_EXECUTED,{duration:window.performance.now()-i,failed:Boolean(c)&&"exit status 1"!==c}),s=null===(n=t.getContext())||void 0===n?void 0:n.repl){e.next=12;break}throw new Error("Expected repl");case 12:if(l=function(e){return!!e&&(!(0,Y.isHiddenFile)(e)&&!K().isLangFileBinary(s.language,e))},c||!u){e.next=16;break}return v={error:null,files:u.split("\n").filter(l)},e.abrupt("return",v);case 16:if(!c||!c.includes("not found")){e.next=24;break}return e.next=19,t.exec("find",".","-type","f","-print0");case 19:if(f=e.sent,(0,b.j)(b.U3.AG_NOT_AVAILABLE,{language:s.language}),!f.output){e.next=24;break}return v={error:null,files:f.output.slice(2,-1).split("\0./").filter(l)},e.abrupt("return",v);case 24:return"exit status 1"!==c&&Q.Tb(new Error("Find file command failed with error: ".concat(c))),e.abrupt("return",{error:c,files:null});case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(){var e=te(o().mark((function e(r,t,n){var i,u,c,s,l,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){return c.apply(this,arguments)},c=function(){return(c=te(o().mark((function e(r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.request(r);case 2:if(!(t=e.sent).channelClosed){e.next=5;break}throw new Error("channelClosed");case 5:if(!t.error){e.next=7;break}throw new Error(t.error);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.next=4,k;case 4:return i=e.sent,e.prev=7,e.next=10,u({transferStart:{path:r,size:t.length}});case 10:if(s=e.sent.transfer){e.next=13;break}throw new Error("Failed to start a transfer (no transfer id)");case 13:l=t.toBuffer(),f=512e3,n(l.length,0),d=0;case 17:if(!(d<Math.ceil(t.length/f))){e.next=24;break}return e.next=20,u({transferChunk:{id:s.id,content:l.subarray(d*f,(d+1)*f)}});case 20:n(l.length,Math.min(l.length,(d+1)*f));case 21:d++,e.next=17;break;case 24:return e.next=26,u({transferComplete:{id:s.id,crc32:p.buf(l)}});case 26:e.next=37;break;case 28:if(e.prev=28,e.t0=e.catch(7),"channelClosed"!==e.t0.message){e.next=32;break}return e.abrupt("return",ce(Z.transferFile,r,t,n));case 32:if(!e.t0.message.includes("not a directory")){e.next=34;break}return e.abrupt("return",{error:a.Df.NotDirectory});case 34:if(!e.t0.message.includes("file exists")){e.next=36;break}return e.abrupt("return",{error:a.Df.IsDirectory});case 36:throw e.t0;case 37:return _({eventType:a.kS.Create,node:{path:r,type:a.Tv.File}}),e.abrupt("return",{error:null});case 39:case"end":return e.stop()}}),e,null,[[7,28]])})));return function(r,t,n){return e.apply(this,arguments)}}(),Z={getStatus:function(){return O},onStatusChange:function(e){return S.push(e),function(){var r=S.indexOf(e);r>-1&&S.splice(r,1)}},watchDir:function(e,r){var t=!1,n=function(){t=!0;var r=w.get(e);r&&(r.listeners=r.listeners.filter((function(e){return e.dispose!==n})),0===r.listeners.length&&w.delete(e))};return Z.readDir(e).then((function(o){if(!t){if(o.error){var i=new Error(o.error);return i.code=o.error,r.onError(i),void n()}var u=w.get(e);u||(u={path:e,type:a.Tv.Directory,children:o.children,listeners:[]},w.set(e,u),d&&d.send({subscribeFile:{files:[{path:e}]}})),u.listeners.push(oe({},r,{dispose:n})),r.onChange(o.children)}})).catch((function(e){n(),r.onError(e)})),n},writeFile:function(e,r){return te(o().mark((function t(){var n,i,c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,I({write:{path:e,content:r.toBuffer()}},{isMutative:!0});case 3:if(!(i=t.sent).error){t.next=10;break}if(c=null,i.error.includes("not a directory")?c=a.Df.NotDirectory:i.error.includes("file exists")&&(c=a.Df.IsDirectory),c){t.next=9;break}throw new Error(i.error);case 9:return t.abrupt("return",{error:c});case 10:return s=null===(n=w.get((0,u.Il)(e)))||void 0===n?void 0:n.children.some((function(r){return r.filename===(0,u.UO)(e)})),x.has(e)||g.has(e)||s?_({eventType:a.kS.Modify,node:{path:e,type:a.Tv.File}}):_({eventType:a.kS.Create,node:{path:e,type:a.Tv.File}}),t.abrupt("return",{error:null});case 13:case"end":return t.stop()}}),t)})))()},transferFile:function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return te(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M.apply(void 0,ie(r)),n(t),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))()},readFile:function(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fromDisk:!1}).fromDisk;return te(o().mark((function t(){var n,u,c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=7;break}if(!(n=g.get(e))||!n.otClient.localContent||n.otClient.isReconnecting){t.next=4;break}return t.abrupt("return",{content:i.Z.from(n.otClient.localContent),error:null});case 4:if(!(u=x.get(e))){t.next=7;break}return t.abrupt("return",{content:u.latestContent,error:null});case 7:return t.next=9,I({read:{path:e}},{isMutative:!1});case 9:if(!(c=t.sent).error){t.next=16;break}if(s=null,ae(c.error)?s=a.Df.NotFound:c.error.includes("is a directory")&&(s=a.Df.IsDirectory),s){t.next=15;break}throw new Error(c.error);case 15:return t.abrupt("return",{error:s});case 16:if(c.file&&c.file.path&&c.file.content){t.next=18;break}throw new Error("Expected file");case 18:return t.abrupt("return",{content:i.Z.from(c.file.content),error:null});case 19:case"end":return t.stop()}}),t)})))()},createDir:function(e){return te(o().mark((function r(){var t,n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I({mkdir:{path:e}},{isMutative:!0});case 2:if(!(t=r.sent).error){r.next=9;break}if(n=null,t.error.includes("not a directory")&&(n=a.Df.NotDirectory),n){r.next=8;break}throw new Error(t.error);case 8:return r.abrupt("return",{error:n});case 9:return _({eventType:a.kS.Create,node:{path:e,type:a.Tv.Directory}}),r.abrupt("return",{error:null});case 11:case"end":return r.stop()}}),r)})))()},moveDir:function(e,r){return te(o().mark((function t(){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I({move:{oldPath:e,newPath:r}},{isMutative:!0});case 2:if(!(n=t.sent).error){t.next=8;break}if(i=ue(n.error)){t.next=7;break}throw new Error(n.error);case 7:return t.abrupt("return",{error:i});case 8:return _({eventType:a.kS.Move,node:{path:e,type:a.Tv.Directory},to:r}),t.abrupt("return",{error:null});case 10:case"end":return t.stop()}}),t)})))()},moveFile:function(e,r){return te(o().mark((function t(){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I({move:{oldPath:e,newPath:r}},{isMutative:!0});case 2:if(!(n=t.sent).error){t.next=8;break}if(i=ue(n.error)){t.next=7;break}throw new Error(n.error);case 7:return t.abrupt("return",{error:i});case 8:return _({eventType:a.kS.Move,node:{path:e,type:a.Tv.File},to:r}),t.abrupt("return",{error:null});case 10:case"end":return t.stop()}}),t)})))()},copyFile:function(e,r){return te(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.readFile(e);case 2:if(!(n=t.sent).error){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",Z.writeFile(r,n.content));case 6:case"end":return t.stop()}}),t)})))()},copyDirFromRemote:function(e,r,t){return te(o().mark((function n(){var i,u,c,s,l,f,p,d,h,v,m,b;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.deleteDir(e);case 2:return n.next=4,t.readDir(e);case 4:if(!(i=n.sent).error){n.next=7;break}return n.abrupt("return",i);case 7:return n.next=9,this.readDir(r);case 9:if((u=n.sent).error!==a.Df.NotFound){n.next=15;break}return n.next=13,this.createDir(e);case 13:n.next=17;break;case 15:if(u.error!==a.Df.NotDirectory){n.next=17;break}return n.abrupt("return",u);case 17:c=!0,s=!1,l=void 0,n.prev=18,f=i.children[Symbol.iterator]();case 20:if(c=(p=f.next()).done){n.next=45;break}if(d=p.value,h="".concat(e,"/").concat(d.filename),d.type!==a.Tv.File){n.next=36;break}return n.next=26,t.readFile(h);case 26:if(!(v=n.sent).error){n.next=29;break}return n.abrupt("return",v);case 29:return n.next=31,this.writeFile("".concat(r,"/").concat(d.filename),v.content);case 31:if(!(m=n.sent).error){n.next=34;break}return n.abrupt("return",m);case 34:n.next=42;break;case 36:if(d.type!==a.Tv.Directory){n.next=42;break}return n.next=39,this.copyDirFromRemote(h,"".concat(r,"/").concat(d.filename),t);case 39:if(!(b=n.sent).error){n.next=42;break}return n.abrupt("return",b);case 42:c=!0,n.next=20;break;case 45:n.next=51;break;case 47:n.prev=47,n.t0=n.catch(18),s=!0,l=n.t0;case 51:n.prev=51,n.prev=52,c||null==f.return||f.return();case 54:if(n.prev=54,!s){n.next=57;break}throw l;case 57:return n.finish(54);case 58:return n.finish(51);case 59:return n.abrupt("return",{error:null});case 60:case"end":return n.stop()}}),n,this,[[18,47,51,59],[52,,54,58]])}))).apply(this)},deleteFile:function(e){return te(o().mark((function r(){var t,n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I({remove:{path:e}},{isMutative:!0});case 2:if(!(t=r.sent).error){r.next=9;break}if(n=null,ae(t.error)&&(n=a.Df.NotFound),n){r.next=8;break}throw new Error(t.error);case 8:return r.abrupt("return",{error:n});case 9:return _({eventType:a.kS.Delete,node:{path:e,type:a.Tv.File}}),r.abrupt("return",{error:null});case 11:case"end":return r.stop()}}),r)})))()},deleteDir:function(e){return te(o().mark((function r(){var t,n;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I({remove:{path:e}},{isMutative:!0});case 2:if(!(t=r.sent).error){r.next=9;break}if(n=null,ae(t.error)&&(n=a.Df.NotFound),n){r.next=8;break}throw new Error(t.error);case 8:return r.abrupt("return",{error:n});case 9:return _({eventType:a.kS.Delete,node:{path:e,type:a.Tv.Directory}}),r.abrupt("return",{error:null});case 11:case"end":return r.stop()}}),r)})))()},readDir:function(e){return te(o().mark((function r(){var t,n,i,u;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,I({readdir:{path:e}},{isMutative:!1});case 3:if(!(n=r.sent).error){r.next=10;break}if(i=null,ae(n.error)?i=a.Df.NotFound:n.error.includes("not a directory")&&(i=a.Df.NotDirectory),i){r.next=9;break}throw new Error(n.error);case 9:return r.abrupt("return",{error:i});case 10:if(null===(t=n.files)||void 0===t?void 0:t.files){r.next=12;break}throw new Error("Expected filesChannel");case 12:return u=n.files.files.map((function(e){if(!e.path)throw new Error("Expected path");return{filename:e.path,type:e.type===l.api.File.Type.DIRECTORY?a.Tv.Directory:a.Tv.File}})),r.abrupt("return",{children:u,error:null});case 14:case"end":return r.stop()}}),r)})))()},stat:function(e){return te(o().mark((function r(){var t;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I({stat:{path:e}},{isMutative:!1});case 2:if(!(t=r.sent).error){r.next=5;break}throw new Error(t.error);case 5:if(t.statRes){r.next=7;break}throw new Error("expected stat result");case 7:if(t.statRes.exists){r.next=9;break}return r.abrupt("return",{exists:!1});case 9:if(t.statRes.type!==l.api.File.Type.DIRECTORY){r.next=11;break}return r.abrupt("return",{exists:!0,type:a.Tv.Directory,lastModified:new Date(1e3*t.statRes.modTime)});case 11:return r.abrupt("return",{exists:!0,type:a.Tv.File,lastModified:new Date(1e3*t.statRes.modTime),byteLength:Number(t.statRes.size)});case 12:case"end":return r.stop()}}),r)})))()},watchOtFile:function(e,r,t){var n=this,u=g.get(e);if(u||(u={path:e,type:a.Tv.File,listeners:[],otClient:f(e)},g.set(e,u)),!u)throw new Error("Expected watchedOtFile");t&&(u.otClient.shouldTrackReconnects=!0);var c=!1,s=!1,l=function(){},p=function(c){if(l(),!u)throw new Error("Expected watchedOtFile");var h=function(e){var t;return null===(t=r.onFlush)||void 0===t?void 0:t.call(r,e)};u.otClient.on("commitComplete",h);var v=function(){var e;return null===(e=r.onStatusChange)||void 0===e?void 0:e.call(r,a.KF.Dirty)};u.otClient.on("fileDirty",v);var m=function(){var e;return null===(e=r.onStatusChange)||void 0===e?void 0:e.call(r,a.KF.Clean)};u.otClient.on("fileClean",m);var b=function(){var e;return null===(e=r.onStatusChange)||void 0===e?void 0:e.call(r,a.KF.Syncing)};u.otClient.on("commitStart",b);var w=function(e){var t;return null===(t=r.onCursor)||void 0===t?void 0:t.call(r,e)};u.otClient.on("cursor",w);var x=function(e){var t;return null===(t=r.onRemoveCursor)||void 0===t?void 0:t.call(r,e)};u.otClient.on("removeCursor",x);var k=n,C=function(){var r=te(o().mark((function r(n){var a,c,s,l,p,d,h,v,m,b;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u){r.next=2;break}throw new Error("Expected watchedOtFile");case 2:if((a=u.otClient).destroy(),c=function(){var r=f(e);return t&&(r.shouldTrackReconnects=!0),new Promise((function(e,t){r.once("op",(function(){var t=a.localContent,n=r.localContent,o=(0,y.sQ)(t,n);if(!u)throw new Error("Expected watchedOtFile");u.otClient=r;var i=!0,c=!1,s=void 0;try{for(var l,f=u.listeners[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){(0,l.value.reregister)(o)}}catch(p){c=!0,s=p}finally{try{i||null==f.return||f.return()}finally{if(c)throw s}}e()})),r.once("error",(function(e){return t(e)}))}))},"remote"!==n){r.next=9;break}return r.next=8,c();case 8:return r.abrupt("return");case 9:return r.next=11,k.writeFile(e,i.Z.from(a.localContent));case 11:if(!(s=r.sent).error){r.next=33;break}for((l=new Error("Got error while overwriting file during reconnect")).code=s.error,p=!0,d=!1,h=void 0,r.prev=16,v=u.listeners[Symbol.iterator]();!(p=(m=v.next()).done);p=!0)(b=m.value).onError&&b.onError(l),b.dispose();r.next=24;break;case 20:r.prev=20,r.t0=r.catch(16),d=!0,h=r.t0;case 24:r.prev=24,r.prev=25,p||null==v.return||v.return();case 27:if(r.prev=27,!d){r.next=30;break}throw h;case 30:return r.finish(27);case 31:return r.finish(24);case 32:return r.abrupt("return");case 33:return r.next=35,c();case 35:case"end":return r.stop()}}),r,null,[[16,20,24,32],[25,,27,31]])})));return function(e){return r.apply(this,arguments)}}(),E=function(){var e;return null===(e=r.onReconnectFail)||void 0===e?void 0:e.call(r,C)};u.otClient.on("promptUserReconnect",E),u.listeners[0].reregister===p&&u.otClient.on("promptUserReconnect",(function(){if(g.has(e)){if(!u)throw new Error("Expected watchedOtFile");u.listeners.some((function(e){return e.onReconnectFail}))||C("remote")}}));var O=function(e,t){r.onError&&r.onError(e,t),d()};u.otClient.on("error",O);var S,T=function(e){if(!u)throw new Error("Expected watchedOtFile");u.otClient.writeOps(e);var t=!0,n=!1,o=void 0;try{for(var i,c=u.listeners[Symbol.iterator]();!(t=(i=c.next()).done);t=!0){var s=i.value.onChange;s&&s!==r.onChange&&s({ops:e,changeSource:a.Fl.Local,version:u.otClient.version,latestContent:u.otClient.localContent})}}catch(l){n=!0,o=l}finally{try{t||null==c.return||c.return()}finally{if(n)throw o}}},F=function(e){if(!u)throw new Error("Expected watchedOtFile");u.otClient.updateCursors(e)};(-1!==u.otClient.version&&setTimeout((function(){var e;if(!s){if(!u)throw new Error("Expected watchedOtFile");null===(e=r.onReady)||void 0===e||e.call(r,{initialContent:i.Z.from(u.otClient.localContent),writeOps:T,updateSelections:F,fetchOps:u.otClient.fetchOps,transformSelection:u.otClient.transformSelection,version:u.otClient.version})}})),c)&&(null===(S=r.onChange)||void 0===S||S.call(r,{ops:c,changeSource:a.Fl.Container,version:u.otClient.version,latestContent:u.otClient.localContent}));var D=function(e){var t,n;if(!u)throw new Error("Expected watchedOtFile");if(!s)return s=!0,void(null===(n=r.onReady)||void 0===n||n.call(r,{initialContent:i.Z.from(u.otClient.localContent),writeOps:T,updateSelections:F,fetchOps:u.otClient.fetchOps,transformSelection:u.otClient.transformSelection,version:u.otClient.version}));null===(t=r.onChange)||void 0===t||t.call(r,{ops:e,changeSource:a.Fl.Container,version:u.otClient.version,latestContent:u.otClient.localContent})};u.otClient.on("op",D),l=function(){if(!u)throw new Error("Expected watchedOtFile");u.otClient.removeListener("commitComplete",h),u.otClient.removeListener("fileDirty",v),u.otClient.removeListener("fileClean",m),u.otClient.removeListener("commitStart",b),u.otClient.removeListener("error",O),u.otClient.removeListener("op",D),u.otClient.removeListener("cursor",w),u.otClient.removeListener("removeCursor",x),u.otClient.removeListener("promptUserReconnect",E)},R()},d=function(){if(!c&&g.has(e)){if(c=!0,s=!0,l(),!u)throw new Error("Expected watchedOtFile");u.listeners=u.listeners.filter((function(e){return e.dispose!==d})),0===u.listeners.length&&(u.otClient.destroy(),g.delete(e))}};return u.listeners.push(oe({},r,{dispose:d,reregister:p})),p(),d},watchFile:function(e,r){var t=!1,n=function(){t=!0;var r=x.get(e);r&&(r.listeners=r.listeners.filter((function(e){return e.dispose!==n})),0===r.listeners.length&&x.delete(e))};return Z.readFile(e).then((function(o){if(!t){if(o.error){var i=new Error(o.error);return i.code=o.error,r.onError&&r.onError(i),void n()}var u=x.get(e);if(u||(u={path:e,type:a.Tv.File,listeners:[],latestContent:o.content},x.set(e,u),d&&d.send({subscribeFile:{files:[{path:e}]}})),!u)throw new Error("Expected watched file");u.listeners.push(oe({},r,{dispose:n})),r.onChange(o.content)}})),n},listFiles:function(){return te(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v&&window.performance.now()-m<1e4)){e.next=2;break}return e.abrupt("return",v);case 2:return h||(h=A(),m=window.performance.now()),e.next=5,h;case 5:return r=e.sent,h=null,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))()},flush:function(){var e=[],r=!0,t=!1,n=void 0;try{for(var o,i=g.values()[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var a=o.value;e.push(a.otClient.flush())}}catch(u){t=!0,n=u}finally{try{r||null==i.return||i.return()}finally{if(t)throw n}}return Promise.all(ie(e).concat(ie(P)).map((function(e){return e.catch((function(){}))}))).then((function(){}))},persist:function(e){var r=E();return e&&e.skipDebounce&&E.flush(),r},getOTVersion:function(e){var r=g.get(e);if(!r)throw new Error("No file with path ".concat(e," found."));return r.otClient.version}};return Z}},37510:function(e,r,t){t.d(r,{qC:function(){return f},nn:function(){return h},sQ:function(){return v},vs:function(){return m}});var n=t(37529),o=t.n(n);function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function a(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var c=function(e){return e.length>0&&"number"===typeof e[e.length-1]&&e.pop(),e},s=function(e){if(!Array.isArray(e))throw Error("Op must be an array of components");for(var r=null,t=0;t<e.length;t++){var n=e[t];switch("undefined"===typeof n?"undefined":u(n)){case"object":if(!("number"===typeof n.d&&n.d>0))throw Error("Object components must be deletes of size > 0");break;case"string":if(!(n.length>0))throw Error("Inserts cannot be empty");break;case"number":if(!(n>0))throw Error("Skip components must be >0");if("number"===typeof r)throw Error("Adjacent skip components should be combined")}r=n}if("number"===typeof r)throw Error("Op has a trailing skip")},l=function(e){return"number"===typeof e?e:"string"===typeof e?e.length:e.d};function f(e,r){s(e),s(r);for(var t,n=[],o=p(n),i=d(e)[0],a=0;a<r.length;a++){var f=r[a],h=void 0,v=void 0;switch("undefined"===typeof f?"undefined":u(f)){case"number":for(h=f;h>0;)(v=i(h,"d"))&&o(v),"object"!==typeof v&&(h-=l(v));break;case"string":o(f);break;case"object":for(h=f.d;h>0;)switch("undefined"===typeof(v=i(h,"d"))?"undefined":u(v)){case"number":o({d:v}),h-=v;break;case"string":h-=v.length;break;case"object":v&&o(v)}}}for(;t=i(-1);)o(t);return c(n)}function p(e){return function(r){r&&0!==r.d&&(0===e.length?e.push(r):("undefined"===typeof r?"undefined":u(r))===u(e[e.length-1])?"object"===typeof r?e[e.length-1].d+=r.d:e[e.length-1]+=r:e.push(r))}}function d(e){var r=0,t=0;return[function(n,o){if(r===e.length)return-1===n?null:n;var i,a=e[r];return"number"===typeof a?-1===n||a-t<=n?(i=a-t,++r,t=0,i):(t+=n,n):"string"===typeof a?-1===n||"i"===o||a.length-t<=n?(i=a.slice(t),++r,t=0,i):(i=a.slice(t,t+n),t+=n,i):-1===n||"d"===o||a.d-t<=n?(i={d:a.d-t},++r,t=0,i):(t+=n,{d:n})},function(){return e[r]}]}function h(e,r){if("string"!==typeof e)throw Error("Snapshot should be a string");s(r);for(var t=[],n=0;n<r.length;n++){var o=r[n];switch("undefined"===typeof o?"undefined":u(o)){case"number":if(o>e.length)throw Error("The op is too long for this document");t.push(e.slice(0,o)),e=e.slice(o);break;case"string":t.push(o);break;case"object":e=e.slice(o.d)}}return t.join("")+e}function v(e,r){if(e===r)return[];var t=[],n=function(e){e&&0!==e.d&&(0===t.length?t.push(e):("undefined"===typeof e?"undefined":u(e))===u(t[t.length-1])?"object"===typeof e?t[t.length-1].d+=e.d:t[t.length-1]+=e:t.push(e))};return o()(e,r).forEach((function(e){var r=a(e,2),t=r[0],i=r[1];switch(t){case o().INSERT:n(i);break;case o().DELETE:n({d:i.length});break;case o().EQUAL:n(i.length)}})),t.length>0&&"number"===typeof t[t.length-1]&&t.pop(),t}function m(e,r,t){if("left"!==t&&"right"!==t)throw Error("side ("+t+") must be 'left' or 'right'");s(e),s(r);for(var n,o=[],i=p(o),f=a(d(e),2),h=f[0],v=f[1],m=0;m<r.length;m++){var b=r[m],y=void 0,w=void 0;switch("undefined"===typeof b?"undefined":u(b)){case"number":for(y=b;y>0;)i(w=h(y,"i")),"string"!==typeof w&&(y-=l(w));break;case"string":"left"===t&&"string"===typeof v()&&i(h(-1)),i(b.length);break;case"object":for(y=b.d;y>0;)switch("undefined"===typeof(w=h(y,"i"))?"undefined":u(w)){case"number":y-=w;break;case"string":i(w);break;case"object":y-=w.d}}}for(;n=h(-1);)i(n);return c(o)}},46846:function(e,r,t){var n,o,i,a,u,c;t.d(r,{kS:function(){return n},Fl:function(){return o},Tv:function(){return i},Df:function(){return a},kO:function(){return u},KF:function(){return c}}),function(e){e.Create="CREATE",e.Move="MOVE",e.Delete="DELETE",e.Modify="MODIFY"}(n||(n={})),function(e){e.Local="LOCAL",e.Container="CONTAINER"}(o||(o={})),function(e){e.File="FILE",e.Directory="DIRECTORY"}(i||(i={})),function(e){e.NotFound="NOT_FOUND",e.AlreadyExists="ALREADY_EXIST",e.NotDirectory="NOT_DIRECTORY",e.IsDirectory="IS_DIRECTORY"}(a||(a={})),function(e){e.Syncing="SYNCING",e.Clean="CLEAN"}(u||(u={})),function(e){e.Dirty="DIRTY",e.Syncing="SYNCING",e.Clean="CLEAN"}(c||(c={}))},44521:function(e,r,t){t.d(r,{Z:function(){return d}});var n=t(34051),o=t.n(n),i=t(27740),a=t.n(i),u=t(50055),c=t(21217),s=t(75944),l=t(79523);function f(e,r,t,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,o)}function p(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){f(i,n,o,a,u,"next",e)}function u(e){f(i,n,o,a,u,"throw",e)}a(void 0)}))}}function d(e){var r=e.container,t=e.beforeRun,n=function(){var e=function(e){d!==e&&(d=e,i.emit(c.z.STATE_CHANGE,d))};e(f?v?c.A.STOPPING:"none"===h?c.A.IDLE:c.A.RUNNING:c.A.OFFLINE)},i=(0,s.Z)(),f=null,d=c.A.OFFLINE,h="none",v=!1,m=Math.random();function b(){return(b=p(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d===c.A.IDLE){e.next=2;break}throw new Error("Cannot run while state is not IDLE, got state: "+d);case 2:return r=Math.random(),m=r,h="before-run",n(),e.next=8,t();case 8:if(m===r){e.next=10;break}return e.abrupt("return");case 10:if("none"!==h){e.next=12;break}return e.abrupt("return");case 12:if("server"!==h){e.next=14;break}return e.abrupt("return");case 14:if(f){e.next=16;break}throw new Error("State is RUNNING but shellrunner is null?");case 16:h="optimistic",f.send({runMain:{}});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=p(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d===c.A.IDLE||d===c.A.RUNNING){e.next=2;break}throw new Error("Can only send input when running or idle");case 2:if(f){e.next=4;break}throw new Error("State is not OFFLINE but shellrunner is null?");case 4:f.send({input:r});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.openChannel({name:"shellrunner",service:"shellrun2",skip:function(e){var r,t=e.repl;return!(0,l.w)()||(r=t.language,!(!0===a().usesInterpreter(r)||!1!==a().usesRunProject(r)))}},(function(e){var r=e.channel;if(!e.error){if(!r)throw new Error("Expected error");return f=r,n(),r.onCommand((function(e){if(null!=e.state){var r=e.state===u.api.State.Stopped;v&&r&&(v=!1),r?"server"===h&&(h="none"):h="server",n()}else null!=e.output&&i.emit(c.z.OUTPUT,e.output)})),function(){h="none",v=!1,f=null,n()}}})),{run:function(){return b.apply(this,arguments)},stopRun:function(){if(d!==c.A.RUNNING)throw new Error("stopRun must be called when running but got ".concat(d));if(!f)throw new Error("State is RUNNING but shellrunner is null?");if("before-run"===h)return h="none",void n();h="none",v=!0,n(),f.send({clear:{}})},sendInput:function(e){return y.apply(this,arguments)},resizeTerminal:function(e){if(!f)throw new Error("resizeTerminal must be called when online");f.send({resizeTerm:e})},onOutput:function(e){return i.on(c.z.OUTPUT,e),function(){i.removeListener(c.z.OUTPUT,e)}},onStateChanged:function(e){return i.on(c.z.STATE_CHANGE,e),function(){i.removeListener(c.z.STATE_CHANGE,e)}},getRunState:function(){return d}}}},58375:function(e,r,t){t.d(r,{Z:function(){return a}});var n=t(35944),o=(t(67294),t(47240));function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e){return(0,n.tZ)(o.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}({},e,{children:(0,n.tZ)("path",{d:"M3 6H5M5 6H21M5 6V20C5 20.5304 5.21071 21.0391 5.58579 21.4142C5.96086 21.7893 6.46957 22 7 22H17C17.5304 22 18.0391 21.7893 18.4142 21.4142C18.7893 21.0391 19 20.5304 19 20V6H5ZM8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M10 11V17M14 11V17",strokeLinecap:"round",strokeLinejoin:"round"})}))}},71291:function(e,r,t){var n=t(48764).Buffer;function o(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){return null!=r&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e):e instanceof r}var u=function(){function e(r,t){if(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"asEncoding",{}),i(this,"asBuffer",null),t&&"string"===typeof r)this.asEncoding[t]=r;else if(void 0===r||null===r)this.asBuffer=n.alloc(0);else if(a(r,n))this.asBuffer=r;else if("string"===typeof r)this.asEncoding.utf8=r;else if(a(r,ArrayBuffer))this.asBuffer=n.from(r);else{if(a(r,e))return r;a(r,Uint8Array)?this.asBuffer=n.from(r):"object"!==typeof r||"object"!==typeof r.asEncoding||null===r.asEncoding||!a(r.asBuffer,n)&&null!==r.asBuffer||(this.asBuffer=r.asBuffer||null,"string"===typeof r.asEncoding.base64&&(this.asEncoding={base64:r.asEncoding.base64}),"string"===typeof r.asEncoding.utf8&&(this.asEncoding={utf8:r.asEncoding.utf8}))}}var r,t,u;return r=e,t=[{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf8";if(void 0!==this.asEncoding[e])return this.asEncoding[e];var r=this.toBuffer(),t=r.toString(e);return this.asEncoding[e]=t,t}},{key:"toJSON",value:function(){return{asEncoding:{base64:this.toString("base64")},asBuffer:null}}},{key:"length",get:function(){return void 0!==this.asEncoding.utf8?this.asEncoding.utf8.length:this.toBuffer().length}},{key:"toBuffer",value:function(){if(this.asBuffer)return this.asBuffer;for(var e in this.asEncoding){var r=this.asEncoding[e];if("string"===typeof r){var t=n.from(r,e);return this.asBuffer=t,t}}return this.asBuffer=n.alloc(0),this.asBuffer}}],u=[{key:"from",value:function(r,t){return new e(r,t)}},{key:"isBuffer",value:function(r){return a(r,e)}}],t&&o(r.prototype,t),u&&o(r,u),e}();r.Z=u},7377:function(e,r,t){t.d(r,{GA:function(){return o},yr:function(){return i},pC:function(){return a},vk:function(){return u},hk:function(){return c}});function n(e){return""===e||e.endsWith("/")?e:e+"/"}function o(e,r){return Object.keys(e).filter((function(e){return i(r,e)}))}function i(e,r){return r!==e&&r.startsWith(n(e))}function a(e,r){if(!i(e,r))return!1;var t=n(e),o=r.slice(t.length);return o.endsWith("/")&&(o=o.slice(-1)),!o.includes("/")}function u(e,r,t){var n=o(e,r).map((function(e){return[e,c(r,t,e)]}));return"undefined"!==typeof e[r]&&n.unshift([r,t]),n}function c(e,r,t){var o=n(e);return n(r)+t.slice(o.length)}},48265:function(e,r,t){t.d(r,{Rh:function(){return y},Zr:function(){return w},lD:function(){return g}});var n=t(35944),o=t(65988),i=t.n(o),a=t(67294),u=t(90601),c=t(51281),s=t(88503),l=t(58375),f=t(8996),p=t(77012),d=t(21217),h=t(51968);function v(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return v(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e,r){var t=e.runner,o=e.packager,c=e.languageHeader,s=e.onClear,l=e.enableScreenReaderMode,v=m(function(e){var r=e.runner,t=e.packager,n=e.languageHeader,o=e.enableScreenReaderMode,i=m((0,p.Z)({createXtermProps:{enableScreenReaderMode:o}}),2),u=i[0],c=i[1],s=m(a.useState(""),2),l=s[0],f=s[1];return a.useEffect((function(){if(!u)return r.onOutput((function(e){return f((function(r){return r+e}))}))}),[u,r,f]),a.useEffect((function(){if(!u&&t)return t.onOutput((function(e){return f((function(r){return r+e.replace(/\n/g,"\n\r")}))}))}),[u,t,f]),a.useEffect((function(){if(u&&t)return t.onOutput((function(e){return u.write(e.replace(/\n/g,"\n\r"))}))}),[u,t]),a.useEffect((function(){l&&u&&(u.write(l),f(""))}),[u,l]),a.useEffect((function(){n&&f((function(e){return e+"".concat(n.replace(/\n/g,"\n\r"),"\n\r")}))}),[n,f]),a.useEffect((function(){if(u){var e=function(){r.getRunState()!==d.A.OFFLINE&&r.resizeTerminal(u.getSize())},t=[];t.push(u.onResize(e).dispose);var n=[];t.push(u.onData((function(e){var t=(0,h.I)(e);r.getRunState()!==d.A.OFFLINE?r.sendInput(t):n.push(t)})).dispose),t.push(r.onOutput((function(e){u.write(e)})));var o=!1;return t.push(r.onStateChanged((function(t){if(t!==d.A.OFFLINE){if(o||(e(),o=!0),n.length){var i=!0,a=!1,u=void 0;try{for(var c,s=n[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=c.value;r.sendInput(l)}}catch(f){a=!0,u=f}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}n=[]}}else o=!1}))),r.getRunState()!==d.A.OFFLINE&&(e(),o=!0),function(){t.forEach((function(e){return e()}))}}}),[u,r]),[u,c]}({runner:t,packager:o,languageHeader:c,enableScreenReaderMode:l}),2),b=v[0],x=v[1],k=m(a.useState(!1),2),C=k[0],E=k[1];return a.useImperativeHandle(r,(function(){return{clear:function(){b&&b.clear()}}})),(0,n.BX)("div",{onKeyDown:function(e){"f"===e.key&&(0,u.jh)(e)&&!e.shiftKey&&(E(!0),e.preventDefault())},className:"jsx-ba31971b1aecd3fd replit-ui-theme-root dark terminal",children:[(0,n.tZ)("div",{className:"jsx-ba31971b1aecd3fd controls",children:(0,n.BX)(f.Ug,{align:"center",wrap:"nowrap",children:[C&&b?(0,n.tZ)(y,{findPrevious:b.findPrevious,findNext:b.findNext,exit:function(){return E(!1)}}):(0,n.tZ)(g,{onClick:function(){return E(!0)}}),(0,n.tZ)(w,{onClick:function(){b&&(b.clear(),s&&s(),c&&b.write("".concat(c.replace(/\n/g,"\n\r"),"\n\r")),b.focus())}})]})}),(0,n.tZ)("div",{ref:x,className:"jsx-ba31971b1aecd3fd xterm-container"}),(0,n.tZ)(i(),{id:"ba31971b1aecd3fd",children:".terminal.jsx-ba31971b1aecd3fd{height:100%;width:100%;position:relative;background-color:var(--background-default);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding-left:var(--space-16);padding-top:var(--space-4)}.controls.jsx-ba31971b1aecd3fd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;position:absolute;opacity:0;top:var(--space-8);right:var(--space-8);z-index:100;min-height:30px}.terminal.jsx-ba31971b1aecd3fd:focus-within .controls.jsx-ba31971b1aecd3fd{opacity:1}.xterm-container.jsx-ba31971b1aecd3fd{height:100%;overflow:auto}.xterm-container.jsx-ba31971b1aecd3fd .xterm{height:100%}.xterm-container.jsx-ba31971b1aecd3fd .xterm-viewport{overflow-y:auto!important;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}"})]})};function y(e){var r=e.findNext,t=e.findPrevious,o=e.exit,u=a.useRef(null),s=m(a.useState(""),2),l=s[0],f=s[1];a.useEffect((function(){u.current&&u.current.focus()}),[]);return(0,n.BX)("div",{className:"jsx-d22d76e8545c71ca search",children:[(0,n.tZ)("input",{ref:u,placeholder:"Find",value:l,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){return function(e){"Escape"!==e.key?"Enter"===e.key&&(e.shiftKey?t(l):r(l)):o()}(e)},className:"jsx-d22d76e8545c71ca"}),(0,n.tZ)(c.Z,{size:"small",onClick:function(){return r(l)},children:"Next"}),(0,n.tZ)(c.Z,{size:"small",onClick:function(){return t(l)},children:"Previous"}),(0,n.tZ)(c.Z,{size:"small",onClick:o,children:"Exit"}),(0,n.tZ)(i(),{id:"d22d76e8545c71ca",children:".search.jsx-d22d76e8545c71ca{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:30px}input.jsx-d22d76e8545c71ca{padding:4px var(--space-8)var(--space-4);background-color:var(--background-default);color:var(--white);height:24px;width:85px;border:none;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}input.jsx-d22d76e8545c71ca::-webkit-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:-moz-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::-moz-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:-ms-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::-ms-input-placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca::placeholder{color:var(--white)}input.jsx-d22d76e8545c71ca:focus{outline:none;border:var(--accent-primary-default)}input.jsx-d22d76e8545c71ca,.search button{margin:0 var(--space-4)}"})]})}r.ZP=a.forwardRef(b);var w=function(e){var r=e.onClick;return(0,n.BX)("button",{"aria-label":"Clear","data-microtip-position":"bottom-left",role:"tooltip",onClick:r,className:"jsx-985b6491a57edf8a",children:[(0,n.tZ)(l.Z,{size:16}),(0,n.tZ)(i(),{id:"985b6491a57edf8a",children:"button.jsx-985b6491a57edf8a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-4);background-color:var(--background-root);color:var(--foreground-default);-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s;border:none;cursor:pointer}button.jsx-985b6491a57edf8a:hover{background-color:var(--background-higher)}button.jsx-985b6491a57edf8a:focus{outline:none}"})]})},g=function(e){var r=e.onClick;return(0,n.BX)("button",{"aria-label":"Search","data-microtip-position":"bottom",role:"tooltip",onClick:r,className:"jsx-985b6491a57edf8a",children:[(0,n.tZ)(s.Z,{size:16}),(0,n.tZ)(i(),{id:"985b6491a57edf8a",children:"button.jsx-985b6491a57edf8a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-4);background-color:var(--background-root);color:var(--foreground-default);-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s;border:none;cursor:pointer}button.jsx-985b6491a57edf8a:hover{background-color:var(--background-higher)}button.jsx-985b6491a57edf8a:focus{outline:none}"})]})}},62776:function(e){e.exports={isHiddenFile:function(e){return/^(\.env$|\.npm$|\.npm\/|__pycache__|\.cache|\.breakpoints|\.git$|\.git\/|\.upm$|\.upm\/|node_modules$|node_modules\/|_test_runner)/.test(e)},ignoredDirs:[".git",".upm",".cache","__pycache__","node_modules"]}}}]);
//# sourceMappingURL=6950-f8035d72b850f19d.js.map