"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9096,6088],{59339:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(35944),a=r(65988),o=r.n(a),i=(r(67294),r(94184)),c=r.n(i),l=r(92704),s=r(58458),u=r(44054);function d(e){return(0,n.BX)("div",{className:o().dynamic([["eef9855d073021de",[u.j.tabletMin]]])+" "+(c()("dialog",{"is-destructive":e.isDestructive})||""),children:[(0,n.tZ)("div",{className:o().dynamic([["eef9855d073021de",[u.j.tabletMin]]])+" title",children:e.title}),(0,n.tZ)("div",{className:o().dynamic([["eef9855d073021de",[u.j.tabletMin]]])+" content",children:"string"===typeof e.children?(0,n.tZ)(s.Z,{children:e.children}):e.children}),(0,n.BX)("div",{className:o().dynamic([["eef9855d073021de",[u.j.tabletMin]]])+" buttons",children:[(0,n.tZ)("div",{className:o().dynamic([["eef9855d073021de",[u.j.tabletMin]]]),children:(0,n.tZ)(l.ZP,{css:{width:"100%"},onClick:e.onCancel,text:"Cancel"})}),(0,n.tZ)("div",{className:o().dynamic([["eef9855d073021de",[u.j.tabletMin]]]),children:(0,n.tZ)(l.ZP,{css:{width:"100%"},colorway:e.isDestructive?"negative":"primary",onClick:e.onConfirm,text:e.confirmLabel||"Confirm"})})]}),(0,n.tZ)(o(),{id:"eef9855d073021de",dynamic:[u.j.tabletMin],children:".dialog.__jsx-style-dynamic-selector{padding:var(--space-16);display:grid;grid-row-gap:25px}.is-destructive.__jsx-style-dynamic-selector .title.__jsx-style-dynamic-selector{color:var(--accent-negative-default)}.title.__jsx-style-dynamic-selector{font-size:var(--font-size-header-default)}.buttons.__jsx-style-dynamic-selector{display:grid;grid-row-gap:var(--space-8)}@media screen and (min-width:".concat(u.j.tabletMin,"px){.dialog.__jsx-style-dynamic-selector{padding:var(--space-32)}.buttons.__jsx-style-dynamic-selector{grid-auto-flow:column;grid-column-gap:var(--space-8);-webkit-justify-content:end;justify-content:end}) {-webkit-order:1;-ms-flex-order:1;order:1}}")})]})}},17221:function(e,t,r){var n=r(35944),a=r(65988),o=r.n(a),i=r(40425),c=r(58458),l=r(51281),s=r(8996),u=r(45193),d=r(7177),f=r(3204),p=r(84409);t.Z=function(e){e.devHide;var t=e.eventId,r=e.currentUserImage,a=e.currentUserUsername;return(0,n.tZ)(u.Z,{width:"medium",isOpen:!0,preventClose:!0,onRequestClose:function(){},children:(0,n.BX)("div",{className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]])+" modal-content",children:[(0,n.BX)(s.gC,{spacing:2,align:"center",children:[(0,n.tZ)(i.Z,{level:2,children:" The IDE is having a bit of trouble."}),(0,n.tZ)("div",{className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]])+" spacer"}),(0,n.tZ)(c.Z,{size:"large",children:"Parts of the IDE are not working correctly. Try reloading the page to get back to coding."}),t&&(0,n.tZ)("div",{css:[f.l0.p(16),f.l0.width("100%"),f.l0.backgroundColor.backgroundHigher,f.l0.borderRadius(8)],className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]]),children:(0,n.BX)(s.gC,{spacing:1,children:[a&&r&&(0,n.BX)(s.Ug,{spacing:2,align:"center",children:[(0,n.tZ)(p.Z,{src:r,username:a,size:48}),(0,n.tZ)(c.Z,{size:"medium",children:a})]}),(0,n.BX)("div",{css:[f.l0.font.code],className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]]),children:["Error: ",t]})]})}),(0,n.tZ)("div",{className:o().dynamic([["30e8a0c2f6e8b8b5",[d.n]]])+" spacer"}),(0,n.tZ)(l.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,n.tZ)(o(),{id:"30e8a0c2f6e8b8b5",dynamic:[d.n],children:".modal-content.__jsx-style-dynamic-selector{padding:var(--space-32)}.sentry-error-embed-wrapper{z-index:".concat(d.n,"!important}")})]})})}},63292:function(e,t,r){var n=r(35944),a=r(65988),o=r.n(a),i=(r(67294),r(51281)),c=r(8996);t.Z=function(e){return(0,n.BX)("div",{className:"jsx-6c7b71087f6c6ea4 wrap",children:[(0,n.BX)("div",{className:"jsx-6c7b71087f6c6ea4 content",children:[(0,n.BX)("div",{className:"jsx-6c7b71087f6c6ea4 title",children:["Delete ",e.name||e.entityType]}),(0,n.BX)("div",{className:"jsx-6c7b71087f6c6ea4 text",children:["Are you sure you want to delete this ",e.entityType,"? This cannot be undone."]})]}),(0,n.BX)(c.Ug,{spacing:1,justify:"end",children:[(0,n.tZ)(i.Z,{onClick:e.hideModal,autoFocus:!0,children:"Cancel"}),(0,n.BX)(i.Z,{color:"negative",onClick:function(){e.delete(),e.hideModal()},children:["Yes, delete this ",e.entityType]})]}),(0,n.tZ)(o(),{id:"6c7b71087f6c6ea4",children:".wrap.jsx-6c7b71087f6c6ea4{background-color:var(--background-default);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-default)}.title.jsx-6c7b71087f6c6ea4{color:var(--accent-negative-default);font-weight:var(--font-weight-medium);padding-bottom:var(--space-8)}.wrap.jsx-6c7b71087f6c6ea4{max-width:600px;padding:var(--space-32);display:grid;grid-row-gap:var(--space-16)}.content.jsx-6c7b71087f6c6ea4{padding-bottom:var(--space-24)}.buttons.jsx-6c7b71087f6c6ea4{display:grid;grid-row-gap:var(--space-8)}.title.jsx-6c7b71087f6c6ea4{font-size:20px}@media screen and (min-width:400px){.buttons.jsx-6c7b71087f6c6ea4{grid-auto-flow:column;grid-column-gap:var(--space-16);-webkit-justify-content:start;justify-content:start}.buttons.jsx-6c7b71087f6c6ea4>button:first-child{-webkit-order:1;-ms-flex-order:1;order:1}}"})]})}},87139:function(e,t,r){var n=r(35944),a=r(65988),o=r.n(a);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}t.Z=function(e){var t=c({},e);return(0,n.BX)(n.HY,{children:[(0,n.tZ)(o(),{id:"fcfe85a13ecbf46b",children:".one.jsx-fcfe85a13ecbf46b{opacity:.1;-webkit-animation:dot 1.5s ease-in-out infinite;-moz-animation:dot 1.5s ease-in-out infinite;-o-animation:dot 1.5s ease-in-out infinite;animation:dot 1.5s ease-in-out infinite;-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.two.jsx-fcfe85a13ecbf46b{opacity:.1;-webkit-animation:dot 1.5s ease-in-out infinite;-moz-animation:dot 1.5s ease-in-out infinite;-o-animation:dot 1.5s ease-in-out infinite;animation:dot 1.5s ease-in-out infinite;-webkit-animation-delay:.1s;-moz-animation-delay:.1s;-o-animation-delay:.1s;animation-delay:.1s}.three.jsx-fcfe85a13ecbf46b{opacity:.1;-webkit-animation:dot 1.5s ease-in-out infinite;-moz-animation:dot 1.5s ease-in-out infinite;-o-animation:dot 1.5s ease-in-out infinite;animation:dot 1.5s ease-in-out infinite;-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s}@keyframes dot {\n            0% {\n              opacity: 0.1;\n            }\n            50% {\n              opacity: 1;\n            }\n            100% {\n              opacity: 0.1;\n            }\n        }"}),(0,n.tZ)("span",l({},t,{className:"jsx-fcfe85a13ecbf46b "+(t&&null!=t.className&&t.className||"one"),children:"."})),(0,n.tZ)("span",l({},t,{className:"jsx-fcfe85a13ecbf46b "+(t&&null!=t.className&&t.className||"two"),children:"."})),(0,n.tZ)("span",l({},t,{className:"jsx-fcfe85a13ecbf46b "+(t&&null!=t.className&&t.className||"three"),children:"."}))]})}},22546:function(e,t,r){r.d(t,{Z:function(){return C}});var n=r(35944),a=r(67294),o=r(88341),i=r(91508),c=r(88942),l=r(67938),s=r(41664),u=r(11163),d=r(7177),f=r(54929),p=r(3204),b=r(70917),m=r(24506),h=r(65577),g=r(51281);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=(0,f.K)("ul"),Z=(0,f.K)("li"),j=(0,f.K)("a"),S=function(e){switch(e){case"small":return 12;case"medium":default:return 16;case"large":return 20}},E=function(e){var t=e.isHighlighted,r=e.isDestructive;return(0,b.iv)([p.l0.rowWithGap(8),p.l0.align.center,p.l0.p(8),p.l0.cursor.pointer,r&&[p.l0.color.accentNegativeDefault],t&&{backgroundColor:m.gU.listItem[":not([disabled])"][":active"].backgroundColor},t&&r&&[p.l0.color.foregroundDefault,p.l0.backgroundColor.accentNegativeDefault]])};function C(e){var t=e.items,r=e.onItemClick,b=e.onOpenChange,m=e.size,v=void 0===m?"medium":m,y=e.orientation,C=(0,u.useRouter)(),O=w(a.useState(!1),2),_=O[0],I=O[1],P=(0,h.Z)(b);a.useEffect((function(){P.current&&P.current(_)}),[_,P]);var N=(0,c.L7)({isOpen:_,items:t,onSelectedItemChange:function(e){var t=e.selectedItem;t&&(I(!1),t.link?C.push(t.link.href,t.link.as):r(t))}}),T=N.getToggleButtonProps,A=N.getMenuProps,B=N.highlightedIndex,U=N.getItemProps;return(0,n.BX)(o.Z,{isOpen:_,padding:0,gap:4,zIndex:d.n,placement:"bottom-end",onClickOutside:function(){return I(!1)},children:[(0,n.BX)(f.Z,{children:[(0,n.tZ)(g.Z,x({border:!1,filled:!1},T({onClick:function(){return I((function(e){return!e}))}}),{children:(0,n.tZ)(i.Z,{size:S(v),orientation:y})})),(0,n.tZ)(f.Z,x({},A({refKey:"innerRef"})))]}),(0,n.tZ)(k,{css:[p.l0.minWidth(120),p.l0.overflow("hidden"),p.l0.borderRadius(8)],children:t.map((function(e,t){var r=B===t,a=(0,n.BX)(n.HY,{children:[e.icon,(0,n.tZ)(l.x,{css:p.l0.flex.shrink(1),children:e.label})]});return(0,n.tZ)(Z,x({css:E({isHighlighted:r,isDestructive:e.isDestructive})},U({item:e,index:t,key:"".concat(e.label).concat(t)}),{children:e.link?(0,n.tZ)(s.default,x({passHref:!0},e.link,{children:(0,n.tZ)(j,{css:[p.l0.align.center,p.l0.rowWithGap(8),{color:"inherit"}],children:a})})):a}))}))})]})}},70192:function(e,t,r){var n=r(35944),a=r(65988),o=r.n(a),i=r(67294);t.Z=function(){return(0,n.tZ)(i.Fragment,{children:(0,n.tZ)(o(),{id:"cf42b6e1693787e8",children:"body .Select{font-size:16px}body .Select-control{color:var(--foreground-default)!important;background-color:var(--background-default)!important;border:1px solid var(--foreground-dimmest)!important;-webkit-border-radius:var(--border-radius-4)!important;-moz-border-radius:var(--border-radius-4)!important;border-radius:var(--border-radius-4)!important;-webkit-transition:all.1s;-moz-transition:all.1s;-o-transition:all.1s;transition:all.1s}body .Select-control:hover{border-color:var(--foreground-default)!important}body .Select.is-focused .Select-control,body .Select.is-open .Select-control{border-color:var(--foreground-dimmer)!important}body .Select.is-focused.is-open .Select-control{-webkit-border-bottom-left-radius:0!important;-moz-border-radius-bottomleft:0!important;border-bottom-left-radius:0!important;-webkit-border-bottom-right-radius:0!important;-moz-border-radius-bottomright:0!important;border-bottom-right-radius:0!important}body .Select-control .Select-value{height:38px!important;background-color:var(--background-default)!important;color:var(--foreground-default)!important;cursor:pointer}body .Select.is-open .Select-value,body .Select.is-focused .Select-value{background-color:var(--background-default)!important}body .Select .Select-control .Select-placeholder{color:var(--foreground-dimmest)!important}body .Select-menu-outer{border:1px solid var(--foreground-dimmer)!important;border-top:0 none!important;-webkit-border-bottom-left-radius:var(--border-radius-4)!important;-moz-border-radius-bottomleft:var(--border-radius-4)!important;border-bottom-left-radius:var(--border-radius-4)!important;-webkit-border-bottom-right-radius:var(--border-radius-4)!important;-moz-border-radius-bottomright:var(--border-radius-4)!important;border-bottom-right-radius:var(--border-radius-4)!important;background-color:var(--background-root)!important}body .Select-value-label{color:var(--foreground-default)!important}body .Select-option{color:var(--foreground-default)!important;background-color:var(--background-default)!important}body .Select-option.is-disabled{color:var(--foreground-dimmest)!important}body .Select .Select-option.is-focused{background-color:var(--accent-primary-dimmest)!important;color:var(--foreground-default)!important}body .Select .Select-option.is-selected{background-color:var(--accent-primary-dimmer)!important}body .Select-input input{color:var(--foreground-default)!important}"})})}},95722:function(e,t,r){var n=r(34051),a=r.n(n),o=r(35944),i=r(65988),c=r.n(i),l=r(67294),s=r(30617),u=r(62774),d=r(37510),f=r(71291),p=r(27740),b=r.n(p),m=r(38880),h=r(77070),g=r(55982),v=r(36793),y=r(27464),x=r(39185),w=r(82053),k=r(1517);function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){j(o,n,a,i,c,"next",e)}function c(e){j(o,n,a,i,c,"throw",e)}i(void 0)}))}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"===typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}var _=36,I=function(){return(0,o.BX)("div",{className:"jsx-3e741e4d889c73d "+c().dynamic([["37ffd3a19c5ebe03",[_]]])+" file-header-format-button",children:[(0,o.tZ)("div",{className:"jsx-3e741e4d889c73d "+c().dynamic([["37ffd3a19c5ebe03",[_]]])+" file-header-format-icon",children:(0,o.BX)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16.581 16.428",className:"jsx-3e741e4d889c73d "+c().dynamic([["37ffd3a19c5ebe03",[_]]]),children:[(0,o.tZ)("path",{d:"M13.26.747H3.323A2.569,2.569,0,0,0,.754,3.316h0v9.795a2.569,2.569,0,0,0,2.568,2.57h9.937a2.569,2.569,0,0,0,2.569-2.569h0V3.316A2.569,2.569,0,0,0,13.26.747Z",className:"jsx-3e741e4d889c73d "+c().dynamic([["37ffd3a19c5ebe03",[_]]])+" cls-1"}),(0,o.tZ)("path",{d:"M13.118,11.269a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.759-.759V11.23a.671.671,0,0,1,.689-.653l.07.006h8.438a.671.671,0,0,1,.753.578.7.7,0,0,1,.006.069ZM3.161,5.111V5.073a.759.759,0,0,1,.759-.759h8.439a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.921a.759.759,0,0,1-.76-.758ZM3.148,8.2a.759.759,0,0,1,.758-.76H8.4a.759.759,0,0,1,.759.759v.038a.759.759,0,0,1-.759.759H3.907a.759.759,0,0,1-.759-.759Z",className:"jsx-3e741e4d889c73d "+c().dynamic([["37ffd3a19c5ebe03",[_]]])+" cls-2"})]})}),(0,o.tZ)(c(),{id:"3e741e4d889c73d",children:".file-header-format-button.jsx-3e741e4d889c73d .cls-1{fill:var(--foreground-default)}.file-header-format-button.jsx-3e741e4d889c73d .cls-2{fill:var(--background-default)}"}),(0,o.tZ)(c(),{id:"37ffd3a19c5ebe03",dynamic:[_],children:".file-header-format-button.__jsx-style-dynamic-selector{padding:0 10px;height:100%;width:".concat(_,"px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;opacity:.7}.file-header-format-button.__jsx-style-dynamic-selector:hover{opacity:1}.file-header-format-icon.__jsx-style-dynamic-selector{height:16px;width:16px;cursor:pointer}")})]})};function P(e){var t=e.filePath,r=e.replLanguage,n=(0,s.Z)(),o=n.fs,i=n.container,c=(0,u.Z)({container:i,service:"format",skip:!b().supportsFormatting(r)}).channel,p=E(l.useState(!1),2),h=p[0],g=p[1],v=(0,m.Z)().showError,y=function(){return g(!1)};return l.useEffect((function(){if(h&&c){var e=!1,r=[],n=o.watchOtFile(t,{onReady:function(e){!function(e,t){i.apply(this,arguments)}(e.initialContent,e.writeOps)},onChange:function(e){var t=e.ops;r=d.qC(t,r)},onError:function(){y()},onMoveOrDelete:function(){y()}});return function(){e=!0,n()}}function i(){return(i=S(a().mark((function n(o,i){var l,s,u,p;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e&&c){n.next=2;break}return n.abrupt("return");case 2:if(0!==o.length){n.next=5;break}return y(),n.abrupt("return");case 5:return n.next=7,c.request({file:{path:t,content:o.toBuffer()}});case 7:if(l=n.sent,!e){n.next=10;break}return n.abrupt("return");case 10:if(!l.error&&l.file){n.next=14;break}return v("Failed to format ".concat(t),1500),y(),n.abrupt("return");case 14:if(0!==(s=f.Z.from(l.file.content)).length){n.next=18;break}return y(),n.abrupt("return");case 18:if(0!==(u=d.sQ(o.toString(),s.toString())).length){n.next=22;break}return y(),n.abrupt("return");case 22:if(0!==(p=r.length>0?d.vs(u,r,"left"):u).length){n.next=26;break}return y(),n.abrupt("return");case 26:i(p),y();case 28:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[c,t,o,h,v]),l.useEffect(y,[t]),b().supportsFormatting(r)?function(){return g(!0)}:null}t.Z=function(e){var t=e.filePath,r=e.replLanguage,n=P({filePath:t,replLanguage:r}),i=function(e){var t,r=e.filePath,n=(0,v.Z)().preferences,o=(0,s.Z)().fs,i=(0,x.Z)(r),c=Boolean(null===(t=null===i||void 0===i?void 0:i.getServerCapabilities())||void 0===t?void 0:t.documentFormattingProvider),u=(0,l.useState)([]),f=u[0],p=u[1],b=(0,m.Z)(),h=b.showError,g=b.showConfirm;return c?{fn:function(){if(!f.includes(r)){p((function(e){return C(e).concat([r])}));var e=[],t=function(e){e?h("Sorry, formatting ".concat(r," failed"),1500):g("Formatted ".concat(r," successfully"),1500),c(),p((function(e){return e.filter((function(e){return e!==r}))}))},c=o.watchOtFile(r,{onReady:function(){var o=S(a().mark((function o(c){var l,s,u,f,p;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l=c.initialContent,s=c.writeOps,i){a.next=3;break}throw new Error("LSP client not found");case 3:return a.next=5,i.request.format(r,{insertSpaces:n.indentIsSpaces,tabSize:n.indentSize});case 5:if(!("error"in(u=a.sent))){a.next=9;break}return t(!0),a.abrupt("return");case 9:if(!u.cancelled){a.next=12;break}return t(!0),a.abrupt("return");case 12:if(u.result){a.next=15;break}return t(!0),a.abrupt("return");case 15:if(f=(0,w.Z)(u.result,l.toString()),0!==(p=e.length>0?d.vs(f,e,"left"):f).length){a.next=20;break}return t(),a.abrupt("return");case 20:s(p),t();case 22:case"end":return a.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}(),onChange:function(t){var r=t.ops;e=d.qC(r,e)}})}},isFormatting:f.includes(r)}:null}({filePath:t});if(!(0,g.Mb)(t)||!i&&!n)return null;var c=(0,g.eb)(t);return(0,o.tZ)(y.Z,{css:{alignSelf:"center"},alt:(null===i||void 0===i?void 0:i.isFormatting)?"Formatting ".concat(c,", please wait"):"Format ".concat(c," code"),tooltipPlacement:"left-end",onClick:function(){var e=(null===i||void 0===i?void 0:i.fn)||n;if(!e)throw new Error("Expected format function");(0,h.j)(h.U3.PRETTIERED,{language:r,extension:(0,g.r6)(t)}),e()},children:(null===i||void 0===i?void 0:i.isFormatting)?(0,o.tZ)(k.Z,{}):(0,o.tZ)(I,{})})}},64784:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(67294),a=r(79367),o=r.n(a);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(){var e=c(n.useState(null),2),t=e[0],r=e[1];return n.useLayoutEffect((function(){if(t)return o()(t),function(){o().destroy(t)}}),[t]),{ref:r,update:function(){t&&o().update(t)}}}},58338:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(67294);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(){var e=o(n.useState({}),2)[1];return n.useCallback((function(){e({})}),[])}},28747:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(67294),a=r(11163),o=r(38880),i=r(88768),c=r(70722),l=r(77070);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(){var e,t,r,s=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onFork,u=(0,a.useRouter)(),p=(0,o.Z)().showError,b=f((0,i.BnM)({onCompleted:function(e){var t="Repl"===(null===e||void 0===e?void 0:e.createRepl.__typename)?e.createRepl:null;if(t)if(s&&s(),"/replEnvironment"!==u.pathname&&"/replEnvironmentMobile"!==u.pathname)u.push({pathname:(0,c.Z)(),query:{replUrl:t.url}},{pathname:t.url});else{var r=t.url+(u.query.lite?"?lite=".concat(u.query.lite.toString()):"");window.location.href=r}}}),2),m=b[0],h=b[1],g="UserError"===(null===(e=h.data)||void 0===e?void 0:e.createRepl.__typename)?null===(t=h.data)||void 0===t?void 0:t.createRepl.message:null===(r=h.error)||void 0===r?void 0:r.message;n.useEffect((function(){g&&p(g)}),[g,p]);var v=n.useCallback((function(e){var t=e.originId,r=e.replReleaseId,n=e.teamId,a=e.title,o=e.trackingData,i=e.forkToPersonal;m({variables:{input:{originId:t,replReleaseId:r,teamId:n,title:a,forkToPersonal:i}}}).then((function(e){var t,n,a,i,c,s="Repl"===(null===(t=e.data)||void 0===t?void 0:t.createRepl.__typename)?e.data.createRepl:null;s&&(0,l.j)(l.U3.REPL_CREATED,d({isTemplateFork:Boolean(r),isSignup:!1,isOnboarding:!1},o,{isForked:!0,isPrivate:s.isPrivate,replId:s.id,isRenamed:!1,language:s.language,isSelfForked:!!(null===(n=s.origin)||void 0===n?void 0:n.isOwner),templateReplId:(null===(a=s.source)||void 0===a||null===(i=a.release)||void 0===i||null===(c=i.repl)||void 0===c?void 0:c.id)||void 0}))}))}),[m]),y=!!(h.loading||h.data&&"Repl"===h.data.createRepl.__typename);return[v,{loading:y}]}},91449:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(11163),a=r(30617),o=r(67294),i=r(46846),c=r(63805),l="You have unsaved changes";function s(){var e=(0,c.isMobile)()&&Boolean(window.navigator.userAgent.match(/iPhone|iPad|iPod/i)),t=(0,a.Z)().fs,r=(0,n.useRouter)(),s=(0,o.useState)(!1),u=s[0],d=s[1],f=(0,o.useRef)(!1),p=function(){if(!f.current&&!window.confirm(l))throw n.default.events.emit("routeChangeError"),n.default.replace(n.default,n.default.asPath),new Error("Abort route change. Please ignore this error.")};return(0,o.useEffect)((function(){return d(t.getStatus()===i.kO.Syncing),t.onStatusChange((function(e){d(e===i.kO.Syncing)}))}),[t]),(0,o.useEffect)((function(){var t=function(e){if(!f.current)return e.preventDefault(),e.returnValue=l,l};if(u)return window.addEventListener("beforeunload",t),e||r.events.on("routeChangeStart",p),function(){window.removeEventListener("beforeunload",t),e||r.events.off("routeChangeStart",p)}}),[u,r.events]),function(e){return f.current=e}}},59936:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(67294),a=r(88768),o=r(98772),i=r(85133),c=r(30617);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){var e=s((0,a.yuJ)(),1)[0],t=(0,c.Z)().fs,r=(0,i.Z)(),l=null===r||void 0===r?void 0:r.currentUserPermissions.containerWrite,u=null===r||void 0===r?void 0:r.id;(0,n.useEffect)((function(){if(l&&u){var r=(0,o.Z)((function(){return e({variables:{replId:u}})}),{wait:6e4,maxWait:6e5}),n=t.onStatusChange((function(){r()}));return function(){r.isScheduled()&&r.flush(),n()}}}),[t,u,l,e])}},38732:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(34051),a=r.n(n),o=r(35944),i=r(67294),c=r(1864),l=r.n(c),s=r(55982),u=r(89431),d=r(46846),f=r(46010);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){b(o,n,a,i,c,"next",e)}function c(e){b(o,n,a,i,c,"throw",e)}i(void 0)}))}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){h(e,t,r[t])}))}return e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return x.apply(this,arguments)}function x(){return(x=m(a().mark((function e(t){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([r.e(2738),r.e(4474)]).then(r.t.bind(r,74474,23));case 3:return n=e.sent.exportToSvg,o=n({elements:JSON.parse(t).elements,appState:{exportBackground:!1}}),e.abrupt("return",window.btoa(window.unescape(window.encodeURIComponent(o.outerHTML))));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function w(e,t){var r=function(e){var t=e.fs,r=v(i.useState({}),2),n=r[0],o=r[1];return i.useCallback((function(e){var r,i=function(){var r=m(a().mark((function r(){var i,c,l,u,f;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,t.stat(e);case 3:if((c=r.sent).exists&&c.type===d.Tv.File){r.next=7;break}return n[e]&&o((function(t){return g({},t,h({},e,null))})),r.abrupt("return");case 7:if(!n[e]||(null===(i=n[e])||void 0===i?void 0:i.lastModified.getTime())!==c.lastModified.getTime()){r.next=9;break}return r.abrupt("return");case 9:return r.next=11,t.readFile(e);case 11:if((l=r.sent).error){r.next=25;break}if(!(0,s.sL)(e)){r.next=23;break}return r.next=17,y(l.content.toString());case 17:if(f=r.sent){r.next=20;break}return r.abrupt("return");case 20:u=f,r.next=24;break;case 23:u=l.content.toString("base64");case 24:o((function(t){return g({},t,h({},e,{content:u,lastModified:c.lastModified}))}));case 25:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return i(),n[e]?null===(r=n[e])||void 0===r?void 0:r.content:null}),[n,t])}({fs:e});return i.useCallback((function(e){var n=e.src;return(0,o.tZ)(k,{previewFilePath:t,src:n,getImageContent:r,deeplink:!0})}),[r,t])}function k(e){var t=e.previewFilePath,r=e.src,n=void 0===r?"":r,a=e.getImageContent,i=e.deeplink,c=void 0!==i&&i,d=(0,f.vt)(n),p=(0,s.yC)(n),b=(0,u.Z)("flag-md-embed-draw")&&(0,s.sL)(n);if(b&&(p="image/svg+xml"),!p||!p.startsWith("image/")||!t)return(0,o.tZ)(o.HY,{children:n});if(""===d){var m=l().dirname(t),h=l().resolve(m,n);0===h.indexOf("/")&&(h=h.substr(1));var g=a(h);if(g){var v=(0,o.tZ)("img",{className:b?"draw-img":void 0,src:"data:".concat(p,";base64,").concat(g)});return c?(0,o.tZ)("a",{href:"#".concat(n),children:v}):(0,o.tZ)(o.HY,{children:v})}}return(0,o.tZ)("a",{href:d,target:"_blank",children:(0,o.tZ)("img",{src:d})})}},76543:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(35944),a=r(65988),o=r.n(a),i=r(67294),c=r(77070),l=r(51281),s=r(58458),u=r(38880),d=r(88768),f=r(12596),p=r(8996),b=r(17632),m=r(35060),h=r(80491);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t,r,a,g=e.replId,y=(0,u.Z)(),x=y.showConfirm,w=y.showError,k=(0,d.hA$)({variables:{replId:g}}),Z=k.data,j=k.loading,S=k.error,E=v((0,d.QNZ)({variables:{replId:g},onError:function(e){return w(e.message)}}),2),C=E[0],O=E[1],_=v((0,d.ooK)({variables:{replId:g},optimisticResponse:{deleteMultiplayerInviteLink:{id:g,inviteUrl:null,__typename:"Repl"},__typename:"RootMutationType"},onError:function(e){return w(e.message)},onCompleted:function(e){"UserError"!==e.deleteMultiplayerInviteLink.__typename?"Repl"===e.deleteMultiplayerInviteLink.__typename&&x("Join link deleted"):w(e.deleteMultiplayerInviteLink.message)}}),2),I=_[0],P=_[1],N=O.loading||P.loading,T=i.useRef(null),A="Repl"===(null===Z||void 0===Z||null===(t=Z.repl)||void 0===t?void 0:t.__typename)&&"Team"===(null===(r=Z.repl.owner)||void 0===r?void 0:r.__typename),B="Repl"===(null===Z||void 0===Z||null===(a=Z.repl)||void 0===a?void 0:a.__typename)&&Z.repl.inviteUrl?window.location.origin+Z.repl.inviteUrl:null;i.useEffect((function(){O.error&&w(O.error.message),O.data&&(0,c.j)(c.U3.MP2_REFRESHED_LINK,{replId:g})}),[O.error,O.data,g,w]);var U=function(){T&&T.current&&T.current.select()},R=function(){return(0,n.BX)("div",{"aria-label":"Anyone on the internet with this link can join and edit this repl","data-microtip-position":"top","data-microtip-size":"medium",role:"tooltip","data-micro":!0,className:"jsx-e33ed68cec233d59 information-icon-container",children:[(0,n.tZ)(b.Z,{}),(0,n.tZ)(o(),{id:"e33ed68cec233d59",children:".information-icon-container.jsx-e33ed68cec233d59{margin-left:5px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center}"})]})};return j?(0,n.tZ)(s.Z,{children:"loading..."}):S?(0,n.tZ)(s.Z,{children:"Error: please contact support"}):B?(0,n.BX)(p.gC,{align:"stretch",spacing:1,children:[(0,n.tZ)(s.Z,{foreground:2,size:"small",children:(0,n.BX)(p.Ug,{align:"center",children:["Invite ",A?"guests":"friends"," with a join link",R()]})}),(0,n.BX)(p.Ug,{wrap:"nowrap",align:"center",spacing:1,children:[(0,n.tZ)("div",{className:"jsx-d4500699f97e9da1 input-link",children:(0,n.tZ)(f.ZP,{ref:T,readOnly:!0,onChange:function(){return null},value:N?"loading...":B,onClick:U})}),(0,n.tZ)("div",{"aria-label":"Copy","data-microtip-position":"bottom",role:"tooltip",className:"jsx-d4500699f97e9da1",children:(0,n.tZ)(l.Z,{color:"primary",Icon:h.Z,onClick:function(){U(),document.execCommand("copy"),x("Link copied")}})}),(0,n.tZ)("div",{"aria-label":"Delete link","data-microtip-position":"bottom",role:"tooltip",className:"jsx-d4500699f97e9da1",children:(0,n.tZ)(l.Z,{color:"red",Icon:m.Z,onClick:function(e){e.preventDefault(),N||I()}})})]}),(0,n.BX)(s.Z,{size:"small",foreground:2,children:[(0,n.tZ)("a",{onClick:function(e){e.preventDefault(),N||C()},className:"jsx-d4500699f97e9da1",children:"Generate a new link"})," ","(The current one will stop working)"]}),(0,n.tZ)(o(),{id:"d4500699f97e9da1",children:".input-link.jsx-d4500699f97e9da1{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}.input-link.jsx-d4500699f97e9da1 .jsx-d4500699f97e9da1:gloabl(input){cursor:text!important}"})]}):(0,n.tZ)("div",{style:{marginTop:"var(--space-8)"},children:(0,n.tZ)(l.Z,{fullWidth:!0,color:"default",onClick:function(){N||C()},children:(0,n.BX)(p.Ug,{align:"center",children:["Generate a join link",R()]})})})}},76871:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(34051),a=r.n(n),o=r(67294),i=r(44215),c=r(39499),l=r.n(c),s=r(30617),u=r(87947),d=r(89431);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(6!==e.length)throw new Error("Received unexpected output from resource tracking command: ".concat(e));var r={wallTimeNanos:l().BigInt(0),cpuTimeNanos:l().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:1073741824},n=e.map((function(e){return parseInt(e,10)}));if(n.includes(NaN))throw new Error("Could not parse one or more values from resource monitoring command: ".concat(e));var a=l().BigInt(e[0]),o=l().BigInt(e[1]),i=n[2],c=n[3],s=n[4],u=n[5];if(!(s>=0&&u>0))throw new Error("Memory usage or limit reported negative: ".concat(e));if(r.memoryUsageBytes=s,r.memoryLimitBytes=u,l().GT(t.wallTimeNanos,0)&&l().GT(t.cpuTimeNanos,0)){var d=l().toNumber(l().subtract(a,t.wallTimeNanos)),f=l().toNumber(l().subtract(o,t.cpuTimeNanos));if(!(d>0&&f>=0&&i>0&&c>0))throw new Error("CPU usage calculation returned negative value: ".concat(e));var p=i/c;r.cpuUtilPercent=100*f/d/p}return r.wallTimeNanos=a,r.cpuTimeNanos=o,r}function v(e){if(2!==e.length)throw new Error("Received unexpected output from storage command: ".concat(e));var t=parseInt(e[0],10),r=parseInt(e[1],10);if(isNaN(t)||isNaN(r))throw new Error("Could not parse values from storage output command: ".concat(e));return{storageUsedBytes:t,storageTotalBytes:r}}function y(){var e=(0,s.Z)(),t=e.container,r=e.session,n=h(o.useState(!1),2),c=n[0],f=n[1],b=h(o.useState(u.u),2),y=b[0],x=b[1],w=(0,d.Z)("flag-monitor-repl-resources");o.useEffect((function(){if(w){var e=r.getResourceMonitoringState();null!==e&&(x(e.interval),f(e.isMonitoring));var n=r.onResourceMonitoringStateChanged((function(e){f(e.isMonitoring),x(e.interval)})),o={wallTimeNanos:l().BigInt(0),cpuTimeNanos:l().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:0},s=function(){var e,n=(e=a().mark((function e(){var n,l,u,d,f,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.exec("bash","-c","date '+%s%N' && cat /sys/fs/cgroup/cpu/cpuacct.usage /sys/fs/cgroup/cpu/cpu.cfs_quota_us /sys/fs/cgroup/cpu/cpu.cfs_period_us /sys/fs/cgroup/memory/memory.usage_in_bytes /sys/fs/cgroup/memory/memory.limit_in_bytes ");case 4:if(null===(n=e.sent).error){e.next=8;break}return i.kg.error("Error running resource tracking command",{errorMessage:n.error}),e.abrupt("return");case 8:l=n.output.trim().split("\n"),e.prev=10,u=g(l,o),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(10),i.kg.error("Could not calculate resources",{errorMessage:e.t0.message}),e.abrupt("return");case 18:return e.next=20,t.exec("bash","-c","cat /repl/stats/subvolume_usage_bytes /repl/stats/subvolume_total_bytes");case 20:if(null===(d=e.sent).error){e.next=28;break}if(null===(f=d.output)||void 0===f?void 0:f.includes("No such file or directory")){e.next=26;break}return i.kg.error("Error running storage command",{errorMessage:d.error}),e.abrupt("return");case 26:e.next=39;break;case 28:e.prev=29,p=v(d.output.trim().split("\n")),e.next=37;break;case 33:return e.prev=33,e.t1=e.catch(29),i.kg.error("Could not calculate resources",{errorMessage:e.t1.message}),e.abrupt("return");case 37:u.storageUsedBytes=p.storageUsedBytes,u.storageTotalBytes=p.storageTotalBytes;case 39:o=m({},u),r.setResourceMonitoringState({utilization:u,isMonitoring:c,interval:y}),setTimeout(s,y);case 42:case"end":return e.stop()}}),e,null,[[10,14],[29,33]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){p(o,n,a,i,c,"next",e)}function c(e){p(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return s(),function(){clearTimeout(undefined),n()}}}),[c,y,w,t,r])}},68906:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(44215),a=r(93577),o=r(5560),i=r(67294),c=r(55982),l=r(30617);function s(e){var t=Boolean(window.performance.getEntriesByName(n.Iy.pageNavStart,"mark").length),r="time to code";window.performance.measure(r,t?n.Iy.pageNavStart:void 0);var a=window.performance.getEntriesByName(r,"measure")[0];if(a){var o="page invisible fetch connection metadata",i=a.duration;if(Boolean(window.performance.getEntriesByName(n.Iy.fetchConnectionMetadataPageInvisibleStart,"mark").length))window.performance.measure(o,n.Iy.fetchConnectionMetadataPageInvisibleStart,n.Iy.fetchConnectionMetadataPageInvisibleEnd),i-=window.performance.getEntriesByName(o,"measure")[0].duration,window.performance.clearMeasures(o),window.performance.clearMarks(n.Iy.fetchConnectionMetadataPageInvisibleStart),window.performance.clearMarks(n.Iy.fetchConnectionMetadataPageInvisibleEnd);n.kg.time("time to code minus page invisible",i,{ssr:!t,workspaceType:e}),n.kg.time("time to code with page invisible",a.duration,{ssr:!t,workspaceType:e}),window.performance.clearMeasures(r)}else n.kg.info("Could not obtain measure for time to code",{workspaceType:e})}var u=new Set;function d(e){var t=e.workspaceType,r=(0,o.Z)(),n=(0,a.Z)(),d=(0,l.Z)().fs;(0,i.useEffect)((function(){var e;if(n&&!u.has(r))return u.add(r),e=(0,c.Mb)(n)?d.watchOtFile(n,{onReady:function(){s(t),e()}}):d.watchFile(n,{onChange:function(){s(t),e()}})}),[n,r,t,d])}},50348:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(67294),a=r(30617);function o(){var e=(0,a.Z)().container,t=(0,n.useState)(e.getConnectionState()),r=t[0],o=t[1];return(0,n.useEffect)((function(){return e.onConnectionStateChanged(o)}),[e]),r}},12596:function(e,t,r){r.d(t,{QE:function(){return S},ZP:function(){return E},P3:function(){return Z}});var n=r(35944),a=r(65988),o=r.n(a),i=r(67294),c=r(94184),l=r.n(c),s=r(47240);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return(0,n.tZ)(s.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){u(e,t,r[t])}))}return e}({filled:!0},e,{children:(0,n.tZ)("circle",{cx:"12",cy:"12",r:"4"})}))}var f=r(8286),p=r(28614),b=r(58458),m=r(8996),h=r(11542),g=r(66970);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}function w(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z={default:"default",loading:"default",error:"negative",success:"positive"},j=i.forwardRef((function(e,t){var r,a,c,s=e.label,u=e.description,d=e.icon,v=e.onChange,y=e.large,j=e.placeholder,E=void 0===j?"":j,C=e.validationResults,O=w(e,["label","description","icon","onChange","large","placeholder","validationResults"]),_=k(i.useState(!1),2),I=_[0],P=_[1];(null===C||void 0===C?void 0:C.some((function(e){return"loading"===e.state})))?(r="loading",a=(0,n.tZ)(g.Z,{style:{width:"24px",height:"24px"}})):(null===C||void 0===C?void 0:C.some((function(e){return"error"===e.state})))?(r="error",c="var(--accent-negative-default)",a=(0,n.tZ)(p.Z,{})):(null===C||void 0===C?void 0:C.every((function(e){return"success"===e.state})))?(r="success",c="var(--accent-positive-default)",a=(0,n.tZ)(f.Z,{})):r="default";var N=Z[r],T=y?"var(--font-size-subhead-default)":"var(--font-size-default)";return(0,n.BX)("div",{className:o().dynamic([["e3ba2db3d0d64fca",[c,T,O.monospace?"var(--font-family-code)":"var(--font-family-default)",T,d?"var(--space-24)":"auto"]]])+" container",children:[s&&(0,n.BX)(n.HY,{children:[O.required?(0,n.BX)(m.Ug,{spacing:"2px",children:[(0,n.tZ)(b.Z,{tag:"label",foreground:I?1:2,size:y?"small":"xsmall",children:s}),(0,n.tZ)("span",{className:o().dynamic([["e3ba2db3d0d64fca",[c,T,O.monospace?"var(--font-family-code)":"var(--font-family-default)",T,d?"var(--space-24)":"auto"]]])+" required",children:"*"})]}):(0,n.tZ)(b.Z,{tag:"label",foreground:I?1:2,size:y?"small":"xsmall",children:s}),(0,n.tZ)(h.Z,{height:"4px"})]}),(0,n.BX)("div",{className:o().dynamic([["e3ba2db3d0d64fca",[c,T,O.monospace?"var(--font-family-code)":"var(--font-family-default)",T,d?"var(--space-24)":"auto"]]])+" input-container",children:[d&&(0,n.tZ)("div",{className:o().dynamic([["e3ba2db3d0d64fca",[c,T,O.monospace?"var(--font-family-code)":"var(--font-family-default)",T,d?"var(--space-24)":"auto"]]])+" icon-container left",children:d}),(0,n.tZ)("input",x({ref:t,"aria-label":s||"input",role:O.role||"search",required:O.required||!1,onChange:v,placeholder:E},O,{onFocus:function(e){P(!0),O.onFocus&&O.onFocus(e)},onBlur:function(e){P(!1),O.onBlur&&O.onBlur(e)},className:o().dynamic([["e3ba2db3d0d64fca",[c,T,O.monospace?"var(--font-family-code)":"var(--font-family-default)",T,d?"var(--space-24)":"auto"]]])+" "+(l()(N,O.className)||"")})),a&&(0,n.tZ)("div",{onMouseEnter:function(){return P(!0)},onMouseLeave:function(){return P(!1)},className:o().dynamic([["e3ba2db3d0d64fca",[c,T,O.monospace?"var(--font-family-code)":"var(--font-family-default)",T,d?"var(--space-24)":"auto"]]])+" icon-container right",children:a})]}),u&&(0,n.BX)(n.HY,{children:[(0,n.tZ)(h.Z,{height:"4px"}),(0,n.tZ)(b.Z,{tag:"span",foreground:3,size:y?"medium":"small",children:u})]}),(null===C||void 0===C?void 0:C.some((function(e){return!!e.message})))&&I&&(0,n.tZ)(S,{validationResults:C}),(0,n.tZ)(o(),{id:"e3ba2db3d0d64fca",dynamic:[c,T,O.monospace?"var(--font-family-code)":"var(--font-family-default)",T,d?"var(--space-24)":"auto"],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.spacer.row.__jsx-style-dynamic-selector{width:var(--space-4)}.spacer.col.__jsx-style-dynamic-selector{height:var(--space-4)}.input-container.__jsx-style-dynamic-selector{position:relative}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;position:absolute;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(c,"}.icon-container.left.__jsx-style-dynamic-selector{left:var(--space-4);background-color:transparent;color:var(--foreground-dimmest)}input.__jsx-style-dynamic-selector{font-size:").concat(T,";font-family:").concat(O.monospace?"var(--font-family-code)":"var(--font-family-default)",";line-height:").concat(T,";background-color:var(--background-default);color:var(--foreground-default);padding:var(--space-8);padding-left:").concat(d?"var(--space-24)":"auto",";border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:color.1s,background-color.1s;-moz-transition:color.1s,background-color.1s;-o-transition:color.1s,background-color.1s;transition:color.1s,background-color.1s}input.__jsx-style-dynamic-selector:disabled{opacity:.5}input.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}input.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-stronger)}input.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}input.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}input.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}input.__jsx-style-dynamic-selector:active,input.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})})),S=function(e){var t=e.validationResults;return(0,n.BX)("div",{className:"jsx-717f837fe0108fc4 container",children:[t.map((function(e,t){var r;switch(e.state){case"success":r=(0,n.tZ)(f.Z,{color:"var(--accent-positive-default)"});break;case"error":r=(0,n.tZ)(p.Z,{color:"var(--accent-negative-default)"});break;default:r=(0,n.tZ)(d,{color:"var(--foreground-dimmest)"})}return(0,n.BX)("div",{className:"jsx-717f837fe0108fc4 validation-row",children:[(0,n.tZ)("div",{className:"jsx-717f837fe0108fc4 validation-icon-container",children:r}),(0,n.tZ)(h.Z,{width:"4px"}),(0,n.tZ)(b.Z,{foreground:2,size:"small",children:e.message})]},e.state+t.toString())})),(0,n.tZ)(o(),{id:"717f837fe0108fc4",children:".container.jsx-717f837fe0108fc4{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:absolute;top:-webkit-calc(100% + var(--space-4));top:-moz-calc(100% + var(--space-4));top:calc(100% + var(--space-4));background-color:var(--background-default);padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);z-index:9999;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2)}.validation-row.jsx-717f837fe0108fc4{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;width:100%;padding-bottom:var(--space-4)}.validation-icon-container.jsx-717f837fe0108fc4{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding-right:var(--space-4)}"})]})},E=j},86923:function(e,t,r){var n=r(35944),a=r(65988),o=r.n(a),i=r(67294),c=r(64784),l=r(28614),s=r(8286),u=r(58458),d=r(8996),f=r(11542),p=r(12596),b=r(18055);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){h(e,t,r[t])}))}return e}function v(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=i.forwardRef((function(e,t){var r,a,m,h=e.label,x=e.description,w=e.onChange,k=e.fontFamily,Z=void 0===k?"sans-serif":k,j=e.fontSize,S=void 0===j?"medium":j,E=e.fontWeight,C=void 0===E?"regular":E,O=e.foreground,_=void 0===O?1:O,I=e.placeholder,P=void 0===I?"":I,N=e.validationResults,T=e.value,A=v(e,["label","description","onChange","fontFamily","fontSize","fontWeight","foreground","placeholder","validationResults","value"]),B=(0,c.Z)().ref,U=y(i.useState(!1),2),R=U[0],z=U[1];(null===N||void 0===N?void 0:N.some((function(e){return"loading"===e.state})))?r="loading":(null===N||void 0===N?void 0:N.some((function(e){return"error"===e.state})))?(r="error",m="var(--accent-negative-default)",a=(0,n.tZ)(l.Z,{})):(null===N||void 0===N?void 0:N.every((function(e){return"success"===e.state})))?(r="success",m="var(--accent-positive-default)",a=(0,n.tZ)(s.Z,{})):r="default";var D=p.P3[r],L=(A.className?A.className+" ":"")+D;return(0,n.BX)("div",{className:o().dynamic([["759177b91500d369",[m,b.Z.fontSize[S],b.Z.fontFamily[Z],b.Z.fontWeight[C],b.Z.foreground[_],b.Z.lineHeight[S]]]])+" container",children:[h&&(0,n.BX)(n.HY,{children:[A.required?(0,n.BX)(d.Ug,{spacing:"2px",children:[(0,n.tZ)(u.Z,{tag:"label",foreground:R?1:2,size:"large"===S?"small":"xsmall",children:h}),(0,n.tZ)("span",{className:o().dynamic([["759177b91500d369",[m,b.Z.fontSize[S],b.Z.fontFamily[Z],b.Z.fontWeight[C],b.Z.foreground[_],b.Z.lineHeight[S]]]])+" required",children:"*"})]}):(0,n.tZ)(u.Z,{tag:"label",foreground:R?1:2,size:"large"===S?"small":"xsmall",children:h}),(0,n.tZ)(f.Z,{height:"4px"})]}),(0,n.BX)("div",{className:o().dynamic([["759177b91500d369",[m,b.Z.fontSize[S],b.Z.fontFamily[Z],b.Z.fontWeight[C],b.Z.foreground[_],b.Z.lineHeight[S]]]])+" textarea-container",children:[(0,n.tZ)("textarea",g({placeholder:P,value:T,onChange:w},A,{ref:function(e){B(e),t&&("function"!==typeof t?t.current=e:t(e))},onFocus:function(e){z(!0),A.onFocus&&A.onFocus(e)},onBlur:function(e){z(!1),A.onBlur&&A.onBlur(e)},className:o().dynamic([["759177b91500d369",[m,b.Z.fontSize[S],b.Z.fontFamily[Z],b.Z.fontWeight[C],b.Z.foreground[_],b.Z.lineHeight[S]]]])+" "+(L||"")})),a&&(0,n.tZ)("div",{onMouseEnter:function(){return z(!0)},onMouseLeave:function(){return z(!1)},className:o().dynamic([["759177b91500d369",[m,b.Z.fontSize[S],b.Z.fontFamily[Z],b.Z.fontWeight[C],b.Z.foreground[_],b.Z.lineHeight[S]]]])+" icon-container right",children:a})]}),x&&(0,n.BX)(n.HY,{children:[(0,n.tZ)(f.Z,{height:"4px"}),(0,n.tZ)(u.Z,{tag:"span",foreground:3,size:S,children:x})]}),N&&R&&(0,n.tZ)(p.QE,{validationResults:N}),(0,n.tZ)(o(),{id:"759177b91500d369",dynamic:[m,b.Z.fontSize[S],b.Z.fontFamily[Z],b.Z.fontWeight[C],b.Z.foreground[_],b.Z.lineHeight[S]],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%}.textarea-container.__jsx-style-dynamic-selector{position:relative}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;position:absolute;top:var(--space-8);right:var(--space-8);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(m,"}textarea.__jsx-style-dynamic-selector{resize:none;font-size:").concat(b.Z.fontSize[S],";font-family:").concat(b.Z.fontFamily[Z],";font-weight:").concat(b.Z.fontWeight[C],";color:").concat(b.Z.foreground[_],";line-height:").concat(b.Z.lineHeight[S],";background-color:transparent;padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:.1s;-moz-transition:.1s;-o-transition:.1s;transition:.1s;line-height:1.4}textarea.__jsx-style-dynamic-selector:disabled{opacity:.5}textarea.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}textarea.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-default)}textarea.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}textarea.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}textarea.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})}));t.Z=x},70294:function(e,t,r){var n=r(35944),a=r(65988),o=r.n(a),i=(r(67294),r(37424)),c=r(94184),l=r.n(c);t.Z=function(e){var t=e.name,r=void 0===t?"toggle":t,a=e.isOn,c=e.onIcon,s=e.offIcon,u=e.onChange,d=(0,i.H)()(r);return(0,n.BX)("label",{htmlFor:d,className:"jsx-5274e4ea9aa9317a "+(l()("toggle-label",{isOn:a})||""),children:[(0,n.tZ)("input",{name:r,checked:a,onChange:u,id:d,type:"checkbox",className:"jsx-5274e4ea9aa9317a toggle-checkbox"}),(0,n.tZ)("span",{className:"jsx-5274e4ea9aa9317a toggle-button",children:a&&c?c:s||null}),(0,n.tZ)(o(),{id:"5274e4ea9aa9317a",children:'.toggle-checkbox.jsx-5274e4ea9aa9317a{height:0;width:0;visibility:hidden}.toggle-label.jsx-5274e4ea9aa9317a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;cursor:pointer;width:38px;height:24px;background:var(--background-higher);border:.5px solid var(--outline-dimmest);-webkit-border-radius:100px;-moz-border-radius:100px;border-radius:100px;position:relative;-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.toggle-button.jsx-5274e4ea9aa9317a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;content:"";position:absolute;left:1px;width:20px;height:20px;-webkit-border-radius:45px;-moz-border-radius:45px;border-radius:45px;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;transition:.2s;background:var(--white);-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1);color:var(--foreground-dimmer)}.toggle-label.isOn.jsx-5274e4ea9aa9317a{background-color:var(--accent-primary-default);border-color:var(--accent-primary-default)}.toggle-checkbox.jsx-5274e4ea9aa9317a:checked+.toggle-button.jsx-5274e4ea9aa9317a{left:-webkit-calc(100% - 1px);left:-moz-calc(100% - 1px);left:calc(100% - 1px);-webkit-transform:translateX(-100%);-moz-transform:translateX(-100%);-ms-transform:translateX(-100%);-o-transform:translateX(-100%);transform:translateX(-100%);color:var(--accent-primary-default)}.toggle-label.jsx-5274e4ea9aa9317a:active .toggle-button.jsx-5274e4ea9aa9317a{-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2)}'})]})}},61036:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(35944),a=(r(67294),r(47240));function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return(0,n.tZ)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},e,{children:(0,n.tZ)("path",{d:"M13 7L18 12L13 17M6 7L11 12L6 17",strokeLinecap:"round",strokeLinejoin:"round"})}))}},17161:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(35944),a=(r(67294),r(47240));function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return(0,n.BX)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({strokeWidth:3},e,{children:[(0,n.tZ)("path",{d:"M9.9 4.24002C10.5883 4.0789 11.2931 3.99836 12 4.00003C19 4.00003 23 12 23 12C22.393 13.1356 21.6691 14.2048 20.84 15.19M14.12 14.12C13.8454 14.4148 13.5141 14.6512 13.1462 14.8151C12.7782 14.9791 12.3809 15.0673 11.9781 15.0744C11.5753 15.0815 11.1752 15.0074 10.8016 14.8565C10.4281 14.7056 10.0887 14.4811 9.80385 14.1962C9.51897 13.9113 9.29439 13.572 9.14351 13.1984C8.99262 12.8249 8.91853 12.4247 8.92563 12.0219C8.93274 11.6191 9.02091 11.2219 9.18488 10.8539C9.34884 10.4859 9.58525 10.1547 9.88 9.88003M17.94 17.94C16.2306 19.243 14.1491 19.9649 12 20C5 20 1 12 1 12C2.24389 9.68192 3.96914 7.65663 6.06 6.06003L17.94 17.94Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.tZ)("path",{d:"M1 1L23 23",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},74586:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(35944),a=(r(67294),r(47240));function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return(0,n.BX)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({strokeWidth:3},e,{children:[(0,n.tZ)("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.tZ)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},38334:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(35944),a=(r(67294),r(47240));function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return(0,n.BX)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},e,{children:[(0,n.tZ)("path",{d:"M9 12L2 12",strokeWidth:"2",strokeLinecap:"round"}),(0,n.tZ)("path",{d:"M16 6L11 6C10.4477 6 10 6.44772 10 7L10 17C10 17.5523 10.4477 18 11 18L16 18",strokeWidth:"2"}),(0,n.tZ)("path",{d:"M16 18C16 19.6569 17.3431 21 19 21C20.6569 21 22 19.6569 22 18C22 16.3431 20.6569 15 19 15C17.3431 15 16 16.3431 16 18Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.tZ)("path",{d:"M16 6C16 4.34315 17.3431 3 19 3C20.6569 3 22 4.34315 22 6C22 7.65685 20.6569 9 19 9C17.3431 9 16 7.65685 16 6Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},74430:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(35944),a=(r(67294),r(47240));function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return(0,n.BX)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},e,{children:[(0,n.tZ)("path",{d:"M18 21C19.6569 21 21 19.6569 21 18C21 16.3431 19.6569 15 18 15C16.3431 15 15 16.3431 15 18C15 19.6569 16.3431 21 18 21Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.tZ)("path",{d:"M6 9C7.65685 9 9 7.65685 9 6C9 4.34315 7.65685 3 6 3C4.34315 3 3 4.34315 3 6C3 7.65685 4.34315 9 6 9Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.tZ)("path",{d:"M13 6H16C16.5304 6 17.0391 6.21071 17.4142 6.58579C17.7893 6.96086 18 7.46957 18 8V15",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.tZ)("path",{d:"M6 9V21",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},57731:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(35944),a=(r(67294),r(47240));function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return(0,n.tZ)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},e,{children:(0,n.tZ)("path",{d:"M21 4V20M3 4.86159V19.1384C3 19.5223 3.41474 19.763 3.74807 19.5725L16.2403 12.4341C16.5762 12.2422 16.5762 11.7578 16.2403 11.5659L3.74807 4.42747C3.41474 4.23699 3 4.47768 3 4.86159Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}},85106:function(e,t,r){var n=r(67294).createContext(null);t.Z=n},42723:function(e,t,r){r.d(t,{sC:function(){return b},En:function(){return w},H2:function(){return k},yY:function(){return m},aY:function(){return v},mT:function(){return h},Rl:function(){return g},fc:function(){return y},R$:function(){return x},wP:function(){return a},FG:function(){return o},hq:function(){return i},aq:function(){return s},qg:function(){return f},fv:function(){return l},zT:function(){return u},Dq:function(){return d},tK:function(){return n},eJ:function(){return c},OF:function(){return p}});var n="OPEN_SIDEPANE_BY_TYPE",a="NEW_CONSOLE_MESSAGE",o="LOADING_ENGINE_COMPLETE",i="LOADING_EXECUTION_ENGINE_STARTED",c="RESIZE_TERMINAL",l="CLEAR_CONSOLE",s="STOP_EVAL",u="WORKSPACE_WILL_UNMOUNT",d="UPDATE_WORKSPACE_PREFERENCES",f="@@INIT",p="RUN_REPL",b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;return{data:e,type:t,raw:!!r}};function m(e){var t=e.wid,r=e.message,n=e.type,o=void 0===n?"":n,i=e.raw;return{wid:t,type:a,message:b(r,o,!!i)}}function h(e){var t=e.wid;return{type:p,wid:t}}function g(e){var t=e.wid;return{type:s,wid:t}}function v(e){return{type:"EVAL_CODE",wid:e.wid,code:e.code,clean:e.clean}}function y(e){return{type:"UPDATE_LAYOUT",wid:e.wid,path:e.path,to:e.to,property:e.property}}function x(e){return{type:"TRACK_WS_EVENT",wid:e.wid,eventKey:e.eventKey,properties:e.properties,trackOnce:e.trackOnce}}function w(e){var t=e.wid,r=e.pud;return{type:l,wid:t,pud:r}}function k(e){var t=e.wid,r=e.cols,n=e.rows;return{type:c,wid:t,cols:r,rows:n}}},20730:function(e,t,r){r.d(t,{jz:function(){return k}});var n=r(34051),a=r.n(n),o=r(35944),i=(r(67294),r(40802)),c=r(88503),l=r(77070),s=r(18690),u=r(10611),d=r(66754),f=r(8996),p=r(3606),b=r(48015);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){h(o,n,a,i,c,"next",e)}function c(e){h(o,n,a,i,c,"throw",e)}i(void 0)}))}}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=100;function x(e){return w.apply(this,arguments)}function w(){return(w=g(a().mark((function e(t){var r,n,o,c,s,u,d,f,p,b,m,h,g,x,w,k,Z,j,S,E,C,O,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,n=t.container,o=window.performance.now(),e.next=4,n.exec("ag","--noaffinity","--context=0","--workers=1","--width=".concat(150),"--literal","--ackmate","--pager","head -".concat(300),"--",r);case 4:if(c=e.sent,s=c.output,u=c.error,(0,l.j)(l.U3.COMMAND_BAR_SEARCH,{duration:window.performance.now()-o,failed:Boolean(u)&&"exit status 1"!==u}),!u){e.next=11;break}return"exit status 1"!==u&&i.Tb(new Error("Search command failed with error: ".concat(u))),e.abrupt("return",{error:u});case 11:if(s){e.next=13;break}return e.abrupt("return",{});case 13:d=s.split("\n"),f={},p="",b=0,m=!0,h=!1,g=void 0,e.prev=18,x=d[Symbol.iterator]();case 20:if(m=(w=x.next()).done){e.next=42;break}if(k=w.value){e.next=24;break}return e.abrupt("continue",39);case 24:if(!k.startsWith(":")){e.next=28;break}return p=k.slice(1),f[p]=[],e.abrupt("continue",39);case 28:if(!(b>=y)){e.next=30;break}return e.abrupt("break",42);case 30:Z=k.indexOf(";"),j=parseInt(k.slice(0,Z),10),S=k.slice(Z+1),E=S.indexOf(":"),C=S.slice(0,E).split(","),O=C.map((function(e){var t=v(e.split(" "),2),r=t[0],n=t[1];return{column:parseInt(r,10),length:parseInt(n,10)}})),_=S.slice(E+1),b++,f[p].push({content:_,lineNumber:j,matches:O});case 39:m=!0,e.next=20;break;case 42:e.next=48;break;case 44:e.prev=44,e.t0=e.catch(18),h=!0,g=e.t0;case 48:e.prev=48,e.prev=49,m||null==x.return||x.return();case 51:if(e.prev=51,!h){e.next=54;break}throw g;case 54:return e.finish(51);case 55:return e.finish(48);case 56:return e.abrupt("return",{error:null,results:f});case 57:case"end":return e.stop()}}),e,null,[[18,44,48,56],[49,,51,55]])})))).apply(this,arguments)}function k(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).keyboardShortcut;return function(t){var r,n=t.container,i=t.onSelect,l=(0,p.Z)((function(e,t,r){x(e).then(t).catch(r)}),200);return{data:{type:"basic",label:"Search",icon:(0,o.tZ)(c.Z,{}),description:"Search through your files",keyboardShortcut:e},commands:function(){var e=g(a().mark((function e(t){var c,p,m,h,g,y,x,w,k,Z,j;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p={},!(0!==t.relativeSearchDepth&&t.searchValue.length<4)){e.next=4;break}return e.abrupt("return",p);case 4:if(m=t.searchPath?t.searchPath.join(" "):null){e.next=7;break}return e.abrupt("return",p);case 7:if(1!==(null===(c=t.searchPath)||void 0===c?void 0:c.length)||"files"!==t.searchPath[0]&&"search"!==t.searchPath[0]){e.next=9;break}return e.abrupt("return",p);case 9:return h=Math.random(),r=h,e.next=13,new Promise((function(e,t){l({query:m,container:n},e,t)}));case 13:if(g=e.sent.results,h===r){e.next=16;break}return e.abrupt("return",p);case 16:if(g){e.next=18;break}return e.abrupt("return",p);case 18:for(y=!0,x=!1,w=void 0,e.prev=19,k=function(e,t){var r=v(t.value,2),n=r[0];r[1].forEach((function(e){p["".concat(n,":").concat(e.lineNumber)]={config:{match:function(){var t;return{score:(null===(t=b.Z.match(m,e.content))||void 0===t?void 0:t.score)||1,render:function(t){var r=t.isActive,a=(0,o.tZ)(s.JI,{path:n,isActive:r});return(0,o.BX)(f.gC,{spacing:"4px",wrap:"nowrap",children:[(0,o.BX)(u.W,{isActive:r,icon:a,children:[n,":",e.lineNumber]}),(0,o.tZ)(d.xK,{source:e.content,matches:e.matches})]})}}}},data:{label:n,description:"".concat(n,":").concat(e.lineNumber),icon:(0,o.tZ)(s.JI,{path:n}),type:"action",run:function(){i(n,e.lineNumber,e.matches[0].column)}}}}))},Z=Object.entries(g)[Symbol.iterator]();!(y=(j=Z.next()).done);y=!0)k(0,j);e.next=28;break;case 24:e.prev=24,e.t0=e.catch(19),x=!0,w=e.t0;case 28:e.prev=28,e.prev=29,y||null==Z.return||Z.return();case 31:if(e.prev=31,!x){e.next=34;break}throw w;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt("return",p);case 37:case"end":return e.stop()}}),e,null,[[19,24,28,36],[29,,31,35]])})));return function(t){return e.apply(this,arguments)}}()}}}var Z=k({keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"}});t.ZP=Z},18690:function(e,t,r){r.d(t,{JI:function(){return b},a2:function(){return m}});var n=r(34051),a=r.n(n),o=r(35944),i=r(67294),c=r(48015),l=r(94157),s=r(22692),u=r(10611),d=r(17877);function f(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){f(o,n,a,i,c,"next",e)}function c(e){f(o,n,a,i,c,"throw",e)}i(void 0)}))}}function b(e){var t=e.path,r=e.isActive;return(0,o.tZ)(s.Z,{path:t,fill:r?"var(--white)":void 0,fillDefaultFileIcon:r})}function m(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).keyboardShortcut;return function(t){var r=t.fs,n=t.onSelect,s=t.onCreateNewFile,f=t.session;return{data:{type:"basic",label:"Files",icon:(0,o.tZ)(l.Z,{}),description:"Find a file",keyboardShortcut:e},config:{callOnLeave:!0},commands:function(){var e=p(a().mark((function e(t){var l,p,m,h,g,v,y,x,w,k,Z,j;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l={},t.callStage!==d.x.Enter||0===t.relativeSearchDepth){e.next=3;break}return e.abrupt("return",l);case 3:if(p=t.searchPath?t.searchPath.join(" ").toLowerCase():void 0,0===t.relativeSearchDepth||p&&!(p.length<2)){e.next=6;break}return e.abrupt("return",l);case 6:if(t.callStage!==d.x.Leave||0!==t.relativeSearchDepth&&!t.getCurrentOptions().some((function(e){return e.token.value===p}))){e.next=8;break}return e.abrupt("return",l);case 8:return e.next=10,r.listFiles();case 10:if(!(m=e.sent).error){e.next=13;break}return e.abrupt("return",l);case 13:if(h=m.files){e.next=16;break}throw new Error("Expected files");case 16:g=f.getRecentFiles(),v=!0,y=!1,x=void 0,e.prev=18,w=function(e,t){var r=t.value,a=!p||c.Z.match(p,r);if(!a)return"continue";var s=g.includes(r);l[r]={config:{match:function(){return!0===a?{score:s?2:1}:{score:s?2*a.score:a.score,render:function(e){var t=e.isActive,n=(0,o.tZ)(b,{path:r,isActive:t});return(0,o.tZ)(u.W,{isActive:t,icon:n,children:(0,o.tZ)(o.HY,{children:i.Children.map(a.elements,(function(e,t){return(0,o.tZ)(i.Fragment,{children:e},t)}))})})}}}},data:{label:r,description:"",icon:(0,o.tZ)(b,{path:r}),type:"action",run:function(){return n(r)}}}},k=h[Symbol.iterator]();case 21:if(v=(Z=k.next()).done){e.next=28;break}if("continue"!==w(k,Z)){e.next=25;break}return e.abrupt("continue",25);case 25:v=!0,e.next=21;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(18),y=!0,x=e.t0;case 34:e.prev=34,e.prev=35,v||null==k.return||k.return();case 37:if(e.prev=37,!y){e.next=40;break}throw x;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return t.searchPath&&(j=t.searchPath.join(" "),Object.values(l).some((function(e){var t;return(null===(t=e.data)||void 0===t?void 0:t.label)===j}))||(l.newFile={data:{label:j,description:"Create a new file",icon:(0,o.tZ)(b,{path:j}),type:"action",run:function(){return s(j)}},config:{match:function(){return{score:1}}}})),e.abrupt("return",l);case 44:case"end":return e.stop()}}),e,null,[[18,30,34,42],[35,,37,41]])})));return function(t){return e.apply(this,arguments)}}()}}}var h=m({keyboardShortcut:{cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"}});t.ZP=h},40079:function(e,t,r){r.d(t,{b:function(){return n}});var n="workspace-root"},23496:function(e,t,r){r.d(t,{Z:function(){return Pe}});var n=r(35944),a=r(67294),o=r(40802);var c=function(e,t,r,n){return function(a){return function(o){return function(i){o(i);var c=a.getState();if(c){var l=c.plugins,s=Object.keys(l),u=!0,d=!1,f=void 0;try{for(var p,b=function(o,l){var s=l.value;if(i.pud&&i.pud!==s)return"continue";var u=c.plugins[s];if(u.broken)return"continue";var d=u.type,f=r[d];if(f)try{var p=f(t,s,i);if(p){var b=e(s).dispatch(p);b&&"object"===typeof b&&"function"===typeof b.catch&&b.catch((function(e){a.dispatch({type:"PLUGIN_BROKE",pud:s,message:e.toString()}),n({error:e,pluginType:d,source:"receiver",pud:s})}))}}catch(m){a.dispatch({type:"PLUGIN_BROKE",pud:s,message:m.toString()}),n({error:m,pluginType:d,source:"receiver",pud:s})}},m=s[Symbol.iterator]();!(u=(p=m.next()).done);u=!0)b(0,p)}catch(h){d=!0,f=h}finally{try{u||null==m.return||m.return()}finally{if(d)throw f}}}}}}};function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}function f(e){return function(e){if(Array.isArray(e))return e}(e)||u(e)||b(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return l(e)}(e)||u(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return e;var r=f(t),n=r[0],a=r.slice(1);return m(e[n],a)},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if(0===t.length)return r;var n=f(t),a=n[0],o=n.slice(1);return Array.isArray(e)?(e[a]=h(e[a],o,r),e):d({},e,s({},a,h(e[a],o,r)))};var g=function(e,t,r){var n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;for(var o in n)if(!a.pud||a.pud===o){var i=n[o];if(!i.broken){var c=t[i.type];if(c)if("PLUGIN_BROKE"!==a.type){var l=void 0;try{l=c(i.state,d({},a,{wid:e}))}catch(u){n=d({},n,s({},o,d({},i,{broken:!0,errorMessage:u.toString()}))),r({error:u,pluginType:i.type,source:"reducer",pud:o});continue}l!==i.state&&(n=d({},n,s({},o,d({},i,{state:l}))))}else n=d({},n,s({},o,d({},i,{broken:!0,errorMessage:a.message})))}}return n},a=function(e,t){switch(t.type){case"UPDATE_LAYOUT":return d({},e,h(e,t.path.concat(t.property||[]),t.to));case"SET_ACTIVE_TAB":return d({},e,h(e,t.path.concat("active"),t.tabIndex));case"SET_SPLIT_POSITION":return d({},e,h(e,t.path.concat("position"),t.position));case"NEW_TAB":if("tabs"!==m(e,t.path.concat("type"))){var n=new Error("trying to add tab to non tab component");return r({error:n,pluginType:"layout",pud:null,source:"reducer"}),e}var a=d({},e,h(e,t.path.concat("tabs"),p(m(e,t.path.concat("tabs"))).concat([t.layout])));if(!t.setActiveTab)return a;var o=m(a,t.path.concat("tabs")).findIndex((function(e){return e.pud===t.layout.pud}));return d({},a,h(a,t.path.concat("active"),o));case"CLOSE_TAB":var i=m(e,t.path.concat("tabs")),c=t.tabIndex||i.findIndex((function(e){return e.pud===t.tabPud}));if(!i[c]){var l=new Error("trying to remove nonexistent tab");return r({error:l,pluginType:"layout",pud:null,source:"reducer"}),e}var u=m(e,t.path.concat("active")),f=u===c?Math.max(u-1,0):u,b=d({},e,h(e,t.path.concat("active"),f));return d({},b,h(b,t.path.concat("tabs"),p(i.slice(0,c).concat(i.slice(c+1)))));case"LOAD_PLUGIN":return d({},e,{pluginTitles:d({},e.pluginTitles,s({},t.pluginPud,t.title))});default:return e}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{plugins:{},layout:{}},r=arguments.length>1?arguments[1]:void 0,o=n(e.plugins,r);o!==e.plugins&&(e=d({},e,{plugins:o}));var i=a(e.layout,r);switch(i!==e.layout&&(e=d({},e,{layout:i})),r.type){case"OPEN_FILE":return d({},e,{activeFile:r.path});case"MOVE_FILE":return e.activeFile===r.path?d({},e,{activeFile:r.to}):e;case"LOAD_PLUGIN":var c=t[r.pluginType];c||(c=function(e,t){});var l=r.initialState||{},u=c(void 0,{type:"@@INIT",initialState:l});return d({},e,{plugins:d({},e.plugins,s({},r.pluginPud,{type:r.pluginType,state:u,isClosable:r.isClosable,isDraggable:r.isDraggable}))});case"UNLOAD_PLUGIN":return d({},e,{plugins:Object.keys(e.plugins).reduce((function(t,n){return n!==r.pud?d({},t,s({},n,e.plugins[n])):t}),{})});default:return e}};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WORKSPACE":return t.state;case"CREATE_WORKSPACE":return{layout:t.layout,plugins:n(void 0,t),activeFile:t.activeFile};default:return o(e,t)}}},v=r(78135),y=r(85486),x=function(e){var t={strokeMiterlimit:10,fill:"none",stroke:e.color,strokeWidth:1};return(0,n.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:(0,n.BX)("g",{children:[(0,n.tZ)("line",{style:t,x1:"3",y1:"3",x2:"13",y2:"13"}),(0,n.tZ)("line",{style:t,x1:"13",y1:"3",x2:"3",y2:"13"})]})})};function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}var Z=function(e){var t=e.onClick,r=e.onMouseDown,a=e.Icon,o=e.color,i=e.style;return(0,n.tZ)("button",{onClick:t,onMouseDown:r,style:k({color:"var(--foreground-default)",backgroundColor:"transparent",border:"none",cursor:"pointer",margin:"0",outline:"none",padding:"0"},i),children:(0,n.tZ)(a,{color:o})})},j=function(e){var t=e.color;return(0,n.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8.467 10.583",children:(0,n.tZ)("path",{d:"M4.233.684L2.988 1.93l.374.374.607-.607V3.97H1.697l.607-.607-.374-.374L.684 4.233 1.93 5.48l.374-.374-.607-.607H3.97V6.77l-.607-.607-.374.374 1.245 1.245L5.48 6.537l-.374-.374-.607.607V4.498H6.77l-.607.607.374.374 1.245-1.246-1.245-1.245-.374.374.607.607H4.498V1.697l.607.607.374-.374z",fill:t,"white-space":"normal",overflow:"visible"})})},S={height:"12px",width:"12px",margin:"0 4px"},E=function(e){var t=e.isTabbed,r=e.isClosable,o=e.isDraggable,i=e.HeaderPlugin,c=e.onClose,l=e.onDrag;return(0,n.BX)(a.Fragment,{children:[i,(0,n.BX)("div",{style:{alignItems:"center",display:"flex",height:"100%",marginLeft:"auto"},children:[o&&!t&&(0,n.tZ)(Z,{Icon:j,onMouseDown:l,style:S}),r&&!t&&(0,n.tZ)(Z,{Icon:x,onClick:c,style:S})]})]})},C=r(77070);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e){if(Array.isArray(e))return e}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t,r){return t&&N(e.prototype,t),r&&N(e,r),e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function U(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function R(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){A(e,t,r[t])}))}return e}function L(e,t){return!t||"object"!==G(t)&&"function"!==typeof t?I(e):t}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function X(e,t){return _(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||W(e,t)||z()}function H(e){return _(e)||R(e)||W(e,i)||z()}function F(e){return function(e){if(Array.isArray(e))return O(e)}(e)||R(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function W(e,t){if(e){if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=B(e);if(t){var a=B(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return L(this,r)}}var K=1e5,Y=32,q={width:"100%",height:"100%"},$=function(e){return e.getBoundingClientRect()},J=function(e,t){var r=t.px,n=t.pc;return{px:e.px+(r||0),pc:e.pc+(n||0)}},Q=function(e,t){return{px:e.px*t,pc:e.pc*t}},ee={px:0,pc:0},te=function(e){return{px:e,pc:0}},re=function(e){return{px:0,pc:e}},ne=function(e){var t=e.px,r=e.pc;return 0===t&&0===r},ae=function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{x:ee,y:ee,w:re(100),h:re(100),p:[]};if("tabs"===n.type){var i=n.active||0;r.push(D({},o,{h:te(Y),tabs:n.tabs.map((function(e){return e.pud||e.type})),active:i}));for(var c=0;c<n.tabs.length;c++)ae(e,t,r,D({},n.tabs[c]),a,D({},o,{p:F(o.p).concat(["tabs",c.toString()]),y:J(o.y,te(Y)),h:c===i?J(o.h,te(-32)):ee,w:c===i?o.w:ee}))}if("split"===n.type){var l=void 0===n.position?50:n.position,s=!1;if("undefined"!==typeof n.fixed?s=n.fixed:("undefined"!==typeof n.leftSize||"undefined"!==typeof n.rightSize)&&(s=!0),"undefined"!==typeof n.leftSize&&"undefined"!==typeof n.rightSize)throw new Error("Cannot have both leftSize and rightSize specified");var u=null;if(0===l?u="left":100===l&&(u="right"),n.stacked){var d=!ne(o.h)&&!s,f=Q(o.h,l/100);n.rightSize?f=J(o.h,te(-n.rightSize)):n.leftSize?f=te(n.leftSize):"left"===u||ne(o.h)?f=ee:"right"===u&&(f=J(f,te(-8))),ae(e,t,r,n.left,a,D({},o,{p:F(o.p).concat(["left"]),h:f}));var p=J(o.y,Q(o.h,l/100));n.rightSize?p=J(o.y,f):n.leftSize?p=J(o.y,te(n.leftSize)):"left"===u?p=o.y:"right"===u&&d&&(p=J(p,te(-8)));var b=Q(o.h,(100-l)/100);n.rightSize?b=te(n.rightSize):n.leftSize?b=J(o.h,te(-n.leftSize)):("right"===u||ne(o.h))&&(b=ee),ae(e,t,r,n.right,a,D({},o,{p:F(o.p).concat(["right"]),y:d?J(p,te(8)):p,h:d?J(b,te(-8)):b})),d&&t.push(D({},o,{y:p,snapped:u,h:te(8),stacked:n.stacked}))}else{var m=!ne(o.w)&&!s,h=Q(o.w,l/100);n.rightSize?h=J(o.w,te(-n.rightSize)):n.leftSize?h=te(n.leftSize):"left"===u||ne(o.w)?h=ee:"right"===u&&(h=J(h,te(-8))),ae(e,t,r,n.left,a,D({},o,{p:F(o.p).concat(["left"]),w:h}));var g=J(o.x,Q(o.w,l/100));"left"===u?g=o.x:n.rightSize?g=J(o.x,h):n.leftSize?g=J(o.x,te(n.leftSize)):"right"===u&&(g=J(g,te(-8)));var v=Q(o.w,(100-l)/100);n.rightSize?v=te(n.rightSize):n.leftSize?v=J(o.w,te(-n.leftSize)):("right"===u||ne(o.w))&&(v=ee),ae(e,t,r,n.right,a,D({},o,{p:F(o.p).concat(["right"]),x:m?J(g,te(8)):g,w:m?J(v,te(-8)):v})),m&&t.push(D({},o,{x:g,snapped:u,w:te(8),stacked:n.stacked}))}}if("pane"===n.type){var x=n.header,w=n.pud,k=a[w]||{isDraggable:!1,isClosable:!1},Z=y.JU(o.p),j=x||!Z&&(k.isClosable||k.isDraggable),S=j?x&&x.height||32:0;e.push({header:j&&{pud:x&&x.pud,p:D({},o,{h:te(S)})},pud:w,p:D({},o,{y:J(o.y,te(S)),h:J(o.h,te(-S))}),isDraggable:k.isDraggable,isClosable:k.isClosable})}},oe=function(e){var t,r,a,o=e.stacked,i=e.onMouseDown,c=e.snapped,l=e.style,s=X(fe(),2),u=s[0],d=s[1],f=u?"var(--outline-default)":"var(--outline-dimmest)";c?(r="left"===c?o?"translate(0px, -2px) rotate(135deg)":"translate(-2px, 0px) rotate(45deg)":o?"translate(0px, 2px) rotate(-45deg)":"translate(2px, 0px) rotate(-135deg)",t={width:6,height:6,borderRight:"solid 1px ".concat(f),borderTop:"solid 1px ".concat(f),transition:"0.1s background-color",transform:r}):(A(a={backgroundColor:f,borderRadius:"var(--border-radius-4)"},o?"height":"width",2),A(a,o?"width":"height",25),A(a,"transition","0.1s background-color"),t=a);return(0,n.tZ)("div",D({},d,{onMouseDown:i,onTouchStart:i,style:D({position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",flex:"1 0 auto",overflow:"hidden",borderRadius:"var(--border-radius-4)",background:"var(--background-root)",cursor:o?"row-resize":"col-resize",zIndex:1},l),children:(0,n.tZ)("div",{style:t})}))},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if(0===t.length)return r;var n=H(t),a=n[0],o=n.slice(1);return Array.isArray(e)?(e[a]=ie(e[a],o,r),e):D({},e,A({},a,ie(e[a],o,r)))},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return e;var r=H(t),n=r[0],a=r.slice(1);return ce(e[n],a)},le=function(e){U(r,e);var t=V(r);function r(){var e;return P(this,r),A(I(e=t.apply(this,arguments)),"state",{protectEvents:!1,newLayout:null,debug:!1,dragging:null,resizing:null,layout:e.props.store.getState().layout,plugins:e.props.store.getState().plugins}),A(I(e),"getPluginComponent",(function(t,r){var a=e.state.plugins[r],o=e.props,i=o.pluginComponents,c=o.wid,l=null;return l=a?a.broken?(0,n.tZ)(ue,{handleError:function(t){return e.handleError({error:t,pluginType:a.type,source:"component",pud:r})},message:a.errorMessage||"Plugin broken with no error :/"}):(l=i[a.type])?(0,n.tZ)(l,{wid:c,pud:r,dimensions:e.getPluginDims(r,{w:t.w,h:t.h}),style:q}):(0,n.tZ)(ue,{handleError:function(t){return e.handleError({error:t,pluginType:a.type,source:"component",pud:r})},message:"No plugin component by the name ".concat(r)}):(0,n.tZ)(ue,{handleError:function(t){return e.handleError({error:t,pluginType:"none",source:"component",pud:r})},message:"No known plugin by the name ".concat(r)})})),A(I(e),"onResizerDown",(function(t,r,n){var a=t.target;e.setState({protectEvents:!0,resizing:{stacked:n}}),t.preventDefault(),t.stopPropagation();var o=0,i=function(t,r){if("pane"===t.type){var a=e.nodes[r.join(".")].ref;if(!a)return;o+=n?$(a).height:$(a).width}else if("split"===t.type)t.stacked===n?(i(t.left,F(r).concat(["left"])),i(t.right,F(r).concat(["right"]))):i(t.left,F(r).concat(["left"]));else if("tabs"===t.type){var c=t.active||0;i(t.tabs[c],F(r).concat(["tabs",c.toString()]))}};i(ce(e.state.layout,["tiling"].concat(F(r))),r),o+=8;var c=n?$(a).top:$(a).left,l=ce(e.state.layout,["tiling"].concat(F(r),["position"]));"number"!==typeof l&&(l=50);var s=function(t){t.preventDefault(),t.stopPropagation();var a,i=t.touches?t.touches[0]:t,s=(n?i.pageY:i.pageX)-c,u=o*(l/100)+s;a=u>o-32?100:u<32?0:u/o*100,e.setState({newLayout:ie(e.state.layout,["tiling"].concat(F(r),["position"]),a)})},u=function(){document.removeEventListener("touchmove",s),document.removeEventListener("mousemove",s),document.removeEventListener("touchend",u),document.removeEventListener("mouseup",u),e.setState({protectEvents:!1,resizing:null}),null!==e.state.newLayout&&(e.props.store.dispatch({type:"SET_SPLIT_POSITION",position:ce(e.state.newLayout,["tiling"].concat(F(r),["position"])),path:["tiling"].concat(F(r))}),e.setState({newLayout:null}))};document.addEventListener("touchmove",s),document.addEventListener("mousemove",s),document.addEventListener("touchend",u),document.addEventListener("mouseup",u)})),A(I(e),"onDrag",(function(t,r){t.stopPropagation(),t.preventDefault();var n=t.pageX,a=t.pageY,o=null,i=[];for(var c in e.nodes){var l=e.nodes[c];if(l.ref){var s=$(l.ref),u=s.top,d=s.left,f=s.width,p=s.height,b={p:l.p,x:d,y:u,w:f,h:p,pud:l.pud};l.pud===r?o=b:i.push(b)}}e.setState({protectEvents:!0});var m=function(t){t.preventDefault(),t.stopPropagation();var c=t.pageX,l=t.pageY,s={target:null,side:"bottom",left:c,top:l},u=!0,d=!1,f=void 0;try{for(var p,b=i[Symbol.iterator]();!(u=(p=b.next()).done);u=!0){var m=p.value;if((e.state.plugins[m.pud]||{}).isDraggable&&(c>m.x&&c<m.x+m.w&&l>m.y&&l<m.y+m.h)){var h=c-m.x,g=m.x+m.w-c,v=l-m.y,y=m.y+m.h-l,x=Math.min(h,g,v,y);s.target=m.pud,x===h?s.side="left":x===g?s.side="right":x===v&&(s.side="top");break}}}catch(Z){d=!0,f=Z}finally{try{u||null==b.return||b.return()}finally{if(d)throw f}}var w=c-n,k=l-a;s.left=o.x+w,s.top=o.y+k,e.setState({dragging:D({pud:r,width:o.w,height:o.h},s)})},h=function(){e.state.dragging&&e.state.dragging.target&&e.props.store.dispatch(se({pud:r,side:e.state.dragging.side,target:e.state.dragging.target})),e.setState({protectEvents:!1,dragging:null}),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",h)})),A(I(e),"nodes",{}),A(I(e),"dimMap",{}),A(I(e),"getPluginDims",(function(t,r){var n=e.dimMap[t];return n&&n.h.pc===r.h.pc&&n.h.px===r.h.px&&n.w.pc===r.h.pc&&n.w.px===r.w.px?n:(e.dimMap[t]=r,r)})),e}return T(r,[{key:"cancelContextMenuIntercept",value:function(e){e.shiftKey&&e.altKey&&e.preventDefault()}},{key:"componentDidMount",value:function(){this.isWeMounted=!0,this.subscribe(),document.addEventListener("contextmenu",this.cancelContextMenuIntercept)}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe(),document.removeEventListener("contextmenu",this.cancelContextMenuIntercept),this.isWeMounted=!1}},{key:"subscribe",value:function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe((function(){var r=t.getState(),n=r.layout,a=r.plugins;e.isWeMounted&&e.setState((function(e){for(var t in e.plugins){if(!a[t])return{layout:n,plugins:a};if(a[t].broken!==e.plugins[t].broken)return{layout:n,plugins:a}}return e.layout===n?null:{layout:n,plugins:a}}))}))}},{key:"shouldComponentUpdate",value:function(e,t){if(this.state!==t)return!0;for(var r in this.props)if(this.props[r]!==e[r])return!0;return!1}},{key:"onMaybeDrag",value:function(e,t){var r=this.state.plugins[t]&&this.state.plugins[t].isDraggable;(e.altKey||e.shiftKey)&&r&&this.onDrag(e,t)}},{key:"closeTabbedPlugin",value:function(e){var t=e.path,r=e.tabIndex,n=e.activeTabIndex;return function(e,a){var o=a().layout,i=y.QK(o,t).tabs,c=i[r].pud;if(e({type:"CLOSE_TAB",path:t,tabIndex:r}),i.length-1===0)e(D({type:"UPDATE_LAYOUT"},y.Od({layout:o,nodePath:t})));else if(r<=n){e({type:"SET_ACTIVE_TAB",tabIndex:Math.max(n-1,0),path:t})}e({type:"PLUGIN_CLOSED",closedPud:c})}}},{key:"closePlugin",value:function(e){var t=e.pud;return function(e,r){var n=r().layout;e(D({type:"UPDATE_LAYOUT"},y.Od({layout:n,pud:t}))),e({type:"PLUGIN_CLOSED",closedPud:t})}}},{key:"getPaneStyles",value:function(e,t){var r=ne(t.w)||ne(t.h),n=t.p.includes("tabs");return e?{opacity:.75,overflow:"hidden",visibility:r?"hidden":void 0,height:this.state.dragging.height,position:"absolute",left:0,top:0,transform:"translate(".concat(this.state.dragging.left,"px, ").concat(this.state.dragging.top-(t.h.px>0?t.h.px:0),"px)"),width:this.state.dragging.width,zIndex:99999,transition:"opacity 0.2s, max-width 0.2s, max-height 0.2s",maxWidth:"100vw",maxHeight:"100vh"}:{position:"absolute",visibility:r&&!n?"hidden":void 0,display:r&&n?"none":void 0,height:"calc(".concat(t.h.pc,"% + ").concat(t.h.px,"px)"),width:"calc(".concat(t.w.pc,"% + ").concat(t.w.px,"px)"),left:"calc(".concat(t.x.pc,"% + ").concat(t.x.px,"px)"),top:"calc(".concat(t.y.pc,"% + ").concat(t.y.px,"px)"),opacity:"1",transition:"opacity 0.2s, max-width 0.2s, max-height 0.2s",maxWidth:"100vw",maxHeight:"100vh"}}},{key:"render",value:function(){var e=this,t=this.state.newLayout||this.state.layout,r=t.tiling,o=t.floating,i=this.state.plugins,c=[],l=[],s=[];ae(c,l,s,r,i);var u="default";return this.state.resizing?u=this.state.resizing.stacked?"row-resize":"col-resize":this.state.dragging&&(u="grabbing"),(0,n.BX)("div",{style:{height:"100%",width:"100%",position:"absolute"},children:[c.map((function(t){var r=t.pud,o=t.p,i=t.header,c=t.isClosable,l=t.isDraggable,s=e,u=e.state.plugins[r]||{},d=e.state.plugins[i&&i.pud]||{},f=i&&i.p.h.px,p=i&&i.pud&&(0,n.tZ)(ue,{handleError:function(e){return s.props.handleError({error:e,pluginType:d.type,source:"component",pud:r})},message:d.broken?d.errorMessage:void 0,children:(0,n.tZ)(v.zt,{store:e.props.classicStoreFor(r),children:e.getPluginComponent(i.p,i.pud)})}),b=e.state.dragging&&e.state.dragging.pud===r;return(0,n.BX)(a.Fragment,{children:[i&&(0,n.tZ)("div",{className:"WHO AM I??",style:D({},e.getPaneStyles(b,i.p),{backgroundColor:"var(--background-default)",color:"var(--foreground-default)",height:"".concat(f,"px"),alignItems:"center",display:"flex",justifyContent:"spaceBetween"}),children:(0,n.tZ)(E,{HeaderPlugin:p,isClosable:c,isDraggable:l,isTabbed:y.JU(o.p),onClose:function(){s.props.store.dispatch(s.closePlugin({pud:r}))},onDrag:function(e){return s.onDrag(e,r)}})}),(0,n.BX)("div",{ref:function(e){return s.nodes[o.p.join(".")]={ref:e,p:o,pud:r}},style:D({},e.getPaneStyles(b,o),{borderRadius:"var(--border-radius-4)",boxShadow:b?"var(--shadow-2)":"none"}),onMouseDown:function(e){return s.onMaybeDrag(e,r)},children:[e.state.debug?(0,n.BX)("div",{style:{backgroundColor:"hsl(".concat(r.split("").map((function(e){return e.charCodeAt(0)})).reduce((function(e,t){return e+t})),", 50%, 50%)"),width:"100%",height:"100%",border:"inset 5px"},children:[r,(0,n.BX)("pre",{children:["x: ","calc(".concat(o.x.pc,"% + ").concat(o.x.px,"px)"),(0,n.tZ)("br",{}),"y: ","calc(".concat(o.y.pc,"% + ").concat(o.y.px,"px)"),(0,n.tZ)("br",{}),"w: ","calc(".concat(o.w.pc,"% + ").concat(o.w.px,"px)"),(0,n.tZ)("br",{}),"h: ","calc(".concat(o.h.pc,"% + ").concat(o.h.px,"px)"),(0,n.tZ)("br",{}),"p: ",o.p.join(" ")]})]}):(0,n.tZ)(ue,{handleError:function(e){return s.props.handleError({error:e,pluginType:u.type,source:"component",pud:r})},message:u.broken?u.errorMessage:void 0,children:(0,n.tZ)(v.zt,{store:e.props.classicStoreFor(r),children:e.getPluginComponent(o,r)})}),e.state.dragging&&e.state.dragging.target===r?(0,n.tZ)("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,background:"rgba(127, 127, 127, 0.6)",transition:"transform 0.2s",transformOrigin:"top left",transform:"translate(".concat("right"===e.state.dragging.side?"50%":0,", ").concat("bottom"===e.state.dragging.side?"50%":0,") ").concat("left"===e.state.dragging.side||"right"===e.state.dragging.side?"scaleX(.5)":"scaleY(.5)")}}):null]})]},r)})),this.state.protectEvents&&(0,n.tZ)("div",{style:{zIndex:K,position:"absolute",top:0,bottom:0,left:0,right:0,cursor:u}}),l.map((function(t,r){var a=t.x,o=t.y,i=t.w,c=t.h,l=t.p,s=t.snapped,u=t.stacked;return(0,n.tZ)(oe,{onMouseDown:function(t){return e.onResizerDown(t,l,u)},snapped:s,stacked:u,style:{left:"calc(".concat(a.pc,"% + ").concat(a.px,"px)"),top:"calc(".concat(o.pc,"% + ").concat(o.px,"px)"),width:"calc(".concat(i.pc,"% + ").concat(i.px,"px)"),height:"calc(".concat(c.pc,"% + ").concat(c.px,"px)")}},r)})),s.map((function(t,r){var a=t.x,o=t.y,i=t.w,c=t.h,l=t.p,s=t.tabs,u=t.active;return(0,n.tZ)(de,{tabsMetadata:s.map((function(t){if("split"===t){var n=ce(e.state.layout,["tiling"].concat(F(l),["tabs"]))[r];t=n.left.pud||n.right.pud}return{title:e.state.layout.pluginTitles[t]||"untitled",isClosable:e.state.plugins[t]&&e.state.plugins[t].isClosable}})),active:u,setActive:function(t){return e.props.store.dispatch((function(e,r){var n=r(),a=["tiling"].concat(F(l));"shell"===ce(n.layout,a.concat("tabs"))[t].pud&&(0,C.j)(C.U3.SHELL_OPENED),e({type:"SET_ACTIVE_TAB",tabIndex:t,path:a})}))},close:function(t){var r=["tiling"].concat(F(l));e.props.store.dispatch(e.closeTabbedPlugin({path:r,tabIndex:t,activeTabIndex:u}))},style:{position:"absolute",left:"calc(".concat(a.pc,"% + ").concat(a.px,"px)"),top:"calc(".concat(o.pc,"% + ").concat(o.px,"px)"),width:"calc(".concat(i.pc,"% + ").concat(i.px,"px)"),height:"calc(".concat(c.pc,"% + ").concat(c.px,"px)")}},r)})),o.map((function(t){var r=e;if(!e.state.plugins[t]){var a=e;return(0,n.tZ)(ue,{handleError:function(e){return a.props.handleError({error:e,pluginType:a.state.plugins[t].type,source:"component",pud:t})},message:"No plugin by the name ".concat(t)},t)}var o=e.props.pluginComponents[e.state.plugins[t].type];if(!o){var i=e;return(0,n.tZ)(ue,{handleError:function(e){return i.props.handleError({error:e,pluginType:i.state.plugins[t].type,source:"component",pud:t})},message:"No component found for plugin by the name ".concat(t)},t)}return(0,n.tZ)(ue,{handleError:function(e){return r.props.handleError({error:e,pluginType:r.state.plugins[t].type,source:"component",pud:t})},children:(0,n.tZ)(v.zt,{store:e.props.classicStoreFor(t),children:(0,n.tZ)(o,{wid:e.props.wid,pud:t},t)})},t)}))]})}}]),r}(a.Component);function se(e){var t=e.pud,r=e.side,n=e.target;return function(e,a){var o=a().layout,i=y.Bp(o,t),c=y.QK(o,i);e(D({type:"UPDATE_LAYOUT"},y.Od({layout:o,pud:t}))),o=a().layout;var l=y.Bp(o,n);if(l){y.JU(l)&&(l=y.Il(l));var s="leftOf";"right"===r?s="rightOf":"top"===r?s="above":"bottom"===r&&(s="below"),e(D({type:"UPDATE_LAYOUT"},y.$T(o,c.pud,s,l,{position:50})))}}}var ue=function(e){U(r,e);var t=V(r);function r(){var e;return P(this,r),A(I(e=t.apply(this,arguments)),"state",{hasError:!!e.props.message,error:new Error(e.props.message)}),e}return T(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t}),this.props.handleError(e)}},{key:"render",value:function(){return this.state.hasError?(0,n.BX)("div",{style:{background:"red",color:"white",width:"100%",height:"100%",padding:"0",margin:"0",overflow:"hidden"},children:[(0,n.tZ)("h1",{children:"This Plugin Crashed!"}),this.state.info&&(0,n.tZ)("pre",{children:this.state.info.componentStack||JSON.stringify(this.state.info)}),this.state.error&&(0,n.tZ)("pre",{children:this.state.error.toString()})]}):this.props.children||null}}]),r}(a.Component);function de(e){var t=e.active,r=void 0===t?0:t,a=e.setActive,o=void 0===a?function(){}:a,i=e.close,c=void 0===i?function(){}:i,l=e.tabsMetadata,s=e.style;return(0,n.tZ)("div",{style:s,children:(0,n.tZ)("div",{style:{height:Y,fontFamily:"'IBM Plex Sans', sansSerif",backgroundColor:"var(--background-root)",display:"flex",alignItems:"flex-end",position:"relative",zIndex:2},children:l.map((function(e,t){return(0,n.tZ)(be,{title:e.title,isClosable:e.isClosable,onClose:function(){return c(t)},onClick:function(){return o(t)},isActive:t===r},t)}))})})}function fe(){var e=X(a.useState(!1),2),t=e[0],r=e[1];return[t,{onMouseEnter:function(){r(!0)},onMouseLeave:function(){r(!1)}}]}function pe(e){return D({height:"100%",boxSizing:"border-box",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",padding:"var(--space-8)",backgroundColor:"var(--background-root)",color:"var(--foreground-dimmer)",fontSize:"var(--font-size-default)",fontFamily:"var(--font-family-default)",borderTopRightRadius:"var(--border-radius-4)",borderTopLeftRadius:"var(--border-radius-4)",cursor:"pointer",transition:"0.2s background-color"},e.isHovering?{backgroundColor:"var(--background-root)",color:"var(--foreground-default)"}:{},e.isActive?{backgroundColor:"var(--background-default)",color:"var(--foreground-default)"}:{})}function be(e){var t,r=e.isActive,a=e.onClick,o=e.title,i=e.isClosable,c=e.onClose,l=X(fe(),2),s=l[0],u=l[1];return(0,n.tZ)("div",D({},u,{style:pe({isHovering:s,isActive:r}),onClick:a,children:(0,n.BX)("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"},children:[(t=o,t?t[0].toUpperCase()+t.slice(1):t),i&&(0,n.tZ)(Z,{onClick:function(e){e.stopPropagation(),c()},Icon:x,style:{height:"8px",width:"8px",padding:0,marginLeft:"7px"}})]})}))}var me=le,he=r(85106),ge=r(44215),ve=r(25108);function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function we(e,t,r){return t&&xe(e.prototype,t),r&&xe(e,r),e}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ke(e,t,r[t])}))}return e}function Se(e,t){return!t||"object"!==Ce(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e,t){return Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ee(e,t)}var Ce=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ze(e);if(t){var a=Ze(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Se(this,r)}}var _e=function(e){return function(t){return function(r){return"function"===typeof r?r(e.dispatch,e.getState):t(r)}}},Ie=["activeFile"],Pe=function(){function e(){var t=this;ye(this,e),ke(this,"marshal",(function(){var e=t.store.getState();return JSON.stringify(e)})),ke(this,"unmarshal",(function(e){var r=JSON.parse(e);t.store.dispatch({type:"SET_WORKSPACE",state:r})})),ke(this,"bootstrap",(function(e){t.store.dispatch(function(e){var t=e.wid,r=e.config;return function(e){for(var n in e({wid:t,type:"CREATE_WORKSPACE",language:r.language,layout:r.layout,activeFile:r.activeFile}),r.plugins)e(Te({wid:t,pluginPud:n,pluginType:r.plugins[n].type,title:r.plugins[n].title,initialState:r.plugins[n].state,isClosable:r.plugins[n].isClosable,isDraggable:r.plugins[n].isDraggable}))}}({config:e}))})),ke(this,"register",(function(e,r){t.reducers[e]=r.reducer,t.receivers[e]=r.receiver||r.receiver,t.components[e]=r.Component})),ke(this,"yikesInjectStore",(function(e){t.yikesExtraStore=e})),ke(this,"injectServices",(function(e){t.services=e})),ke(this,"handleError",(function(e){var r=e.error,n=e.pluginType,a=e.source,o=e.pud;if(0===t.errorHandlers.length)return ve.error("Plugin with type ",n," errored in ",a," error is: "),void ve.error(r);t.errorHandlers.forEach((function(e){return e({error:r,pluginType:n,source:a,pud:o})}))})),ke(this,"registerErrorHandler",(function(e){var r=t;return t.errorHandlers.push(e),function(){r.errorHandlers=r.errorHandlers.filter((function(t){return t!==e}))}})),window.performance.clearMarks("create-workspace"),window.performance.mark("create-workspace"),this.wid=""+Math.random(),this.reducers={},this.receivers={},this.components={},this.pluginStores={},this.yikesExtraStore={getState:function(){return{}},subscribe:function(){return function(){}},dispatch:function(){}},this.errorHandlers=[];var r=[];this.govalConnectionStarted=null,this.classicStoreFor=function(e){var a=t,i={};if(t.pluginStores[e])return t.pluginStores[e];var c=t,u={getState:function(){return{get user(){return i.user=!0,c.yikesExtraStore.getState().user},get banners(){return i.banners=!0,c.yikesExtraStore.getState().banners},get replEnvironment(){return i.replEnvironment=!0,c.yikesExtraStore.getState().replEnvironment},get repls(){throw new Error("Please use repl shared reducer")},get replsByUrl(){throw new Error("Please use repl shared reducer")},get replsByUser(){throw new Error("Please use repl shared reducer")},get files(){throw new Error("Please use files shared reducer")},get messages(){return i.messages=!0,c.yikesExtraStore.getState().messages},get plans(){return i.plans=!0,c.yikesExtraStore.getState().plans},workspace:ke({},a.wid,a.store.getState()),get services(){return c.services}}},subscribe:function(t){var r=a,n={},o={},c=Ie.reduce((function(e,t){return e[t]=r.store.getState()[t],e}),{});return a.store.subscribe((function(){var a=r.store.getState().plugins[e];if(a!==n)return n=a,void t();var l=!1,s=r.yikesExtraStore.getState();for(var u in i)s[u]!==o[u]&&(o[u]=s[u],l=!0);var d=r.store.getState();for(var f in c)d[f]!==c[f]&&(c[f]=d[f],l=!0);l&&t()}))},dispatch:function(t){if(t.type){var i={};t.path&&(i={path:t.path}),o.n_({category:"redux",message:"workspace action",data:je({type:t?t.type:null},i)})}if(t.wid||"function"===typeof t){var c=_e(a.classicStoreFor(e))(n(s)(l))(t),u=!0,d=!1,f=void 0;try{for(var p,b=r[Symbol.iterator]();!(u=(p=b.next()).done);u=!0){p.value.cb()}}catch(m){d=!0,f=m}finally{try{u||null==b.return||b.return()}finally{if(d)throw f}}return c}return a.yikesExtraStore.dispatch(t)}};return t.pluginStores[e]=u,u};var n=c(this.classicStoreFor,this.wid,this.receivers,this.handleError),a=g(this.wid,this.reducers,this.handleError),i=a(void 0,{type:"@@INIT"}),l=function(e){i=a(i,e)},s={getState:function(){return i},subscribe:function(e){var t=function(){r=r.filter((function(e){return e.unsub!==t}))};return r.push({cb:e,unsub:t}),t},dispatch:function(e){if(e.type){var t={};e.path&&(t={path:e.path}),o.n_({category:"redux",message:"workspace action",data:je({type:e?e.type:null},t)})}var a=_e(s)(n(s)(l))(e),i=!0,c=!1,u=void 0;try{for(var d,f=r[Symbol.iterator]();!(i=(d=f.next()).done);i=!0){d.value.cb()}}catch(p){c=!0,u=p}finally{try{i||null==f.return||f.return()}finally{if(c)throw u}}return a}};window.store=s,this.store=s}return we(e,[{key:"component",value:function(){var e=this;return function(){return(0,n.tZ)(he.Z.Provider,{value:e.wid,children:(0,n.tZ)(Ne,{store:e.store,classicStoreFor:e.classicStoreFor,wid:e.wid,pluginComponents:e.components,handleError:e.handleError,govalConnectionStarted:e.govalConnectionStarted})})}}}]),e}(),Ne=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(r,e);var t=Oe(r);function r(){return ye(this,r),t.apply(this,arguments)}return we(r,[{key:"componentDidMount",value:function(){var e=this.props.govalConnectionStarted;if(e){var t=window.performance.now()-e;ge.kg.info(C.U3.GOVAL_TIME_TO_CONNECT,{time:t})}this.props.store.dispatch({type:"WORKSPACE_MOUNTED"})}},{key:"componentWillUnmount",value:function(){this.props.store.dispatch({type:"WORKSPACE_WILL_UNMOUNT"})}},{key:"render",value:function(){return(0,n.tZ)("div",{style:{height:"100%",position:"relative",display:"flex"},children:(0,n.tZ)(me,{wid:this.props.wid,store:this.props.store,classicStoreFor:this.props.classicStoreFor,pluginComponents:this.props.pluginComponents,handleError:this.props.handleError})})}}]),r}(a.Component);function Te(e){var t=e.wid,r=e.pluginPud,n=e.pluginType,a=e.title,o=e.initialState,i=e.isClosable,c=void 0!==i&&i,l=e.isDraggable;return{type:"LOAD_PLUGIN",wid:t,pluginPud:r,pluginType:n,title:a,initialState:o,isClosable:c,isDraggable:void 0!==l&&l}}},78411:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=new WeakMap}var t,n,a;return t=e,(n=[{key:"getHandle",value:function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new Error("Only objects");var t={type:"handle",identity:e.constructor?Object.prototype.toString.call(e.constructor):Object.prototype.toString.call(e)};return this.map.set(t,e),t}},{key:"get",value:function(e){return this.map.get(e)}},{key:"safeGet",value:function(e){if(!e)throw new Error("Expected object handle to be truthy");var t=this.map.get(e);if(!t)throw new Error("Expected object handle to return object");return t}}])&&r(t.prototype,n),a&&r(t,a),e}());t.Z=n},97930:function(e,t,r){r.d(t,{Q:function(){return b}});var n=r(75971),a=r(40802),o=r(15775),i=r(54144),c=r(77070),l=r(24704);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}var d=function(e){return{dsn:e,release:"b88ffe5",environment:"production",allowUrls:[/(?:[a-z]+\.)?replit\.com/,/(?:[a-z]+\.)?repl\.it/],denyUrls:[/^file/],beforeSend:function(e,t){var r;return t&&(r=t.originalException,Boolean(r&&"object"===typeof r&&"CustomSentryError"===r.name))&&(t.originalException.extras&&(e.extra=u({},e.extra,t.originalException.extras)),t.originalException.tags&&(e.tags=u({},e.tags,t.originalException.tags))),e}}},f=new n.R(d("https://7f707426a65447cc94b6fca9a2a4afb9@sentry.replit.com/14")),p=new o.R(d("https://8fc6307797c84bfca2c567601a7860f2@o1151714.ingest.sentry.io/6229092"));function b(e,t){if((0,c.j)(c.U3.WS_CRASHED),!f||!p)return"undefined-event-id";var r;try{throw new Error("Sentry syntheticException")}catch(s){r=s}var n=u({},null===t||void 0===t?void 0:t.tags,{bsod:"true"});l.v.addError(e,u({},n)),a.$e((function(a){a.setTags(n),(null===t||void 0===t?void 0:t.extras)&&a.setExtras(t.extras),f.captureException(e,{originalException:e,syntheticException:r},a)}));var o="undefined-event-id";return i.$e((function(a){a.setTags(n),(null===t||void 0===t?void 0:t.extras)&&a.setExtras(t.extras),o=p.captureException(e,{originalException:e,syntheticException:r},a)||"undefined-event-id"})),o}},20657:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(t){n(e,t,r[t])}))}return e}function o(e){"function"!==typeof e.primary&&(e.primary=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e});var t=Object.keys(e);return function(r,n){var o,i=!1,c={},l=!0,s=!1,u=void 0;try{for(var d,f=t[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value;if("primary"!==p){var b=e[p],m=r?r[p]:void 0,h=b(m,n);c[p]=h,i=i||h!==m}}}catch(v){s=!0,u=v}finally{try{l||null==f.return||f.return()}finally{if(s)throw u}}r&&(o=i?a({},r,c):r);var g=e.primary(o,n);return(i=i||g!==o)?a({},c,g):r}}r.d(t,{$:function(){return o}})},73049:function(e,t,r){r.d(t,{u9:function(){return g},mv:function(){return v},YM:function(){return x}});var n=r(34051),a=r.n(n),o=r(46846);function i(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(e){i(o,n,a,c,l,"next",e)}function l(e){i(o,n,a,c,l,"throw",e)}c(void 0)}))}}var l=/^\d+$/,s=function(e){return 0===e.length||e.startsWith("/")},u=function(e){return e.startsWith("./")?e.slice(2):e},d=function(e){if(e)return l.test(e)?parseInt(e,10):void 0},f=function(e){return e.split(":").length-1};function p(e,t){return b.apply(this,arguments)}function b(){return(b=c(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.stat(r);case 4:if((n=e.sent).exists){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",n.type===o.Tv.File);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return h.apply(this,arguments)}function h(){return(h=c(a().mark((function e(t,r){var n,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,r);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",{path:r});case 4:if(0!==f(r)){e.next=6;break}return e.abrupt("return",{});case 6:return n=r.split(":"),o=d(n.pop()),r=n.join(":"),e.next=11,p(t,r);case 11:if(!e.sent){e.next=13;break}return e.abrupt("return",{path:r,line:o});case 13:if(0!==f(r)){e.next=15;break}return e.abrupt("return",{});case 15:return i=o,o=d(n.pop()),r=n.join(":"),e.next=20,p(t,r);case 20:if(!e.sent){e.next=22;break}return e.abrupt("return",{path:r,line:o,col:i});case 22:return e.abrupt("return",{});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return window.location.hash.length>1}function v(e){return y.apply(this,arguments)}function y(){return(y=c(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=window.location.hash.slice(1);try{r=window.decodeURI(r)}catch(a){}if(n=u(r),!s(n)){e.next=5;break}return e.abrupt("return",{});case 5:return e.abrupt("return",m(t,n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t=e.path,r=e.line,n=e.col,a="#".concat(t);return r?n?"".concat(a,":").concat(r,":").concat(n):"".concat(a,":").concat(r):a}},7411:function(e,t,r){r.d(t,{Z:function(){return a},J:function(){return o}});var n=r(78135);function a(e,t,r,n){var a=e.workspace[t].plugins[r];if(a.type!==n)throw new Error("expected type to be "+n);return a.state}function o(e,t,r,o){var i=(0,n.v9)((function(n){return a(n,e,t,r)}),o),c=(0,n.I0)();return[i,function(r){c({type:"SET_STATE",wid:e,pud:t,state:r})}]}},8132:function(e,t,r){r.d(t,{Z:function(){return fe}});var n=r(34051),a=r.n(n),o=r(35944),i=r(65988),c=r.n(i),l=r(67294),s=r(40802),u=r(94184),d=r.n(u),f=r(46846),p=r(71291),b=r(11503),m=r(8996),h=r(51281),g=r(12596),v=r(57923),y=r(40425),x=r(58458),w=r(5383),k=r(44894),Z=r(62857),j=r(27740),S=r.n(j),E=r(85133),C=r(98620),O=r(50553),_=r(88768),I=r(86923),P=r(11542),N=r(77070),T=r(45193),A=r(66970),B=r(60818),U=r(93577),R=r(55982);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){D(o,n,a,i,c,"next",e)}function c(e){D(o,n,a,i,c,"throw",e)}i(void 0)}))}}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){M(e,t,r[t])}))}return e}function H(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=N.U3.ENV_EDITOR_OPENED,W=N.U3.ENV_EDITOR_SECRET_ADDED,V=N.U3.ENV_EDITOR_SECRET_UPDATED,K=N.U3.ENV_EDITOR_SECRET_DELETED,Y=N.U3.ENV_EDITOR_INTRO_SKIPPED,q=N.U3.ENV_EDITOR_INSERT_USED,$=((0,o.tZ)(c(),{id:"223f8ac8383e5040",children:"*.jsx-223f8ac8383e5040{max-width:100%}"}),"jsx-223f8ac8383e5040");function J(e){return function(t){t.stopPropagation(),e(t)}}function Q(e,t){return e?e.trim()?t.includes(e)?"You already have a secret with this key":null:"The key must include a non-space character":"Please add a key for this secret"}function ee(e){return e?null:"Please add a value for this secret"}function te(e){var t=e.secret,r=e.otherKeys,n=e.onUpdateKey,a=e.onUpdateValue,i=e.onSave,s=e.onCancel,u=e.onDelete,d=F(l.useState(),2),f=d[0],p=d[1],b=F(l.useState(),2),v=b[0],y=b[1],x=l.useRef(null),w=l.useRef(null),k=function(){var e=Q(t.key,r);if(e)return p(e),void(x.current&&x.current.focus());var n=ee(t.value);if(n)return y(n),void(w.current&&w.current.focus());i()};l.useEffect((function(){f&&(Q(t.key,r)||p(null))}),[t.key,f,r]),l.useEffect((function(){v&&(ee(t.value)||y(null))}),[t.value,v]);var Z=J((function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k())}));return(0,o.BX)("div",{className:"jsx-691e121709ad57fd",children:[(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.tZ)(g.ZP,{autoFocus:!0,ref:x,label:"key",name:"key",value:t.key,spellCheck:!1,onChange:function(e){n(e.currentTarget.value)},onKeyDown:Z,validationResults:f?[{message:f,state:"error"}]:void 0}),(0,o.tZ)(I.Z,{ref:w,label:"value",name:"value",value:t.value,spellCheck:!1,onChange:function(e){a(e.currentTarget.value)},onKeyDown:Z,validationResults:v?[{message:v,state:"error"}]:void 0}),(0,o.BX)(m.Ug,{justify:"space-between",children:[u?(0,o.tZ)(h.Z,{onClick:J(u),color:"negative",children:"Delete"}):null,(0,o.BX)(m.Ug,{spacing:1,children:[s?(0,o.tZ)(h.Z,{onClick:J(s),children:"Cancel"}):null,(0,o.tZ)(h.Z,{color:"primary",onClick:J(k),children:u?"Save":"Add new secret"})]})]})]}),(0,o.tZ)(c(),{id:"691e121709ad57fd",children:"div.jsx-691e121709ad57fd{background:var(--background-root);padding:var(--space-16);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8)}"})]})}function re(e){var t=e.onAdd,r=e.otherKeys,n=F(l.useState({key:"",value:""}),2),a=n[0],i=n[1];return(0,o.tZ)(te,{secret:a,otherKeys:r,onUpdateKey:function(e){return i((function(t){return t?X({},t,{key:e}):t}))},onUpdateValue:function(e){return i((function(t){return t?X({},t,{value:e}):t}))},onSave:function(){i({key:"",value:""}),a.value&&a.key&&t(a)}})}var ne={styles:(0,o.tZ)(c(),{id:"6ee31908fcf933da",children:"*.jsx-6ee31908fcf933da{max-width:-webkit-calc(100% - 16px);max-width:-moz-calc(100% - 16px);max-width:calc(100% - 16px)}"}),className:"jsx-6ee31908fcf933da"};function ae(e){var t=e.secret,r=e.otherKeys,n=e.onUpdateSecret,a=e.onDeleteSecret,i=F(l.useState(null),2),s=i[0],u=i[1],f=null;s&&(f=(0,o.tZ)(te,{secret:s,otherKeys:r,onUpdateKey:function(e){return u((function(t){return t?X({},t,{key:e}):t}))},onUpdateValue:function(e){return u((function(t){return t?X({},t,{value:e}):t}))},onSave:function(){u(null),s.value&&s.key&&(s.value===t.value&&s.key===t.key||n(t.key,s))},onCancel:function(){return u(null)},onDelete:function(){return a(t.key)}}));var p=Boolean(f);return(0,o.BX)("div",{onClick:function(){p||u(X({},t))},className:"jsx-93c5849ae6790dea "+(d()("secret",$,{"is-editing":p})||""),children:[f||(0,o.BX)(m.Ug,{align:"center",justify:"space-between",wrap:"nowrap",className:$,children:[(0,o.BX)(m.Ug,{align:"center",justify:"start",wrap:"nowrap",className:ne.className,children:[(0,o.tZ)(x.Z,{children:(0,o.tZ)(Z.Z,{size:24})}),(0,o.tZ)(x.Z,{truncate:!0,children:t.key})]}),(0,o.tZ)("div",{className:"jsx-93c5849ae6790dea edit",children:(0,o.tZ)(x.Z,{children:(0,o.tZ)(w.Z,{size:16})})})]}),ne.styles,(0,o.tZ)(c(),{id:"93c5849ae6790dea",children:".secret.jsx-93c5849ae6790dea{cursor:pointer;padding:var(--space-16)var(--space-16)var(--space-16)0;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8)}.secret.is-editing.jsx-93c5849ae6790dea{cursor:auto;padding:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.secret.jsx-93c5849ae6790dea:hover{background:var(--background-root)}.edit.jsx-93c5849ae6790dea{margin-left:var(--space-8);visibility:hidden}.secret.jsx-93c5849ae6790dea:hover .edit.jsx-93c5849ae6790dea{visibility:initial}.is-touch-device .edit.jsx-93c5849ae6790dea{visibility:initial}"})]})}function oe(e){var t=e.secrets,r=e.onUpdateSecret,n=e.onDeleteSecret;return(0,o.tZ)(m.gC,{spacing:1,align:"stretch",className:$,children:Object.keys(t).sort().map((function(e){return(0,o.tZ)(ae,{otherKeys:Object.keys(t).filter((function(t){return t!==e})),secret:{key:e,value:t[e]},onUpdateSecret:r,onDeleteSecret:n},e)}))})}function ie(e){var t=e.secrets,r=e.language,n=e.onInsertDone,a=F(l.useState(Object.keys(t)[0]),2),i=a[0],c=a[1],s=(0,B.Z)(),u=function(e,t){if(!e)return null;switch((0,R.r6)(e)){case"js":case"ts":case"jsx":case"tsx":return{import:null,access:"const mySecret = process.env['".concat(t,"']")};case"py":return{import:"import os",access:"my_secret = os.environ['".concat(t,"']")};case"go":return{import:'import "os"',access:'mySecret := os.Getenv("'.concat(t,'")')};case"java":case"scala":return{import:null,access:'System.getenv("'.concat(t,'")')};case"rb":return{import:null,access:'ENV["'.concat(t,'"]')};case"c":case"cpp":return{import:"#include <stdlib.h>",access:'char* mySecret = getenv("'.concat(t,'")')};case"cs":return{import:"using System;",access:'string mySecret = System.Environment.GetEnvironmentVariable("'.concat(t,'");')};case"sh":return{import:null,access:'"$'.concat(t,'"')};default:return null}}((0,U.Z)(),i);return u&&s?(0,o.BX)(m.gC,{spacing:2,align:"stretch",className:$,children:[(0,o.BX)(x.Z,{children:["To use secrets in ",S().get(r).displayName]}),u.import?(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.tZ)(y.Z,{level:6,truncate:!0,children:"1. Add the imports"}),(0,o.tZ)(x.Z,{tag:"pre",fontFamily:"monospace",className:le.className,truncate:!0,children:u.import}),(0,o.tZ)(m.Ug,{children:(0,o.BX)(h.Z,{onClick:function(){s({code:u.import,insertAt:0}),(0,N.j)(q)},children:["Insert -",">"]})})]}):null,(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.BX)(y.Z,{level:6,truncate:!0,children:[u.import?"2. ":"","Access the secret by key as an environment variable"]}),(0,o.tZ)(C.Z,{respectMaxWidth:!0,items:Object.keys(t),onClick:function(e){c(e)},renderAnchorComponent:function(e){var t=e.innerRef,r=H(e,["innerRef"]);return(0,o.tZ)(h.Z,X({ref:t},r,{Icon:O.Z,filled:!1,iconOnRight:!0,children:(0,o.tZ)(x.Z,{style:{maxWidth:"100px"},truncate:!0,children:i})}))},renderItemChildComponent:function(e){return(0,o.tZ)(x.Z,{truncate:!0,children:e})}}),(0,o.tZ)(x.Z,{tag:"pre",fontFamily:"monospace",className:le.className,truncate:!0,children:u.access}),(0,o.tZ)(m.Ug,{children:(0,o.BX)(h.Z,{onClick:function(){s({code:u.access}),n&&n(),(0,N.j)(q)},children:["Insert -",">"]})})]}),le.styles]}):(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.tZ)(x.Z,{children:"The secrets will be available in your repl when you hit the run button as environment variables."}),s?null:(0,o.BX)(x.Z,{children:["Select a $",S().get(r).displayName," file to enable code inserter"]})]})}var ce,le={styles:(0,o.tZ)(c(),{id:"62380dc2f7e272ba",children:"*.jsx-62380dc2f7e272ba{padding:var(--space-8);background:var(--background-root)}"}),className:"jsx-62380dc2f7e272ba"};function se(e){var t=e.language,r=e.secrets,n=e.onAdd,a=e.onIntroDone,i=F(l.useState(ce.What),2),c=i[0],s=i[1];return c===ce.What?(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.tZ)(y.Z,{level:5,children:"What's this?"}),(0,o.tZ)(x.Z,{children:"Using this feature will allow you to hide secret information like passwords while still being able to use them in the repl"}),(0,o.tZ)(m.Ug,{children:(0,o.tZ)(h.Z,{filled:!0,color:"primary",onClick:function(){return s(ce.Add)},children:"Got it"})})]}):c===ce.Add?(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.tZ)(y.Z,{level:5,children:"Add your first secret!"}),(0,o.tZ)(x.Z,{children:'The "key" is what you will use in the code itself and will be visible to everyone'}),(0,o.tZ)(x.Z,{children:'The "value" is where you put the private or secret text, hit shift+enter to add new lines'}),(0,o.tZ)(re,{onAdd:function(e){n(e),s(ce.Use)},otherKeys:Object.keys(r)}),(0,o.tZ)(h.Z,{onClick:function(){var e=Object.keys(r).length>0?ce.Use:ce.End;s(e),(0,N.j)(Y,{step:ce.Add})},children:"Skip this step"})]}):c===ce.Use?(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.tZ)(y.Z,{level:5,children:"Now let's use it in the repl."}),(0,o.tZ)(ie,{secrets:r,language:t,onInsertDone:function(){return s(ce.End)}}),(0,o.tZ)(h.Z,{onClick:function(){s(ce.End),(0,N.j)(Y,{step:ce.Use})},children:"Skip this step"})]}):(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.tZ)(x.Z,{children:"You're all set. You can add as many secrets as you want, we promise to keep them safe."}),(0,o.BX)(x.Z,{children:["You can always"," ",(0,o.tZ)("a",{href:"https://docs.replit.com/repls/secret-keys",target:"_blank",children:"visit our docs"})," ","for more information."]}),(0,o.tZ)(x.Z,{children:"Please note, that people you invite as multiplayer collaborators will have access to these secrets."}),(0,o.tZ)(h.Z,{onClick:a,children:"Got it"})]})}function ue(e){var t=e.secrets,r=e.update,n=F(l.useState(!1),2),i=n[0],u=n[1],d=F(l.useState(""),2),f=d[0],p=d[1],b=F(l.useState(!1),2),g=b[0],v=b[1],w=F(l.useState(!1),2),k=w[0],Z=w[1],j=l.useRef(null),S=function(){var e=L(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0),t=function(){Z(!0),v(!1),(0,N.j)(N.U3.ENV_EDITOR_RAW_SAVE_ERRORED),j.current&&j.current.focus()},e.prev=3,n=JSON.parse(f),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(3),t(),e.abrupt("return");case 11:if("object"===typeof n&&Object.getPrototypeOf(n)===Object.prototype&&!Object.values(n).some((function(e){return"string"!==typeof e}))&&!Object.keys(n).some((function(e){return"string"!==typeof e}))){e.next=14;break}return t(),e.abrupt("return");case 14:return e.prev=14,e.next=17,r(n);case 17:e.next=24;break;case 19:return e.prev=19,e.t1=e.catch(14),s.Tb(e.t1),t(),e.abrupt("return");case 24:u(!1),v(!1),(0,N.j)(N.U3.ENV_EDITOR_RAW_SAVE_SUCCESSFUL);case 27:case"end":return e.stop()}}),e,null,[[3,7],[14,19]])})));return function(){return e.apply(this,arguments)}}();return l.useEffect((function(){Z(!1)}),[f]),l.useEffect((function(){0!==Object.keys(t).length?p(JSON.stringify(t,null,2)):p("{\n}")}),[t]),(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.tZ)(y.Z,{level:5,children:"Edit raw JSON (Advanced)"}),(0,o.tZ)(h.Z,{onClick:function(){(0,N.j)(N.U3.ENV_EDITOR_RAW_OPENED),u(!0)},children:"Open raw editor"}),(0,o.tZ)(T.Z,{isOpen:i,preventClose:g,onRequestClose:function(){return u(!1)},children:(0,o.BX)("div",{className:"jsx-47d637c4b0043f26 content",children:[(0,o.BX)(m.gC,{spacing:2,align:"stretch",children:[(0,o.tZ)(y.Z,{level:4,children:"Raw Secrets Editor"}),(0,o.tZ)(x.Z,{children:"The text must be valid JSON object with keys and values as strings"}),(0,o.tZ)(I.Z,{ref:j,disabled:g,value:f,onChange:function(e){p(e.currentTarget.value)},validationResults:k?[{message:"Invalid input. Please make sure the data is valid JSON and all keys and values are strings.",state:"error"}]:void 0}),(0,o.BX)(m.Ug,{spacing:2,justify:"end",children:[(0,o.tZ)(h.Z,{disabled:g,onClick:function(){return u(!1)},children:"Cancel"}),(0,o.tZ)(h.Z,{loading:g,color:"primary",onClick:S,children:"Save"})]})]}),(0,o.tZ)(c(),{id:"47d637c4b0043f26",children:".content.jsx-47d637c4b0043f26{height:100%;width:100%;padding:var(--space-24)}.editable-area.jsx-47d637c4b0043f26{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8)0}.editor.jsx-47d637c4b0043f26{height:150px;padding-bottom:var(--space-8);-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.collapse.jsx-47d637c4b0043f26{cursor:pointer}"})]})})]})}function de(e,t){var r=X({},e);return"add"===t.type?r[t.key]=t.value:"update"===t.type?(delete r[t.oldKey],r[t.key]=t.value):delete r[t.key],r}function fe(e){var t,r=e.fs,n=(0,v.Z)(),i=F(l.useState(null),2),c=i[0],s=i[1],u=(0,_.eYX)(),d=u.data,h=u.loading,g=u.updateQuery,x=F((0,_.e_)(),1)[0],w=(0,E.Z)();l.useEffect((function(){(0,N.Cn)(G),k.Z.set("enveditortour",!0)}),[]),l.useEffect((function(){function e(){return(e=L(a().mark((function e(){var t,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.readFile(".env");case 2:if((t=e.sent).error!==f.Df.NotFound){e.next=6;break}return n.current&&s({}),e.abrupt("return");case 6:if(!t.error){e.next=8;break}throw new Error("Error getting .env");case 8:if(n.current){e.next=10;break}return e.abrupt("return");case 10:o=b.Z.parse(t.content.toString()),s(o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r,s,n]);var Z=l.useRef(null),j=l.useRef([]),S=function(){var e=L(a().mark((function e(t){var n,o,i,l,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}throw new Error("trying to write secrets before loading");case 2:return n=de(c,t),s(n),j.current.push(t),o=Math.random(),Z.current=o,e.next=10,r.readFile(".env");case 10:if(l=e.sent,Z.current===o){e.next=13;break}return e.abrupt("return");case 13:return l.error?i=n:(i=b.Z.parse(l.content.toString()),j.current.forEach((function(e){i=de(i,e)})),s(i)),j.current=[],u=b.Z.serialize(i),e.next=18,r.writeFile(".env",p.Z.from(u));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=L(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,N.j)(W,{multiline:t.value.includes("\n")}),S(X({type:"add"},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=L(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,N.j)(V,{multiline:r.value.includes("\n")}),S(X({type:"update",oldKey:t},r));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),I=function(){var e=L(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,N.j)(K),S({type:"delete",key:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(h||!c||!w)return(0,o.tZ)(m.ZP,{align:"stretch",justify:"center",children:(0,o.tZ)(A.Z,{})});if(null===d||void 0===d||null===(t=d.currentUser)||void 0===t?void 0:t.seenIntro){var T=Object.keys(c);return(0,o.BX)(o.HY,{children:[(0,o.tZ)(oe,{secrets:c,onUpdateSecret:O,onDeleteSecret:I}),(0,o.tZ)("div",{children:(0,o.tZ)(re,{onAdd:C,otherKeys:T})}),T.length>0?(0,o.BX)(o.HY,{children:[(0,o.tZ)(P.Z,{size:2}),(0,o.BX)(m.gC,{spacing:1,align:"stretch",className:$,children:[(0,o.tZ)(y.Z,{level:5,children:"Use secrets in the repl"}),(0,o.tZ)(ie,{secrets:c,language:w.language})]})]}):null,(0,o.tZ)(P.Z,{size:2}),(0,o.tZ)(ue,{secrets:c,update:function(){var e=L(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(t),n=b.Z.serialize(t),e.next=4,r.writeFile(".env",p.Z.from(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})}return(0,o.tZ)(se,{secrets:c,onAdd:C,language:w.language,onIntroDone:function(){x(),g((function(e){return e.currentUser?X({},e,{currentUser:X({},e.currentUser,{seenIntro:!0})}):e}))}})}!function(e){e.What="What",e.Add="Add",e.Use="Use",e.End="End"}(ce||(ce={}))},29694:function(e,t,r){r.d(t,{Z:function(){return Z}});var n=r(35944),a=r(67294),o=r(41664),i=r(20795),c=r(47240);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return(0,n.tZ)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}({},e,{children:(0,n.tZ)("path",{d:"M1 4.00001V10M1 10H7M1 10L5.64 5.64001C7.02091 4.26143 8.81245 3.36898 10.7447 3.09713C12.6769 2.82527 14.6451 3.18874 16.3528 4.13277C18.0605 5.0768 19.4152 6.55025 20.2126 8.33111C21.0101 10.112 21.2072 12.1038 20.7742 14.0064C20.3413 15.909 19.3017 17.6194 17.8121 18.8798C16.3226 20.1402 14.4637 20.8824 12.5157 20.9945C10.5677 21.1066 8.63598 20.5826 7.01166 19.5014C5.38734 18.4202 4.15839 16.8404 3.51 15M12 7.00001V12.3333L16 15",strokeLinecap:"round",strokeLinejoin:"round"})}))}var u=r(50348),d=r(30617),f=r(46846),p=r(27754),b=r(3204),m=r(67938),h=r(54929),g=r(70917),v=r(27464),y=(0,g.F4)("0%,100%{opacity:1;}50%{opacity:0.25;}"),x=function(e){var t=e.repl,r=e.isSaving;return(0,n.tZ)(o.default,{href:{pathname:"/replHistory",query:{slug:t.slug}},as:"".concat(t.url,"/history"),children:(0,n.tZ)("a",{children:(0,n.tZ)(h.Z,{css:[b.l0.flex.row,b.l0.align.center,b.l0.color.foregroundDefault,r?(0,g.iv)({animation:"".concat(y," 2s infinite")}):null],children:(0,n.tZ)(v.Z,{size:28,alt:"Repl history",children:(0,n.tZ)(s,{})})})})})},w=(0,g.iv)({color:b.TV.accentNegativeDefault}),k=function(){return(0,n.BX)(h.Z,{children:[(0,n.tZ)(v.Z,{size:18,disabled:!0,alt:"Reconnecting, changes will be synced when you're online",css:[w],children:(0,n.tZ)(i.CloudOff,{})}),(0,n.tZ)(m.x,{css:[(0,g.iv)({"@media (hover: hover)":{display:"none"}}),b.l0.pl(4),w],children:"Offline"})]})},Z=function(e){var t=e.canEdit,r=e.repl,o=function(){var e=(0,d.Z)().fs,t=(0,a.useState)(!1),r=t[0],n=t[1],o=(0,u.Z)(),i=(0,a.useState)(!1),c=i[0],l=i[1];return(0,a.useEffect)((function(){o===p.e.CONNECTED&&l(!0)}),[o]),(0,a.useEffect)((function(){return n(e.getStatus()===f.kO.Syncing),e.onStatusChange((function(e){n(e===f.kO.Syncing)}))}),[e]),c?{isSaving:r,isOffline:o!==p.e.CONNECTED}:{isSaving:!1,isOffline:!1}}(),i=o.isSaving,c=o.isOffline;return t?(0,n.tZ)(h.Z,{css:[b.l0.flex.row,b.l0.align.center,b.l0.height("100%")],children:c?(0,n.tZ)(k,{}):(0,n.tZ)(x,{isSaving:i,repl:r})}):null}},79399:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(35944),a=(r(67294),r(60001)),o=r(38732);function i(e){var t=e.source,r=e.sourcePos,i=e.fs,c=e.path,l=(0,o.Z)(i,c);return(0,n.tZ)(a.Z,{components:{img:l},sourcePos:r,children:t})}},27349:function(e,t,r){r.d(t,{Z:function(){return E}});var n=r(35944),a=r(67294),o=r(31162),i=r(17632),c=r(36793),l=r(66552),s=r(3204),u=r(54929),d=r(67938),f=r(37424),p=r(88341);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=[{value:"side-by-side",title:"side-by-side"},{value:"stacked",title:"stacked"}],g=[{value:10,title:"Tiny"},{value:14,title:"Normal"},{value:18,title:"Large"},{value:24,title:"Huge"}],v=[{value:"spaces",title:"spaces"},{value:"tabs",title:"tabs"}],y=[{value:2,title:"2"},{value:4,title:"4"},{value:8,title:"8"}],x=[{value:"default",title:"default"},{value:"emacs",title:"emacs"},{value:"vim",title:"vim"}],w=[{value:"none",title:"none"},{value:"soft",title:"soft wrap"}],k=[{value:"disabled",title:"disabled"},{value:"enabled",title:"enabled"}];function Z(e){var t=e.id,r=e.title,o=e.children,i=(0,f.H)()(t);return(0,n.BX)(u.Z,{css:[s.l0.colWithGap(8)],children:[(0,n.tZ)(u.Z,{tag:"label",htmlFor:i,children:"string"===typeof r?(0,n.tZ)(d.x,{children:r}):r}),a.cloneElement(o,{id:i})]})}var j=(0,u.K)("div");function S(){var e=(0,a.useState)(!1),t=e[0],r=e[1],o=(0,a.useState)(!1),c=o[0],l=o[1],f=(0,a.useRef)(!1);return(0,a.useEffect)((function(){f.current=!0;var e=setTimeout((function(){l(t)}),200);return function(){clearTimeout(e)}}),[t]),(0,n.BX)(u.Z,{css:[s.l0.rowWithGap(8),s.l0.justify.start],onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:[(0,n.tZ)(d.x,{children:"Code intelligence"}),(0,n.BX)(p.Z,{isOpen:c,onClickOutside:function(){return l(!1)},children:[(0,n.tZ)(j,{children:(0,n.tZ)(i.Z,{})}),(0,n.tZ)(u.Z,{css:[s.l0.maxWidth(240),s.l0.p(8)],children:(0,n.BX)(d.x,{multiline:!0,children:["Code intelligence gives you autocomplete, helpful info, and hints as you type. See more"," ",(0,n.tZ)("a",{href:"https://replit.com/site/blog/intel",target:"_blank",rel:"noreferrer noopener",children:"here."})]})})]})]})}function E(e){var t=e.onBeforePreferencesUpdate,r=e.onlyMobileControls,a=(0,c.Z)(),i=a.preferences,u=a.update,f=function(e){t&&t(e),u(e)};return i?(0,n.BX)(l.Z,{background:"default",css:[s.l0.p(16),s.l0.colWithGap(32),{paddingBottom:"5em"}],children:[!r&&(0,n.tZ)(Z,{id:"layout",title:"Layout",children:(0,n.tZ)(o.Z,{initialSelectedItem:h.find((function(e){return i.isLayoutStacked?"stacked"===e.value:"side-by-side"===e.value})),onChange:function(e){var t="stacked"===(null===e||void 0===e?void 0:e.value);f({isLayoutStacked:t})},items:m(h)})}),(0,n.tZ)(Z,{id:"fontSize",title:"Font size",children:(0,n.tZ)(o.Z,{initialSelectedItem:g.find((function(e){return e.value===i.fontSize})),onChange:function(e){var t="number"===typeof(null===e||void 0===e?void 0:e.value)?e.value:14;f({fontSize:t})},items:m(g)})}),(0,n.tZ)(Z,{id:"indentType",title:"Indent type",children:(0,n.tZ)(o.Z,{initialSelectedItem:v.find((function(e){return e.value===(i.indentIsSpaces?"spaces":"tabs")})),onChange:function(e){var t="spaces"===(null===e||void 0===e?void 0:e.value);f({indentIsSpaces:t})},items:m(v)})}),(0,n.tZ)(Z,{id:"indentSize",title:"Indent size",children:(0,n.tZ)(o.Z,{initialSelectedItem:y.find((function(e){return e.value===i.indentSize})),onChange:function(e){var t="number"===typeof(null===e||void 0===e?void 0:e.value)?e.value:2;f({indentSize:t})},items:m(y)})}),(0,n.tZ)(Z,{id:"keybinds",title:"Keybinds",children:(0,n.tZ)(o.Z,{initialSelectedItem:x.find((function(e){return["vim","emacs"].includes(e.value)?e.value===i.keyboardHandler:"default"===e.value&&!i.keyboardHandler})),onChange:function(e){var t=["vim","emacs"].includes(e.value)?e.value:null;f({keyboardHandler:t})},items:m(x)})}),(0,n.tZ)(Z,{id:"wrapping",title:"Wrapping",children:(0,n.tZ)(o.Z,{initialSelectedItem:w.find((function(e){return e.value===(i.wrapping?"soft":"none")})),onChange:function(e){var t="soft"===(null===e||void 0===e?void 0:e.value);f({wrapping:t})},items:m(w)})}),(0,n.tZ)(Z,{id:"codeIntelligence",title:(0,n.tZ)(S,{}),children:(0,n.tZ)(o.Z,{initialSelectedItem:k.find((function(e){return e.value===(i.codeIntelligence?"enabled":"disabled")})),onChange:function(e){var t="enabled"===(null===e||void 0===e?void 0:e.value);f({codeIntelligence:t})},items:m(k)})}),(0,n.tZ)(d.x,{multiline:!0,children:"Themes now apply across the whole site. Switch themes using the sun/moon icon in the site sidebar."})]}):null}},43825:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(35944),a=r(65988),o=r.n(a),i=r(67294),c=r(5560),l=r(21217),s=r(88768),u=r(75222),d=r(5152),f=r(59059);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}var g=(0,d.default)((function(){return Promise.all([r.e(571),r.e(5821)]).then(r.bind(r,55821))}),{loadableGenerated:{webpack:function(){return[55821]}},loading:function(){return(0,n.tZ)(u.Z,{messages:[]})}});function v(e){var t=e.replbox,r=function(e){var t,r=e.replbox,n=e.replId,a=b(i.useState([]),2),o=a[0],c=a[1],u=b(i.useState(""),2),d=u[0],p=u[1],h=b(i.useState(l.A.OFFLINE),2),g=h[0],v=h[1],y=(0,s.wkf)({variables:{replId:n}}),x="Repl"===(null===(t=y.data)||void 0===t?void 0:t.repl.__typename)?y.data.repl:null;if(i.useEffect((function(){if(x){x.lang.hasReplboxWebview||r.load({replId:x.id,language:x.lang.id});var e=x.lang.header?{data:"".concat(x.lang.header,"\n"),type:""}:null,t=[r.onStateChanged(v),r.onOutput((function(e){c((function(t){return m(t).concat([{data:e,type:""}])}))})),r.onResult((function(e){c((function(t){return m(t).concat([{data:e,type:"result"}])}))})),r.onError((function(e){c((function(t){return m(t).concat([{data:e,type:"error"}])}))})),r.onReset((function(){c(e?[e]:[])}))];return function(){t.forEach((function(e){return e()}))}}}),[r,x]),!x)return null;var w=(null===x||void 0===x?void 0:x.lang.header)?{data:"".concat(x.lang.header,"\n"),type:""}:null;return{messages:w?[w].concat(m(o)):o,setConsoleMessages:c,setPromptValue:p,onConsoleInput:function(e){r.getRunState()!==l.A.STOPPING&&(g!==l.A.RUNNING?g===l.A.IDLE&&r.evalCode(e):r.write(e))},onCheckLineEnd:function(e,t){(0,f.checkLineEnd)(x.lang.id,e,t)},promptValue:d,runState:g}}({replId:(0,c.Z)(),replbox:t});return r?(0,n.BX)("div",{className:"jsx-16ff2a12419680d console",children:[r?(0,n.tZ)(g,{messages:r.messages,clearConsole:function(){return r.setConsoleMessages([])},setPromptValue:r.setPromptValue,onEval:r.onConsoleInput,promptState:r.runState!==l.A.IDLE?"input":"prompt",checkLineEnd:r.onCheckLineEnd,promptValue:r.promptValue,loading:r.runState===l.A.OFFLINE}):(0,n.tZ)(u.Z,{messages:[]}),(0,n.tZ)(o(),{id:"16ff2a12419680d",children:".console.jsx-16ff2a12419680d{width:100%;height:100%;background-color:var(--background-root);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}"})]}):(0,n.tZ)(u.Z,{messages:[]})}},80032:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(35944),a=r(65988),o=r.n(a),i=r(67294),c=r(5560),l=r(21217),s=r(88768),u=r(58830),d=r(77070),f=r(26967),p=r(44660);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){var t=e.replbox,r=(0,c.Z)(),a=function(e){var t=e.replbox,r=e.replId,n=m(i.useState(null),2),a=n[0],o=n[1],c=(0,s.mPx)({variables:{replId:r}}).data,u="Repl"===(null===c||void 0===c?void 0:c.repl.__typename)?c.repl:null;return i.useEffect((function(){if(u&&a)return t.load({iframeParent:a,replId:u.id,language:u.lang.id,hostedUrl:u.devUrl}),function(){t.getRunState()!==l.A.OFFLINE&&t.destroy()}}),[t,u,a]),{ref:o,repl:u}}({replId:r,replbox:t}),b=a.ref,h=a.repl;return(0,n.tZ)(f.xW,{stepId:p.H.Output,children:(0,n.BX)("div",{className:"jsx-a24d84fd1ff5121c root",children:[(null===h||void 0===h?void 0:h.lang.hasReplboxUrlBar)?(0,n.tZ)(u.Z,{canEditDomain:h.currentUserPermissions.linkDomain,anon:h.devUrl.includes("--five-nine.repl.co"),url:h.config.domain?"https://".concat(h.config.domain):h.prodUrl,trackUrlSelect:function(){(0,d.Cn)(d.U3.WEB_HOSTING_URL_SELECTED,{url:h.devUrl})},replId:r,onRefresh:t.refreshWebview,canBeClosed:!1,closeCallback:function(){}}):null,(0,n.tZ)("div",{ref:b,className:"jsx-a24d84fd1ff5121c iframe-wrapper"}),(0,n.tZ)(o(),{id:"a24d84fd1ff5121c",children:".root.jsx-a24d84fd1ff5121c{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.iframe-wrapper.jsx-a24d84fd1ff5121c{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}.iframe-wrapper.jsx-a24d84fd1ff5121c iframe{width:100%;height:100%;border:none;display:block;background-color:var(--white);-webkit-border-bottom-left-radius:var(--border-radius-4);-moz-border-radius-bottomleft:var(--border-radius-4);border-bottom-left-radius:var(--border-radius-4);-webkit-border-bottom-right-radius:var(--border-radius-4);-moz-border-radius-bottomright:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4)}"})]})})}},75291:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(34051),a=r.n(n),o=r(44894),i=(r(54098),r(25108));function c(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){c(o,n,a,i,l,"next",e)}function l(e){c(o,n,a,i,l,"throw",e)}i(void 0)}))}}function s(){return u.apply(this,arguments)}function u(){return(u=l(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.Z.get("gurl")){e.next=3;break}return i.log("Getting gurl from localstorage"),e.abrupt("return",o.Z.get("gurl"));case 3:e.next=5;break;case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},82059:function(e,t,r){var n=r(35944);r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}var i={progress:{base:{position:"absolute",left:"25%",right:"25%",top:"47%",height:"7px",backgroundColor:"transparent",borderStyle:"solid",borderWidth:"1px",borderRadius:"10px",borderColor:"#fff",transition:"opacity 0.5s",zIndex:1},progressFiller:{width:"100%",height:"5px",backgroundColor:"#fff"},progressFill:{animation:"x 3s ease 0s infinite",animationName:"loader-fill-animation"}}};t.Z=function(e){var t=e.loading,r=i.progress;return(0,n.tZ)("div",{style:o({},r.base,t?{}:{opacity:0}),children:(0,n.tZ)("div",{style:o({},r.progressFiller,t?r.progressFill:{})})})}},75222:function(e,t,r){var n=r(35944),a=r(82059);t.Z=function(e){var t=e.messages;return(0,n.BX)("div",{style:{height:"100%",position:"relative",fontSize:"14px",padding:"15px",boxSizing:"border-box"},children:[t.map((function(e,t){return(0,n.tZ)("span",{style:{whiteSpace:"pre-wrap",fontSize:"14px",lineHeight:"1em",wordWrap:"break-word",fontFamily:"monospace",color:"error"===e.type?"#f06":"#fff",position:"relative",left:"error"===e.type?"-8px":"0px"},children:e.data},t)})),(0,n.tZ)("div",{style:{marginLeft:"-8px",background:"url(/public/images/sprite.png) -13px -583px no-repeat",width:"24px",height:"16px"}}),(0,n.tZ)(a.Z,{loading:!0})]})}},59059:function(e,t,r){r.r(t),r.d(t,{Component:function(){return C},checkLineEnd:function(){return E},reducer:function(){return O}});var n=r(35944),a=r(67294),o=r(78135),i=r(42723),c=r(27740),l=r.n(c),s=/"(?:[^"]|\\.)*"|'(?:[^']|\\.)*'|\/(?:[^/]|\\.)*\/|[{}()[\]]/gi,u=function(e){var t=e.match(s)||[],r=0,n=0,a=0,o=!0,i=!1,c=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){switch(l.value){case"(":n++;break;case")":n--;break;case"[":a++;break;case"]":a--;break;case"{":r++;break;case"}":r--}}}catch(d){i=!0,c=d}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}return(n>0||r>0||a>0)&&1},d=function(e){return!e.includes(":}")&&(!!e.includes(":{")&&0)},f=function(e){var t=e.split("\n");if(0===t.length)return 0;var r,n=t[t.length-1].replace(/\s+$/,""),a=n.match(/^\s*/);return r=a?a[0]:"",":"===n[n.length-1]?1:!(!r.length||0===n[n.length-1].length)&&0},p=r(75222),b=r(20657),m=r(79175),h=r(7411),g=r(5560),v=r(88768),y=r(58338);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}function E(e,t,r){if(/\n\s*$/.test(t))r(!1);else switch(l().get(e).key.toLowerCase()){case"html":r(u(t));break;case"haskell":r(d(t));break;case"python_turtle":r(f(t));break;default:r(!1)}}function C(e){var t=e.wid,c=e.pud,l=e.style,s=(0,g.Z)(),u=(0,o.I0)(),d=a.useRef(null),f=(0,y.Z)();a.useEffect((function(){Promise.all([r.e(571),r.e(5821)]).then(r.bind(r,55821)).then((function(e){d.current=e.default,f()}))}),[]);var b=Z((0,h.J)(t,c,"console"),1)[0],m=b.loadingEngine,x=b.consoleMessages,w=b.runstate,S=b.promptValue,C=(0,v.ba2)({variables:{replId:s}}).data,O="Repl"===(null===C||void 0===C?void 0:C.repl.__typename)?C.repl:void 0,_=(null===O||void 0===O?void 0:O.language)||"",I=null===O||void 0===O?void 0:O.lang.header,P=a.useCallback((function(e){"stopping"!==w&&u("running"!==w?(0,i.aY)({wid:t,clean:!1,code:e}):{type:"CONSOLE_INPUT",wid:t,input:e})}),[u,w,t]),N=a.useCallback((function(){u((0,i.En)({wid:t,pud:c}))}),[u,t,c]),T=a.useCallback((function(e){u({type:"SET_PROMPT_VALUE",wid:t,pud:c,promptValue:e})}),[u,t,c]),A=a.useCallback((function(e,t){E(_,e,t)}),[_]),B={data:"".concat(I,"\n"),type:""},U=I?[B].concat(j(x)):x;if(!d.current)return(0,n.tZ)(p.Z,{messages:U});var R=d.current;return(0,n.tZ)("div",{style:k({},l,{backgroundColor:"var(--background-root)",borderRadius:"var(--border-radius-4)"}),children:(0,n.tZ)("div",{style:{height:"100%"},children:(0,n.tZ)(R,{messages:U,showModal:function(){},clearConsole:N,setPromptValue:T,onEval:P,promptState:"idle"!==w?"input":"prompt",checkLineEnd:A,promptValue:S,loading:m})})})}var O=(0,b.$)({primary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{consoleMessages:[],loadingEngine:!1,runstate:"idle",presetStdin:"",promptValue:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.qg:return k({},e,t.initialState);case i.hq:return k({},e,{loadingEngine:!0});case i.FG:return k({},e,{loadingEngine:!1});case i.wP:return k({},e,{consoleMessages:e.consoleMessages.concat(t.message)});case i.aq:var r=(0,i.sC)("\nReplit: Stopping... please wait\n","error");return k({},e,{consoleMessages:e.consoleMessages.concat(r)});case"SET_PROMPT_VALUE":return k({},e,{promptValue:t.promptValue});case i.fv:return k({},e,{consoleMessages:[]});default:return e}},runstate:m.Z})},97584:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(35944),a=r(65988),o=r.n(a),i=(r(67294),r(8996)),c=r(70294),l=r(58458);function s(e){var t=e.isOn,r=e.onChange;return(0,n.BX)("div",{className:"jsx-ba89bcc1d04a3ebe toggle-container",children:[(0,n.BX)(i.Ug,{spacing:1,align:"center",wrap:"nowrap",children:[(0,n.tZ)(l.Z,{size:"small",children:"Preview"}),(0,n.tZ)(c.Z,{isOn:t,onChange:r})]}),(0,n.tZ)(o(),{id:"ba89bcc1d04a3ebe",children:".toggle-container.jsx-ba89bcc1d04a3ebe{background-color:var(--background-root);padding:4px var(--space-8);-webkit-border-top-left-radius:var(--border-radius-4);-moz-border-radius-topleft:var(--border-radius-4);border-top-left-radius:var(--border-radius-4);-webkit-border-top-right-radius:var(--border-radius-4);-moz-border-radius-topright:var(--border-radius-4);border-top-right-radius:var(--border-radius-4)}"})]})}},17518:function(e,t,r){r.r(t),r.d(t,{Component:function(){return mr},receiver:function(){return ot},reducer:function(){return lt}});var n=r(35944),a=r(65988),o=r.n(a),c=r(67294),l=r(88768),s=r(78135),u=r(94184),d=r.n(u),f=r(40425);var p,b,m=r(7411),h=r(66970),g=r(34051),v=r.n(g),y=r(77070);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){if(!e)return"";var t=w(Z(e),2),r=t[0],n=t[1];return r&&n?"".concat(r,"/").concat(n):e}function Z(e){if(!e)return["",""];var t=e.match(/^https:\/\/github\.com\/(.+)\/(.+)/);if(null!==t){var r=w(t,3);return[r[1],r[2]]}return["",""]}function j(e){return e.startsWith("remotes/origin/HEAD ->")?e.split("/").reverse()[0]:(e.startsWith("remotes/origin/")&&(e=e.replace("remotes/origin/","")),e.includes(" -> ")&&(e=e.split(" -> ")[0]),e.trim())}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){if(Array.isArray(e))return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){C(e,t,r[t])}))}return e}function I(e,t){return E(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||N(e,t)||O()}function P(e){return E(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e,i)||O()}function N(e,t){if(e){if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}!function(e){e[e.UNTRACKED=0]="UNTRACKED",e[e.MODIFIED=1]="MODIFIED",e[e.MOVED=2]="MOVED",e[e.DELETED=3]="DELETED"}(p||(p={})),function(e){e[e.NONE=0]="NONE",e[e.PUSH=1]="PUSH",e[e.CLONE=2]="CLONE",e[e.FETCH=3]="FETCH",e[e.GITHUB_CREATE=4]="GITHUB_CREATE",e[e.GITHUB_GET_INFO=5]="GITHUB_GET_INFO"}(b||(b={}));var T='[ "git remote get-url origin" ]',A="git symbolic-ref HEAD --short",B="git log -0 2>/dev/null && ".concat(A," || echo 'HEAD'");function U(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return["bash","-c",t.join("&&")]}function R(e){return"if ! (( $(busybox ps -o comm | grep git) )) ; then rm -rf .git/index.lock; fi ; ".concat(e)}function z(e){var t=e.remote,r=void 0===t?"":t,n=e.remoteToken;if(!n)return r;var a=I(r.match(/(https:\/\/)(.*)/)||["","",""],3),o=a[1],i=a[2];return"".concat(o).concat(n||"",":x-oauth-basic@").concat(i)}function D(e){return null!==new RegExp(/(^|\n)fatal: Authentication failed/g).exec(e)||null!==new RegExp(/(^|\n)fatal: unable to access/g).exec(e)||null!==new RegExp(/(^|\n)fatal: repository.*not found/g).exec(e)||null!==new RegExp(/(^|\n)fatal: could not read Username/g).exec(e)||null!==new RegExp(/(^|\n)fatal: Could not read from remote repository/g).exec(e)}function L(e){return e.includes("index.lock")}function M(e){var t=e.split(/ /g);if("1"===t[0]){var r=t[1],n=t.slice(8).join(" ");return"D"===r[1]?{change:p.DELETED,targetPath:n,origPath:n}:{change:p.MODIFIED,targetPath:n,origPath:n}}if("2"===t[0]){var a=I(t.slice(9).join(" ").split("\t"),2),o=a[0],i=a[1];return{change:p.MOVED,targetPath:o,origPath:i}}if("?"===t[0]){var c=t.slice(1).join(" ");return{change:p.UNTRACKED,targetPath:c,origPath:null}}if("u"===t[0]){var l=t[2];return{change:p.MODIFIED,targetPath:l,origPath:l}}throw new Error("Unrecognized git status entry: ".concat(e))}var X={format:function(e,t){return U('[ ! -d ".git" ]',"git init","git checkout -b main","git config core.fileMode false",'git config user.name "'.concat(t.username||"Replit user",'"'),'git config user.email "<>"',"touch .git/branches/.keep","touch .git/info/.keep","touch .git/objects/.keep","touch .git/refs/.keep")}},H={format:function(e,t){return["git","rev-list","--left-right","--count","".concat(t,"...origin/").concat(t)]},parse:function(e,t){var r=I(t.split(/\s+/),2),n=r[0],a=r[1];return _({},e,{commitsAhead:parseInt(n)||0,commitsBehind:parseInt(a)||0})}},F={format:function(e){return["git","status","--branch","--porcelain=v2"]},parse:function(e,t){if(t.startsWith("fatal"))return e;if(""===t.trim())return _({},e,{changedFiles:[]});var r=t.split("\n").filter((function(e){return""!==e.trim()})),n=e.branch,a=!0,o=[],i=!0,c=!1,l=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var d=s.value;if(d.startsWith("#")){var f=I(d.split(/\s+/),3),p=(f[0],f[1]),b=f[2];switch(p){case"branch.head":n=b;break;case"branch.oid":a=!b.includes("(initial)")}}else o.push(M(d))}}catch(m){c=!0,l=m}finally{try{i||null==u.return||u.return()}finally{if(c)throw l}}return a||(n=""),_({},e,{branch:n,changedFiles:o})}},G={format:function(e){var t=z(e);return U("git push ".concat(t," $(").concat(A,")"))},parse:function(e,t){return D(t)?_({},e,{authError:b.PUSH}):e}},W={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=z(e);return U("git fetch ".concat(r,t?" --progress --deepen=10":" +refs/heads/*:refs/remotes/origin/* --progress --depth=10"))},parse:function(e,t){return D(t)?_({},e,{authError:b.FETCH}):e}},V={format:function(e){return 0===e.commits.length?["echo true"]:U(T,"git merge-base origin/$(".concat(A,") $(").concat(A,")"))},parse:function(e,t){return _({},e,{hasMergeBaseWithFetchedRemote:Boolean(t.length)})}},K={format:function(){return U("git fetch origin --progress")},parse:function(e,t){return D(t)?_({},e,{authError:b.FETCH}):e}},Y={format:function(e){if(0===e.commits.length)return["true"];var t=["git merge-tree $(git merge-base origin/$(".concat(A,") $(").concat(A,")) origin/$(").concat(A,") $(").concat(A,")"),"grep '^changed in both'","wc -l"].join(" | ");return U(T,t)},parse:function(e,t){return _({},e,{hasConflictsWithFetchedRemote:0!==e.commits.length&&!isNaN(+t.trim())&&"0"!==t.trim()})}},q={format:function(e){return U("git reset --hard origin/$(".concat(A,")"))}},$={format:function(e){var t=z(e);return["git push ".concat(t," $(").concat(A,") --force")]}},J={format:function(){return U(T,"git merge origin/$(".concat(A,")"))},parse:function(e,t){return null!==new RegExp(/(^|\n)error: Your local changes to the following files would be overwritten by merge/g).exec(t)?_({},e,{hasConflictsWithFetchedRemote:!0}):e}},Q={format:function(e){return["git","remote","get-url","origin"]},parse:function(e,t){return t.includes("No such remote")||t.startsWith("fatal")?_({},e,{remote:""}):_({},e,{remote:t.trim()})}},ee={format:function(e,t){return e.remote?U("git remote remove origin; git remote add origin ".concat(t)):U("git remote add origin ".concat(t))}},te={format:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n="HEAD";t&&e.commits.length>0&&(n=e.commits[e.commits.length-1].hash);var a=["%D","%H","%an","%ae","%aI","%cn","%ce","%cI","%P","%B"];return["git","log","--pretty=".concat(a.join("%x00"),"%x00%x00"),"-".concat(r+1),n,"--"]},parse:function(e,t){if(t.startsWith("fatal"))return _({},e,{commits:[]});var r=t.split("\0\0\n").filter((function(e){return""!==e})).map((function(e){return e.split("\0")})),n=!!r[0][0];r.map((function(e){return e.shift()}));var a=!1;0===e.commits.length||n||e.commits[e.commits.length-1].hash!==r[0][0]||(a=!0,r.shift());var o=a?e.commits:[];return _({},e,{commits:o=o.concat(r.map((function(e){var t=P(e),r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],c=t[5],l=t[6];return{hash:r,parentHash:t[7],message:t.slice(8).join("\n"),authorName:n,authorEmail:a,authorDate:new Date(o.trim()),committerName:i,committerEmail:c,committerDate:new Date(l.trim())}})))})}},re={format:function(){return U(R("git add -A"))}},ne={format:function(e,t,r){var n;n=e.gitHubName?e.gitHubName:r.fullName||r.username;var a=e.gitHubEmail||"<>",o='-c user.name="'.concat(n,'" -c user.email="').concat(a,'"'),i=t.replace(/'/g,"'\"'\"'");return U(R("git ".concat(o," commit -m '").concat(i,"'")))},parse:function(e,t){return L(t)&&(0,y.Cn)(y.U3.GIT_CLIENT_ERROR_INDEX_LOCK,{action:"commit",remote:e.remote}),e}},ae={format:function(e,t){return e.branches.includes(t)?["git","checkout",t,"--"]:["git","checkout","-b",t,"--"]}},oe={format:function(e){var t=z(e);return U("git remote show ".concat(t," | grep 'HEAD branch'"))},parse:function(e,t){var r=I(t.split(":"),2);r[0];return _({},e,{defaultBranch:r[1].trim()})}},ie={format:function(e){return U("git checkout ".concat(e.defaultBranch))}},ce={format:function(e,t){return U("git revert ".concat(t,"..$(").concat(B,") --no-commit"))}},le={format:function(e){return U(R("git reset $(".concat(B,") --")))},parse:function(e,t){return L(t)&&(0,y.Cn)(y.U3.GIT_CLIENT_ERROR_INDEX_LOCK,{action:"reset",remote:e.remote}),e}},se={format:function(e){return U("git rev-parse --is-inside-work-tree")},parse:function(e,t){return _({},e,{isInitialized:t.startsWith("true")})}},ue={format:function(e){return U("git add -A","git reset --hard $(".concat(B,") --"))}},de={format:function(e){return["git","branch","-a","--no-color"]},parse:function(e,t){if(t.startsWith("fatal"))return e;var r=t.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return e.startsWith("* ")?e.replace(/^\*\s+/,""):e})).map((function(e){return e.trim()})).map(j);return _({},e,{branches:Array.from(new Set(r))})}},fe=r(54098),pe=r.n(fe);function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function he(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){me(o,n,a,i,c,"next",e)}function c(e){me(o,n,a,i,c,"throw",e)}i(void 0)}))}}function ge(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ve(e,t,r){return ve=ge()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&Ze(a,r.prototype),a},ve.apply(null,arguments)}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xe(e)}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ye(e,t,r[t])}))}return e}function ke(e,t){return!t||"object"!==Se(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e,t){return Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ze(e,t)}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Se=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ee(e){var t="function"===typeof Map?new Map:void 0;return Ee=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ve(e,arguments,xe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ze(n,e)},Ee(e)}function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xe(e);if(t){var a=xe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ke(this,r)}}var Oe="https://api.github.com",_e=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(r,e);var t=Ce(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=t.call(this)).message="GitHub Auth Error",e}return r}(Ee(Error));function Ie(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=he(v().mark((function e(t,r){var n,a,o,i,c,l;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je(Z(r),2),a=n[0],o=n[1],i={cache:"no-store"},t&&(i.headers={Authorization:"Bearer ".concat(t)}),e.next=5,pe()("".concat(Oe,"/repos/").concat(a,"/").concat(o),i);case 5:return c=e.sent,e.next=8,Ae(c);case 8:return l=e.sent,e.abrupt("return",we({},l));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Te.apply(this,arguments)}function Te(){return(Te=he(v().mark((function e(t){var r,n,a,o,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.token,n=t.owner,a=t.ownerType,o=t.repoData,r){e.next=4;break}throw(0,y.j)(y.U3.GITHUB_API_ERROR_BAD_CREDENTIALS),new Error("Unable to create repository");case 4:if("User"!==a){e.next=11;break}return e.next=8,pe()("".concat(Oe,"/user/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:JSON.stringify(o)});case 8:i=e.sent,e.next=14;break;case 11:return e.next=13,pe()("".concat(Oe,"/orgs/").concat(n,"/repos"),{method:"POST",headers:{Authorization:"Bearer ".concat(r),Accept:"application/vnd.github.nebula-preview+json"},body:JSON.stringify(o)});case 13:i=e.sent;case 14:return e.abrupt("return",Ae(i));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(e){return Be.apply(this,arguments)}function Be(){return(Be=he(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:r=new Error("Bad GitHub Response"),e.t0=t.status,e.next=401===e.t0||404===e.t0?6:9;break;case 6:return(0,y.j)(y.U3.GITHUB_API_ERROR_BAD_CREDENTIALS),r=new _e,e.abrupt("break",10);case 9:(0,y.j)(y.U3.GITHUB_API_ERROR_GENERAL);case 10:throw r;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue=r(87152),Re=r(78411);function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function De(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function Le(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){De(o,n,a,i,c,"next",e)}function c(e){De(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Me(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e){var t=e.cmd,r=e.args,n=void 0===r?[]:r,a=e.wid,o=e.pud,i=t.format,c=t.parse;return function(){var e=Le(v().mark((function e(r,l){var s,u,d,f,p,b;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(0,m.Z)(l(),a,o,"git"),u=s.gitState,d=s.execer,f=s.isExecInProgress,p=s.execQueue,d){e.next=3;break}throw new Error("Expected execer to be registered");case 3:if(f){e.next=9;break}if(r({type:"SEND_GIT_EXEC_COMMAND",wid:a,pud:o}),b=Re.Z.get(d)){e.next=8;break}throw new Error("Expected exec handle to contain exec service");case 8:b.request({args:i.apply(void 0,[u].concat(Me(n)))});case 9:if(0!==p.length&&!f){e.next=11;break}return e.abrupt("return",new Promise((function(e,i){r({type:"QUEUE_GIT_EXEC",cmd:t,args:n,parser:void 0!==c?c:function(e){return e},callback:e,wid:a,pud:o})})));case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function He(e){var t=e.history,r=void 0!==t&&t,n=e.write,a=void 0!==n&&n,o=e.persist,i=void 0!==o&&o,c=e.prefer,l=void 0===c?null:c,s=e.wid,u=e.pud;return function(){var e=Le(v().mark((function e(t,n){var o,c,d,f,p,b,h,g,y,x;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,r){return t(Xe({cmd:e,wid:s,pud:u,args:r}))},e.next=4,o(se);case 4:if(c=(0,m.Z)(n(),s,u,"git"),d=c.gitState,f=d.isInitialized,p=d.remote,f){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,o(le);case 9:return e.next=11,o(Q);case 11:if(!a||!p){e.next=40;break}if(null!==l){e.next=15;break}return e.next=15,o(Y);case 15:if(!(0,m.Z)(n(),s,u,"git").gitState.hasConflictsWithFetchedRemote&&null===l){e.next=34;break}if("remote"!==l){e.next=24;break}return e.next=20,o(q);case 20:return e.next=22,o(G);case 22:e.next=32;break;case 24:if("repl"!==l){e.next=31;break}return e.next=27,o($);case 27:return e.next=29,o(G);case 29:e.next=32;break;case 31:case 32:e.next=38;break;case 34:return e.next=36,o(J);case 36:return e.next=38,o(G);case 38:e.next=43;break;case 40:if(!r||!p){e.next=43;break}return e.next=43,o(J);case 43:if((a||r||i)&&t({type:"PERSIST_FILE",path:".git",wid:s}),b=(0,m.Z)(n(),s,u,"git"),h=b.gitState,!h.remote){e.next=49;break}return g=function(){var e=Le(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(W,[t]);case 2:return e.next=4,o(te);case 4:return e.next=6,o(V);case 6:if(r=(0,m.Z)(n(),s,u,"git"),r.gitState.hasMergeBaseWithFetchedRemote){e.next=10;break}return e.next=10,g(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=49,g(!1);case 49:return o(de),o(te),e.next=53,o(F);case 53:y=(0,m.Z)(n(),s,u,"git"),x=y.gitState.branch,o(H,[x]);case 55:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function Fe(e){var t=e.wid,r=e.pud,n=e.remote;return function(){var e=Le(v().mark((function e(a,o){var i,c,s,u,d,f,p,b,h,g,y;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e,n){return a(Xe({cmd:e,args:n,wid:t,pud:r}))},e.next=4,a({type:"START_GIT_CLONE",wid:t});case 4:if(c=!!n.match(/^https?:\/\/github\.com/i),s=!!n.match(/^https?:\/\/api\.glitch\.com/i),!c){e.next=19;break}if(e.prev=7,Ue.l){e.next=11;break}throw new Error("expected apollo");case 11:return e.next=13,Ue.l.query({query:l.dJQ});case 13:f=e.sent.data,(null===(u=f.currentUser)||void 0===u||null===(d=u.gitHubInfo)||void 0===d?void 0:d.accessToken)&&(g=f.currentUser.gitHubInfo,a({type:"UPDATE_GIT_STATE",updates:{remoteToken:g.accessToken,gitHubName:null===(p=g.userInfo)||void 0===p?void 0:p.name,gitHubEmail:null===(b=g.userInfo)||void 0===b?void 0:b.email,gitHubAvatarUrl:null===(h=g.userInfo)||void 0===h?void 0:h.avatarUrl,installations:g.installations},wid:t,pud:r})),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(7);case 19:return e.next=21,i(X,[o().user.userInfo]);case 21:return e.next=23,i(ee,[n]);case 23:return e.next=25,i(Q);case 25:return e.next=27,a({type:"START_CLONE_PROGRESS",wid:t,pud:r});case 27:return e.next=29,i(s?K:W);case 29:return e.next=31,i(oe);case 31:return e.next=33,i(ie);case 33:return e.next=35,a({type:"END_CLONE_PROGRESS",wid:t,pud:r});case 35:if(s){e.next=40;break}return e.next=38,a(He({wid:t,pud:r,history:!0}));case 38:e.next=44;break;case 40:return e.next=42,i(F);case 42:return e.next=44,new Promise((function(e){return setTimeout(e,1e3)}));case 44:(y=function(){var e=(0,m.Z)(o(),t,r,"git"),n=e.execQueue,i=e.isExecInProgress;0!==n.length||i?setTimeout(y,1e3):a({type:"END_GIT_CLONE",wid:t})})();case 46:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t,r){return e.apply(this,arguments)}}()}function Ge(e,t){return function(){var r=Le(v().mark((function r(n,a){var o;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=function(r,a){return n(Xe({cmd:r,args:a,wid:e,pud:t}))},r.next=4,o(re);case 4:return r.next=6,o(ne,["Initial commit",a().user.userInfo]);case 6:return r.next=8,n(He({wid:e,pud:t,write:!0}));case 8:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}function We(e){var t=e.wid,r=e.pud;return function(){var e=Le(v().mark((function e(n,a){var o,i,c,l,s,u,d,f,p;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Xe({cmd:Q,wid:t,pud:r}));case 2:if(o=(0,m.Z)(a(),t,r,"git"),i=o.gitState,c=i.remote,l=i.remoteToken,s=!1,!c||!l){e.next=19;break}return e.prev=5,e.next=8,Ie(l,c);case 8:return u=e.sent,d=u.permissions,f=u.id,p=u.owner,s=d&&d.push,e.next=15,n({type:"UPDATE_GIT_STATE",pud:r,wid:t,updates:{repoId:f,ownerId:p.id}});case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(5);case 19:n({type:"GIT_REMOTE_CHECKED",wid:t,canPush:s,remote:c});case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t,r){return e.apply(this,arguments)}}()}var Ve,Ke=r(42723);!function(e){e.CHANNEL_OPENED="CHANNEL_OPENED",e.OUTPUT_RECEIVED="OUTPUT_RECEIVED",e.STATE_CHANGED="STATE_CHANGED"}(Ve||(Ve={}));var Ye=r(75944),qe=r(50055);function $e(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function Je(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){$e(o,n,a,i,c,"next",e)}function c(e){$e(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Qe(e){var t=e.container,r=(0,Ye.Z)(),n=null;function a(){return o.apply(this,arguments)}function o(){return(o=Je(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",n);case 2:return e.abrupt("return",new Promise((function(e){r.once(Ve.CHANNEL_OPENED,(function(t){e(t)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i="";return t.openChannel({service:"exec"},(function(e){var t=e.error,a=e.channel;if(!t){if(!a)throw new Error("Expected channel");var o=!1;return a.onCommand((function(e){if(null!=e.output)i+=e.output,r.emit(Ve.OUTPUT_RECEIVED,e.output);else if(null!=e.state){if(!o)return void(o=!0);r.emit(Ve.STATE_CHANGED,{state:e.state,outputBuffer:i}),e.state===qe.api.State.Stopped&&(i="")}})),n=a,r.emit(Ve.CHANNEL_OPENED,a),function(){n=null}}})),{request:function(){var e=Je(v().mark((function e(t){var r,n,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.env,n=t.args,e.next=3,a();case 3:return o=e.sent,e.abrupt("return",o.request({exec:{env:r,args:n,blocking:!0}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onOutput:function(e){return r.on(Ve.OUTPUT_RECEIVED,e),function(){r.off(Ve.OUTPUT_RECEIVED,e)}},onStateChanged:function(e){return r.on(Ve.STATE_CHANGED,e),function(){r.off(Ve.STATE_CHANGED,e)}},getStatus:function(){return n?n.status:"closed"}}}var et=r(27754);function tt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function rt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){tt(o,n,a,i,c,"next",e)}function c(e){tt(o,n,a,i,c,"throw",e)}i(void 0)}))}}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){nt(e,t,r[t])}))}return e}function ot(e,t,r){switch(r.type){case"WORKSPACE_MOUNTED":return function(){var r=rt(v().mark((function r(n,a){var o,i,c;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=function(e){return c.apply(this,arguments)},c=function(){return(c=rt(v().mark((function r(i){var c,l,s,u;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i===et.e.CONNECTED){r.next=2;break}return r.abrupt("return");case 2:if(c=(0,m.Z)(a(),e,t,"git"),l=c.gitState,(s=Qe({container:o})).onOutput((function(r){(0,m.Z)(a(),e,t,"git").shouldDisplayCloneLogs&&n((0,Ke.yY)({wid:e,message:r,type:"interp",raw:!1}))})),s.onStateChanged((function(r){var o=r.state,i=r.outputBuffer,c=(0,m.Z)(a(),e,t,"git").execQueue;o===qe.api.State.Stopped&&0!==c.length&&n({type:"EXIT_GIT_EXEC_COMMAND",output:i,wid:e})})),n({type:"REGISTER_EXECER_SERVICE_HANDLE",execer:Re.Z.getHandle(s),wid:e,pud:t}),l.remoteToken){r.next=10;break}return r.next=10,n(We({wid:e,pud:t}));case 10:if(u=l.remote){r.next=13;break}return r.abrupt("return");case 13:return r.next=15,n(Xe({cmd:se,wid:e,pud:t}));case 15:(0,m.Z)(a(),e,t,"git").gitState.isInitialized||(n((0,Ke.yY)({wid:e,message:"cloning into ".concat(u,"...\n"),type:"interp",raw:!1})),n({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_CLONED",wid:e}),n(Fe({remote:u,wid:e,pud:t})));case 17:case"end":return r.stop()}}),r)})))).apply(this,arguments)},(o=a().services.container).getConnectionState()===et.e.CONNECTED?i(et.e.CONNECTED):o.onConnectionStateChanged(i);case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();case"FILE_CLEAN":return function(r,n){var a=(0,m.Z)(n(),e,t,"git"),o=a.gitState,i=a.hasOpened;o.isInitialized&&i&&r(Xe({cmd:F,wid:e,pud:t}))};case"EXIT_GIT_EXEC_COMMAND":return function(){var n=rt(v().mark((function n(a,o){var i,c,l,s,u,d;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,m.Z)(o(),e,t,"git"),c=i.execQueue[0],l=Re.Z.safeGet(c.parser),s=Re.Z.safeGet(c.callback),n.next=6,a({type:"DEQUEUE_GIT_EXEC",wid:e,pud:t});case 6:return n.next=8,a({type:"UPDATE_GIT_STATE",updates:at({},l(i.gitState,r.output)),wid:e,pud:t});case 8:s(),(u=(0,m.Z)(o(),e,t,"git")).execQueue.length>0&&(d=u.execQueue[0],a(Xe({cmd:d.cmd,args:d.args,wid:e,pud:t})));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();case"START_GIT_CLONE":return function(){var t=rt(v().mark((function t(r){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"LOCK_WORKSPACE",showSpinner:!0,reason:"Cloning",wid:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();case"END_GIT_CLONE":return function(){var r=rt(v().mark((function r(n){return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"UNLOCK_WORKSPACE",wid:e}),r.next=3,n(We({wid:e,pud:t}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();case"GITHUB_REPOSITORY_CREATED":case"CHECK_GIT_REMOTE":return function(){var r=rt(v().mark((function r(n){return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(We({wid:e,pud:t}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();default:return null}}function it(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){it(e,t,r[t])}))}return e}var lt=function(e,t){switch(t.type){case"@@INIT":return{gitState:{isInitialized:!1,hasConflictsWithFetchedRemote:!1,hasMergeBaseWithFetchedRemote:!0,authError:b.NONE,remote:t.initialState.gitRemoteUrl||"",repoId:null,branch:"",defaultBranch:"main",branches:[],installations:[],changedFiles:[],commits:[],commitsAhead:null,commitsBehind:null,remoteToken:null,gitHubName:null,ownerId:null,gitHubAvatarUrl:null,gitHubEmail:null},hasOpened:!1,isSidebarVisible:!1,isCloneInProgress:!1,shouldDisplayCloneLogs:!1,isExecInProgress:!1,isLoading:!0,persistCount:0,execQueue:[],execer:null};case"REGISTER_EXECER_SERVICE_HANDLE":return ct({},e,{execer:t.execer});case"SEND_GIT_EXEC_COMMAND":return ct({},e,{isExecInProgress:!0,isLoading:!0});case"EXIT_GIT_EXEC_COMMAND":return ct({},e,{isExecInProgress:!1});case"QUEUE_GIT_EXEC":var r=Re.Z.getHandle(t.parser),n=Re.Z.getHandle(t.callback);return ct({},e,{execQueue:e.execQueue.concat({cmd:t.cmd,args:t.args,parser:r,callback:n})});case"DEQUEUE_GIT_EXEC":return ct({},e,{execQueue:e.execQueue.slice(1)});case"PERSIST_FILE":return ct({},e,{isLoading:!0,persistCount:e.persistCount+1});case"FILE_PERSISTED":return ct({},e,{isLoading:!1,persistCount:e.persistCount-1});case"START_GIT_CLONE":return ct({},e,{isCloneInProgress:!0});case"START_CLONE_PROGRESS":return ct({},e,{shouldDisplayCloneLogs:!0});case"END_CLONE_PROGRESS":return ct({},e,{shouldDisplayCloneLogs:!1});case"END_GIT_CLONE":return ct({},e,{isCloneInProgress:!1});case"UPDATE_GIT_STATE":return ct({},e,{gitState:ct({},e.gitState,t.updates),isLoading:e.execQueue.length>0||e.persistCount>0||e.isCloneInProgress});case"SET_GIT_SIDEBAR_VISIBILITY":return ct({},e,{isSidebarVisible:t.isSidebarVisible,hasOpened:!0});default:return e}},st=r(51281),ut=r(93577),dt=r(63059),ft=r(45193);function pt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}var bt=function(e,t){var r=k(t),n="";switch(e){case b.PUSH:n="push to ".concat(r);break;case b.FETCH:n="fetch from ".concat(r);break;case b.CLONE:n="clone from ".concat(r);break;case b.GITHUB_CREATE:case b.GITHUB_GET_INFO:default:n="create new repositories"}return"Please grant Replit permission to access GitHub on your behalf and confirm that you have permission to ".concat(n,".")},mt=function(e){var t=e.repoId,r=e.ownerId,a=e.wid,i=e.pud,l=e.authError,u=e.onAuth,d=(0,s.I0)();(0,c.useEffect)((function(){d({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_AUTH_REQUESTED",wid:a})}),[]);var f=(0,s.v9)((function(e){return(0,m.Z)(e,a,i,"git")})).gitState,p=function(){return d({type:"UPDATE_GIT_STATE",updates:{authError:b.NONE},wid:a,pud:i})},h="Connect to GitHub";f.remote&&(h="Unable to connect to this GitHub repository");var g,y=(0,dt.v)({suggestedRepoId:t,ownerId:r,onAuth:(g=v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(),u();case 2:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,n){var a=g.apply(e,t);function o(e){pt(a,r,n,o,i,"next",e)}function i(e){pt(a,r,n,o,i,"throw",e)}o(void 0)}))})});return(0,n.BX)(ft.Z,{onRequestClose:p,isOpen:!0,children:[(0,n.tZ)(o(),{id:"a2aacf4189f0d35f",children:".auth-modal.jsx-a2aacf4189f0d35f{padding:20px 24px;background:var(--background-default);color:var(--foreground-default)}h2.jsx-a2aacf4189f0d35f{margin-bottom:16px}p.jsx-a2aacf4189f0d35f{margin-bottom:24px;line-height:1.4em}.button-group.jsx-a2aacf4189f0d35f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.button-group.jsx-a2aacf4189f0d35f .sentence-case{text-transform:none}"}),(0,n.BX)("div",{className:"jsx-a2aacf4189f0d35f auth-modal",children:[(0,n.tZ)("h2",{className:"jsx-a2aacf4189f0d35f",children:h}),(0,n.tZ)("p",{className:"jsx-a2aacf4189f0d35f",children:bt(l,f.remote)}),(0,n.tZ)("div",{className:"jsx-a2aacf4189f0d35f button-group",children:(0,n.tZ)(st.Z,{color:"primary",filled:!0,style:{marginLeft:8},onClick:y,children:"Connect Replit to your GitHub Account"})})]})]})},ht=r(43129),gt=r(20795),vt=r(70192),yt=r(33108),xt=r(87139),wt=r(12596);function kt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}var Zt=function(e){return e.trim().split(" ").join("-")},jt=function(e){var t=e.isOpen,r=e.isCreatingBranch,a=e.onClose,i=e.currentBranch,c=e.branches,l=e.successHandler;if(!t)return null;var s=(0,yt.Y)("",(function(e){return e?c.includes(Zt(e))?{message:"* this branch name already exists"}:void 0:{message:"* branch names cannot be blank"}})),u=function(){var e,t=(e=v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s.validate()){e.next=4;break}return e.abrupt("return");case 4:l(Zt(s.value));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){kt(o,n,a,i,c,"next",e)}function c(e){kt(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,n.tZ)(ft.Z,{onRequestClose:a,isOpen:!0,children:(0,n.BX)("div",{className:"jsx-4a406bdd6aef82a6 container",children:[(0,n.BX)("form",{onSubmit:u,autoComplete:"off",className:"jsx-4a406bdd6aef82a6",children:[(0,n.tZ)("h1",{className:"jsx-4a406bdd6aef82a6",children:"Create a new branch"}),(0,n.tZ)("h2",{className:"jsx-4a406bdd6aef82a6",children:r?"Creating your new branch":"This branch will be created from ".concat(i)}),(0,n.tZ)("div",{className:"jsx-4a406bdd6aef82a6 creation-error",children:s.error&&s.error.message}),(0,n.tZ)("div",{className:"jsx-4a406bdd6aef82a6 section",children:(0,n.tZ)(wt.ZP,{ref:s.ref,value:s.value,type:"text",autoFocus:!0,name:"branch-name",autoComplete:"off",onChange:function(e){s.setValue(e.currentTarget.value)},placeholder:"name your branch (required)",onFocus:function(e){return e.target.select()}})}),(0,n.tZ)(st.Z,{type:"submit","data-testid":"git-confirm-github-repo",color:"primary",filled:!0,children:r?(0,n.BX)("span",{className:"jsx-4a406bdd6aef82a6",children:["creating",(0,n.tZ)(xt.Z,{style:{fontSize:"20px",padding:"1px"}})]}):"create"})]}),(0,n.tZ)(o(),{id:"4a406bdd6aef82a6",children:".container.jsx-4a406bdd6aef82a6{font-size:1rem;width:510px;padding:60px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;height:100%;color:var(--foreground-default)}.container.jsx-4a406bdd6aef82a6 form.jsx-4a406bdd6aef82a6{width:90%}.container.jsx-4a406bdd6aef82a6 h1.jsx-4a406bdd6aef82a6{font-size:23px;margin-bottom:10px;font-weight:normal}.container.jsx-4a406bdd6aef82a6 h2.jsx-4a406bdd6aef82a6{color:var(--foreground-dimmer);font-size:16px;margin-bottom:15px;font-weight:normal}.creation-error.jsx-4a406bdd6aef82a6{min-height:16px;margin:10px;color:var(--accent-negative-default)}.section.jsx-4a406bdd6aef82a6{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:25px;width:100%}"})]})})},St=r(58458),Et=r(94590),Ct=function(e){var t,r,a=e.checkoutBranch,i=e.gitState,l=e.isLoading,s=e.wid,u=e.isNarrow,f=(0,c.useState)(!1),p=f[0],b=f[1];return(0,c.useEffect)((function(){!l&&p&&b(!1)}),[l]),(0,n.BX)("div",{className:"jsx-3cae6247addd4daa "+(d()("branch-info",{disabled:1===i.branches.length})||""),children:[(0,n.tZ)(o(),{id:"3cae6247addd4daa",children:".branch-info.jsx-3cae6247addd4daa{display:grid;grid-template-columns:1fr auto;grid-column-gap:var(--space-8);margin-top:10px}.branch-info-label.jsx-3cae6247addd4daa{color:var(--foreground-default);font-size:14px;margin-bottom:3px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.branch-info-selectWrapper.jsx-3cae6247addd4daa{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1;-ms-flex:1;flex:1;position:relative}.branch-info-select.jsx-3cae6247addd4daa{-webkit-flex:1;-ms-flex:1;flex:1}"}),(0,n.tZ)("div",{className:"jsx-3cae6247addd4daa branch-info-selectWrapper",children:(0,n.BX)("div",{className:"jsx-3cae6247addd4daa branch-info-select",children:[(0,n.tZ)(vt.Z,{}),(0,n.tZ)(ht.ZP,{clearable:!1,className:"branchSelect-".concat(window.btoa(s).substr(0,10)),disabled:1===i.branches.length,onChange:function(e){e&&!Array.isArray(e)&&e.value!==i.branch&&e.value&&a(e.value)},openOnFocus:!0,options:(t=i.branches,r=i.defaultBranch,0===t.length?[]:t.sort((function(e){return e===r?-1:0})).map((function(e){return{value:e,label:e}}))),optionRenderer:function(e){return function(e){var t=e.branch,r=e.defaultBranch,a=e.currentBranch,i=t.value===a;return(0,n.BX)("div",{className:"jsx-2976945c1b5be69e "+(d()("branchOption",{selected:i})||""),children:[(0,n.tZ)(o(),{id:"2976945c1b5be69e",children:".branchOption.jsx-2976945c1b5be69e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.branchOption-checkmark.jsx-2976945c1b5be69e{height:12px;width:12px;margin-right:3px}.branchOption-name.jsx-2976945c1b5be69e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:100%}.branchOption-defaultLabel.jsx-2976945c1b5be69e{font-size:10px;color:var(--foreground-default);margin:0 2px}.selected.jsx-2976945c1b5be69e .branchOption-defaultLabel.jsx-2976945c1b5be69e{color:var(--foreground-dimmer)}"}),i&&(0,n.tZ)("div",{className:"jsx-2976945c1b5be69e branchOption-checkmark",children:(0,n.tZ)(gt.Checkmark,{})}),(0,n.BX)("div",{className:"jsx-2976945c1b5be69e branchOption-name",children:[(0,n.tZ)("label",{className:"jsx-2976945c1b5be69e",children:t.label}),t.label===r&&(0,n.tZ)("label",{className:"jsx-2976945c1b5be69e branchOption-defaultLabel",children:"default"})]})]})}({branch:e,currentBranch:i.branch,defaultBranch:i.defaultBranch})},placeholder:"loading...",searchable:!0,value:i.branch,valueRenderer:function(){return(0,n.BX)(c.Fragment,{children:[!u&&(0,n.tZ)(St.Z,{foreground:2,children:"branch: "}),i.branch]})}})]})}),(0,n.tZ)(st.Z,{Icon:Et.Z,onClick:function(){return b(!0)},title:"Create new branch"}),(0,n.tZ)(jt,{branches:i.branches,currentBranch:i.branch,isCreatingBranch:p&&l,isOpen:p,onClose:function(){return b(!1)},successHandler:function(e){a(e)}})]})},Ot=r(8996),_t=function(e){var t=e.branch,r=e.commitsBehind,a=e.isLoading,i=function(){return a?(0,n.tZ)("p",{children:"checking latest changes... "}):r&&1===r?(0,n.BX)("p",{children:[(0,n.tZ)("span",{className:"emphasized",children:"1"})," commit behind ",t]}):r&&r>1?(0,n.BX)("p",{children:[(0,n.tZ)("span",{className:"emphasized",children:r})," commits behind"," ",t]}):(0,n.BX)("p",{children:["up to date with ",t]})};return(0,n.BX)("div",{className:"jsx-8a02681411c89cd3 remote-progress",children:[(0,n.tZ)(o(),{id:"8a02681411c89cd3",children:".remote-progress.jsx-8a02681411c89cd3{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--foreground-dimmer);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:var(--space-8);max-width:100%}.remote-progress p{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.remote-progress .emphasized{color:var(--foreground-default)}"}),(0,n.tZ)(i,{className:"jsx-8a02681411c89cd3"})]})},It=function(e){var t=e.gitState,r=e.isLoading,a=e.pull,i=e.setGithubCreationModalOpen,c=""!==t.remote;return(0,n.BX)("div",{className:"jsx-3e819f2ec0f4cd35 remote-info",children:[(0,n.tZ)(o(),{id:"3e819f2ec0f4cd35",children:".remote-info.jsx-3e819f2ec0f4cd35{display:grid;grid-gap:var(--space-16);margin:6px 0}.remote-wrapper-info.jsx-3e819f2ec0f4cd35{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.remote-wrapper-infolink.jsx-3e819f2ec0f4cd35{padding:0 3px;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.icon-wrapper.jsx-3e819f2ec0f4cd35{height:var(--space-16);width:var(--space-16);margin-right:var(--space-4);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;color:inherit}.remote-info-progress.jsx-3e819f2ec0f4cd35{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}"}),c?(0,n.BX)("div",{className:"jsx-3e819f2ec0f4cd35 remote-wrapper-info",children:[(0,n.tZ)("div",{title:"Repository origin",className:"jsx-3e819f2ec0f4cd35 icon-wrapper",children:(0,n.tZ)(gt.GitHub,{})}),(0,n.tZ)("a",{href:t.remote,target:"_blank",rel:"nofererer noopener",className:"jsx-3e819f2ec0f4cd35 remote-wrapper-infolink",children:k(t.remote)})]}):(0,n.tZ)(st.Z,{fullWidth:!0,onClick:function(){i(!0)},children:(0,n.BX)(Ot.Ug,{spacing:1,align:"center",children:[(0,n.tZ)("div",{className:"jsx-3e819f2ec0f4cd35 icon-wrapper",children:(0,n.tZ)(gt.GitHub,{})}),(0,n.tZ)("div",{className:"jsx-3e819f2ec0f4cd35",children:"Connect to Github"})]})}),c&&(0,n.BX)("div",{className:"jsx-3e819f2ec0f4cd35 remote-info-progress",children:[(0,n.tZ)(_t,{branch:t.branch,commitsBehind:t.commitsBehind,isLoading:r}),!!t.commitsBehind&&t.commitsBehind>0&&(0,n.tZ)(st.Z,{color:"orange",onClick:a,children:"Pull \u2190"})]})]})},Pt=r(33539),Nt=function(e){switch(e.change){case p.UNTRACKED:return"new";case p.MODIFIED:return"modified";case p.MOVED:return"renamed";case p.DELETED:return"deleted";default:return""}},Tt=function(e){var t,r,a=e.file,i=e.active,c=e.handleChangedFileClick,l=!1;if(a.targetPath.endsWith("/")){l=!0;var s=a.targetPath.substr(0,a.targetPath.length-1).split("/");t=s[s.length-1]+"/",r=s.slice(0,s.length-1).join("/")}else{var u=a.targetPath.split("/");t=u[u.length-1],r=u.slice(0,u.length-1).join("/")}var d=Nt(a),f=d.substr(0,1).toUpperCase(),b=["changedFileItem"];return i&&b.push("active"),l||a.change===p.DELETED||b.push("showable"),(0,n.BX)("div",{onClick:function(){l||a.change===p.DELETED||c(a.targetPath)},className:"jsx-efd6f34434320e10 "+(b.join(" ")||""),children:[(0,n.tZ)(o(),{id:"efd6f34434320e10",children:".changedFileItem.jsx-efd6f34434320e10{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid var(--background-highest);-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-bottom:5px;padding:6px 12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.showable.changedFileItem.jsx-efd6f34434320e10{cursor:pointer}.changedFileItem.jsx-efd6f34434320e10:hover{background-color:var(--accent-primary-dimmer)}.changedFileItem.jsx-efd6f34434320e10:hover .changeModeBadge.jsx-efd6f34434320e10 .letter.jsx-efd6f34434320e10{display:none}.changedFileItem.jsx-efd6f34434320e10:hover .changeModeBadge.jsx-efd6f34434320e10 .word.jsx-efd6f34434320e10{display:block}.changedFileItem.active.jsx-efd6f34434320e10{background-color:var(--accent-primary-default);border-color:transparent;color:var(--white)}.showable.jsx-efd6f34434320e10 .fileName.jsx-efd6f34434320e10:hover{text-decoration:underline}.fileName.jsx-efd6f34434320e10,.dirs.jsx-efd6f34434320e10,.changeMode.jsx-efd6f34434320e10{display:block;white-space:nowrap}.changeMode.jsx-efd6f34434320e10{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.fileName.jsx-efd6f34434320e10{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin-right:8px;max-width:60%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.changeMode.jsx-efd6f34434320e10{margin-left:8px}.dirs.jsx-efd6f34434320e10{-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;margin-right:auto;opacity:.7;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.changeModeBadge.jsx-efd6f34434320e10{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#999;-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px;color:#fff;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:24px;-webkit-justify-content:center;justify-content:center;min-width:24px;padding:2px 4px;-webkit-transition:width.1s;-moz-transition:width.1s;-o-transition:width.1s;transition:width.1s}.changeModeBadge.jsx-efd6f34434320e10 .word.jsx-efd6f34434320e10{display:none}.changedFileItem.active.jsx-efd6f34434320e10 .changeModeBadge.jsx-efd6f34434320e10,.changedFileItem.active.jsx-efd6f34434320e10:hover .new.jsx-efd6f34434320e10,.changedFileItem.active.jsx-efd6f34434320e10:hover .modified.jsx-efd6f34434320e10,.changedFileItem.active.jsx-efd6f34434320e10:hover .deleted.jsx-efd6f34434320e10{background-color:var(--background-default);color:var(--foreground-dimmer);border:transparent}.new.jsx-efd6f34434320e10{background:var(--accent-positive-dimmest);border:1px solid var(--accent-positive-default);color:var(--accent-positive-default)}.modified.jsx-efd6f34434320e10{background:var(--accent-orange-dimmest);border:1px solid var(--accent-orange-default);color:var(--accent-orange-default)}.deleted.jsx-efd6f34434320e10{background:var(--accent-negative-dimmest);border:1px solid var(--accent-negative-default);color:var(--accent-negative-stronger)}.deleted.jsx-efd6f34434320e10:hover{cursor:not-allowed}.changedFileItem.jsx-efd6f34434320e10:hover .new.jsx-efd6f34434320e10{background:var(--accent-positive-default);color:var(--foreground-default)}.changedFileItem.jsx-efd6f34434320e10:hover .modified.jsx-efd6f34434320e10{background:var(--accent-orange-default);color:var(--foreground-default)}.changedFileItem.jsx-efd6f34434320e10:hover .deleted.jsx-efd6f34434320e10{background:var(--accent-negative-default);color:var(--foreground-default)}.renamed.jsx-efd6f34434320e10{background:var(--accent-primary-dimmer)}"}),(0,n.tZ)("div",{title:t,className:"jsx-efd6f34434320e10 fileName",children:t}),(0,n.tZ)("div",{title:r,className:"jsx-efd6f34434320e10 dirs",children:r}),(0,n.tZ)("div",{className:"jsx-efd6f34434320e10 changeMode",children:(0,n.BX)("div",{className:"jsx-efd6f34434320e10 "+("changeModeBadge "+d||0),children:[(0,n.tZ)("div",{className:"jsx-efd6f34434320e10 letter",children:f}),(0,n.tZ)("div",{className:"jsx-efd6f34434320e10 word",children:f+d.substr(1)})]})})]})},At=function(e){var t=e.changedFiles,r="changed files or folders";if(1===t.length){var a=Nt(t[0])||"changed";r="".concat(a," file or folder")}return(0,n.BX)("div",{className:"jsx-4750d0de294a2262 changed-file-message",children:[(0,n.tZ)(o(),{id:"4750d0de294a2262",children:".changed-file-message.jsx-4750d0de294a2262{}.emphasized.jsx-4750d0de294a2262{color:var(--foreground-default)}p.jsx-4750d0de294a2262{color:var(--foreground-dimmer);margin-bottom:10px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"}),(0,n.BX)("p",{className:"jsx-4750d0de294a2262",children:[(0,n.BX)("span",{className:"jsx-4750d0de294a2262 emphasized",children:[" ",t.length," "]})," ",r]})]})},Bt=function(e){var t=e.branch,r=e.commitsAhead,a="commit ahead of";return r&&r>1&&(a="commits ahead of"),(0,n.BX)("div",{className:"jsx-1ae57524add93237",children:[(0,n.tZ)(o(),{id:"1ae57524add93237",children:".emphasized.jsx-1ae57524add93237{color:var(--foreground-default)}p.jsx-1ae57524add93237{color:var(--foreground-dimmer);margin-bottom:15px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"}),(0,n.BX)("p",{className:"jsx-1ae57524add93237",children:[(0,n.BX)("span",{className:"jsx-1ae57524add93237 emphasized",children:[" ",r," "]})," ",a," ",t]})]})},Ut=function(e){var t=e.disabled,r=e.onClick;return(0,n.tZ)(st.Z,{disabled:t,className:"push-button",onClick:r,color:"primary",children:"commit & push \u2192"})},Rt=function(e){var t=e.activeFile,r=e.branch,a=e.changedFiles,i=e.commits,l=e.commitsAhead,s=e.commitsBehind,u=e.handleChangedFileClick,d=e.isLoading,f=e.gitCommit,p=e.gitPush,b=function(){var e=h.trim();""!==e?(f(e),g(""),x(!1)):x(!0)},m=(0,c.useState)(""),h=m[0],g=m[1],v=(0,c.useState)(!1),y=v[0],x=v[1],w=(0,c.useState)(!1),k=w[0],Z=w[1],j=a;k||(j=a.slice(0,3));var S=a.length>0,E=!!l&&l>0,C=!!s&&s>0;return d&&!S?(0,n.BX)("div",{className:"jsx-f93e0621dea501b8 loading",children:[(0,n.tZ)(o(),{id:"f93e0621dea501b8",children:".loading.jsx-f93e0621dea501b8{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;margin-top:30px;overflow:hidden;margin-right:12px;background:var(--background-root);-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px;width:100%}.loading-content.jsx-f93e0621dea501b8{-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px;color:var(--foreground-default);padding:10px 8px;text-align:center;width:100%}"}),(0,n.BX)("div",{className:"jsx-f93e0621dea501b8 loading-content",children:["loading",(0,n.tZ)(xt.Z,{style:{fontSize:"20px",padding:"1px"}})]})]}):S||E||C?(0,n.BX)("div",{className:"jsx-d1cbbbffbe3fb18a editableGitCommitItem",children:[(0,n.tZ)(o(),{id:"d1cbbbffbe3fb18a",children:".editableGitCommitItem.jsx-d1cbbbffbe3fb18a{background:var(--background-default);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;color:var(--foreground-default);margin-top:30px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%}.commit-author-box.jsx-d1cbbbffbe3fb18a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center;margin-bottom:15px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-justify-content:center;justify-content:center;margin-bottom:16px}textarea.jsx-d1cbbbffbe3fb18a{background-color:transparent;border:1px solid var(--foreground-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;color:var(--foreground-default);font-size:1em;margin-bottom:10px;padding:8px 12px;overflow-y:auto;width:100%;resize:vertical;max-height:100px}textarea.jsx-d1cbbbffbe3fb18a:hover{background-color:var(--background-root)}textarea.jsx-d1cbbbffbe3fb18a:focus{border-color:var(--accent-primary-default);background-color:var(--background-root);outline:0 none}textarea.jsx-d1cbbbffbe3fb18a::-webkit-input-placeholder{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}textarea.jsx-d1cbbbffbe3fb18a:-moz-placeholder{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}textarea.jsx-d1cbbbffbe3fb18a::-moz-placeholder{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}textarea.jsx-d1cbbbffbe3fb18a:-ms-input-placeholder{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}textarea.jsx-d1cbbbffbe3fb18a::-ms-input-placeholder{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}textarea.jsx-d1cbbbffbe3fb18a::placeholder{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis}textarea[disabled].jsx-d1cbbbffbe3fb18a{border-color:var(--foreground-dimmest);cursor:not-allowed;opacity:.5}textarea.invalid.jsx-d1cbbbffbe3fb18a{border:1px solid var(--accent-negative-default)}.ahead-overlay.jsx-d1cbbbffbe3fb18a{margin-bottom:15px;position:relative}.changed-files-list.jsx-d1cbbbffbe3fb18a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.show-all-button.jsx-d1cbbbffbe3fb18a{border:none;background-color:var(--background-default);color:var(--foreground-default);cursor:pointer;font-size:12px;outline:0 none;text-decoration:underline}"}),E&&(0,n.tZ)(Bt,{branch:r,commitsAhead:l}),!S&&E&&(0,n.tZ)("div",{className:"jsx-d1cbbbffbe3fb18a ahead-overlay",children:(0,n.tZ)(Ut,{disabled:!1,onClick:p})}),S&&(0,n.BX)("div",{className:"jsx-d1cbbbffbe3fb18a commit-author-box",children:[(0,n.tZ)("textarea",{required:!0,name:"commitAuthorInput",disabled:0===a.length,placeholder:i.length>0?"What did you change?":"What did you add?",value:h,onChange:function(e){g(e.target.value),x(""===e.target.value)},onKeyDown:function(e){(0,Pt.b)(e),"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&b()},className:"jsx-d1cbbbffbe3fb18a "+((y?"invalid":"")||"")}),(0,n.tZ)(Ut,{onClick:b,disabled:0===a.length})]}),(0,n.tZ)(At,{changedFiles:a}),(0,n.BX)("div",{className:"jsx-d1cbbbffbe3fb18a changed-files-list",children:[j.map((function(e){return(0,n.tZ)(Tt,{file:e,handleChangedFileClick:u,active:Boolean(t)&&t.endsWith(e.targetPath)},e.targetPath)})),a.length>3&&(0,n.tZ)("button",{onClick:function(){return Z(!k)},className:"jsx-d1cbbbffbe3fb18a show-all-button",children:k?"show fewer":"show all"})]})]}):(0,n.BX)("div",{className:"jsx-13b5fc8fc8d38865 no-changes-banner",children:[(0,n.tZ)(o(),{id:"13b5fc8fc8d38865",children:".no-changes-banner.jsx-13b5fc8fc8d38865{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;margin-top:30px;overflow:hidden;background:var(--background-root);-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px}.small.jsx-13b5fc8fc8d38865{color:var(--foreground-dimmer);padding:15px;text-align:center;width:100%;font-size:14px}"}),(0,n.tZ)("p",{className:"jsx-13b5fc8fc8d38865 small",children:"Your file changes will appear here."})]})},zt=r(7055),Dt=r(30791),Lt=function(e){var t=e.children;return(0,n.BX)("div",{"data-testid":"git-commit-item",className:"jsx-f3445e89aaa242b3 commit-item",children:[(0,n.tZ)(o(),{id:"f3445e89aaa242b3",children:'.commit-item.jsx-f3445e89aaa242b3{display:block;position:relative;-webkit-transition:.1s all;-moz-transition:.1s all;-o-transition:.1s all;transition:.1s all}.commit-item.jsx-f3445e89aaa242b3:first-child .git-graph-shape.jsx-f3445e89aaa242b3::before{background:-webkit-linear-gradient(top,transparent,var(--foreground-dimmer)20px,var(--foreground-dimmer)100%);background:-moz-linear-gradient(top,transparent,var(--foreground-dimmer)20px,var(--foreground-dimmer)100%);background:-o-linear-gradient(top,transparent,var(--foreground-dimmer)20px,var(--foreground-dimmer)100%);background:linear-gradient(to bottom,transparent,var(--foreground-dimmer)20px,var(--foreground-dimmer)100%)}.commit-item.jsx-f3445e89aaa242b3:last-child .git-graph-shape.jsx-f3445e89aaa242b3::before{height:20px}.git-graph-shape.jsx-f3445e89aaa242b3{position:absolute;top:0;bottom:0;left:0;background-color:transparent}.git-graph-shape.jsx-f3445e89aaa242b3::before{content:"";display:block;position:absolute;top:0;bottom:0;height:-webkit-calc(100% + 10px);height:-moz-calc(100% + 10px);height:calc(100% + 10px);width:1px;left:6px;background:var(--foreground-dimmer)}.git-graph-shape.jsx-f3445e89aaa242b3::after{content:"";display:block;width:11px;height:11px;border:1px solid var(--foreground-dimmer);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background-color:var(--background-default);position:absolute;top:20px;left:0;-webkit-transition:.1s all;-moz-transition:.1s all;-o-transition:.1s all;transition:.1s all}.commit-item.jsx-f3445e89aaa242b3:hover .git-graph-shape.jsx-f3445e89aaa242b3::after{background-color:var(--foreground-default);border-color:1px solid var(--foreground-default)}'}),(0,n.tZ)("div",{className:"jsx-f3445e89aaa242b3 git-graph-shape"}),t]})},Mt=function(e){var t=e.commit,r=e.handleRevertToCommit,a=e.displayTimeSinceUnix,i=e.gitHubLink,c=e.isLoggedIn;return(0,n.BX)(Lt,{children:[(0,n.tZ)(o(),{id:"4be3def555d01168",children:'.wrapper.jsx-4be3def555d01168{border:1px solid var(--foreground-dimmer);-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px;padding:10px 8px;margin:0 0 10px 24px;color:var(--foreground-dimmer)}.wrapper.jsx-4be3def555d01168:hover{background-color:var(--background-root);border:1px solid var(--foreground-dimmer);color:var(--foreground-default)}.commit-hash.jsx-4be3def555d01168{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:"Menlo","Monaco",monospace;margin-bottom:6px;font-size:14px}.author.jsx-4be3def555d01168{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--foreground-default)}.author-name.jsx-4be3def555d01168,.author-email.jsx-4be3def555d01168{-webkit-box-flex:0;-webkit-flex-grow:0;-moz-box-flex:0;-ms-flex-positive:0;flex-grow:0;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.author-email.jsx-4be3def555d01168{max-width:150px;margin-bottom:6px;font-size:12px;color:var(--foreground-dimmer)}.commit-hash.jsx-4be3def555d01168{color:var(--foreground-dimmer);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px}button.jsx-4be3def555d01168,.github-link.jsx-4be3def555d01168{visibility:hidden}.wrapper.jsx-4be3def555d01168:hover button.jsx-4be3def555d01168,.wrapper.jsx-4be3def555d01168:hover .github-link.jsx-4be3def555d01168{visibility:visible;background:transparent;color:var(--foreground-default)}button.jsx-4be3def555d01168{cursor:pointer;padding:6px;border:1px solid transparent;-webkit-border-radius:2.5px;-moz-border-radius:2.5px;border-radius:2.5px}.github-link.jsx-4be3def555d01168{display:inline-block;height:16px;width:16px;margin-left:6px;background-color:var(--foreground-default)}'}),(0,n.BX)("div",{className:"jsx-4be3def555d01168 wrapper",children:[(0,n.tZ)(Xt,{message:t.message}),(0,n.tZ)("div",{className:"jsx-4be3def555d01168 author",children:(0,n.BX)("div",{title:"commit.authorName",className:"jsx-4be3def555d01168 author-name",children:[t.authorName," \u2022"," ",(0,zt.Z)(t.authorDate,a,{addSuffix:!0})]})}),(0,n.tZ)("div",{title:t.authorEmail,className:"jsx-4be3def555d01168 author-email",children:t.authorEmail}),(0,n.BX)("div",{title:t.hash,className:"jsx-4be3def555d01168 commit-hash",children:[t.hash.substr(0,9),null!==i&&(0,n.tZ)("a",{href:i,target:"_blank",rel:"noopener noreferer",title:"see on GitHub",className:"jsx-4be3def555d01168 github-link",children:(0,n.tZ)(gt.GitHub,{})})]}),c&&(0,n.tZ)(st.Z,{filled:!1,border:!1,color:"orange",size:"small",onClick:function(){return r(t)},children:"revert to here"})]})]})},Xt=function(e){var t=e.message.split("\n").filter((function(e){return!!e.trim()})).map((function(e){return(0,n.tZ)("p",{children:e.replace(/:[\w\-+]+:/g,(function(e){return Dt.$M[e.slice(1,-1)]||e}))},e)})),r=(0,c.useState)(!1),a=r[0],i=r[1];return(0,n.BX)("div",{className:"jsx-1b7183bd6a42b782 commit-message",children:[(0,n.tZ)(o(),{id:"1b7183bd6a42b782",children:".commit-message.jsx-1b7183bd6a42b782{margin-bottom:10px}.commit-message p{color:var(--foreground-default);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;padding:2px}.more-link.jsx-1b7183bd6a42b782{font-size:14px}"}),a?t:t[0],a&&(0,n.tZ)("a",{href:"#",onClick:function(){return i(!1)},className:"jsx-1b7183bd6a42b782 more-link",children:"see less"},"more"),!a&&t.length>1&&(0,n.tZ)("a",{href:"#",onClick:function(){return i(!0)},className:"jsx-1b7183bd6a42b782 more-link",children:"see more"},"more")]})},Ht=function(e){var t=e.gitState,r=e.handleRevertToCommit,a=e.fetchMoreCommits,i=e.isLoggedIn,l=t.commits[t.commits.length-1],s=l&&""!==l.parentHash?(0,n.tZ)(Lt,{children:(0,n.tZ)(st.Z,{onClick:a,style:{margin:"8px 6px 12px 24px"},children:"load more commits"})},"loadmore"):null,u=(0,c.useState)(Date.now()),d=u[0],f=u[1];(0,c.useEffect)((function(){f(Date.now())}),[t.commits]);var p=t.commitsAhead||0;return(0,n.BX)(n.HY,{children:[t.commits.length>0&&(0,n.BX)("h2",{className:"jsx-db561386c1307398",children:[(0,n.tZ)(o(),{id:"db561386c1307398",children:"h2.jsx-db561386c1307398{color:var(--foreground-default);font-size:18px;font-weight:unset;overflow:hidden;margin:30px 0 10px 0;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap;position:relative}"}),"Previous Commits"]}),(0,n.BX)("div",{className:"jsx-2305a354cfb82682 commit-list-section",children:[(0,n.tZ)(o(),{id:"2305a354cfb82682",children:".commit-list-section.jsx-2305a354cfb82682{height:100%}.commit-list-wrapper.jsx-2305a354cfb82682{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.commit-list.jsx-2305a354cfb82682{width:100%;margin-top:10px}"}),(0,n.tZ)("div",{className:"jsx-2305a354cfb82682 commit-list-wrapper",children:t.commits.length>0&&(0,n.BX)("ul",{className:"jsx-2305a354cfb82682 commit-list",children:[t.commits.map((function(e,a){return(0,n.tZ)(Mt,{handleRevertToCommit:r,commit:e,displayTimeSinceUnix:d,gitHubLink:""!==t.remote&&a>=p?(o=t.remote,c=e.hash,"".concat(o,"/commit/").concat(c)):null,isLoggedIn:i},e.hash);var o,c})),s]})})]})]})},Ft=r(40802);function Gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Vt=function(e){var t=e.checked,r=e.block,a=e.center,i=e.children,c=Wt(e,["checked","block","center","children"]);return(0,n.BX)("button",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Gt(e,t,r[t])}))}return e}({},c,{className:"jsx-de8f65ceab8cbe78 "+(d()(c.className,{checked:t,block:r,center:a})||""),children:[(0,n.tZ)("div",{className:"jsx-de8f65ceab8cbe78 radio"}),i?(0,n.tZ)("div",{className:"jsx-de8f65ceab8cbe78 content",children:i}):null,(0,n.tZ)(o(),{id:"de8f65ceab8cbe78",children:"button.jsx-de8f65ceab8cbe78{font-size:inherit;color:inherit;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border:0 none;background-color:transparent;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-transition:background-color.2s;-moz-transition:background-color.2s;-o-transition:background-color.2s;transition:background-color.2s}.block.jsx-de8f65ceab8cbe78{width:100%}.center.jsx-de8f65ceab8cbe78{-webkit-justify-content:center;justify-content:center}button.jsx-de8f65ceab8cbe78:focus{outline:none}.radio.jsx-de8f65ceab8cbe78{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;height:12px;width:12px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background-color:transparent;border:1.5px solid var(--foreground-dimmer)}.checked.jsx-de8f65ceab8cbe78 .radio.jsx-de8f65ceab8cbe78{border:none;background-color:var(--accent-primary-default)}.content.jsx-de8f65ceab8cbe78{margin-left:10px}"})]}))},Kt=r(5560);function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Jt=function(e){var t=e.avatarUrl,r=e.login;return(0,n.BX)("div",{className:"jsx-287255a4c55b34bd gitHubInfo",children:[(0,n.tZ)(o(),{id:"287255a4c55b34bd",children:".gitHubInfo.jsx-287255a4c55b34bd{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.gitHubInfo-avatar.jsx-287255a4c55b34bd{height:36px;width:36px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:5px}.gitHubInfo-login.jsx-287255a4c55b34bd{padding:5px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}"}),(0,n.tZ)("img",{src:t,className:"jsx-287255a4c55b34bd gitHubInfo-avatar"}),(0,n.tZ)("div",{className:"jsx-287255a4c55b34bd gitHubInfo-login",children:r})]})},Qt=function(e){var t=e.authToken,r=e.onClose,a=e.pud,i=e.successHandler,u=e.wid,d=(0,Kt.Z)(),p=(0,l.Xah)({variables:{replId:d}}),h=p.data;if(p.loading)return null;if("Repl"!==(null===h||void 0===h?void 0:h.repl.__typename))return(0,n.tZ)(ft.Z,{onRequestClose:r,isOpen:!0,children:(0,n.BX)("div",{className:"jsx-ca5289f01a1d9783 container",children:[(0,n.tZ)("p",{className:"jsx-ca5289f01a1d9783",children:"Something went wrong. Please try again later."}),(0,n.tZ)(o(),{id:"ca5289f01a1d9783",children:".container.jsx-ca5289f01a1d9783{font-size:1rem;width:510px;padding:0 10px;padding-top:40px;padding-bottom:40px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;color:var(--foreground-default)}"})]})});var g=h.repl,x=$t(c.useState(!1),2),w=x[0],k=x[1],Z=$t(c.useState(g.isPrivate),2),j=Z[0],S=Z[1],E=$t(c.useState(null),2),C=E[0],O=E[1],_=(0,s.I0)(),I=(0,s.v9)((function(e){return(0,m.Z)(e,u,a,"git")})).gitState,P=(0,yt.Y)(g.isRenamed?g.title:"",(function(e){return e&&e.length>100?{message:"* GitHub repository names cannot exceed 100 characters"}:e?void 0:{message:"* Repository name is required"}})),N=(0,yt.Y)((g.description||"").replace(/(\r\n|\n|\r)/gm," "),(function(e){if(e&&e.length>140)return{message:"* GitHub descriptions cannot exceed 140 characters"}})),T=function(){var e,r=(e=v().mark((function e(r){var n,o,c,l;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(null),r.preventDefault(),k(!0),n=P.validate(),o=N.validate(),!n&&!o){e.next=8;break}return k(!1),e.abrupt("return");case 8:return c={name:P.value,description:N.value,private:j},e.prev=9,e.next=12,Ne({token:t,repoData:c,owner:z.value,ownerType:z.type});case 12:l=e.sent,i(l.html_url),(0,y.j)(y.U3.GITHUB_API_REPO_CREATION_SUCCESS),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),s=e.t0,(null!=(d=_e)&&"undefined"!==typeof Symbol&&d[Symbol.hasInstance]?d[Symbol.hasInstance](s):s instanceof d)?_({type:"UPDATE_GIT_STATE",wid:u,pud:a,updates:{authError:b.GITHUB_CREATE}}):(Ft.$e((function(t){t.setTag("source","git"),Ft.Tb(e.t0)})),O("Unable to create a GitHub repository"));case 20:k(!1);case 21:case"end":return e.stop()}var s,d}),e,null,[[9,17]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){qt(o,n,a,i,c,"next",e)}function c(e){qt(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}(),A=!(!P.error&&!N.error),B=I.installations,U=B.find((function(e){return"User"===e.type}))||B[0],R=$t(c.useState({value:U.name,label:U.name,avatar:U.avatarUrl,type:U.type}),2),z=R[0],D=R[1],L=B.filter((function(e){return e.name!==z.value})).map((function(e){return{value:e.name,label:e.name,avatar:e.avatarUrl,type:e.type}}));return(0,n.tZ)(ft.Z,{onRequestClose:r,isOpen:!0,children:(0,n.BX)("div",{className:"jsx-d9943fb2f9db6847 container",children:[(0,n.BX)("form",{onSubmit:T,style:{width:"90%",opacity:w?.6:1},autoComplete:"off",className:"jsx-d9943fb2f9db6847",children:[(0,n.tZ)("div",{className:"jsx-d9943fb2f9db6847 section",children:(0,n.BX)("div",{className:"jsx-d9943fb2f9db6847",children:[(0,n.tZ)(f.Z,{align:"center",level:4,children:"Create a new GitHub repository"}),(0,n.tZ)(St.Z,{align:"center",foreground:2,children:"You can always edit this information on github"})]})}),(0,n.BX)("div",{className:"jsx-d9943fb2f9db6847 section",children:[(0,n.tZ)(vt.Z,{}),(0,n.tZ)(ht.ZP,{options:L,optionRenderer:function(e){return(0,n.tZ)(Jt,{avatarUrl:e.avatar,login:e.label||""})},disabled:B.length<=1,value:z,valueRenderer:function(e){return(0,n.tZ)(Jt,{avatarUrl:e.avatar,login:e.label||""})},onChange:function(e){D(e)},searchable:!1,style:{height:"48px"},clearable:!1}),(0,n.tZ)("span",{className:"jsx-d9943fb2f9db6847 slash",children:" / "}),(0,n.tZ)(wt.ZP,{ref:P.ref,name:"title",autoComplete:"off",placeholder:"repo name (required)",disabled:w,value:P.value,onChange:function(e){P.setValue(e.currentTarget.value),O(null)},onFocus:function(e){return e.target.select()},onBlur:P.handleBlur,validationResults:P.error?[{message:P.error.message,state:"error"}]:void 0})]}),(0,n.tZ)("div",{className:"jsx-d9943fb2f9db6847 section",children:(0,n.tZ)(wt.ZP,{name:"description",value:N.value,disabled:w,placeholder:N.value||"Add repo description (optional)",onChange:function(e){N.setValue(e.target.value),O(null)},onBlur:N.handleBlur,validationResults:N.error?[{message:N.error.message,state:"error"}]:void 0})}),(0,n.BX)("div",{className:"jsx-d9943fb2f9db6847 privacy section",children:[(0,n.tZ)("h3",{className:"jsx-d9943fb2f9db6847",children:"GitHub privacy"}),(0,n.BX)("div",{className:"jsx-d9943fb2f9db6847 privacy-radio",children:[(0,n.tZ)(Vt,{checked:!j,type:"button",id:"public",onClick:function(){return S(!1)}}),(0,n.tZ)("div",{className:"jsx-d9943fb2f9db6847 privacy-icon",children:(0,n.tZ)(gt.GitHubPublic,{})}),(0,n.BX)("div",{className:"jsx-d9943fb2f9db6847 privacy-info",children:[(0,n.tZ)("label",{className:"jsx-d9943fb2f9db6847",children:"Public"}),(0,n.tZ)(St.Z,{foreground:2,tag:"div",size:"small",children:"Anyone can see this repo, you choose who can commit"})]})]}),(0,n.BX)("div",{className:"jsx-d9943fb2f9db6847 privacy-radio",children:[(0,n.tZ)(Vt,{checked:j,type:"button",id:"private",onClick:function(){return S(!0)}}),(0,n.tZ)("div",{className:"jsx-d9943fb2f9db6847 privacy-icon private",children:(0,n.tZ)(gt.GitHubPrivate,{})}),(0,n.BX)("div",{className:"jsx-d9943fb2f9db6847 privacy-info",children:[(0,n.tZ)("label",{className:"jsx-d9943fb2f9db6847",children:"Private"}),(0,n.tZ)(St.Z,{foreground:2,tag:"div",size:"small",children:"you choose who can see and commit to this repo"})]})]})]}),(0,n.tZ)("div",{className:"jsx-d9943fb2f9db6847 create section",children:(0,n.tZ)(st.Z,{size:"large",color:"primary",disabled:w||A,type:"submit","data-testid":"git-confirm-github-repo",children:w?"Creating...":"Create GitHub repository"})}),(0,n.tZ)("div",{className:"jsx-d9943fb2f9db6847 creation-error",children:C&&(0,n.BX)("span",{className:"jsx-d9943fb2f9db6847",children:[C,(0,n.tZ)("br",{className:"jsx-d9943fb2f9db6847"}),"Let us know if there is an issue by opening up the sidebar and submitting a ticket via the get help button"]})})]}),(0,n.tZ)(o(),{id:"d9943fb2f9db6847",children:".container.jsx-d9943fb2f9db6847{font-size:1rem;padding:0 10px;padding-top:40px;padding-bottom:40px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;color:var(--foreground-default)}.section.jsx-d9943fb2f9db6847{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:25px;width:100%}.section.create.jsx-d9943fb2f9db6847{padding-bottom:0}.section.privacy.jsx-d9943fb2f9db6847{color:var(--foreground-default);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start}.section.privacy.jsx-d9943fb2f9db6847 h3.jsx-d9943fb2f9db6847{margin-bottom:10px;font-weight:normal}.privacy-radio.jsx-d9943fb2f9db6847{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:20px;padding:3px;width:100%}.privacy-icon.jsx-d9943fb2f9db6847{margin-left:10px;width:24px;height:32px}.privacy-icon.jsx-d9943fb2f9db6847{color:var(--foreground-dimmer)}.privacy-icon.private.jsx-d9943fb2f9db6847{color:var(--remove-color-gold-light)}.privacy-info.jsx-d9943fb2f9db6847{margin-left:10px}.Select{width:100%}.slash.jsx-d9943fb2f9db6847{color:var(--foreground-default);margin:5px}.creation-error.jsx-d9943fb2f9db6847{line-height:1.3;padding-top:20px;margin:0 10px;height:40px;color:var(--accent-negative-default)}"})]})})};function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tr(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function rr(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){tr(o,n,a,i,c,"next",e)}function c(e){tr(o,n,a,i,c,"throw",e)}i(void 0)}))}}function nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ar(e){var t=e.wid,r=e.pud,a=e.gitState,i=(0,s.I0)(),l=function(){i({type:"UPDATE_GIT_STATE",wid:t,pud:r,updates:{hasConflictsWithFetchedRemote:!1}})},u=nr(c.useState(null),2),d=u[0],f=u[1],p=nr(c.useState(!0),2),b=p[0],m=p[1],h="Confirm",g=["conflictChoices"];return"repl"===d?(g.push("chosen-repl"),h="Confirm keep Replit"):"remote"===d&&(g.push("chosen-remote"),h="Confirm overwrite from GitHub"),b||g.push("invalid"),(0,n.BX)(ft.Z,{isOpen:!0,onRequestClose:l,children:[(0,n.tZ)(o(),{id:"1c46516bcb7b3a47",children:".resolveConflictModal.jsx-1c46516bcb7b3a47{max-width:600px;padding:20px 24px;background:var(--background-default);color:var(--foreground-default)}h2.jsx-1c46516bcb7b3a47{margin-bottom:16px}p.jsx-1c46516bcb7b3a47{margin-bottom:24px;line-height:1.4em}.conflictChoices.jsx-1c46516bcb7b3a47{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.conflictPreference.jsx-1c46516bcb7b3a47{width:48%;border:1px solid var(--foreground-default);cursor:pointer;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;overflow:hidden;-webkit-transition:-webkit-transform.2s;-moz-transition:-moz-transform.2s;-o-transition:-o-transform.2s;transition:-webkit-transform.2s;transition:-moz-transform.2s;transition:-o-transform.2s;transition:transform.2s}.conflictPreference.jsx-1c46516bcb7b3a47:hover{-webkit-transform:translate(0,-3px);-moz-transform:translate(0,-3px);-ms-transform:translate(0,-3px);-o-transform:translate(0,-3px);transform:translate(0,-3px)}.conflictPreference.jsx-1c46516bcb7b3a47 .header.jsx-1c46516bcb7b3a47{padding:8px 12px;font-weight:bold;background:var(--background-root)}.conflictPreference.jsx-1c46516bcb7b3a47 .body.jsx-1c46516bcb7b3a47{padding:8px 12px;line-height:1.4em}.chosen-repl.jsx-1c46516bcb7b3a47 .replPreference.jsx-1c46516bcb7b3a47 .header.jsx-1c46516bcb7b3a47,.chosen-remote.jsx-1c46516bcb7b3a47 .remotePreference.jsx-1c46516bcb7b3a47 .header.jsx-1c46516bcb7b3a47{color:var(--background-default);background:var(--foreground-default)}.chosen-repl.jsx-1c46516bcb7b3a47 .remotePreference.jsx-1c46516bcb7b3a47,.chosen-remote.jsx-1c46516bcb7b3a47 .replPreference.jsx-1c46516bcb7b3a47{border-color:var(--foreground-dimmer)}.buttonGroup.jsx-1c46516bcb7b3a47{margin-top:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}"}),(0,n.BX)("div",{className:"jsx-1c46516bcb7b3a47 resolveConflictModal",children:[(0,n.tZ)("h2",{className:"jsx-1c46516bcb7b3a47",children:"Conflicting changes"}),(0,n.BX)("p",{className:"jsx-1c46516bcb7b3a47",children:["There are changes from the remote (",(0,n.tZ)("a",{href:a.remote,target:"_blank",rel:"nofererer noopener",className:"jsx-1c46516bcb7b3a47",children:a.remote}),") that have been made since your changes on Replit that conflict with each other. Which version would you like to keep?"]}),(0,n.BX)("div",{className:"jsx-1c46516bcb7b3a47 "+(g.join(" ")||""),children:[(0,n.BX)("div",{onClick:function(){return f("remote")},className:"jsx-1c46516bcb7b3a47 remotePreference conflictPreference",children:[(0,n.tZ)("div",{className:"jsx-1c46516bcb7b3a47 header",children:"Keep version on GitHub"}),(0,n.tZ)("div",{className:"jsx-1c46516bcb7b3a47 body",children:"Permanently delete any changes in your Repl that are not on GitHub."})]}),(0,n.BX)("div",{onClick:function(){return f("repl")},className:"jsx-1c46516bcb7b3a47 replPreference conflictPreference",children:[(0,n.tZ)("div",{className:"jsx-1c46516bcb7b3a47 header",children:"Keep version on Replit"}),(0,n.tZ)("div",{className:"jsx-1c46516bcb7b3a47 body",children:"Permanently delete any changes in your GitHub repository that are not on Replit"})]})]}),(0,n.BX)("div",{className:"jsx-1c46516bcb7b3a47 buttonGroup",children:[(0,n.tZ)(st.Z,{style:{marginLeft:"8px"},onClick:l,children:"Cancel"}),(0,n.tZ)(st.Z,{color:"negative",style:{marginLeft:"8px"},onClick:function(){null!==d?(i(He({write:!0,prefer:d,wid:t,pud:r})),l()):m(!1)},children:h})]})]})]})}function or(e){var t=e.actionDescription,r=e.onConfirm,a=e.onCancel,i={marginLeft:8};return(0,n.BX)("div",{className:"jsx-a6b618bf6ea164ac gitRevertConfirmModal",children:[(0,n.tZ)(o(),{id:"a6b618bf6ea164ac",children:".gitRevertConfirmModal.jsx-a6b618bf6ea164ac{max-width:600px;padding:20px 24px;background:var(--background-default);color:var(--foreground-default)}h2.jsx-a6b618bf6ea164ac{margin-bottom:16px}p.jsx-a6b618bf6ea164ac{margin-bottom:24px;line-height:1.4em}.buttonGroup.jsx-a6b618bf6ea164ac{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"}),(0,n.tZ)("h2",{className:"jsx-a6b618bf6ea164ac",children:"Overwrite existing changes?"}),(0,n.BX)("p",{className:"jsx-a6b618bf6ea164ac",children:["You have some changes that are not committed yet. ",t," ","will overwrite any un-committed changes. Overwrite and continue?"]}),(0,n.BX)("div",{className:"jsx-a6b618bf6ea164ac buttonGroup",children:[(0,n.tZ)(st.Z,{style:i,onClick:a,autoFocus:!0,children:"Cancel"}),(0,n.tZ)(st.Z,{color:"negative",style:i,onClick:r,children:"Overwrite and continue"})]})]})}var ir=function(e){var t=e.wid,r=e.pud,a=e.isLoading,i=e.isNarrow,l=e.currentUser,u=e.refetchUser,d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.history,a=void 0!==n&&n,o=e.write,i=void 0!==o&&o,c=e.persist,l=void 0!==c&&c;p(He({history:a,write:i,persist:l,wid:t,pud:r}))},f=function(e,n){return p(Xe({cmd:e,args:n,wid:t,pud:r}))},p=(0,s.I0)(),h=(0,ut.Z)(),g=nr((0,m.J)(t,r,"git"),1)[0].gitState,y=g.hasConflictsWithFetchedRemote&&(0,n.tZ)(ar,{wid:t,pud:r,gitState:g}),x=nr(c.useState(null),2),w=x[0],k=x[1],Z=null!==w&&(0,n.tZ)(ft.Z,{isOpen:!0,onRequestClose:function(){return k(null)},children:(0,n.tZ)(or,{actionDescription:"Reverting to this previous version",onConfirm:rr(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(null),f(ue),f(ce,[w.hash]),d({persist:!0});case 4:case"end":return e.stop()}}),e)}))),onCancel:function(){return k(null)}})}),j=nr(c.useState(null),2),S=j[0],E=j[1],C=null!==S&&(0,n.tZ)(ft.Z,{isOpen:!0,onRequestClose:function(){return E(null)},children:(0,n.tZ)(or,{actionDescription:"Checking out branch ".concat(S),onConfirm:rr(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(null),f(ue),e.next=4,f(ae,[S]);case 4:d({persist:!0});case 5:case"end":return e.stop()}}),e)}))),onCancel:function(){return E(null)}})});function O(){return O=rr(v().mark((function e(r){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_REVERTED",wid:t}),!(g.changedFiles.length>0)){e.next=4;break}return k(r),e.abrupt("return");case 4:f(ce,[r.hash]),d({persist:!0});case 6:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function _(){return(_=rr(v().mark((function e(r){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==g.branch){e.next=2;break}return e.abrupt("return");case 2:if(p({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_CHECKOUT",wid:t}),!(g.changedFiles.length>0&&g.branches.includes(r))){e.next=6;break}return E(r),e.abrupt("return");case 6:return e.next=8,f(ae,[r]);case 8:d({persist:!0});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=nr(c.useState(!1),2),P=I[0],N=I[1];return(0,n.BX)(n.HY,{children:[l?(0,n.BX)(n.HY,{children:[(0,n.tZ)(It,{gitState:g,isLoading:a,pull:function(){p({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_PULLED",wid:t}),d({history:!0})},setGithubCreationModalOpen:function(){g.remoteToken&&g.installations.length>0?N(!0):p({type:"UPDATE_GIT_STATE",wid:t,pud:r,updates:{authError:b.GITHUB_GET_INFO}})}}),(0,n.tZ)(Ct,{isLoading:a,gitState:g,wid:t,checkoutBranch:function(e){return _.apply(this,arguments)},isNarrow:i}),(0,n.tZ)(Rt,{branch:g.branch,changedFiles:g.changedFiles,commits:g.commits,isLoading:a,commitsAhead:g.commitsAhead,commitsBehind:g.commitsBehind,activeFile:h||"",handleChangedFileClick:function(e){p({type:"OPEN_FILE",path:e,wid:t})},gitCommit:function(){var e=rr(v().mark((function e(r){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_COMMITTED",wid:t}),e.next=3,f(re);case 3:return e.next=5,f(ne,[r,l]);case 5:d({write:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gitPush:function(){d({write:!0})}})]}):(0,n.BX)("div",{className:"jsx-d687cb3bccb0e01e sign-up",children:[(0,n.tZ)("a",{href:"/signup",className:"jsx-d687cb3bccb0e01e",children:" create an account"}),(0,n.tZ)("div",{className:"jsx-d687cb3bccb0e01e",children:"to use version control with Replit!"})]}),(0,n.tZ)(Ht,{gitState:g,handleRevertToCommit:function(e){return O.apply(this,arguments)},fetchMoreCommits:function(){g.remote&&f(W,[!0]),f(te,[!0])},isLoggedIn:Boolean(l)}),Z,C,y,g.authError!==b.NONE&&(0,n.tZ)(mt,{wid:t,pud:r,repoId:g.repoId,ownerId:g.ownerId,authError:g.authError,onAuth:u}),P&&(0,n.tZ)(Qt,{authToken:g.remoteToken,onClose:function(){return N(!1)},successHandler:function(e){p(function(e){var t=e.remote,r=e.wid,n=e.pud;return function(){var e=Le(v().mark((function e(a){var o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t){return a(Xe({cmd:e,args:t,wid:r,pud:n}))},e.next=4,o(ee,[t]);case 4:return e.next=6,o(Q);case 6:return e.next=8,o(G);case 8:return e.next=10,a({type:"GITHUB_REPOSITORY_CREATED",wid:r,pud:n});case 10:return e.next=12,a(He({wid:r,pud:n,persist:!0}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({wid:t,pud:r,remote:e})),N(!1)},wid:t,pud:r}),(0,n.tZ)(o(),{id:"d687cb3bccb0e01e",children:".sign-up.jsx-d687cb3bccb0e01e{padding:10px;text-align:center}"})]})},cr=r(55435),lr=r(33398),sr=function(e){var t=e.onInit,r=e.isLoggedIn;return(0,n.BX)("div",{className:"jsx-1c35961896dd966 git-empty",children:[(0,n.BX)("div",{className:"jsx-1c35961896dd966",children:["Track and rollback changes to your repl."," ",(0,n.tZ)("a",{href:"https://replit.com/talk/learn/Replit-Git-Tutorial/23331/",target:"_blank",rel:"noopener noreferrer",onClick:function(e){e.preventDefault(),(0,y.j)(y.U3.GIT_CLIENT_WHAT_IS_GIT_CLICKED),window.open(e.target.href,"_blank")},className:"jsx-1c35961896dd966 learn-link",children:"Learn more here"}),(0,n.tZ)("div",{className:"jsx-1c35961896dd966 ctas",children:r?(0,n.BX)(n.HY,{children:[(0,n.tZ)(st.Z,{color:"primary",filled:!0,onClick:t,children:"Create a Git Repo"}),(0,n.tZ)(cr.Z,{activeTab:lr.m.GitHub,children:(0,n.tZ)("a",{className:"jsx-1c35961896dd966",children:"Existing git repository?"})})]}):(0,n.BX)("div",{className:"jsx-1c35961896dd966 sign-up",children:[(0,n.tZ)("a",{href:"/signup",className:"jsx-1c35961896dd966",children:" create an account"})," to use version control with Replit!"]})})]}),(0,n.tZ)("div",{className:"jsx-1c35961896dd966",children:(0,n.tZ)("img",{src:"/public/images/gitart.png",className:"jsx-1c35961896dd966"})}),(0,n.tZ)(o(),{id:"1c35961896dd966",children:".git-empty.jsx-1c35961896dd966{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:100%;padding:10px;max-width:250px;margin:0 auto}.learn-link.jsx-1c35961896dd966{color:inherit;text-decoration:underline}.ctas.jsx-1c35961896dd966{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:40px 0}.ctas.jsx-1c35961896dd966>a.jsx-1c35961896dd966{margin-top:12px;text-align:center}img.jsx-1c35961896dd966{width:100%;max-width:200px}"})]})},ur=r(42650),dr=r(40079),fr=r(11542);function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mr(e){var t=e.wid,r=e.pud,a=e.style,i=e.dimensions,u=(0,s.I0)(),p=(0,c.useState)(!1),b=p[0],g=p[1],y=br((0,m.J)(t,r,"git"),1)[0],x=y.gitState,w=y.isLoading,k=y.isCloneInProgress,Z=(0,l.X27)({notifyOnNetworkStatusChange:!0,onCompleted:function(e){var n,a,o,i,c=e.currentUser;(null===c||void 0===c||null===(n=c.gitHubInfo)||void 0===n?void 0:n.accessToken)&&u({type:"UPDATE_GIT_STATE",updates:{remoteToken:c.gitHubInfo.accessToken,gitHubName:null===(a=c.gitHubInfo.userInfo)||void 0===a?void 0:a.name,gitHubEmail:null===(o=c.gitHubInfo.userInfo)||void 0===o?void 0:o.email,gitHubAvatarUrl:null===(i=c.gitHubInfo.userInfo)||void 0===i?void 0:i.avatarUrl,installations:c.gitHubInfo.installations},wid:t,pud:r})}}),j=Z.data,S=Z.loading,E=Z.refetch;(0,c.useEffect)((function(){if(i){var e=window.document.getElementById(dr.b);if(!e)throw new Error("Couldn't find workspace root");var t=i.w,r=e.clientWidth*(t.pc/100)+t.px;r<=210&&!b?g(!0):r>210&&b&&g(!1)}}),[i,b]);var C=br(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,c.useState)(t),n=r[0],a=r[1],o=(0,c.useRef)();return(0,c.useEffect)((function(){return o.current&&clearTimeout(o.current),o.current=setTimeout((function(){a(e)}),250),function(){o.current&&clearTimeout(o.current)}}),[e]),[n||e,a]}(w||S,!0),2),O=C[0],_=C[1];(0,c.useEffect)((function(){return u({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_SIDEBAR_OPENED",wid:t}),k||S||(_(!0),u(He({history:!1,write:!1,persist:!1,wid:t,pud:r}))),u({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!0,wid:t}),function(){u({type:"SET_GIT_SIDEBAR_VISIBILITY",isSidebarVisible:!1,wid:t})}}),[S]);var I=null;return I=S||O&&!x.isInitialized?(0,n.tZ)(h.Z,{style:{margin:"10px auto",width:"35px",height:"35px"}}):x.remote||x.isInitialized?(0,n.tZ)(ir,{wid:t,pud:r,isLoading:O,isNarrow:b,currentUser:null===j||void 0===j?void 0:j.currentUser,refetchUser:E}):(0,n.tZ)(sr,{isLoggedIn:Boolean(null===j||void 0===j?void 0:j.currentUser),onInit:function(){u(function(e,t){return function(){var r=Le(v().mark((function r(n,a){var o;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=function(r,a){return n(Xe({cmd:r,args:a,wid:e,pud:t}))},n({type:"TRACK_WS_EVENT",eventKey:"GIT_CLIENT_LOCAL_INIT",wid:e}),r.next=5,o(X,[a().user.userInfo]);case 5:return r.next=7,n(Ge(e,t));case 7:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(t,r))}}),(0,n.BX)("div",{style:a,className:"jsx-c53b9b484ed45518 gitSidebar",children:[(0,n.tZ)(o(),{id:"c53b9b484ed45518",children:".gitSidebar.jsx-c53b9b484ed45518{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;min-width:150px;padding:var(--space-8);background-color:var(--background-default);color:var(--foreground-default);-webkit-border-top-right-radius:var(--border-radius-4);-moz-border-radius-topright:var(--border-radius-4);border-top-right-radius:var(--border-radius-4);-webkit-border-bottom-right-radius:var(--border-radius-4);-moz-border-radius-bottomright:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4)}.gitSidebar-header.jsx-c53b9b484ed45518{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;position:relative;height:var(--space-32);color:var(--foreground-default);width:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.git-content-scroll-wrapper.jsx-c53b9b484ed45518{width:100%;height:100%;overflow-y:auto;overflow-x:hidden}.git-content-wrapper.jsx-c53b9b484ed45518{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;width:100%}.git-content-wrapper.is-loading.jsx-c53b9b484ed45518{opacity:.5;pointer-events:none}"}),(0,n.BX)("div",{className:"jsx-c53b9b484ed45518 gitSidebar-header",children:[(0,n.tZ)(f.Z,{truncate:!0,level:4,children:"Version control"}),(0,n.tZ)(ur.Z,{link:"https://replit.com/support"})]}),(0,n.tZ)(fr.Z,{height:1}),(0,n.tZ)("div",{className:"jsx-c53b9b484ed45518 git-content-scroll-wrapper",children:(0,n.tZ)("div",{className:"jsx-c53b9b484ed45518 "+(d()("git-content-wrapper",{"is-loading":O})||""),children:I})}),(0,n.tZ)(hr,{})]})}function hr(){return(0,n.BX)("div",{className:"jsx-ea99c912d83a4006 gitSidebar-footer",children:[(0,n.tZ)(o(),{id:"ea99c912d83a4006",children:".gitSidebar-footer.jsx-ea99c912d83a4006{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:6px 12px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:100%;background-color:var(--background-root);color:var(--foreground-dimmer);font-size:13px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.gitSidebar-footer.jsx-ea99c912d83a4006 .feedbackLink.jsx-ea99c912d83a4006{text-align:right}"}),(0,n.tZ)("a",{href:"https://replit.com/talk/announcements/Feedback-for-git-support-the-new-GitHub-integration/21631",target:"_blank",rel:"noopener",className:"jsx-ea99c912d83a4006 feedbackLink",children:"Send feedback"})]})}},60527:function(e,t,r){r.d(t,{t:function(){return k},Z:function(){return E}});var n=r(34051),a=r.n(n),o=r(71171),i=r.n(o),c=r(40802),l=r(21),s=r(77070),u=r(11163),d=r(87152),f=r(63431),p=r(88768),b=r(44215),m=r(34155),h=r(25108);function g(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){g(o,n,a,i,c,"next",e)}function c(e){g(o,n,a,i,c,"throw",e)}i(void 0)}))}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}var w=Boolean(m.env.CAPTCHA_EMBEDS);function k(e){if(e){var t=function(e){var t=new URL(e),r={secure:!1,port:""+t.port,host:t.hostname};return"wss:"===t.protocol?r.secure=!0:"ws:"!==t.protocol&&h.log(e,"Expected gurl protocol to be ws or wss, we'll give it a shot anyway"),r.port||(r.port=r.secure?"443":"80"),r}(e),r=t.secure,n=t.host,a=t.port;if("eval.repl.it"!==n&&"gp-v2.herokuapp.com"!==n&&"gp-v2.replit.com"!==n&&"eval.replit.com"!==n)return(0,s.j)(s.U3.LORE_USED_OVERRIDE_CLUSTER_METADATA,{gurl:e}),{id:"development",gurl:"ws".concat(r?"s":"","://").concat(n,":").concat(a),conmanURL:"http".concat(r?"s":"","://").concat(n,":").concat(a)}}}function Z(e){var t=Math.floor(500*Math.random()),r=1e3*Math.pow(1.7,e);return Math.min(r,15e3)+t}function j(){var e=window.performance.getEntriesByName("create-workspace");if(0===e.length)return c.Tb(new Error("Expected create-workspace mark")),!1;if(e.length>1)return c.Tb(new Error("Expected a single create-workspace mark")),!1;var t=e[0];return window.performance.now()-t.startTime}var S=0;function E(e){return C.apply(this,arguments)}function C(){return C=v(a().mark((function e(t){var r,n,o,c,m,h,g,y,k,E,C,O,_,I,P,N,T,A,B,U,R,z,D,L,M;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.client,n=t.repl,o=t.shouldAbort,c=t.onRetry,m=t.overrideClusterMetadata,h=t.prefetchedConnectionMetadata,g=t.isLoggedIn,d.l){e.next=3;break}throw new Error("Expected apollo client");case 3:S++,y={connectionMetadata:h,timeout:1e4,pollingHost:void 0},u.default.query.fallback&&(y.pollingHost="gp-v2.replit.com"),k=0,E=0,C=!1,O=n.id,_=n.language,I=n.slug,P=i()(),N=function(){var e=v(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),Z(E))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();case 12:if(!1!==r.isConnected()){e.next=91;break}if(!o()){e.next=15;break}return e.abrupt("return");case 15:return T=Boolean(u.default.query.lite||u.default.query.embed),A=window.performance.now(),B=i()(),U={retries:E,replId:O,language:_,slug:I,attemptUuid:B,govalConnectUuid:P,connectCount:S},R="",e.prev=20,e.next=23,d.l.query({query:p.Nfd});case 23:if(z=e.sent.data,D=Boolean(z.shouldBypassCaptcha),g||T&&!w||D){e.next=31;break}return e.next=29,(0,l.Z)();case 29:R=e.sent,b.kg.info(s.U3.GOVAL_CONNECTION_STEP,x({},U,{time:window.performance.now()-A,timeSinceCreateWorkspace:j(),step:"captcha",failed:!1}));case 31:e.next=43;break;case 33:if(e.prev=33,e.t0=e.catch(20),b.kg.info(s.U3.GOVAL_CONNECTION_STEP,x({},U,{time:window.performance.now()-A,timeSinceCreateWorkspace:j(),step:"captcha",failed:!0})),!o()){e.next=38;break}return e.abrupt("return");case 38:return E++,c(E),e.next=42,N();case 42:return e.abrupt("continue",12);case 43:if(!o()){e.next=45;break}return e.abrupt("return");case 45:if(L=window.performance.now(),h&&!C){e.next=66;break}return e.prev=47,e.next=50,(0,f.Z)({url:"/data/repls/".concat(n.id,"/get_connection_metadata"),captcha:R,isEmbed:T,hCaptchaSiteKey:l.w,clientVersion:"b88ffe5",overrideClusterMetadata:m,retry:E});case 50:y.connectionMetadata=e.sent,b.kg.info(s.U3.GOVAL_CONNECTION_STEP,x({},U,{time:window.performance.now()-L,timeSinceCreateWorkspace:j(),step:"fetchConnectionMetadata",failed:!1})),e.next=64;break;case 54:if(e.prev=54,e.t1=e.catch(47),b.kg.info(s.U3.GOVAL_CONNECTION_STEP,x({},U,{time:window.performance.now()-L,timeSinceCreateWorkspace:j(),step:"fetchConnectionMetadata",failed:!0})),!o()){e.next=59;break}return e.abrupt("return");case 59:return E++,c(E),e.next=63,N();case 63:return e.abrupt("continue",12);case 64:if(!o()){e.next=66;break}return e.abrupt("return");case 66:return C=!0,M=window.performance.now(),e.prev=68,e.next=71,r.connect(y);case 71:window.v1ws=r.ws,e.next=88;break;case 74:if(e.prev=74,e.t2=e.catch(68),!e.t2.message.includes("Client.close")){e.next=78;break}return e.abrupt("return");case 78:if(!o()){e.next=80;break}return e.abrupt("return");case 80:return 2!==k||y.pollingHost||(y.pollingHost="gp-v2.replit.com",b.kg.info(s.U3.GOVAL2_FELLBACK,{error:e.t2.message||"",retries:E})),b.kg.info(s.U3.GOVAL_CONNECTION_STEP,x({},U,{time:window.performance.now()-M,timeSinceCreateWorkspace:j(),step:"connect",failed:!0})),k++,E++,c(E),e.next=87,N();case 87:return e.abrupt("continue",12);case 88:b.kg.info(s.U3.GOVAL_CONNECTION_STEP,x({},U,{time:window.performance.now()-M,timeSinceCreateWorkspace:j(),step:"connect",failed:!1})),e.next=12;break;case 91:case"end":return e.stop()}}),e,null,[[20,33],[47,54],[68,74]])}))),C.apply(this,arguments)}},41875:function(e,t,r){r.d(t,{Z:function(){return ut}});var n=r(35944),a=r(65988),o=r.n(a),i=r(67294),c=r(40802),l=r(7163),s=r(41664),u=r(70917),d=r(29594),f=r(44054),p=r(37026),b=r(89431);function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){var t=e.repl,r=(0,b.Z)("flag-profile-2"),a=t.user?(0,n.tZ)(s.default,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){m(e,t,r[t])}))}return e}({},(0,l.Ru)(t.user,r),{children:(0,n.tZ)("a",{style:{color:"var(--accent-primary-default)",fontWeight:500,textDecoration:"none"},className:"username",children:t.user.username})})):(0,n.tZ)("span",{className:"username",children:"@anonymous"});return(0,n.BX)("div",{className:"jsx-2ea6ce89e086b07b workspace-header-info",children:[(0,n.BX)("div",{className:"jsx-2ea6ce89e086b07b workspace-header-title",children:[(0,n.tZ)("span",{className:"jsx-2ea6ce89e086b07b breadcrumb interactive",children:(0,n.tZ)("span",{onClick:function(e){return e.stopPropagation()},className:"jsx-2ea6ce89e086b07b breadcrumb-content",children:a})}),(0,n.tZ)("span",{className:"jsx-2ea6ce89e086b07b slash",children:"/"}),(0,n.tZ)("span",{className:"jsx-2ea6ce89e086b07b breadcrumb repl-title",children:(0,n.tZ)("span",{className:"jsx-2ea6ce89e086b07b breadcrumb-content",children:t.title})})]}),(0,n.tZ)("div",{className:"jsx-2ea6ce89e086b07b spacer"}),(0,n.tZ)("div",{title:t.templateInfo.label,className:"jsx-2ea6ce89e086b07b language-icon-container",children:(0,n.tZ)(p.Z,{iconUrl:t.templateInfo.iconUrl,size:16,alt:t.templateInfo.label})}),(0,n.tZ)(o(),{id:"2ea6ce89e086b07b",children:".workspace-header-info.jsx-2ea6ce89e086b07b,.workspace-header-title.jsx-2ea6ce89e086b07b{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:start;justify-content:start;overflow:hidden;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;font-size:var(--font-size-default)}.workspace-header-info.jsx-2ea6ce89e086b07b{width:100%}.workspace-header-user-link.jsx-2ea6ce89e086b07b{color:var(--accent-primary-default);text-decoration:none}.language-icon-container.jsx-2ea6ce89e086b07b{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;padding:var(--space-4);background-color:var(--background-higher);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);position:relative}.breadcrumb.jsx-2ea6ce89e086b07b{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:2px var(--space-4);width:auto}.breadcrumb.interactive.jsx-2ea6ce89e086b07b:hover{background-color:var(--background-higher)}.breadcrumb-content.jsx-2ea6ce89e086b07b{display:inline-block;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;max-width:152px}.spacer.jsx-2ea6ce89e086b07b{width:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.username.jsx-2ea6ce89e086b07b,.repl-title.jsx-2ea6ce89e086b07b{white-space:nowrap;color:var(--foreground-default)}.slash.jsx-2ea6ce89e086b07b{color:var(--foreground-dimmest);padding:0 2px}.repl-title.jsx-2ea6ce89e086b07b{overflow:hidden}"})]})},g=r(77070),v=r(16124),y=r(11163),x=r(8849),w=r(88768),k=r(12596),Z=r(54929),j=function(e){var t=e.maxLength,r=void 0===t?140:t,a=e.value,i=void 0===a?"":a,c=e.hideLabel,l=void 0!==c&&c;return(0,n.BX)("div",{className:"jsx-59d2089b8a0ab881",children:[i.length," / ",r," ",l?"":"characters",(0,n.tZ)(o(),{id:"59d2089b8a0ab881",children:"div.jsx-59d2089b8a0ab881{color:var(--foreground-dimmer);font-size:.75em;text-align:right;margin-top:var(--space-8)}"})]})},S=r(38880),E=r(8996),C=r(51281),O=r(58375),_=r(94184),I=r.n(_),P=r(70294),N=r(58458),T=r(63735),A=r(76695);function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){B(e,t,r[t])}))}return e}function R(e){var t,r=e.isBoosted||e.needsUpgrade,a=(0,w.E63)({skip:r,fetchPolicy:"cache-and-network"}),i=a.data,c=a.loading,l=(null===i||void 0===i||null===(t=i.currentUser)||void 0===t?void 0:t.canBoost)||!1,s=e.alwaysOn?1:3,u=e.isBoosted?1:3,d=e.isBoosted?"Your repl is currently boosted":"Your repl will be 2x faster",f=l?{}:{"aria-label":"Boost limit reached","data-microtip-position":"top",role:"tooltip"};return(0,n.BX)(n.HY,{children:[(0,n.BX)("div",{className:o().dynamic([["6f4b917985365282",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" always-on",children:[(0,n.BX)(E.gC,{children:[(0,n.BX)(E.Ug,{spacing:"4px",align:"center",children:[(0,n.tZ)(N.Z,{foreground:s,align:"center",children:(0,n.tZ)(A.Z,{})}),(0,n.tZ)(N.Z,{foreground:s,size:"small",fontWeight:"medium",children:"Always On"})]}),(0,n.tZ)(N.Z,{size:"xsmall",foreground:s,children:"Your repl will never fall asleep"})]}),(0,n.tZ)("div",{className:o().dynamic([["6f4b917985365282",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" toggle-box",children:(0,n.tZ)(P.Z,{isOn:e.alwaysOn,onChange:function(){e.onChange(!e.alwaysOn)}})})]}),(0,n.BX)("div",{className:o().dynamic([["6f4b917985365282",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" "+(I()("boost",{"is-boosted":e.isBoosted})||""),children:[(0,n.BX)(E.gC,{children:[(0,n.BX)(E.Ug,{spacing:"4px",align:"center",justify:"center",children:[(0,n.tZ)(N.Z,{className:"rocket-text",foreground:u,align:"center",children:(0,n.tZ)(T.Z,{})}),(0,n.tZ)(N.Z,{className:"boost-text",foreground:u,size:"small",fontWeight:e.isBoosted?"medium":"regular",children:"Boost"})]}),(0,n.tZ)(N.Z,{size:"xsmall",foreground:u,children:d})]}),(0,n.tZ)("div",{className:o().dynamic([["6f4b917985365282",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" toggle-box",children:e.isBoosted?(0,n.tZ)(C.Z,{onClick:function(){e.onUnboostClick()},filled:!1,border:!1,children:(0,n.tZ)(O.Z,{color:"var(--foreground-default)"})}):(0,n.tZ)("div",U({},f,{className:o().dynamic([["6f4b917985365282",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" "+(f&&null!=f.className&&f.className||""),children:(0,n.BX)(C.Z,{textColor:"var(--accent-positive-default)",disabled:!l,loading:c,onClick:function(){e.onBoostChange(!0)},children:[(0,n.tZ)("span",{className:o().dynamic([["6f4b917985365282",[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"]]])+" rocket-container",children:(0,n.tZ)(T.Z,{fontSize:"16px"})}),"Add Boost"]})}))})]}),(0,n.tZ)(o(),{id:"6f4b917985365282",dynamic:[e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",e.needsUpgrade?"none":"auto",e.needsUpgrade?.5:1,e.needsUpgrade?"not-allowed":"pointer"],children:".always-on.__jsx-style-dynamic-selector,.boost.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--space-8);-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.always-on.__jsx-style-dynamic-selector{margin-bottom:var(--space-8)}.boost.__jsx-style-dynamic-selector .rocket-text{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;color:".concat(e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)",";width:16px}.boost.__jsx-style-dynamic-selector .boost-text{color:").concat(e.isBoosted?"var(--accent-positive-default)":"var(--foreground-dimmest)","}.is-boosted.__jsx-style-dynamic-selector{background-color:var(--accent-positive-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.rocket-container.__jsx-style-dynamic-selector{margin-right:var(--space-4)}.boost-menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;color:var(--accent-negative-default)}.boost-icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--space-4)}.boost-menu-text.__jsx-style-dynamic-selector{padding:0 var(--space-4)}.toggle-box.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;pointer-events:").concat(e.needsUpgrade?"none":"auto",";opacity:").concat(e.needsUpgrade?.5:1,";cursor:").concat(e.needsUpgrade?"not-allowed":"pointer","}")})]})}var z=r(45193),D=r(63292),L=r(53985),M=r(13475),X=r(74586),H=r(66552),F=r(3204),G=r(74302),W=r(34051),V=r.n(W),K=r(27754),Y=r(87152),q=r(75291),$=r(60527),J=r(81544);function Q(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Q(o,n,a,i,c,"next",e)}function c(e){Q(o,n,a,i,c,"throw",e)}i(void 0)}))}}function te(e){return re.apply(this,arguments)}function re(){return(re=ee(V().mark((function e(t){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ne(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return ae.apply(this,arguments)}function ae(){return ae=ee(V().mark((function e(t){var r,n=arguments;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:1,e.prev=1,e.next=4,oe(t);case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),!(r>5)){e.next=10;break}throw e.t0;case 10:setTimeout((function(){ne(t,r+1)}),1e3*(Math.pow(2,r)-1));case 11:case"end":return e.stop()}}),e,null,[[1,6]])}))),ae.apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=ee(V().mark((function e(t){var r,n,a,o,i,c;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,K.Z)({onUnrecoverableError:function(e){throw new Error("Failed to create temporary goval connection. Received error ".concat(e.message))}}),Y.l){e.next=4;break}throw r.destroy(),new Error("Expected Apollo Client");case 4:return e.next=6,Y.l.query({query:w.PkY,variables:{id:t}});case 6:if("Repl"===(n=e.sent.data).repl.__typename){e.next=10;break}throw r.destroy(),new Error("Failed to query repl info when creating temporary connection");case 10:return a=n.currentUser,o=n.repl,e.next=13,(0,q.Z)();case 13:return i=e.sent,c=(0,$.t)(i),e.abrupt("return",new Promise((function(e){r.onConnectionStateChanged((function(t){t===K.e.CONNECTED&&(r.destroy(),e())})),r.connect({context:(0,J.U)({repl:o,currentUser:a}),overrideClusterMetadata:c})})));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=r(9720),le=r(69780),se=r(18864),ue=r(17161);var de=r(40425),fe=r(94157),pe=r(5383),be=r(1517),me=r(38956),he=r(52620),ge=r(33717);function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e){var t=i.useRef(null),r=ye(i.useState(e.value),2),a=r[0],c=r[1],l=ye(i.useState(null),2),s=l[0],u=l[1],d=(0,me.Z)({onUpload:function(t){var r=t.url;e.onChange(r)},onUploadPreview:function(e){var t=e.dataUrl;c(t)},onError:function(e){u(e.message)}});i.useEffect((function(){c(e.value)}),[e.value]);var f=null===a||void 0===a?void 0:a.startsWith("data:"),b=32;return(0,n.BX)(E.gC,{spacing:"var(--space-4)",children:[(0,n.BX)("div",{onClick:function(){var e;null===(e=t.current)||void 0===e||e.click()},"aria-label":a?"Change icon":"Upload an icon","data-microtip-position":"right",role:"tooltip",className:o().dynamic([["b924c5ea7169ca0d",[b,b]]])+" "+((a?"update-icon":"add-icon")||""),children:[a?(0,n.BX)(n.HY,{children:[(0,n.tZ)(p.Z,{iconUrl:a,size:b,alt:"icon"}),f?(0,n.tZ)("div",{className:o().dynamic([["b924c5ea7169ca0d",[b,b]]])+" loading-state",children:(0,n.tZ)("div",{className:o().dynamic([["b924c5ea7169ca0d",[b,b]]])+" loading-icon",children:(0,n.tZ)(be.Z,{})})}):(0,n.tZ)("div",{className:o().dynamic([["b924c5ea7169ca0d",[b,b]]])+" hover-state",children:(0,n.tZ)(pe.Z,{})})]}):(0,n.tZ)(he.Z,{}),(0,n.tZ)("input",{ref:t,accept:ge.W.join(","),type:"file",onChange:function(e){var t=e.target,r=t.validity,n=t.files;r.valid&&(null===n||void 0===n?void 0:n.length)&&(u(null),d.uploadImage(n[0]))},className:o().dynamic([["b924c5ea7169ca0d",[b,b]]])})]}),s?(0,n.tZ)("div",{className:o().dynamic([["b924c5ea7169ca0d",[b,b]]])+" error",children:s}):null,(0,n.tZ)(o(),{id:"b924c5ea7169ca0d",dynamic:[b,b],children:".add-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;border:1px dashed var(--foreground-dimmest);background-color:var(--background-root);width:".concat(b,"px;height:").concat(b,"px}.add-icon.__jsx-style-dynamic-selector:hover{color:var(--accent-primary-default);border-color:var(--accent-primary-default)}.add-icon.__jsx-style-dynamic-selector,.update-icon.__jsx-style-dynamic-selector{position:relative;cursor:pointer;background-color:var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:2px}.update-icon.__jsx-style-dynamic-selector:hover .hover-state.__jsx-style-dynamic-selector{opacity:.8}.hover-state.__jsx-style-dynamic-selector{opacity:0}.loading-state.__jsx-style-dynamic-selector{opacity:.8}.loading-icon.__jsx-style-dynamic-selector{-webkit-animation:rotate 1s linear infinite;-moz-animation:rotate 1s linear infinite;-o-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center}@keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.hover-state.__jsx-style-dynamic-selector,.loading-state.__jsx-style-dynamic-selector{color:var(--accent-primary-default);position:absolute;top:0;left:0;width:100%;height:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);background-color:var(--background-root);overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center}input.__jsx-style-dynamic-selector{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1}.error.__jsx-style-dynamic-selector{font-size:var(--font-size-default);color:var(--accent-negative-default)}")})]})}var we=r(8286),ke=r(64784),Ze=1e3;function je(e){var t=e.checked;return(0,n.BX)("div",{className:"jsx-de1cf38b041f6d66 "+(I()({checked:t})||""),children:[(0,n.tZ)(we.Z,{}),(0,n.tZ)(o(),{id:"de1cf38b041f6d66",children:"div.jsx-de1cf38b041f6d66{color:var(--foreground-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background-color:var(--background-highest);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:18px;height:18px}.checked.jsx-de1cf38b041f6d66{background-color:var(--accent-positive-default);color:var(--white)}"})]})}function Se(e){var t=e.completed,r=e.children;return(0,n.BX)(E.Ug,{align:"center",spacing:"4px",children:[(0,n.tZ)(je,{checked:t}),(0,n.tZ)(N.Z,{fontWeight:"medium",children:r})]})}var Ee,Ce=new String("textarea.jsx-9058a0628b76d2b3{color:var(--foreground-default);font-size:var(--font-size-default);font-family:var(--font-family-default);background-color:var(--background-root);font-family:var(--font-family-default);background-color:var(--background-root);padding:12px;display:block;min-height:60px;max-height:240px;overflow-y:scroll;width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);line-height:1.2em;resize:none;-webkit-transition:.1s box-shadow,.2s background-color,.2s border-color;-moz-transition:.1s box-shadow,.2s background-color,.2s border-color;-o-transition:.1s box-shadow,.2s background-color,.2s border-color;transition:.1s box-shadow,.2s background-color,.2s border-color}.jsx-9058a0628b76d2b3::-webkit-input-placeholder{color:var(--foreground-dimmer)}.jsx-9058a0628b76d2b3:-moz-placeholder{color:var(--foreground-dimmer)}.jsx-9058a0628b76d2b3::-moz-placeholder{color:var(--foreground-dimmer)}.jsx-9058a0628b76d2b3:-ms-input-placeholder{color:var(--foreground-dimmer)}.jsx-9058a0628b76d2b3::-ms-input-placeholder{color:var(--foreground-dimmer)}.jsx-9058a0628b76d2b3::placeholder{color:var(--foreground-dimmer)}textarea.jsx-9058a0628b76d2b3:hover{border-color:var(--accent-primary-dimmer)}textarea.jsx-9058a0628b76d2b3:focus,textarea.jsx-9058a0628b76d2b3:active{outline:none;border-color:var(--accent-primary-dimmer)}textarea.jsx-9058a0628b76d2b3:focus{background-color:var(--background-default);color:var(--foreground-default);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1)}");function Oe(e){var t=e.value,r=e.onChange,a=e.placeholder,i=(0,ke.Z)().ref;return(0,n.BX)(E.gC,{spacing:1,align:"stretch",children:[(0,n.tZ)(Se,{completed:Boolean(t),children:"Description"}),(0,n.BX)(E.gC,{spacing:1,align:"stretch",children:[(0,n.tZ)("textarea",{placeholder:a,maxLength:Ze,ref:i,value:t,onChange:function(e){var t=e.currentTarget.value;t.length>Ze||r(t)},className:"jsx-".concat(Ce.__hash)}),(0,n.BX)(N.Z,{size:"small",align:"right",foreground:2,children:[t.length,"/",Ze]})]}),(0,n.tZ)(o(),{id:Ce.__hash,children:Ce})]})}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ie(e,t,r[t])}))}return e}function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e){var t=e.replId,r=e.onDone,a=(0,w.yJ4)({variables:{replId:t}}).data,i="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?a.repl:null;return i?(0,n.BX)(E.gC,{spacing:3,align:"stretch",children:[(0,n.BX)(E.gC,{spacing:1,align:"stretch",children:[(0,n.BX)("div",{className:"jsx-4a343d27d3ab8f16 confirmation-heading",children:[i.title," is published!"]}),(0,n.tZ)("div",{className:"jsx-4a343d27d3ab8f16",children:(0,n.BX)(N.Z,{foreground:2,children:["Now the community can comment, react, and find your repl on"," ",(0,n.tZ)(s.default,{as:"/templates",href:"/templates",children:(0,n.tZ)("a",{className:"jsx-4a343d27d3ab8f16",children:(0,n.tZ)("b",{className:"jsx-4a343d27d3ab8f16",children:"Templates"})})})]})})]}),(0,n.BX)(E.Ug,{justify:"end",spacing:1,children:[(0,n.tZ)(C.Z,{onClick:r,children:"Done"}),(0,n.tZ)(s.default,Pe({},(0,G.j3)(i),{children:(0,n.tZ)("a",{style:{textDecoration:"none"},className:"jsx-4a343d27d3ab8f16",children:(0,n.tZ)(C.Z,{Icon:X.Z,color:"primary",onClick:r,children:"Spotlight page"})})}))]}),(0,n.tZ)(o(),{id:"4a343d27d3ab8f16",children:".confirmation-heading.jsx-4a343d27d3ab8f16{font-size:var(--font-size-header-default);font-weight:var(--font-weight-bold);color:var(--accent-positive-default)}"})]}):null}function Ae(e){var t=e.repl,r=e.onDone,a=Ne(i.useState(null),2),o=a[0],l=a[1],s=Ne(i.useState(t.description||""),2),u=s[0],d=s[1],f=Ne(i.useState(t.iconUrl||null),2),p=f[0],b=f[1];i.useEffect((function(){d(t.description||""),b(t.iconUrl||null)}),[null===t||void 0===t?void 0:t.description,null===t||void 0===t?void 0:t.iconUrl]);var m=Ne((0,w.n7M)({onCompleted:function(e){"Repl"!==e.createReplDeployment.__typename?"UserError"===e.createReplDeployment.__typename&&l(e.createReplDeployment.message):r({didPublish:!0})},onError:function(e){c.Tb(e),l((0,x.Z)(e.message))}}),2),h=m[0],g=m[1].loading,v=u&&p?{replId:t.id,description:u,iconUrl:p}:null,y=g||!v;return(0,n.tZ)("form",{onSubmit:function(e){e.preventDefault(),v&&h({variables:{input:v}})},children:(0,n.BX)(E.gC,{spacing:4,align:"stretch",children:[(0,n.BX)(E.gC,{spacing:2,align:"stretch",children:[(0,n.tZ)(Se,{completed:Boolean(p),children:"Icon"}),(0,n.tZ)(xe,{value:p,onChange:b})]}),(0,n.tZ)(Oe,{placeholder:"Explain a little bit about what this repl is.",value:u,onChange:d}),o?(0,n.tZ)(Ue,{message:o}):null,(0,n.BX)(E.Ug,{align:"center",spacing:1,justify:"end",children:[(0,n.tZ)(C.Z,{filled:!1,border:!1,onClick:function(){return r({didPublish:!1})},children:"Cancel"}),(0,n.tZ)(C.Z,{color:"primary",disabled:y,type:"submit",children:g?"Publishing...":"Publish"})]})]})})}function Be(e){var t=e.replId,r=e.onDone,a=Ne(i.useState(null),2),o=a[0],c=a[1],l=function(e){var t,r,n=e.replId,a=(0,w.fNr)({variables:{replId:n},fetchPolicy:"cache-and-network"}),o=a.data,i=a.loading,c=a.error;if(i)return{loading:i,pendingChanges:null,error:null};if(c)return{loading:!1,pendingChanges:null,error:c};var l="Repl"===(null===o||void 0===o?void 0:o.repl.__typename)?o.repl:null;return l?{loading:!1,pendingChanges:(null===(t=l.deployment)||void 0===t||null===(r=t.activeRelease)||void 0===r?void 0:r.pendingChanges)||[],error:c}:{loading:!1,pendingChanges:null,error:new Error("Repl not found")}}({replId:t}).pendingChanges,s=Ne(i.useState(""),2),u=s[0],d=s[1],f=Ne((0,w.ZPL)({variables:{input:{replId:t,description:u}},onCompleted:function(e){"Repl"!==e.createReplRelease.__typename?"UserError"===e.createReplRelease.__typename&&c(e.createReplRelease.message):r({didPublish:!0})}}),2),p=f[0],b=f[1];if(!l)return(0,n.tZ)(Z.Z,{css:[F.l0.center,F.l0.py(16)],children:(0,n.tZ)(be.Z,{})});if(!l.length)return(0,n.tZ)(Z.Z,{css:[F.l0.center,F.l0.py(16)],children:(0,n.tZ)(N.Z,{foreground:2,align:"center",children:"No changes to publish"})});var m=Boolean(u);return(0,n.BX)(Z.Z,{css:[F.l0.colWithGap(16)],children:[(0,n.tZ)(de.Z,{level:3,children:"Update Template"}),(0,n.tZ)(Z.Z,{css:F.l0.colWithGap(4),children:l.map((function(e){return(0,n.BX)(Z.Z,{css:[F.l0.rowWithGap(4),F.l0.align.center],children:[(0,n.tZ)(fe.Z,{}),(0,n.tZ)(N.Z,{truncate:!0,children:e.fileName}),(0,n.BX)(N.Z,{foreground:3,children:["(",ze[e.changeType],")"]})]},e.fileName)}))}),(0,n.tZ)("form",{onSubmit:function(e){e.preventDefault(),m&&!b.loading&&(c(null),p())},children:(0,n.BX)(Z.Z,{css:F.l0.colWithGap(8),children:[(0,n.tZ)(Oe,{placeholder:"Explain a little about this update.",value:u,onChange:d}),o?(0,n.tZ)(Ue,{message:o}):null,(0,n.BX)(Z.Z,{css:[F.l0.rowWithGap(4),F.l0.align.center,F.l0.justify.end],children:[(0,n.tZ)(C.Z,{filled:!1,border:!1,onClick:function(){return r({didPublish:!1})},children:"Cancel"}),(0,n.tZ)(C.Z,{color:"primary",disabled:!m,type:"submit",children:b.loading?"Updating...":"Publish update"})]})]})})]})}function Ue(e){var t=e.message;return(0,n.tZ)(N.Z,{style:{color:"red"},children:t})}Ce.__hash="9058a0628b76d2b3";var Re,ze=(Ie(Ee={},w.J53.NewFile,"new"),Ie(Ee,w.J53.ModfiedFile,"changed"),Ie(Ee,w.J53.DeletedFile,"deleted"),Ee),De=r(72304);function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e){var t=e.replId,r=e.onDone,a=e.source,o=(0,w.ouc)({variables:{replId:t}}).data,c=Me(i.useState(Re.Community),2),l=c[0],s=c[1],u="Repl"===(null===o||void 0===o?void 0:o.repl.__typename)?o.repl:null,d=null===o||void 0===o?void 0:o.currentUser;if(!u||!d)return(0,n.tZ)(Z.Z,{css:[F.l0.center,F.l0.p(32)],children:(0,n.tZ)(be.Z,{})});var f=[Re.Community,Re.Template];return u?(0,n.BX)(Z.Z,{css:F.l0.colWithGap(16),children:[d.isTemplateDeveloper?(0,n.tZ)(Z.Z,{css:[F.l0.px(16),F.l0.pt(16)],children:(0,n.tZ)(ce.Z,{options:f,onChange:function(e){return s(f[e])},selectedOption:f.indexOf(l)})}):null,l===Re.Community?(0,n.tZ)(De.Z,{replId:t}):null,l!==Re.Template||u.publishedAs?null:(0,n.tZ)(Z.Z,{css:[F.l0.p(16)],children:(0,n.tZ)(Ae,{source:a,repl:u,onDone:function(e){var t=e.didPublish;r({didPublish:t,kind:Re.Template})}})}),l===Re.Template&&u.publishedAs===w.O2h.Template?(0,n.tZ)(Z.Z,{css:[F.l0.p(16)],children:(0,n.tZ)(Be,{replId:u.id,onDone:function(e){var t=e.didPublish;return r({kind:Re.Template,didPublish:t})}})}):null]}):null}!function(e){e.Community="Community",e.Template="Template",e.App="App"}(Re||(Re={}));var He=r(57923);function Fe(e){var t=e.onUnboost,r=e.hideModal;return(0,n.BX)("div",{className:"jsx-1b4257477e423ea7 wrap",children:[(0,n.tZ)("div",{className:"jsx-1b4257477e423ea7 title",children:"Unboost Repl"}),(0,n.tZ)("div",{className:"jsx-1b4257477e423ea7 text",children:"Are you sure you want to unboost your repl? This will downgrade your repl to a less powerful machine."}),(0,n.BX)(E.Ug,{spacing:1,justify:"end",children:[(0,n.tZ)(C.Z,{onClick:r,autoFocus:!0,children:"Cancel"}),(0,n.tZ)(C.Z,{color:"negative",onClick:function(){t(),r()},children:"Confirm"})]}),(0,n.tZ)(o(),{id:"1b4257477e423ea7",children:".wrap.jsx-1b4257477e423ea7{background-color:var(--background-default);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-default)}.title.jsx-1b4257477e423ea7{color:var(--accent-negative-default)}.wrap.jsx-1b4257477e423ea7{display:grid;grid-row-gap:25px}.title.jsx-1b4257477e423ea7{font-size:var(--font-size-subhead-big)}.text.jsx-1b4257477e423ea7{margin-bottom:5px}@media screen and (min-width:600px){.wrap.jsx-1b4257477e423ea7{padding:75px 50px 75px}}"})]})}var Ge,We=r(22546),Ve=r(38334),Ke=r(28747),Ye=r(534),qe=r(44195),$e=r(59339),Je=r(90309),Qe=r(88341),et=r(16134);function tt(e){var t=e.replId,r=(0,w.ouc)({variables:{replId:t}}).data,a="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl:null,o=null===r||void 0===r?void 0:r.currentUser;return a&&o?a?(0,n.tZ)(Z.Z,{css:F.l0.colWithGap(16),children:(0,n.tZ)(et.Z,{replId:t})}):null:(0,n.tZ)(Z.Z,{css:[F.l0.center,F.l0.p(32)],children:(0,n.tZ)(be.Z,{})})}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function at(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){nt(e,t,r[t])}))}return e}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){c=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e){var t=e.user;return(0,n.BX)(n.HY,{children:[t?(0,n.tZ)(s.default,at({},(0,l.Ru)(t),{children:(0,n.tZ)("a",{onClick:function(e){e.stopPropagation()},className:o().dynamic([["177bfdbfdbe915fa",[f.j.tabletMax]]])+" icon",children:(0,n.tZ)(Ye.Z,{src:t.image,alt:t.username,size:32})})})):(0,n.tZ)("div",{className:o().dynamic([["177bfdbfdbe915fa",[f.j.tabletMax]]])+" icon",children:(0,n.tZ)(d.Z,{size:"inherit"})}),(0,n.tZ)(o(),{id:"177bfdbfdbe915fa",dynamic:[f.j.tabletMax],children:".icon.__jsx-style-dynamic-selector{display:none}@media screen and (min-width:".concat(f.j.tabletMax,"px){.icon.__jsx-style-dynamic-selector{display:block}}")})]})}function ct(e){var t=e.isPrivate,r=e.isSelected,a=t?se.Z:le.Z,o=t?"Private":"Public",i=r?1:2;return(0,n.BX)(E.Ug,{align:"center",justify:"center",spacing:1,children:[(0,n.tZ)(E.Ug,{align:"center",justify:"center",children:(0,n.tZ)(a,{})}),(0,n.tZ)(N.Z,{truncate:!0,foreground:i,align:"center",size:"small",children:o})]})}!function(e){e.Fork="Fork",e.Delete="Delete",e.Unpublish="Unpublish",e.UnpublishTemplate="UnpublishTemplate",e.Spotlight="Spotlight"}(Ge||(Ge={}));var lt,st=(0,u.iv)([F.l0.rowWithGap(8),F.l0.p(4),F.l0.cursor.pointer,F.l0.color.foregroundDimmer,F.l0.borderRadius(4),F.l0.position.relative,F.l0.align.center,{border:"1px solid transparent","&:hover":{borderColor:F.TV.backgroundHighest}}]);function ut(e){var t=e.repl,r=e.refetch,a=e.onUpdateRepl,o=e.showInModal,c=ot(i.useState(!1),2),l=c[0],s=c[1],u=t.isAlwaysOn?(0,n.tZ)(Z.Z,{"aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip",css:[F.l0.width(8),F.l0.height(8),F.l0.borderRadius("full"),F.l0.backgroundColor.accentPositiveDefault,{alignSelf:"start",boxShadow:"0 0 12px "+F.TV.accentPositiveDefault}]}):null,d=(0,n.tZ)(dt,{setIsEditing:s,repl:t,refetch:r,onUpdateRepl:a});return o?(0,n.BX)(n.HY,{children:[(0,n.BX)(Z.Z,{css:[st],onClick:function(){s(!0)},children:[(0,n.tZ)(it,{user:t.user}),(0,n.tZ)(h,{repl:t}),u]}),(0,n.tZ)(z.Z,{isOpen:l,onRequestClose:function(){return s(!1)},children:d})]}):(0,n.BX)(Qe.Z,{isOpen:l,maxWidth:460,onClickOutside:function(){},padding:0,placement:"bottom-start",growToMaxWidth:!0,children:[(0,n.BX)(Z.Z,{css:[st,l&&{pointerEvents:"none"}],onClick:function(){s(!0)},children:[(0,n.tZ)(it,{user:t.user}),(0,n.tZ)(h,{repl:t}),u]}),d]})}function dt(e){var t,r=e.repl,a=e.onUpdateRepl,l=e.setIsEditing,u=(0,y.useRouter)(),d=ot(i.useState(!1),2),p=d[0],m=d[1],h=ot(i.useState(null),2),Z=h[0],_=h[1],I=ot(i.useState(r.isBoosted),2),P=I[0],T=I[1],A=ot(i.useState(r.isRenamed?r.title:""),2),B=A[0],U=A[1],W=ot(i.useState(r.description||""),2),V=W[0],K=W[1],Y=ot(i.useState(r.rawTemplateLabel),2),q=Y[0],$=Y[1],J=ot(i.useState(null),2),Q=J[0],ee=J[1],re=(0,S.Z)().showError;i.useEffect((function(){K(r.description||"")}),[r.description]);var ne=(0,He.Z)(),ae=i.useRef(r),oe=ot((0,w.ap1)({variables:{id:r.id},onCompleted:function(){return u.push("/home","/~")},update:(0,v.t)({id:r.id}),onError:function(e){return re((0,x.Z)(e.message))}}),1)[0],ie=ot((0,w.vib)({onError:function(e){return re((0,x.Z)(e.message))},onCompleted:function(e){var t=e.updateRepl.repl,n=ae.current,o={};n.description!==t.description&&(o.description=t.description),n.title!==t.title&&(o.title=t.title),n.url!==t.url&&(o.url=t.url),n.isRenamed!==t.isRenamed&&(o.isRenamed=!!t.isRenamed),ae.current=r,Object.keys(o).length>0&&(a(o),l(!1))}}),1)[0],le=ot((0,Ke.Z)(),2),de=le[0],fe=le[1].loading,pe=ot((0,w.prL)({onCompleted:function(e){ne.current&&("UserError"===e.setAlwaysOn.__typename?ee(e.setAlwaysOn.message):ee(null))},onError:function(e){return re((0,x.Z)(e.message))}}),2),be=pe[0],me=pe[1].loading,ge=ot((0,w.BjH)({variables:{replId:r.id},onCompleted:function(e){var t=e.boostRepl;"UserError"!==t.__typename?(te(r.id).catch((function(e){c.Tb(e),ne.current&&ee("Something went wrong when boosting your repl. Please refresh or try again.")})),ne.current&&(ee(null),T(!0))):ne.current&&ee(t.message)},onError:function(e){c.Tb(e),re((0,x.Z)(e.message))}}),2),ve=ge[0],ye=ge[1].loading,we=r.currentUserPermissions.publish,ke=ot((0,w.gFT)({variables:{input:{replId:r.id}},onError:function(e){c.Tb(e),re((0,x.Z)(e.message))}}),2),je=ke[0],Se=ke[1],Ee=ot((0,w.cry)({variables:{replId:r.id},onCompleted:function(e){var t=e.unboostRepl;"UserError"!==t.__typename?(te(r.id).catch((function(e){c.Tb(e),ne.current&&ee("Something went wrong when unboosting your repl. Please refresh or try again.")})),ne.current&&(ee(null),T(!1))):ee(t.message)},onError:function(e){c.Tb(e),re((0,x.Z)(e.message))}}),2),Ce=Ee[0],Oe=Ee[1].loading,_e=i.useMemo((function(){return!(!B||B===r.title)||(q!==r.rawTemplateLabel||!(""===V&&!r.description)&&V!==r.description)}),[r,B,V,q]),Ie=i.useCallback((function(){if(_e){var e={id:r.id,title:B||r.title,description:V,templateLabel:r.currentUserPermissions.changeTemplateLabel?q:void 0};ie({variables:{input:e}})}}),[_e,ie,r,B,V,q]),Pe=p||null!==Z||fe,Ne=(0,M.Z)((function(){Pe||(_e?Ie():l(!1))}),[Pe,_e,Ie]),Ae=i.useContext(qe.G).usesDigitalGoodsService,Be=function(){ye||Oe||(P?Ce():ve())},Ue=r.isRenamed?"name your repl":"default name: ".concat(r.title),ze=[w.Sy.Submit,w.Sy.PublishTemplate,w.Sy.EditTemplate].includes(r.workspaceCta),De=[];r.currentUserPermissions.fork&&De.push({value:Ge.Fork,label:"Fork",icon:(0,n.tZ)(Ve.Z,{})}),we&&De.unshift({value:Ge.Spotlight,label:"Spotlight",link:(0,G.j3)(r),icon:(0,n.tZ)(X.Z,{})}),r.publishedAs===w.O2h.App&&we&&De.push({value:Ge.Unpublish,label:"Unpublish",icon:(0,n.tZ)(ue.Z,{})}),r.publishedAs===w.O2h.Template&&we&&De.push({value:Ge.UnpublishTemplate,label:"Unpublish template",icon:(0,n.tZ)(ue.Z,{})}),r.currentUserPermissions.delete&&De.push({isDestructive:!0,value:Ge.Delete,label:"Delete",icon:(0,n.tZ)(O.Z,{})});var Le=r.currentUserPermissions.changePrivacy===w.HA$.SubscriptionRequired,Me=r.currentUserPermissions.changeAlwaysOn===w.fnM.SubscriptionRequired,Ye=Le?"Get access to Private repls, Always On, and Boosts.":"Get access to Always On and Boosts.";return(0,n.BX)("div",{ref:Ne,className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" repl-info-form",children:[(0,n.tZ)("form",{onSubmit:function(e){e.preventDefault(),Ie()},className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:(0,n.BX)(E.gC,{wrap:"nowrap",spacing:2,align:"stretch",children:[(0,n.BX)(E.gC,{wrap:"nowrap",spacing:"4px",align:"stretch",children:[(0,n.BX)(E.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,n.BX)("div",{className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:[!r.isRenamed&&we?(0,n.tZ)("div",{"data-microtip-position":"right","aria-label":"Name your repl to publish",role:"tooltip",className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:(0,n.tZ)(C.Z,{Icon:he.Z,color:"primary",disabled:!0,children:"Publish"})}):null,r.isRenamed&&we?(0,n.tZ)(C.Z,{Icon:he.Z,color:"primary",onClick:function(){return _(lt.Community)},children:"Publish"}):null,we?null:(0,n.tZ)(s.default,at({},(0,G.j3)(r),{children:(0,n.tZ)("a",{style:{textDecoration:"none"},className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:(0,n.tZ)(C.Z,{Icon:X.Z,color:"primary",className:"spotlight-button",children:"Spotlight page"})})}))]}),(0,n.tZ)(We.Z,{items:De,onItemClick:function(e){switch(e.value){case Ge.UnpublishTemplate:return void _(lt.UnpublishTemplate);case Ge.Fork:return void _(lt.ForkRepl);case Ge.Delete:_(lt.DeleteRepl)}},onOpenChange:m})]}),r.lastPublishedAt&&we?(0,n.BX)(N.Z,{size:"small",foreground:3,children:["Last published on"," ",new Date(r.lastPublishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}):null]}),r.currentUserPermissions.changeIconUrl&&r.publishedAs===w.O2h.Template?(0,n.tZ)(xe,{value:r.iconUrl,onChange:function(e){return ie({variables:{input:{id:r.id,iconUrl:e}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:at({},r,{iconUrl:e})}}})}}):null,(0,n.BX)(E.gC,{wrap:"nowrap",align:"end",children:[(0,n.tZ)(k.ZP,{style:{cursor:r.currentUserPermissions.changeTitle?"auto":"not-allowed"},disabled:!r.currentUserPermissions.changeTitle,maxLength:60,placeholder:Ue,value:B,onChange:function(e){return U(e.target.value)},spellCheck:!1}),(0,n.tZ)(j,{maxLength:60,value:B,hideLabel:!0})]}),(0,n.BX)(E.gC,{wrap:"nowrap",align:"end",children:[(0,n.tZ)("textarea",{onKeyDown:function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)},disabled:!r.currentUserPermissions.changeDescription,maxLength:Ze,value:V,onChange:function(e){return K(e.target.value)},placeholder:"What does this repl do?",className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])}),(0,n.tZ)(j,{maxLength:Ze,value:V,hideLabel:!0})]}),r.currentUserPermissions.changeTemplateLabel&&(0,n.tZ)(H.Z,{css:[F.l0.p(8),F.l0.borderRadius(8)],children:(0,n.BX)(E.gC,{wrap:"nowrap",spacing:1,children:[(0,n.BX)(E.Ug,{spacing:1,children:[(0,n.tZ)(se.Z,{}),(0,n.tZ)(N.Z,{children:"Template Label"})]}),(0,n.tZ)(k.ZP,{value:q,maxLength:60,placeholder:"Template Label",spellCheck:!1,onChange:function(e){return $(e.target.value)}})]})})]})}),ze?null:(0,n.BX)(n.HY,{children:[Me&&(0,n.tZ)("div",{className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:Ae?(0,n.BX)(E.gC,{justify:"center",align:"center",style:{paddingBottom:"var(--space-16)"},children:[(0,n.tZ)(N.Z,{foreground:3,children:Ye}),(0,n.BX)(N.Z,{foreground:3,children:["Go to"," ",(0,n.tZ)("a",{href:"https://replit.com/pricing",target:"_blank",className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]]),children:"replit.com"})," ","to upgrade your account."]})]}):(0,n.BX)(n.HY,{children:[(0,n.tZ)("div",{className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" upgrade-button-container",children:(0,n.tZ)(C.Z,{textColor:"white",backgroundColor:"var(--accent-primary-default)",fullWidth:!0,onClick:function(){(0,g.j)(g.U3.UPGRADE_SELECTED,{source:"inline",planID:"hacker"}),_(lt.SubscribeUser)},children:"Upgrade to Hacker"})}),(0,n.tZ)("div",{className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" upgrade-text-container",children:(0,n.tZ)(N.Z,{foreground:3,children:Ye})})]})}),(0,n.BX)(E.gC,{className:"hacker-features-container",children:[r.currentUserPermissions.changePrivacy!==w.HA$.Disallowed&&(0,n.tZ)("div",{className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" edit-repl-privacy",children:(0,n.tZ)(ce.Z,{options:[(0,n.tZ)(ct,{isPrivate:!1,isSelected:!r.isPrivate}),(0,n.tZ)(ct,{isPrivate:!0,isSelected:r.isPrivate})],selectedOption:r.isPrivate?1:0,onChange:function(){return ie({variables:{input:{id:r.id,isPrivate:!r.isPrivate}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:at({},r,{isPrivate:!r.isPrivate})}}})},width:"100%"})}),r.currentUserPermissions.changeAlwaysOn!==w.fnM.Disallowed&&(0,n.BX)("div",{className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" set-always-online",children:[(0,n.tZ)(R,{alwaysOn:r.isAlwaysOn,isBoosted:P,onChange:function(){if(!me){var e=!r.isAlwaysOn;be({variables:{replId:r.id,enabled:e},optimisticResponse:{setAlwaysOn:at({__typename:"Repl"},r,{isAlwaysOn:e})}})}},onBoostChange:Be,needsUpgrade:Me,onUpgrade:function(){return _(lt.SubscribeUser)},onUnboostClick:function(){return _(lt.UnboostRepl)}}),Q&&(0,n.tZ)("div",{className:o().dynamic([["d7603887017bc9b8",[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax]]])+" always-on-boost-error-container",children:(0,n.tZ)(N.Z,{size:"small",children:Q})})]})]})]}),(0,n.tZ)(z.Z,{isOpen:Z===lt.DeleteRepl,onRequestClose:function(){return _(null)},children:(0,n.tZ)(D.Z,{delete:oe,entityType:"Repl",hideModal:function(){return _(null)}})}),(0,n.tZ)(z.Z,{isOpen:Z===lt.UnboostRepl,onRequestClose:function(){return _(null)},children:(0,n.tZ)(Fe,{onUnboost:Be,hideModal:function(){return _(null)}})}),(0,n.tZ)(z.Z,{isOpen:Z===lt.ForkRepl,onRequestClose:function(){return _(null)},children:(0,n.tZ)(Je.Z,{onFork:function(e,t){de({originId:r.id,teamId:e,title:t,forkToPersonal:!e,trackingData:{forkSource:"editReplPopoverMenuItem"}}),(0,g.j)(g.U3.REPLS_REPL_SELF_FORKED,{replId:r.id})},initialValue:r.title,hideModal:function(){return _(null)},teamContext:null===(t=r.user)||void 0===t?void 0:t.username})}),(0,n.tZ)(L.Z,{isOpen:Z===lt.SubscribeUser,onClose:function(){return _(null)},trackingInfo:{context:"workspace-header"}}),(0,n.tZ)(z.Z,{isOpen:Z===lt.UnpublishTemplate,onRequestClose:function(){return _(null)},children:(0,n.tZ)($e.Z,{isDestructive:!0,title:"Unpublish Template",onCancel:function(){return _(null)},onConfirm:function(){Se.loading||(je(),_(null))},children:"Your repl will no longer be discoverable on Templates. You can republish again at any time, and all of your comments or reactions will stick around."})}),(0,n.tZ)(z.Z,{isOpen:Z===lt.Community,onRequestClose:function(){return _(null)},children:(0,b.Z)("flag-new-pub-flow-new-form")?(0,n.tZ)(tt,{source:"replEnvironment",replId:r.id,onDone:function(e){e.didPublish||_(null)}}):(0,n.tZ)(Xe,{source:"replEnvironment",replId:r.id,onDone:function(e){var t=e.didPublish,r=e.kind;t||_(null),r===Re.Template&&_(t?lt.PublishTemplateConfirmation:null)}})}),(0,n.tZ)(z.Z,{isOpen:Z===lt.PublishTemplateConfirmation,onRequestClose:function(){return _(null)},children:(0,n.tZ)(z.h,{children:(0,n.tZ)(Te,{replId:r.id,onDone:function(){_(null)}})})}),(0,n.tZ)(o(),{id:"d7603887017bc9b8",dynamic:[r.currentUserPermissions.changeDescription?"auto":"not-allowed",Le?"var(--background-root)":"var(--background-default)",Le?"none":"auto",Le?.5:1,Le?"not-allowed":"pointer",Me?"var(--background-root)":"var(--background-default)",f.j.mobileMax],children:".repl-info-form.__jsx-style-dynamic-selector{position:relative}form.__jsx-style-dynamic-selector{padding:var(--space-16)}textarea.__jsx-style-dynamic-selector{min-height:42px;height:200px;resize:none;cursor:".concat(r.currentUserPermissions.changeDescription?"auto":"not-allowed",";font-size:var(--font-size-default);font-family:var(--font-family-default);padding:var(--space-8);display:block;width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);-webkit-transition:.2s border-color;-moz-transition:.2s border-color;-o-transition:.2s border-color;transition:.2s border-color;background-color:transparent;color:var(--foreground-default)}textarea.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}textarea.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}textarea.__jsx-style-dynamic-selector:disabled{opacity:.5}textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--accent-primary-default)}.edit-repl-privacy.__jsx-style-dynamic-selector{background-color:").concat(Le?"var(--background-root)":"var(--background-default)",";color:var(--foreground-dimmer);pointer-events:").concat(Le?"none":"auto",";opacity:").concat(Le?.5:1,";cursor:").concat(Le?"not-allowed":"pointer","}.set-always-online.__jsx-style-dynamic-selector{background-color:").concat(Me?"var(--background-root)":"var(--background-default)","}.edit-repl-privacy.__jsx-style-dynamic-selector,.set-always-online.__jsx-style-dynamic-selector{width:100%;padding:var(--space-8)}.set-always-online.__jsx-style-dynamic-selector{-webkit-border-bottom-left-radius:8px;-moz-border-radius-bottomleft:8px;border-bottom-left-radius:8px;-webkit-border-bottom-right-radius:8px;-moz-border-radius-bottomright:8px;border-bottom-right-radius:8px;overflow:hidden}.edit-repl.__jsx-style-dynamic-selector .hacker-features-container{margin:var(--space-8)}.edit-repl-actions.__jsx-style-dynamic-selector{padding:0 var(--space-16)}.menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;color:var(--foreground-default)}.delete-menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;color:var(--accent-negative-default)}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--space-4)}.menu-text.__jsx-style-dynamic-selector{padding:0 var(--space-4)}.upgrade-button-container.__jsx-style-dynamic-selector{padding:0 var(--space-8)}.upgrade-button-container.__jsx-style-dynamic-selector .sentence-case{text-transform:none}.upgrade-text-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:var(--space-8);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center}.always-on-indicator.__jsx-style-dynamic-selector{margin-left:var(--space-4);margin-right:var(--space-8);width:8px;height:8px;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;background-color:var(--accent-green-default);-webkit-box-shadow:0 0 12px var(--accent-green-default);-moz-box-shadow:0 0 12px var(--accent-green-default);box-shadow:0 0 12px var(--accent-green-default)}.always-on-boost-error-container.__jsx-style-dynamic-selector{margin-top:var(--space-8)}.always-on-boost-error-container.__jsx-style-dynamic-selector .text{color:var(--accent-negative-default)}@media screen and (max-width:").concat(f.j.mobileMax,"px){.edit-repl.__jsx-style-dynamic-selector{width:80vw}}")})]})}!function(e){e.DeleteRepl="DeleteRepl",e.ForkRepl="ForkRepl",e.UnboostRepl="UnboostRepl",e.SubscribeUser="SubscribeUser",e.PublishTemplateConfirmation="PublishTemplateConfirmation",e.UnpublishTemplate="UnpublishTemplate",e.Community="Community"}(lt||(lt={}))},79175:function(e,t,r){r.d(t,{Q:function(){return n},Z:function(){return a}});var n="idle";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EVAL_STARTED":case"EVAL_SETUP":return"running";case"STOP_EVAL":return"stopping";case"EVAL_ENDED":return"idle";case"SET_RUN_STATE":return t.runstate;default:return e}}}}]);
//# sourceMappingURL=9096-3b633884f965c973.js.map