"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3612],{74125:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(88768),o=n(44269),i=n(89431);function a(e){var t=e.filePath,n=e.replId,a=(0,r.gs8)({variables:{replId:n}}).data,c=(0,i.Z)("flag-codex-java"),u=(0,o.eC)(t,c);return"Repl"===(null===a||void 0===a?void 0:a.repl.__typename)&&a.repl.hasExplainCode&&u}},32378:function(e,t,n){n.d(t,{Fy:function(){return C},Vw:function(){return O},u5:function(){return Z},dp:function(){return j}});var r=n(35944),o=n(65988),i=n.n(o),a=n(67294),c=n(24561),u=n(86578),l=n(534),s=n(94184),f=n.n(s),d=n(29737),p=n(22692),v=n(54929),h=n(3204),m=n(27464),g=n(14692),y=n(67938),b=n(64711),w=n(32181),x=n(39453);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){var t=e.height,n=e.loading;return(0,r.BX)("div",{className:i().dynamic([["dea430aa30530a9e",[t]]])+" "+(f()("loader",{loading:n})||""),children:[(0,r.BX)(c.ZP,{viewBox:"0 0 100 36",primaryColor:"var(--background-highest)",secondaryColor:"var(--background-higher)",children:[(0,r.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"4",height:"4",className:i().dynamic([["dea430aa30530a9e",[t]]])}),(0,r.tZ)("rect",{x:"6",y:"0",rx:"2",ry:"2",width:"92",height:"4",className:i().dynamic([["dea430aa30530a9e",[t]]])})]}),(0,r.tZ)(i(),{id:"dea430aa30530a9e",dynamic:[t],children:".loader.__jsx-style-dynamic-selector{padding:var(--space-8);display:none}.loader.loading.__jsx-style-dynamic-selector{height:".concat(t,";display:block}")})]})}function C(e){var t=e.maxHeight,n=e.minHeight,o=e.extensions,c=void 0===o?[]:o,l=e.allowScroll,s=void 0===l||l,p=e.fontSize,v=e.hideGutter,h=e.path,m=e.snippet,g=e.style,y=e.onNavigateToCode,b=(0,u.Z)({hideGutter:v,filePath:h,fontSize:p,readOnly:!0}),k=b.view,C=b.ref,O=S(a.useState(!1),2),Z=O[0],j=O[1],A=(0,w.Z)({view:k});return a.useEffect((function(){if(k&&m&&h){var e="lines"in m?m.lines.join("\n"):m.doc;return k.dispatch({changes:{from:0,to:k.state.doc.length,insert:e},effects:A.reconfigure([(0,d.Eu)({formatNumber:function(e){return String(e+m.startLineNumber-1)}}),c])}),j(!0),function(){k.dispatch({effects:A.reconfigure([])})}}}),[k,m,h,A,c]),(0,r.BX)("div",{style:g,className:i().dynamic([["8e4c5e25f39205ba",[t||"10em",n]]]),children:[(0,r.tZ)("div",{ref:C,onClick:function(e){if(y&&k){var t=e.clientX,n=e.clientY,r=k.posAtCoords({x:t,y:n}),o=null!==r?(0,x.s)(k.state.doc,r):null;y(o)}},className:i().dynamic([["8e4c5e25f39205ba",[t||"10em",n]]])+" "+(f()("snippet-editor",{"no-scroll":!s,loading:!Z})||"")}),(0,r.tZ)(E,{loading:!Z,height:t}),(0,r.tZ)(i(),{id:"8e4c5e25f39205ba",dynamic:[t||"10em",n],children:".snippet-editor.__jsx-style-dynamic-selector .cm-scroller{max-height:".concat(t||"10em",";min-height:").concat(n,";scrollbar-width:thin;outline:none}.snippet-editor.__jsx-style-dynamic-selector .cm-content{padding-bottom:0}.snippet-editor.loading.__jsx-style-dynamic-selector{display:none}.snippet-editor.no-scroll.__jsx-style-dynamic-selector .cm-scroller{overflow:hidden}.snippet-editor.__jsx-style-dynamic-selector ::-webkit-scrollbar{width:4px}.snippet-editor.__jsx-style-dynamic-selector .cm-gutters{min-width:unset}")})]})}function O(e){var t=e.path,n=e.doc,o=e.extensions,i=void 0===o?[]:o,c=e.numMatches,u=e.onNavigateToCode,l=e.initiallyExpanded,s=S(a.useState(l),2),f=s[0],d=s[1],w=f?"block":"none",x=f?180:0,k=f?"Collapse snippet":"Expand snippet";return(0,r.BX)(v.Z,{children:[(0,r.BX)(v.Z,{css:[h.l0.flex.row,h.l0.p(4),{justifyContent:"space-between"}],children:[(0,r.BX)(v.Z,{css:[h.l0.rowWithGap(8),h.l0.center,h.l0.p(4)],children:[(0,r.tZ)(p.Z,{path:t}),(0,r.tZ)(y.x,{children:t}),(0,r.tZ)(y.x,{color:"dimmest",children:(0,b.Z)("match",c,!0)})]}),(0,r.tZ)(m.Z,{alt:k,tooltipHidden:!0,onClick:function(){return d((function(e){return!e}))},children:(0,r.tZ)(g.Z,{rotate:x,style:{transition:"200ms ease"}})})]}),(0,r.tZ)(v.Z,{css:[h.l0.p(4),{display:w}],children:(0,r.tZ)(C,{path:t,snippet:{doc:n,startLineNumber:1},extensions:i,maxHeight:"max-content",allowScroll:!0,hideGutter:!0,onNavigateToCode:u})})]})}function Z(e){var t=e.path,n=e.snippet,o=e.maxHeight,a=e.minHeight,c=e.extensions,u=void 0===c?[]:c,l=e.allowScroll,s=void 0===l||l,f=e.onNavigateToCode,d=function(e){if(!e)return"";var t="lines"in e?e.lines.length:e.doc.lines;return(0,b.Z)("line",t,!0)}(n);return(0,r.BX)("div",{className:"jsx-ea81418c08a690a7 snippet-container",children:[(0,r.BX)("div",{className:"jsx-ea81418c08a690a7 snippet-header",children:[(0,r.BX)("div",{className:"jsx-ea81418c08a690a7 path-container",children:[(0,r.tZ)("span",{className:"jsx-ea81418c08a690a7 lang-icon",children:(0,r.tZ)(p.Z,{path:t,fill:"var(--accent-primary-default)"})}),(0,r.tZ)("span",{className:"jsx-ea81418c08a690a7 path",children:t}),(0,r.BX)("span",{className:"jsx-ea81418c08a690a7 lines",children:["  ","\u2022 ",d]})]}),(0,r.tZ)("div",{onClick:f,className:"jsx-ea81418c08a690a7 jump-to-code",children:"Jump to code"})]}),(0,r.tZ)(C,{path:t,fontSize:12,snippet:n,maxHeight:o||"54pt",minHeight:a,extensions:u,allowScroll:s}),(0,r.tZ)(i(),{id:"ea81418c08a690a7",children:".snippet-container.jsx-ea81418c08a690a7{display:grid;border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);grid-gap:var(--space-4)}.snippet-header.jsx-ea81418c08a690a7{display:grid;grid-auto-flow:column;grid-template-columns:1fr -webkit-max-content;grid-template-columns:1fr max-content;padding:var(--space-4);grid-gap:var(--space-8)}.path-container.jsx-ea81418c08a690a7{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}.lang-icon.jsx-ea81418c08a690a7{width:20px;height:20px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.path.jsx-ea81418c08a690a7{font-size:var(--font-size-small);color:var(--accent-primary-default);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.lines.jsx-ea81418c08a690a7{font-size:var(--font-size-small);color:var(--accent-primary-dimmer);white-space:pre}.jump-to-code.jsx-ea81418c08a690a7{font-size:var(--font-size-small);color:var(--accent-primary-default);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"})]})}function j(e){var t=e.extensions,n=void 0===t?[]:t,o=e.timeString,a=e.message,c=e.onClick,u=e.snippet,s=e.avatar,f=e.path;return(0,r.BX)("div",{onClick:c,className:"jsx-ac67521191136beb snippet-container",children:[(0,r.tZ)(C,{path:f,snippet:u,fontSize:12,maxHeight:"36pt",minHeight:"36pt",allowScroll:!1,style:{opacity:.7},extensions:n}),(0,r.BX)("div",{className:"jsx-ac67521191136beb snippet-first-message",children:[s?(0,r.tZ)(l.Z,{src:s.src,size:24,alt:"".concat(s.alt,"'s avatar")}):(0,r.tZ)("div",{className:"jsx-ac67521191136beb"}),(0,r.tZ)("div",{className:"jsx-ac67521191136beb text",children:a}),(0,r.tZ)("div",{className:"jsx-ac67521191136beb time",children:o})]}),(0,r.tZ)(i(),{id:"ac67521191136beb",children:".snippet-container.jsx-ac67521191136beb{display:grid;border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);overflow:hidden;grid-gap:var(--space-4);max-width:100%;cursor:pointer;-webkit-transition:-webkit-transform.1s ease-in-out;-moz-transition:-moz-transform.1s ease-in-out;-o-transition:-o-transform.1s ease-in-out;transition:-webkit-transform.1s ease-in-out;transition:-moz-transform.1s ease-in-out;transition:-o-transform.1s ease-in-out;transition:transform.1s ease-in-out}.snippet-container.jsx-ac67521191136beb:hover{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}.snippet-first-message.jsx-ac67521191136beb{border-top:1px solid var(--outline-dimmest);font-size:var(--font-size-default);background:var(--background-root);color:var(--foreground-default);padding:var(--space-8);display:grid;grid-auto-flow:column;grid-template-columns:-webkit-min-content 1fr -webkit-max-content;grid-template-columns:min-content 1fr max-content;grid-gap:var(--space-8);-webkit-justify-content:start;justify-content:start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.text.jsx-ac67521191136beb{-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.time.jsx-ac67521191136beb{font-size:var(--font-size-small)}"})]})}},35864:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(47421),o=n(29737),i=n(78120),a=n(80382),c=n(3204),u=n(64711);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function d(e,t){return!t||"object"!==v(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}var v=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var m=new(function(e){f(n,e);var t=h(n);function n(){var e;return l(this,n),(e=t.call(this)).elementClass="cm-gutterElement-hidden",e}return n.prototype.toDOM=function(){var e=document.createElement("span");e.classList.add("cm-hidden-lines-gutter");var t=document.createElement("span");return t.classList.add("cm-dot"),e.appendChild(t),e},n}(o.SJ)),g=function(e){f(n,e);var t=h(n);function n(e){var r;return l(this,n),(r=t.call(this)).numLines=e,r}var r=n.prototype;return r.eq=function(e){return e.numLines===this.numLines},r.toDOM=function(){var e=document.createElement("span");return e.textContent="".concat(this.numLines," hidden ").concat((0,u.Z)("line",this.numLines)),e.className="cm-hidden-lines",e},n}(r.l9),y=r.p.mark({class:"cm-searchResultMatch"}),b=r.tk.baseTheme({".cm-hidden-lines":{color:"var(--foreground-dimmer)",backgroundColor:"var(--background-highest)",display:"inline-block",width:"100%"},".cm-hidden-lines-gutter":{backgroundColor:"var(--background-highest)",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},".cm-dot":{height:"5px",width:"5px",backgroundColor:"var(--foreground-dimmest)",borderRadius:"50%",display:"inline-block"},".cm-tooltip .cm-scroller":{border:"2px solid var(--background-highest)",borderRadius:"var(--border-radius-4)"},".cm-tooltip .cm-scroller:hover":{border:"2px solid var(--accent-primary-dimmest)",boxShadow:"var(--shadow-1)",cursor:"pointer"},".cm-searchResultMatch":{color:c.TV.foregroundDefault,backgroundColor:c.TV.accentPrimaryDimmest,outline:c.TV.accentPrimaryDimmer+" solid 1px"},".cm-searchResultMatch span":{color:c.TV.foregroundDefault},".cm-tooltip .cm-searchResultMatch:hover":{opacity:.8},".cm-tooltip .cm-gutterElement":{display:"flex",marginTop:0,padding:"0 !important",width:"var(--space-24) !important",textAlign:"center",alignItems:"center",justifyContent:"center",lineHeight:"21px"},".cm-tooltip .cm-line":{padding:0},".cm-tooltip .cm-gutters":{padding:0},".cm-tooltip .cm-content":{paddingTop:0},".cm-tooltip .cm-lineWrapping":{whiteSpace:"pre"},".cm-tooltip .cm-cursor":{display:"none"},".cm-tooltip .cm-selectionBackground":{display:"none"}});function w(e,t){var n=e.sort((function(e,t){return e.from-t.from})),c=n.map((function(e){var t=e.from,n=e.to;return y.range(t,n)})),u=r.lg.define((function(){return{}}),{decorations:function(){return r.p.set(c)}}),l=function(e,t){var n=[],c=1;e.forEach((function(r,o){var i=t.lineAt(r.from),a=t.lineAt(r.to);c<i.number-2&&n.push({startLine:c,endLine:i.number-2}),c=a.number+2,o===e.length-1&&c<t.lines&&n.push({startLine:c,endLine:t.lines})}));var u=n.map((function(e){var n=t.line(e.startLine),o=t.line(e.endLine);return r.p.replace({widget:new g(e.endLine-e.startLine+1)}).range(n.from,o.to)})),l=n.map((function(e){var n=t.line(e.startLine);return r.p.line({class:"cm-line-hidden"}).range(n.from)})),s=i.QQ.define({create:function(){return r.p.set(u)},update:function(e){return e},provide:function(e){return r.tk.decorations.from(e)}}),f=i.QQ.define({create:function(){return r.p.set(l)},update:function(e){return e},provide:function(e){return r.tk.decorations.from(e)}}),d=n.map((function(e){var n=t.line(e.startLine);return m.range(n.from)})),p=o.p2.of(a.Xs.of(d));return[s,f,b,p]}(n,t);return[u,l]}},91898:function(e,t,n){var r=n(67294).createContext(null);t.Z=r},39453:function(e,t,n){function r(e,t){var n=Math.max(t.line+1,1),r=e.line(Math.min(n,e.lines));if(n>e.lines)return r.to;var o=r.from+t.character;return Math.min(o,r.to)}function o(e,t){var n=e.lineAt(t);return{line:n.number-1,character:t-n.from}}n.d(t,{R:function(){return r},s:function(){return o}})},85264:function(e,t,n){n.d(t,{Y:function(){return f},F:function(){return d}});var r=n(35944),o=n(65988),i=n.n(o),a=n(67294),c=n(58458),u=n(40425),l=n(8996),s=n(77070);function f(){return a.useEffect((function(){(0,s.j)(s.U3.WS_REPLCO_UNREACHABLE)}),[]),(0,r.BX)("div",{className:"jsx-88c49dc4f1cb807b unreachable",children:[(0,r.BX)(l.gC,{align:"center",spacing:4,children:[(0,r.BX)(l.gC,{align:"center",children:[(0,r.tZ)(u.Z,{level:1,children:"\ud83d\ude48"}),(0,r.tZ)(u.Z,{level:4,children:"This repl link isn't broken!"}),(0,r.tZ)(u.Z,{level:4,foreground:2,children:"It's just blocked."})]}),(0,r.BX)(l.gC,{spacing:2,className:"why",children:[(0,r.tZ)(c.Z,{foreground:2,children:"Why this might be happening:"}),(0,r.tZ)(c.Z,{foreground:2,children:(0,r.BX)("ul",{className:"jsx-88c49dc4f1cb807b",children:[(0,r.BX)("li",{className:"jsx-88c49dc4f1cb807b",children:["repl.co URLs could be"," ",(0,r.tZ)(c.Z,{fontWeight:"medium",foreground:1,children:"blocked by a firewall,"})," ","so contact your IT administrator"]}),(0,r.BX)("li",{className:"jsx-88c49dc4f1cb807b",children:["repl.co URLs could be"," ",(0,r.tZ)(c.Z,{fontWeight:"medium",foreground:1,children:"blocked by your ISP,"})," ","so try getting in touch with them"]})]})})]}),(0,r.BX)(c.Z,{foreground:2,align:"center",children:["If you have any other questions, please check out"," ",(0,r.tZ)("a",{href:"https://docs.replit.com/Teams/IT_Toolkit",target:"_blank",rel:"noopener noreferrer",className:"jsx-88c49dc4f1cb807b",children:"our IT docs"})," ","or"," ",(0,r.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",className:"jsx-88c49dc4f1cb807b",children:"contact support"}),"."]})]}),(0,r.tZ)(i(),{id:"88c49dc4f1cb807b",children:".unreachable.jsx-88c49dc4f1cb807b{padding:var(--space-32)}.unreachable.jsx-88c49dc4f1cb807b ul.jsx-88c49dc4f1cb807b{list-style-position:inside}.unreachable.jsx-88c49dc4f1cb807b li.jsx-88c49dc4f1cb807b{padding-bottom:var(--space-16)}"})]})}var d=a.createContext(!1)},12603:function(e,t,n){n.d(t,{f6:function(){return s},xZ:function(){return d}});var r=n(67294),o=n(57923),i=n(30617),a=n(93577);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){var t=u(r.useState(!1),2),n=t[0],a=t[1],c=(0,o.Z)(),l=(0,i.Z)().dotReplit;return r.useEffect((function(){l.getConfig().then((function(t){!t.error&&c.current&&t.config.language===e&&a(!0)}))}),[e,l,c]),n}function s(){return l("kaboomdraw")}var f=/^draw.[tj]s$/;function d(){var e=(0,a.Z)();return s()&&Boolean(null===e||void 0===e?void 0:e.match(f))}},73433:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(67294),o=n(63805);function i(){var e=(0,r.useRef)(0),t=(0,r.useState)(!1),n=t[0],i=t[1],a=window.visualViewport;return(0,r.useEffect)((function(){if(a&&(0,o.isMobile)({tablet:!1})){var t=function(){var t=a.height<.8*e.current;i(t)};return e.current=a.height,a.addEventListener("resize",t),function(){a.removeEventListener("resize",t)}}}),[a]),n}},13649:function(e,t,n){function r(e){if(!e)return!1;try{var t=new URL(e);return Boolean(t)}catch(n){return!1}}n.d(t,{Z:function(){return r}})},44660:function(e,t,n){n.d(t,{H:function(){return r},E:function(){return _}});var r,o=n(34051),i=n.n(o),a=n(35944),c=n(26967),u=n(67938),l=n(54929),s=n(3204),f=n(67294),d=n(89431),p=n(77070),v=n(90002),h=n(85486),m=n(90601),g=n(7177),y=n(88768),b=n(48010);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,c,"next",e)}function c(e){x(i,r,o,a,c,"throw",e)}a(void 0)}))}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.Video="Video",e.Editor="Editor",e.Examples="Examples",e.Run="Run",e.Output="Output",e.Sidepane="Sidepane",e.Share="Share"}(r||(r={}));var C="workspace-desktop-tour",O=[{id:r.Video,title:"Get started with the Workspace",content:D,isModal:!0},{id:r.Editor,title:"Code Editor",content:"This is where you write code. Code describes how programs work. The editor helps you write code, by coloring certain types, and giving you suggestions when you type. Click on one of the examples to see how code looks."},{id:r.Examples,title:"Examples",content:"Click on one of these examples to insert into your editor",autoSkipIfNoTarget:!0},{id:r.Run,title:"Running Code",content:'This button takes your code and executes, or "runs", it. You can also run your code using the '.concat(m.V5?"Cmd":"Ctrl","+Return shortcut.")},{id:r.Output,title:"Program Output",content:"This is where the results of the code appear when you run it. Results can be console output (just text), a website, game, or graphics display, depending on the programming language and setup."},{id:r.Sidepane,title:"Filetree & Sidepanes",content:"Here are all the files in this project. There's usually a starter file, but you can make more files and folders as your project grows. The sidepane also contains different features for working on your program."},{id:r.Share,title:"Invite & Collaborate",content:"Invite others to your repl to collaborate and work together at the same time."}],Z=O.filter((function(e){return e.id!==r.Video})),j={id:C,steps:O},A={id:C,steps:Z};function I(){var e=(0,v.X)(),t=e&&!e.isDone&&!e.isLoading;return(0,f.useEffect)((function(){if(t){var e=window.store,n=function(t){var n=e.getState().plugins,r=Object.entries(n).find((function(e){var n=E(e,2);n[0];return n[1].type===t}));return r?r[0]:null},r=setInterval((function(){!function(){var t=e.getState(),r=t.layout,o=t.plugins,i=h.PP(r,o,"terminal2");if(i){var a=h.Il(h.Il(i)),c=h.QK(r,a);if("tabs"===c.type){var u=n("terminal2"),l=c.tabs.findIndex((function(e){return"pane"===e.type&&e.pud===u}));c.active!==l&&e.dispatch({type:"SET_ACTIVE_TAB",path:a,tabIndex:l})}}}(),function(){var t=e.getState(),r=t.layout,o=t.plugins;if(!h.PP(r,o,"filetree")){var i=n("filetree");e.dispatch({type:"OPEN_SIDE_NAV_ITEM",navItem:{pud:i}})}}()}),200);return function(){clearInterval(r)}}}),[t]),null}if(!O.find((function(e){return e.id===r.Video})))throw new Error("Expected video step");var P=!1;var T="ws-tour-youtube-video";function D(){return(0,f.useEffect)((function(){var e=null,t=!1;function n(){return r.apply(this,arguments)}function r(){return(r=k(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,new Promise((function(t){e=new window.YT.Player(T,{height:"360",width:"640",videoId:"TK_pvR672o0",playerVars:{origin:window.location.origin},events:{onReady:function(){return setTimeout(t,100)}}})}));case 4:if(!t){n.next=7;break}return null===e||void 0===e||e.destroy(),n.abrupt("return");case 7:if(e){n.next=9;break}throw new Error("expected player");case 9:e.cueVideoById({videoId:"TK_pvR672o0"});case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return P||(P=!0,(0,b.iM)("https://www.youtube.com/player_api")),window.YT?n():window.onYouTubePlayerAPIReady=n,function(){var n;t=!0,window.onYouTubePlayerAPIReady=null;var r=null===e||void 0===e?void 0:e.getCurrentTime(),o=null===e||void 0===e?void 0:e.getDuration();"function"===typeof(null===(n=window.analytics)||void 0===n?void 0:n.user)&&(0,p.yV)({id:window.analytics.user().id(),workspaceTourVideoWatchPercentage:o&&r?Math.floor(r/o*100):0}),null===e||void 0===e||e.destroy()}}),[]),(0,a.BX)(l.Z,{children:[(0,a.tZ)(u.x,{variant:"subheadDefault",css:s.l0.mb(8),children:"Watch this 1 minute video to learn how to build on Replit"}),(0,a.tZ)("div",{id:T,css:{width:560,height:340}})]})}function R(){var e=(0,y.PpL)({variables:{tours:C}}),t=e.data,n=e.loading,o=E((0,y.oep)({variables:{name:C},optimisticResponse:{markTourAsSeen:{__typename:"TourSeen",id:C,seen:!0}}}),1)[0],i=Boolean(!n&&t&&t.currentUser&&!t.currentUser.toursSeen[0].seen);return(0,a.tZ)(g.Z,{centered:!0,maxWidth:"fit-content",isOpen:i,onRequestClose:function(){var e;o(),"function"===typeof(null===(e=window.analytics)||void 0===e?void 0:e.user)&&(0,p.yV)({id:window.analytics.user().id(),workspaceTourStatus:r.Video.toLowerCase()})},children:(0,a.tZ)(D,{})})}function _(e){var t=e.children,n=function(e){var t;"function"===typeof(null===(t=window.analytics)||void 0===t?void 0:t.user)&&(0,p.yV)({id:window.analytics.user().id(),workspaceTourStatus:e===O[O.length-1].id?"completed":e.toLowerCase()})},r=(0,d.Q)("flag-workspace-tour-multivariate");if("videoOnly"===r)return(0,a.BX)(a.HY,{children:[(0,a.tZ)(R,{}),t]});var o={tour:"full"===r?j:A,onStep:n,onDone:n};return r&&"off"!==r||(o.isDoneInitialOverride=!0),(0,a.BX)(c.rk,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}({},o,{children:[(0,a.tZ)(I,{}),t]}))}},62774:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(67294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){var t=e.container,n=e.service,o=e.name,a=e.skip,c=void 0!==a&&a,u=i(r.useState({isConnecting:!0,channel:null,error:null,context:null}),2),l=u[0],s=u[1];return r.useEffect((function(){var e=t.openChannel({service:n,name:o,skip:function(){return c}},(function(e){if(!e.error)return s({context:e.context,channel:e.channel,error:null,isConnecting:!1}),function(e){s({isConnecting:e.willReconnect,channel:null,error:null,context:null})};s({context:e.context,channel:null,error:e.error,isConnecting:!1})}));return function(){e()}}),[t,n,o,c]),l}},85133:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(67294),o=n(30617),i=n(27754);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){var e,t,n=(0,o.Z)().container,a=c(r.useState(null!==(t=null===(e=n.getContext())||void 0===e?void 0:e.repl)&&void 0!==t?t:null),2),u=a[0],l=a[1];return r.useEffect((function(){return n.onConnectionStateChanged((function(e){var t,r;e===i.e.CONNECTED&&l(null!==(r=null===(t=n.getContext())||void 0===t?void 0:t.repl)&&void 0!==r?r:null)}))}),[l,n]),u}},22175:function(e,t,n){n.d(t,{Z:function(){return dt}});var r,o=n(34051),i=n.n(o),a=n(27754),c=n(39441);!function(e){e.USER_JOIN="USER_JOIN",e.USER_LEAVE="USER_LEAVE",e.USERS_UPDATE="USERS_UPDATE",e.USER_OPENED_FILE="USER_OPENED_FILE",e.FOLLOWED_USER_CHANGED="FOLLOWED_USER_CHANGED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED"}(r||(r={}));var u=n(50055),l=n(15602),s=Object.values(l.Z.multiplayer);function f(e){var t={};return s.forEach((function(e){t[e]=0})),e.forEach((function(e){t[e.color]++})),Object.keys(t).sort((function(e,n){return t[e]-t[n]}))[0]}function d(e){var t=e.sessions.sort((function(e,t){return e.timestamp-t.timestamp})),n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;if(c.activeFile)return c.activeFile}}catch(u){r=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return null}function p(e,t){var n=t.find((function(t){return t.sessions.some((function(t){return t.id===e}))}));if(!n)throw new Error("Expected user with session ID ".concat(e));return n}function v(e){var t=e.seconds,n=e.nanos;return Number(t||0)+(n||0)/1e9}var h=n(77070);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=n(75944),b=n(55982),w=n(62991),x=n.n(w);function k(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,c,"next",e)}function c(e){k(i,r,o,a,c,"throw",e)}a(void 0)}))}}function E(e){var t=e.container,n=function(e){x()(c,e)||(c=e,o.emit(r.FOLLOWED_USER_CHANGED,e))},o=(0,y.Z)();o.setMaxListeners(1/0);var a=[],c=null,l=[],s={},m=null,w=window.performance.now();function k(){return E.apply(this,arguments)}function E(){return(E=S(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return",m);case 2:return e.abrupt("return",new Promise((function(e){o.once(r.USERS_UPDATE,(function(){if(!m)throw new Error("Expected presenceChannel to be set");e(m)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=S(i().mark((function e(t){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===c||void 0===c?void 0:c.username)!==t){e.next=2;break}throw new Error("Already following user with username ".concat(t));case 2:if(!c){e.next=5;break}return e.next=5,O();case 5:return e.next=7,k();case 7:if(r=e.sent,o=a.find((function(e){return e.username===t}))){e.next=11;break}return e.abrupt("return");case 11:n(o),o.sessions.forEach((function(e){r.send({followUser:{session:e.id}})})),w=window.performance.now(),(0,h.j)(h.U3.LOCAL_USER_CURSOR_FOLLOWED);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return Z.apply(this,arguments)}function Z(){return(Z=S(i().mark((function e(){var t,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}throw new Error("No user to unfollow");case 2:return t=c,n(null),e.next=6,k();case 6:r=e.sent,t.sessions.forEach((function(e){r.send({unfollowUser:{session:e.id}})})),o=window.performance.now()-w,(0,h.j)(h.U3.LOCAL_USER_CURSOR_UNFOLLOWED,{sessionLength:o});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.openChannel({service:"presence",name:"presencer"},(function(e){var t=e.channel;if(!e.error){if(!t)throw new Error("Expected channel");return t.onCommand((function(e){var t={cmd:e,emitter:o,activeUsers:a,userIdToFile:s,followedUser:c,setFollowedUser:n,followingUsers:l};switch(e.body){case"roster":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=e.followedUser,c=e.followingUsers,u=e.setFollowedUser,l=t.roster;if(l){var s=l.user,p=l.files;if(s&&p){var m=new Set;if(o.splice(0,o.length),s.forEach((function(e){if(e.id&&e.name&&e.roles&&!m.has(e.id)){var t=p.filter((function(t){return t.userId===e.id})).map((function(e){if(!e.session||!e.timestamp)throw new Error("Expected session and associated with user");return{id:e.session,activeFile:e.file||null,timestamp:v(e.timestamp)}}));o.push({id:e.id,username:e.name,roles:e.roles,color:f(o),sessions:t}),m.add(e.id)}})),o.forEach((function(e){i[e.id]=d(e)})),n.emit(r.USERS_UPDATE,g(o)),o.length>1&&(0,h.j)(h.U3.MP2_USER_JOINED,{count:o.length}),c.filter((function(e){return!o.some((function(t){return t.id===e.id}))})).forEach((function(e){var t=c.indexOf(e);-1!==t&&(c.splice(t,1),n.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:g(c),user:e,type:"unfollow"}))})),a)if(o.some((function(e){return e.id===a.id}))){var y=i[a.id];n.emit(r.USER_OPENED_FILE,{user:a,file:y})}else u(null)}}}(t);break;case"join":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=t.join;if(a.id&&a.name&&a.roles&&a.session){var c=o.find((function(e){return e.id===a.id})),l=Math.floor(Date.now()/1e3),s=v(u.google.protobuf.Timestamp.create({seconds:l}));if(c)c.sessions.push({id:a.session,activeFile:null,timestamp:s});else{var d={id:a.id,username:a.name,roles:a.roles,color:f(o),sessions:[{id:a.session,activeFile:null,timestamp:s}]};i[a.id]=null,o.push(d),n.emit(r.USER_JOIN,d),n.emit(r.USERS_UPDATE,g(o)),(0,h.j)(h.U3.MP2_USER_JOINED,{count:o.length})}}}(t);break;case"part":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=e.followedUser,c=e.followingUsers,u=e.setFollowedUser;if(t.part&&t.part.id&&t.part.session){var l=t.part,s=l.id,f=l.session,p=o.findIndex((function(e){return e.id===s})),v=o[p];if(1===v.sessions.length){o.splice(p,1),delete i[v.id],n.emit(r.USER_LEAVE,v),n.emit(r.USERS_UPDATE,g(o)),a&&u(null);var h=c.findIndex((function(e){return e.id===v.id}));-1!==h&&(c.splice(h,1),n.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:g(c),user:v,type:"unfollow"}))}else{v.sessions=v.sessions.filter((function(e){return e.id!==f}));var m=d(v);i[v.id]!==m&&(i[v.id]=m,n.emit(r.USER_OPENED_FILE,{user:v,file:m}))}}}(t);break;case"fileOpened":!function(e){var t=e.emitter,n=e.cmd,o=e.activeUsers,i=e.userIdToFile;if(n.fileOpened){var a=n.fileOpened,c=a.userId,u=a.file,l=a.timestamp,s=a.session,f=u||null;if(!c||!l)throw new Error("Expected userId and timestamp associated with file opened command");var d=o.find((function(e){return e.id===c}));if(!d)throw new Error("Expected user with ID ".concat(c));var p=d.sessions.find((function(e){return e.id===s}));if(!p)throw new Error("Expected session with ID ".concat(p));p.activeFile=f,p.timestamp=v(l),i[c]=f,t.emit(r.USER_OPENED_FILE,{user:d,file:f})}}(t);break;case"followUser":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.followingUsers,a=t.followUser;if(!a.session)throw new Error("Expected session associated with follow user");var c=p(a.session,o);i.some((function(e){return e.id===c.id}))||(i.push(c),n.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:g(i),user:c,type:"follow"}))}(t);break;case"unfollowUser":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.followingUsers,a=t.unfollowUser;if(!a.session)throw new Error("Expected session associated with follow user");var c=p(a.session,o),u=i.findIndex((function(e){return e.id===c.id}));-1!==u&&(i.splice(u,1),n.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:g(i),user:c,type:"unfollow"}))}(t);break;case"sessionTimestampUpdated":!function(e){var t=e.cmd,n=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=t.sessionTimestampUpdated;if(!a.session||!a.timestamp)throw new Error("Expected session and tiemstamp associated with update");var c=a.session,u=p(c,o),l=i[u.id],s=u.sessions.find((function(e){return e.id===c}));if(!s)throw new Error("Expected user ".concat(u.id," to have a session with ID ").concat(c));s.timestamp=v(a.timestamp);var f=s.activeFile;f!==l&&(i[u.id]=f,n.emit(r.USER_OPENED_FILE,{user:u,file:f}))}(t)}})),m=t,function(){m=null}}})),{onUserLeave:function(e){return o.on(r.USER_LEAVE,e),function(){o.removeListener(r.USER_LEAVE,e)}},onUserJoin:function(e){return o.on(r.USER_JOIN,e),function(){o.removeListener(r.USER_LEAVE,e)}},onActiveUsersChange:function(e){return o.on(r.USERS_UPDATE,e),function(){o.removeListener(r.USERS_UPDATE,e)}},onUserOpenedFile:function(e){return o.on(r.USER_OPENED_FILE,e),function(){o.removeListener(r.USER_OPENED_FILE,e)}},onFollowedUserChanged:function(e){return o.on(r.FOLLOWED_USER_CHANGED,e),function(){o.removeListener(r.FOLLOWED_USER_CHANGED,e)}},onFollowingUsersChanged:function(e){return o.on(r.FOLLOWING_USERS_CHANGED,e),function(){o.removeListener(r.FOLLOWING_USERS_CHANGED,e)}},getActiveFileForUser:function(e){var t=s[e];if("undefined"===typeof t)throw new Error("Expected file for user with ID ".concat(e," to be defined"));return t},updateOpenFile:function(e){return S(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k();case 2:t.sent.send({openFile:{file:e}});case 4:case"end":return t.stop()}}),t)})))()},updateSessionTimestamp:function(){return S(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:e.sent.send({updateSessionTimestamp:{}});case 4:case"end":return e.stop()}}),e)})))()},followUser:function(e){return C.apply(this,arguments)},unfollowUser:O,getActiveUsers:function(){return a},getFollowedUser:function(){return c},getFollowingUsers:function(){return l},getUserIdToFile:function(){return s},getPathToUserIds:function(){var e=new Map;function t(n,r){var o;if(""!==n){e.has(n)||e.set(n,[]);var i=e.get(n);if(!i)throw new Error("Expected user Ids");i.some((function(e){return e===r}))||(null===(o=e.get(n))||void 0===o||o.push(r),t((0,b.Il)(n),r))}}return a.forEach((function(e){var n=e.id,r=s[n];r&&t(r,n)})),e}}}var C=n(87947),O=n(7377);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}var A,I=n(44521);function P(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){P(i,r,o,a,c,"next",e)}function c(e){P(i,r,o,a,c,"throw",e)}a(void 0)}))}}!function(e){e.MESSAGES_LOADED="MESSAGES_LOADED",e.MESSAGE_RECEIVED="MESSAGE_RECEIVED",e.MESSAGE_SENT="MESSAGE_SENT",e.USER_TYPING_UPDATED="USER_TYPING_UPDATED"}(A||(A={}));var D,R=n(68618),_=n(78842),N=n(96194);function L(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function U(e){var t,n=e.container,r=(0,y.Z)(),o=new Promise((function(e){return t=e})),a=null;return n.openChannel({service:"chat",name:"broadcaster"},(function(e){if(!e.error){var n=e.channel,i=e.context;if(!n)throw new Error("Expected channel");return i.currentUser&&(a=i.currentUser.username),n.onCommand((function(e){if("chatMessage"===e.body){var t=e.chatMessage;if(!t||!t.username||!t.text)throw new Error("unexpected broadcast without a message");r.emit(D.MESSAGE_RECEIVED,{text:t.text,username:t.username})}})),t(n),function(){o=new Promise((function(e){return t=e}))}}})),{broadcastMessage:function(e){var t,n=e.text;return(t=i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:if(t=e.sent,a){e.next=5;break}throw new Error("Cannot broadcast without as username. Is currentUser in context?");case 5:t.send({chatMessage:{text:n,username:a}});case 6:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){L(i,r,o,a,c,"next",e)}function c(e){L(i,r,o,a,c,"throw",e)}a(void 0)}))})()},onBroadcastReceived:function(e){return r.on(D.MESSAGE_RECEIVED,e),function(){r.removeListener(D.MESSAGE_RECEIVED,e)}}}}!function(e){e.MESSAGE_RECEIVED="MESSAGE_RECEIVED"}(D||(D={}));var F=n(69987),B=n(6763),M=n(40802),z=n(48764).Buffer;var H=8192,V="utf8",G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=0,this.buffer=new z(H)}var t=e.prototype;return t.append=function(e){var t=z.from(e,V);if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var n=(Math.ceil((this.index+t.length)/H)+1)*H;0===this.index?(this.buffer=new z(n),t.copy(this.buffer,0,0,t.length)):this.buffer=z.concat([this.buffer.slice(0,this.index),t],n)}this.index+=t.length},t.tryReadHeaders=function(){for(var e,t=0;t+3<this.index&&(13!==this.buffer[t]||10!==this.buffer[t+1]||13!==this.buffer[t+2]||10!==this.buffer[t+3]);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((function(t){var n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");var r=t.substr(0,n),o=t.substr(n+1).trim();if(!e)throw new Error("Expected result");e[r]=o}));var n=t+4;return this.buffer=this.buffer.slice(n),this.index-=n,e},t.tryReadContent=function(e){if(this.index<e)return null;var t=this.buffer.toString(V,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index-=n,t},t.numberOfBytes=function(){return this.index},e}();function X(e){var t=new G,n=-1;return{read:function(r){for(t.append(r);;){if(-1===n){var o=t.tryReadHeaders();if(!o)return;var i=o["Content-Length"];if(!i)return M.Tb(new Error("Header must provide a Content-Length property.")),!1;var a=parseInt(i,10);if(isNaN(a))return M.Tb(new Error("Content-Length value must be a number.")),!1;n=a}var c=t.tryReadContent(n);if(null===c)return;n=-1;try{var u=JSON.parse(c);e(u)}catch(l){M.Tb(l)}}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){J(i,r,o,a,c,"next",e)}function c(e){J(i,r,o,a,c,"throw",e)}a(void 0)}))}}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$(e,t,n[t])}))}return e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q=i().mark(ee);function ee(e,t){var n;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.length===t.length){r.next=2;break}return r.abrupt("return");case 2:n=0;case 3:if(!(n<e.length)){r.next=9;break}return r.next=6,[e[n],t[n]];case 6:n++,r.next=3;break;case 9:case"end":return r.stop()}}),Q)}var te=n(48764).Buffer;function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function re(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){re(i,r,o,a,c,"next",e)}function c(e){re(i,r,o,a,c,"throw",e)}a(void 0)}))}}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ie(e,t,n[t])}))}return e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"===typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}function se(e){var t=e.channel,n=e.beforeRun,r=function(){a.current="terminated",c.current=[],l.current=[],f.current=null,p.handleDebugSessionEnded(),v.current=!1},o=function(e){return d.on("started",e),function(){d.removeListener("started",e)}},a=(0,F.u)("terminated"),c=(0,F.u)([]),l=(0,F.u)([]),s=(0,F.u)(new Map),f=(0,F.u)(null),d=(0,y.Z)(),p=function(e,t){var n=function(){var e=new Map,t=new Set,n=!0,i=!1,c=void 0;try{for(var u,l=r.entries()[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var s=K(u.value,2),f=s[0],d=s[1];if(0!==d.length){var p=[],v=!0,h=!1,m=void 0;try{for(var g,y=d[Symbol.iterator]();!(v=(g=y.next()).done);v=!0){var b=g.value;if(b.breakpointId&&b.line){var w=a.get(b.breakpointId),x=void 0===w?void 0:o.get(w);x&&t.add(w),p.push({dapId:w,pid1Id:b.breakpointId,line:x&&x.line||b.line,verified:Boolean(null===x||void 0===x?void 0:x.verified),logMessage:b.logMessage||void 0})}}}catch(H){h=!0,m=H}finally{try{v||null==y.return||y.return()}finally{if(h)throw m}}e.set(f,p)}}}catch(H){i=!0,c=H}finally{try{n||null==l.return||l.return()}finally{if(i)throw c}}var k=!0,S=!1,E=void 0;try{for(var C,O=o.entries()[Symbol.iterator]();!(k=(C=O.next()).done);k=!0){var Z,j,A=K(C.value,2),I=A[0],P=A[1];if(!t.has(I)){var T=(0,B.IT)((null===(Z=P.source)||void 0===Z?void 0:Z.path)||(null===(j=P.source)||void 0===j?void 0:j.name)||""),D=P.line;if(T&&D){var R=e.get(T);R||(R=[],e.set(T,R));var _=!1,N=!0,L=!1,U=void 0;try{for(var F,M=R[Symbol.iterator]();!(N=(F=M.next()).done);N=!0){var z=F.value;if(z.line===P.line){z.dapId=I,z.verified=P.verified,_=!0;break}}}catch(H){L=!0,U=H}finally{try{N||null==M.return||M.return()}finally{if(L)throw U}}_||R.push({dapId:I,line:D,verified:P.verified})}}}}catch(H){S=!0,E=H}finally{try{k||null==O.return||O.return()}finally{if(S)throw E}}return e},r=new Map,o=new Map,a=new Map;function c(){return(c=q(i().mark((function t(n){var c,u,l,s,f,d,p,v,h,m,g,y,b,w,x,k,S,E,C,O,Z,j,A,I,P,T,D,R,_,N,L,U,F,B,M,z,H,V,G,X;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=!0,u=!1,l=void 0,t.prev=1,s=r.entries()[Symbol.iterator]();case 3:if(c=(f=s.next()).done){t.next=91;break}if(d=K(f.value,2),p=d[0],v=d[1],void 0===n||n===p){t.next=7;break}return t.abrupt("continue",88);case 7:return t.next=9,e({command:"setBreakpoints",arguments:{source:{name:p,path:p},breakpoints:v.map((function(e){return{line:e.line,logMessage:e.logMessage||void 0}}))}});case 9:if((h=t.sent).success){t.next=12;break}return t.abrupt("continue",88);case 12:m=!0,g=!1,y=void 0,t.prev=13,b=o[Symbol.iterator]();case 15:if(m=(w=b.next()).done){t.next=39;break}for(x=K(w.value,2),k=x[0],S=x[1],(null===(E=S.source)||void 0===E?void 0:E.name)===p&&o.delete(k),C=!0,O=!1,Z=void 0,t.prev=20,j=a[Symbol.iterator]();!(C=(A=j.next()).done);C=!0)I=K(A.value,2),P=I[0],I[1]===k&&a.delete(P);t.next=28;break;case 24:t.prev=24,t.t0=t.catch(20),O=!0,Z=t.t0;case 28:t.prev=28,t.prev=29,C||null==j.return||j.return();case 31:if(t.prev=31,!O){t.next=34;break}throw Z;case 34:return t.finish(31);case 35:return t.finish(28);case 36:m=!0,t.next=15;break;case 39:t.next=45;break;case 41:t.prev=41,t.t1=t.catch(13),g=!0,y=t.t1;case 45:t.prev=45,t.prev=46,m||null==b.return||b.return();case 48:if(t.prev=48,!g){t.next=51;break}throw y;case 51:return t.finish(48);case 52:return t.finish(45);case 53:for(T=h,D=!0,R=!1,_=void 0,t.prev=55,N=T.body.breakpoints[Symbol.iterator]();!(D=(L=N.next()).done);D=!0)null!=(U=L.value).id&&o.set(U.id,Y({source:{name:p,path:p}},U));t.next=63;break;case 59:t.prev=59,t.t2=t.catch(55),R=!0,_=t.t2;case 63:t.prev=63,t.prev=64,D||null==N.return||N.return();case 66:if(t.prev=66,!R){t.next=69;break}throw _;case 69:return t.finish(66);case 70:return t.finish(63);case 71:for(F=!0,B=!1,M=void 0,t.prev=72,z=ee(v,T.body.breakpoints)[Symbol.iterator]();!(F=(H=z.next()).done);F=!0)V=K(H.value,2),G=V[0],X=V[1],G.breakpointId&&null!=X.id&&a.set(G.breakpointId,X.id);t.next=80;break;case 76:t.prev=76,t.t3=t.catch(72),B=!0,M=t.t3;case 80:t.prev=80,t.prev=81,F||null==z.return||z.return();case 83:if(t.prev=83,!B){t.next=86;break}throw M;case 86:return t.finish(83);case 87:return t.finish(80);case 88:c=!0,t.next=3;break;case 91:t.next=97;break;case 93:t.prev=93,t.t4=t.catch(1),u=!0,l=t.t4;case 97:t.prev=97,t.prev=98,c||null==s.return||s.return();case 100:if(t.prev=100,!u){t.next=103;break}throw l;case 103:return t.finish(100);case 104:return t.finish(97);case 105:case"end":return t.stop()}}),t,null,[[1,93,97,105],[13,41,45,53],[20,24,28,36],[29,,31,35],[46,,48,52],[55,59,63,71],[64,,66,70],[72,76,80,88],[81,,83,87],[98,,100,104]])})))).apply(this,arguments)}return{findPathByBreakpointId:function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=r.entries()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var c=K(i.value,2),u=c[0];if(c[1].some((function(t){return t.breakpointId===e})))return u}}catch(l){n=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}return null},getBreakpoints:n,flush:function(e){return c.apply(this,arguments)},handleDAPBreakpointEvent:function(e){var r=e.body,i=r.reason,a=r.breakpoint,c=a.id;if(null!==c&&void 0!==c){switch(i){case"changed":case"new":o.set(c,Y({},o.get(c),a));break;case"removed":o.delete(c);break;default:return}t(n())}},handlePID1BreakpointEvent:function(e){var o=e.absolutePath?(0,B.IT)(e.absolutePath):null;o&&(r.set(o,e.breakpoints||[]),t(n()))},handleDebugSessionEnded:function(){o.clear(),a.clear();var e=!0,i=!1,c=void 0;try{for(var u,l=r.entries()[Symbol.iterator]();!(e=(u=l.next()).done);e=!0){var s=K(u.value,2),f=s[0];0===s[1].length&&r.delete(f)}}catch(d){i=!0,c=d}finally{try{e||null==l.return||l.return()}finally{if(i)throw c}}t(n())}}}(x,(function(e){s.current=e})),v=(0,F.u)(!1),h=[],m=X((function(e){if(h.push({time:Date.now(),direction:"in",data:e}),"event"===e.type)switch(e.event){case"continued":a.current="running";break;case"stopped":var t;a.current="paused",f.current=null!==(t=e.body.threadId)&&void 0!==t?t:null,d.emit("paused",e.body.reason),function(){C.apply(this,arguments)}();break;case"breakpoint":p.handleDAPBreakpointEvent(e)}else if("response"===e.type){var n=e,r=g.get(n.request_seq);r&&(g.delete(n.request_seq),r(e))}})),g=new Map,b=100,w=!1;function x(e){return k.apply(this,arguments)}function k(){return(k=oe(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=b++;g.set(r,e);var o=ae({},n,{type:"request",seq:r});h.push({time:Date.now(),direction:"out",data:o});var i={debugInput:{session:"main",adapterInput:fe(o)}};h.push({time:Date.now(),direction:"out",data:i}),t.send(i)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return E.apply(this,arguments)}function E(){return(E=oe(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.push({time:Date.now(),direction:"out",data:n}),e.next=3,t.request(n);case 3:if(r=e.sent,h.push({time:Date.now(),direction:"in",data:r}),!r.error){e.next=7;break}throw r.error;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=oe(i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.current=[],l.current=[],e.next=4,x({command:"stackTrace",arguments:{threadId:f.current}});case 4:if((t=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:if(c.current=t.body.stackFrames,0!==c.current.length){e.next=10;break}return e.abrupt("return");case 10:return n=c.current[0],e.next=13,x({command:"scopes",arguments:{frameId:n.id}});case 13:if((r=e.sent).success){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Promise.all(r.body.scopes.map((function(e){return x({command:"variables",arguments:{variablesReference:e.variablesReference}}).then((function(t){return{response:t,parentVariableReference:e.variablesReference}}))})));case 18:o=e.sent,l.current=o.filter((function(e){return e.response.success})).reduce((function(e,t){var n=t.response,r=t.parentVariableReference;return e.concat(n.body.variables.map((function(e){return ae({},e,{parentVariableReference:r})})))}),[]);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return Z.apply(this,arguments)}function Z(){return(Z=oe(i().mark((function e(){var r,o,u,l,s,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("terminated"===a.current){e.next=3;break}throw new Error("Cant start while debugger is already running");case 3:return a.current="preinitializing",c.current=[],e.next=7,n();case 7:if("stopping"!==a.current){e.next=10;break}return a.current="terminated",e.abrupt("return");case 10:return w=!0,a.current="initializing",u={debugMain:{session:"main",readOnly:!1}},h.push({time:Date.now(),direction:"out",data:u}),e.next=16,t.request(u);case 16:if(l=e.sent,h.push({time:Date.now(),direction:"in",data:l}),!l.error){e.next=22;break}return d.emit("output",l.error),a.current="terminated",e.abrupt("return");case 22:return e.next=24,x({command:"initialize",arguments:{clientID:"replit",clientName:"replit.com",adapterID:"cppdbg",pathFormat:"path",linesStartAt1:!0,columnsStartAt1:!0,supportsVariableType:!0,supportsVariablePaging:!0,supportsRunInTerminalRequest:!1,locale:"en-us",supportsProgressReporting:!0,supportsInvalidatedEvent:!0}});case 24:if((s=e.sent).success){e.next=28;break}return a.current="terminated",e.abrupt("return");case 28:return v.current=Boolean(null===(r=s.body)||void 0===r?void 0:r.supportsStepBack),f=!(null===(o=s.body)||void 0===o?void 0:o.supportsConfigurationDoneRequest),e.next=32,p.flush();case 32:if(f){e.next=35;break}return e.next=35,x({command:"configurationDone"});case 35:"initializing"===a.current&&(a.current="running"),d.emit("started",f);case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return A.apply(this,arguments)}function A(){return(A=oe(i().mark((function e(t,n){var r,o,c,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.line,o=n.otIndex,c=n.otVersion,u=n.logMessage,l=(0,B.om)(t)||t,e.next=4,S({debugAddBreakpointRequest:{path:l,line:r,otIndex:o,otVersion:c,logMessage:u}});case 4:if("terminated"===a.current){e.next=7;break}return e.next=7,p.flush(t);case 7:d.emit("breakpoint","added");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return P.apply(this,arguments)}function P(){return(P=oe(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.findPathByBreakpointId(t),e.next=3,S({debugRemoveBreakpointRequest:{breakpointId:t}});case 3:if("terminated"===a.current||!n){e.next=6;break}return e.next=6,p.flush(n);case 6:d.emit("breakpoint","removed");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=oe(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.findPathByBreakpointId(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,S({debugUpdateBreakpointRequest:{breakpointId:t,logMessage:n.logMessage}});case 5:if("terminated"===a.current){e.next=8;break}return e.next=8,p.flush(r);case 8:d.emit("breakpoint","updated");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=oe(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null===(o=null===(r=s.current.get(t))||void 0===r?void 0:r.find((function(e){return e.line===n.line&&void 0!==e.pid1Id})))||void 0===o?void 0:o.pid1Id)){e.next=7;break}return e.next=5,I(a);case 5:e.next=9;break;case 7:return e.next=9,j(t,n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.onCommand((function(e){var t,n;h.push({time:Date.now(),direction:"in",data:e});var o=e.debugOutput,i=e.debugState,c=e.debugBreakpointEvent,l=e.debugSessions;if(o){if("main"!==o.session)return;o.adapterOutput&&m.read(o.adapterOutput),o.output&&d.emit("output",o.output)}if(c&&p.handlePID1BreakpointEvent(c),i&&i.state===u.api.State.Stopped&&r(),(null===l||void 0===l||null===(t=l.sessions)||void 0===t?void 0:t.main)!==u.api.State.Running&&(null===i||void 0===i?void 0:i.state)!==u.api.State.Running||"terminated"===a.current&&O(),(null===l||void 0===l||null===(n=l.sessions)||void 0===n?void 0:n.main)===u.api.State.Stopped||(null===i||void 0===i?void 0:i.state)===u.api.State.Stopped){if(w)return void(w=!1);r()}})),{state:a,stackFrames:c,variables:l,breakpoints:s,supportsStepBack:v,onOutput:function(e){return d.on("output",e),function(){d.removeListener("output",e)}},onStarted:o,onPaused:function(e){return d.on("paused",e),function(){d.removeListener("paused",e)}},onBreakpoint:function(e){return d.on("breakpoint",e),function(){d.removeListener("breakpoint",e)}},sendInput:function(e){return oe(i().mark((function n(){var r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={debugInput:{session:"main",input:e}},h.push({time:Date.now(),direction:"out",data:r}),n.next=4,t.request(r);case 4:if(o=n.sent,h.push({time:Date.now(),direction:"in",data:o}),!o.error){n.next=8;break}throw o.error;case 8:case"end":return n.stop()}}),n)})))()},fetchVariables:function(e){return oe(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x({command:"variables",arguments:{variablesReference:e}});case 2:if(!(n=t.sent).success){t.next=5;break}return t.abrupt("return",n.body.variables.map((function(t){return ae({},t,{parentVariableReference:e})})));case 5:throw new Error(n.message);case 6:case"end":return t.stop()}}),t)})))()},addBreakpoint:j,removeBreakpoint:I,updateBreakpoint:function(e,t){return T.apply(this,arguments)},toggleBreakpoint:function(e,t){return D.apply(this,arguments)},start:O,continue:function(){return oe(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.current=[],a.current="running",e.next=4,x({command:"continue",arguments:{threadId:f.current}});case 4:case"end":return e.stop()}}),e)})))()},reverseContinue:function(){return oe(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.current=[],a.current="running",e.next=4,x({command:"reverseContinue",arguments:{threadId:f.current}});case 4:case"end":return e.stop()}}),e)})))()},back:function(){return oe(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.current="running",e.next=3,x({command:"stepBack",arguments:{threadId:f.current}});case 3:case"end":return e.stop()}}),e)})))()},next:function(){return oe(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.current="running",e.next=3,x({command:"stepIn",arguments:{threadId:f.current}});case 3:case"end":return e.stop()}}),e)})))()},skip:function(){return oe(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.current="running",e.next=3,x({command:"next",arguments:{threadId:f.current,granularity:"line"}});case 3:case"end":return e.stop()}}),e)})))()},stepOut:function(){return oe(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.current="running",e.next=3,x({command:"stepOut",arguments:{threadId:f.current}});case 3:case"end":return e.stop()}}),e)})))()},stop:function(){return oe(i().mark((function e(){var n,r,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("terminated"!==a.current){e.next=2;break}throw new Error("Debugger already terminated");case 2:if(n=a.current,a.current="stopping","preinitializing"!==n){e.next=6;break}return e.abrupt("return");case 6:if("initializing"!==n){e.next=13;break}return r=[],e.next=10,Promise.race([new Promise((function(e){r.push(a.subscribe((function(){return e()})))})),new Promise((function(e){r.push(o((function(){return e()})))}))]);case 10:if(r.forEach((function(e){return e()})),"terminated"!==a.current){e.next=13;break}return e.abrupt("return");case 13:return c={debugStop:{session:"main"}},h.push({time:Date.now(),direction:"out",data:c}),e.next=17,t.request(c);case 17:if(u=e.sent,h.push({time:Date.now(),direction:"in",data:u}),!u.error){e.next=21;break}throw new Error("Failed to stop debugger "+u.error);case 21:case"end":return e.stop()}}),e)})))()},getSource:function(e){return oe(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x({command:"source",arguments:{source:{path:e}}});case 2:if((n=t.sent).success){t.next=5;break}throw new Error(n.message);case 5:return t.abrupt("return",n.body.content);case 6:case"end":return t.stop()}}),t)})))()},getDebugLogs:function(){return Object.entries({state:a,stackFrames:c,variables:l,breakpoints:s,threadId:f}).map((function(e){var t,n,r=ce(e,2),o=r[0],i=r[1];return"".concat(o," = ").concat(JSON.stringify((t=i.current,(null!=(n=Map)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?ue(i.current):i.current),void 0,2))})).join("\n")+"\n\n"+h.map((function(e){return[new Date(e.time).toLocaleString(),"in"===e.direction?"->":"<-",JSON.stringify(e.data)].join(" ")})).join("\n")}}}function fe(e){var t=JSON.stringify(e);return"Content-Length: ".concat(te.byteLength(t),"\r\n\r\n").concat(t)}var de,pe=n(11938),ve=n(44215),he=n(24865),me=n(27740),ge=n.n(me),ye=n(94670),be=function(e){var t=e.configurationSupport;return{textDocument:{synchronization:{dynamicRegistration:!0,didSave:!0},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["plaintext","markdown"]}},publishDiagnostics:{relatedInformation:!0},formatting:{dynamicRegistration:!0},definition:{dynamicRegistration:!0},typeDefinition:{dynamicRegistration:!0},implementation:{dynamicRegistration:!0},references:{dynamicRegistration:!0},rename:{dynamicRegistration:!0,prepareSupport:!0},completion:{dynamicRegistration:!0,completionItem:{documentationFormat:["plaintext","markdown"]}},codeAction:{dynamicRegistration:!0,codeActionLiteralSupport:{codeActionKind:{valueSet:Object.values(ye.CodeActionKind)}}},hover:{dynamicRegistration:!0,contentFormat:["plaintext"]}},workspace:{applyEdit:!0,didChangeConfiguration:t.clientToServer?{dynamicRegistration:!0}:void 0,configuration:t.serverToClient,executeCommand:{dynamicRegistration:!0},workspaceEdit:{documentChanges:!0,resourceOperations:[ye.ResourceOperationKind.Create,ye.ResourceOperationKind.Delete,ye.ResourceOperationKind.Rename]}}}},we=n(98649),xe=n(48764).Buffer;function ke(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ke(i,r,o,a,c,"next",e)}function c(e){ke(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ee(e,t,n[t])}))}return e}function Oe(e){var t=e.channel,n=e.isSupportedFile,r=e.languageId,o=e.getWorkspaceConfiguration,a=e.onWorkspaceConfigurationChange,c=function(e){if(!b)throw new Error("Expected rootUri");return e.slice(b.length+1)},u=function(e){if(!b)throw new Error("Expected rootUri");if(e.startsWith("/"))throw new Error("Path must be relative. Got: ".concat(e));return b+"/"+e},l=function(e){w=e,g.emit(de.SERVER_STATE_CHANGE,w)},s=function(e,t){return e.line<t.line||e.line===t.line&&e.character<=t.character},f=function(e){var t=JSON.stringify(Ce({},e,{jsonrpc:"2.0"})),n=xe.byteLength(t,"utf8");return"Content-Length: ".concat(n,"\r\n\r\n").concat(t)},d=function(e){"open"===t.status&&t.send({input:f(e)})},p=function(){return Math.floor(Math.random()*(Math.pow(2,31)-1))},v=function(e,n){var r=n||p();if(!Number.isInteger(r))throw new Error("Request ID must be an integer");return"open"!==t.status?Promise.resolve({result:null,cancelled:!0}):(t.send({input:f(Ce({},e,{id:r}))}),new Promise((function(e){S[r]=e})))},h=function(e,n){"open"===t.status&&t.send({input:f(Ce({},n,{id:e}))})},m=function(e){var t=S[e];t&&(t({result:null,cancelled:!0}),delete S[e],d({method:"$/cancelRequest",params:{id:e}}))},g=(0,y.Z)(),b=null,w=he.aL.OFFLINE,x=null,k=new Map,S={},E=X((function(e){if(e.id&&S[e.id]){var t=S[e.id];delete S[e.id];var n=e.result,i=e.error;if("undefined"!==typeof n)return void t({result:n,cancelled:!1});if(i){var a=i.code,u=i.message,l=i.data;return ve.kg.error("LSP request failed",{code:a,languageId:r,errorMessage:u,data:JSON.stringify(l)}),void t({error:i})}throw ve.kg.error("LSP response message contained neither error nor result"),new Error("Expected either message or error in LSP response")}var s=e.method;if("client/registerCapability"!==s)if("workspace/applyEdit"!==s){if("textDocument/publishDiagnostics"===s){var f=c(e.params.uri),d=k.get(f);if(!d)return;var p=e.params.diagnostics;return d.diagnostics=p,k.set(f,d),void g.emit(de.DIAGNOSTICS,{path:f,diagnostics:p})}if("workspace/configuration"===s){var v,m=e.params,y=Array(m.items.length).fill(null),b=null!==(v=null===o||void 0===o?void 0:o())&&void 0!==v?v:null;b&&(y=m.items.map((function(e){return e.section?(0,we.Z)(b,e.section):b}))),h(e.id,{result:y,cancelled:!1})}}else{var w=Ce({id:e.id},e.params);g.emit(de.WORKSPACE_EDIT,w)}else{var E=e.params.registrations;if(!E||!Array.isArray(E))throw new Error("Expected registrations array");E.forEach((function(e){var t=e.method;if(!t)throw new Error("Expected registration method");if(!x)throw new Error("Expected server capabilities");var n=e.registerOptions||!0;switch(t){case"textDocument/definition":x.definitionProvider=!0;break;case"textDocument/typeDefinition":x.typeDefinitionProvider=!0;break;case"textDocument/implementation":x.implementationProvider=!0;break;case"textDocument/references":x.referencesProvider=!0;break;case"textDocument/hover":x.hoverProvider=!0;break;case"textDocument/completion":x.completionProvider=n;break;case"textDocument/formatting":x.documentFormattingProvider=n;break;case"textDocument/rename":x.renameProvider=n;break;case"textDocument/codeAction":x.codeActionProvider=n;break;case"textDocument/signatureHelp":x.signatureHelpProvider=n;break;case"textDocument/didSave":if("number"===typeof x.textDocumentSync)break;x.textDocumentSync=Ce({},x.textDocumentSync||{},{save:n});break;case"textDocument/willSaveWaitUntil":if("number"===typeof x.textDocumentSync)break;x.textDocumentSync=Ce({},x.textDocumentSync||{},{willSave:!0});break;case"textDocument/didChange":if("number"===typeof x.textDocumentSync)break;x.textDocumentSync=Ce({},x.textDocumentSync||{},{change:n});break;case"textDocument/didOpen":case"textDocument/didClose":if("number"===typeof x.textDocumentSync)break;x.textDocumentSync=Ce({},x.textDocumentSync||{},{openClose:!0});break;case"workspace/executeCommand":x.executeCommandProvider=n;break;default:ve.kg.info("Unexpected dynamically registered capability in LSP client",{method:t})}g.emit(de.SERVER_CAPABILITIES_CHANGE,x)}))}}));t.onCommand((function(e){e.output&&E.read(e.output)}));var C=function(){};return{initialize:function(e){var t=e.pwd,n=e.initializationOptions;return Se(i().mark((function e(){var r,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(he.aL.INITIALIZING),b="file://".concat(t),e.next=4,v({method:"initialize",params:{initializationOptions:n,capabilities:be({configurationSupport:{serverToClient:Boolean(o),clientToServer:Boolean(a)}}),processId:null,rootUri:b,workspaceFolders:[{name:b,uri:b}]}});case 4:if(!("error"in(r=e.sent))){e.next=7;break}throw new Error("Something went wrong initializing the LSP client: ".concat(r.error.message));case 7:if(r.result){e.next=9;break}throw new Error("Expected result in initialize request");case 9:d({method:"initialized",params:{}}),x=r.result.capabilities,g.emit(de.SERVER_CAPABILITIES_CHANGE,x),l(he.aL.INITIALIZED),a&&(C=a((function(e){d({method:"workspace/didChangeConfiguration",params:{settings:e}})})),o&&(c=o(),d({method:"workspace/didChangeConfiguration",params:{settings:c}})));case 14:case"end":return e.stop()}}),e)})))()},generateId:p,notify:{didOpen:function(e,t){if(!n(e))throw new Error("Path not supported");var o,i=k.get(e);if(i&&0!==i.buffers)return i.buffers++,void k.set(e,i);var a=null!==(o=null===i||void 0===i?void 0:i.version)&&void 0!==o?o:0;k.set(e,{version:a,buffers:1,diagnostics:[]}),d({method:"textDocument/didOpen",params:{textDocument:{uri:u(e),languageId:r,text:t,version:a}}})},didChange:function(e,t){var n=k.get(e);if(!n)throw new Error('Document for "'.concat(e,'" is not open'));n.version++,d({method:"textDocument/didChange",params:{textDocument:{uri:u(e),version:n.version,languageId:r},contentChanges:t}})},didSave:function(e){var t=k.get(e);if(!t)throw new Error('Document for "'.concat(e,'" is not open'));if(!x)throw new Error("Expected client to be initialized");if(!x.textDocumentSync)throw new Error("LSP Server does not support text document sync");d({method:"textDocument/didSave",params:{textDocument:{uri:u(e),version:t.version,languageId:r}}})},didClose:function(e){var t=k.get(e);if(!t)throw new Error('Document for "'.concat(e,'" is not open'));t.buffers--,t.buffers>0||(d({method:"textDocument/didClose",params:{textDocument:{uri:u(e),version:t.version,languageId:r}}}),k.delete(e))},cancelRequest:function(e){m(e)}},request:{completion:function(e,t,n,o){if(!x)throw new Error("Expected client to be initialized");if(!x.completionProvider)throw new Error("LSP Server does not support completion");return v({method:"textDocument/completion",params:{textDocument:{uri:u(e),languageId:r},position:t,context:n}},o)},resolveCompletionItem:function(e,t){if(!x)throw new Error("Expected client to be initialized");if(!x.completionProvider)throw new Error("LSP Server does not support completion");if(!x.completionProvider.resolveProvider)throw new Error("LSP Server does not support resolving completion items");return v({method:"completionItem/resolve",params:e},t)},signatureHelp:function(e,t,n){return v({method:"textDocument/signatureHelp",params:{textDocument:{uri:u(e),languageId:r},position:t}},n)},hover:function(e,t,n){return v({method:"textDocument/hover",params:{textDocument:{uri:u(e),languageId:r},position:t}},n)},codeActions:function(e,t,n){var r=k.get(e);if(!r)throw new Error("Document for path ".concat(e," is not open."));var o=r.diagnostics.filter((function(e){return n=e.range,r=t,s(n.start,r.end)&&s(r.start,n.end);var n,r}));return v({method:"textDocument/codeAction",params:{textDocument:{uri:u(e)},range:t,context:{diagnostics:o}}},n)},executeCommand:function(e,t,n){return v({method:"workspace/executeCommand",params:{command:e,arguments:t}},n)},format:function(e,t,n){if(!x)throw new Error("Expected client to be initialized");if(!x.documentFormattingProvider)throw new Error("LSP server does not support formatting");return v({method:"textDocument/formatting",params:{textDocument:{uri:u(e)},options:t}},n)},findDefinitions:function(e,t,n){return Se(i().mark((function o(){var a;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(x){o.next=2;break}throw new Error("Expected client to be initialized");case 2:if(x.definitionProvider){o.next=4;break}throw new Error("LSP server does not support go to definition");case 4:return o.next=6,v({method:"textDocument/definition",params:{textDocument:{uri:u(e),languageId:r},position:t}},n);case 6:if("result"in(a=o.sent)){o.next=9;break}return o.abrupt("return",a);case 9:if(!a.result||Array.isArray(a.result)){o.next=11;break}return o.abrupt("return",{result:[a.result],cancelled:!1});case 11:return o.abrupt("return",a);case 12:case"end":return o.stop()}}),o)})))()},findTypeDefinitions:function(e,t,n){return Se(i().mark((function o(){var a;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(x){o.next=2;break}throw new Error("Expected client to be initialized");case 2:if(x.typeDefinitionProvider){o.next=4;break}throw new Error("LSP server does not support go to type definition");case 4:return o.next=6,v({method:"textDocument/typeDefinition",params:{textDocument:{uri:u(e),languageId:r},position:t}},n);case 6:if("result"in(a=o.sent)){o.next=9;break}return o.abrupt("return",a);case 9:if(!a.result||Array.isArray(a.result)){o.next=11;break}return o.abrupt("return",{result:[a.result],cancelled:!1});case 11:return o.abrupt("return",a);case 12:case"end":return o.stop()}}),o)})))()},findImplementations:function(e,t,n){return Se(i().mark((function o(){var a;return i().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(x){o.next=2;break}throw new Error("Expected client to be initialized");case 2:if(x.implementationProvider){o.next=4;break}throw new Error("LSP server does not support go to implementation");case 4:return o.next=6,v({method:"textDocument/implementation",params:{textDocument:{uri:u(e),languageId:r},position:t}},n);case 6:if("result"in(a=o.sent)){o.next=9;break}return o.abrupt("return",a);case 9:if(!a.result||Array.isArray(a.result)){o.next=11;break}return o.abrupt("return",{result:[a.result],cancelled:!1});case 11:return o.abrupt("return",a);case 12:case"end":return o.stop()}}),o)})))()},findReferences:function(e,t,n,o){if(!x)throw new Error("Expected client to be initialized");if(!x.referencesProvider)throw new Error("LSP server does not support find references");return v({method:"textDocument/references",params:{textDocument:{uri:u(e),languageId:r},position:t,context:n}},o)},rename:function(e,t,n,o){if(!x)throw new Error("Expected client to be initialized");if(!x.renameProvider)throw new Error("LSP server does not support renaming");return v({method:"textDocument/rename",params:{textDocument:{uri:u(e),languageId:r},position:t,newName:n}},o)},prepareRename:function(e,t,n){if(!x)throw new Error("Expected client to be initialized");if(!x.renameProvider||"boolean"===typeof x.renameProvider||!x.renameProvider.prepareProvider)throw new Error("LSP server does not support prepare rename");return v({method:"textDocument/prepareRename",params:{textDocument:{uri:u(e),languageId:r},position:t}},n)}},onDiagnostics:function(e){return g.on(de.DIAGNOSTICS,e),function(){g.removeListener(de.DIAGNOSTICS,e)}},onWorkspaceEdit:function(e){var t=function(t){var n=e(t);h(t.id,{result:n,cancelled:!1})};return g.on(de.WORKSPACE_EDIT,t),function(){g.removeListener(de.WORKSPACE_EDIT,t)}},onServerStateChange:function(e){return g.on(de.SERVER_STATE_CHANGE,e),function(){g.removeListener(de.SERVER_STATE_CHANGE,e)}},onServerCapabilitiesChange:function(e){return g.on(de.SERVER_CAPABILITIES_CHANGE,e),function(){g.removeListener(de.SERVER_CAPABILITIES_CHANGE,e)}},shutdown:function(){for(var e in l(he.aL.EXITING),k.clear(),S)m(Number(e));C(),v({method:"shutdown"}).then((function(){d({method:"exit"}),l(he.aL.EXITED),g.removeAllListeners()}))},destroy:function(){for(var e in k.clear(),S)m(Number(e));C(),l(he.aL.EXITED),g.removeAllListeners()},getServerState:function(){return w},getServerCapabilities:function(){return x},getDiagnostics:function(e){var t=k.get(e);if(!t)throw new Error("File with path ".concat(e," is not open."));return t.diagnostics},isOpen:function(e){return k.has(e)},documentUriToPath:c,pathToDocumentURI:u,isSupportedFile:n}}!function(e){e.INITIALIZED="INITIALIZED",e.DIAGNOSTICS="DIAGNOSTICS",e.WORKSPACE_EDIT="WORKSPACE_EDIT",e.SERVER_STATE_CHANGE="SERVER_STATE_CHANGE",e.SERVER_CAPABILITIES_CHANGE="SERVER_CAPABILITIES_CHANGE"}(de||(de={}));var Ze=n(1864),je=function(e){switch((0,Ze.extname)(e).slice(1)){case"php":return"php";case"re":return"reason";case"erl":return"erlang";case"c":return"c";case"go":return"go";case"java":return"java";case"cpp":return"cpp";case"rb":return"ruby";case"py":return"python";case"js":case"sx":case"es6":return"replit-js";case"ts":case"tsx":return"replit-ts";default:return null}};var Ae=n(71291),Ie=n(58646);function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function De(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Te(i,r,o,a,c,"next",e)}function c(e){Te(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=De(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Ae.Z,e.next=4,Le(t);case 4:return e.t2=e.sent,e.t3=e.t1.from.call(e.t1,e.t2),e.abrupt("return",e.t0.writeFile.call(e.t0,"index.html",e.t3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=De(i().mark((function e(t){var n,r,o,a,c,u,l,s,f,d,p,v,h,m,g,y,w,x,k,S,E,C,O,Z,j,A,I,P,T,D,R,_,N,L,U,F,B,M,z,H,V;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r="",e.next=4,t.readFile("conf.json");case 4:if(!(o=e.sent).error){e.next=7;break}return e.abrupt("return","");case 7:return a=JSON.parse(o.content.toString()),(0,Ie.h)(a.version,"0.1.0")?r+="kaboom.import();\n":(0,Ie.h)(a.version,"0.4.0")&&(r+="kaboom.global();\n"),(0,Ie.h)(a.version,"0.4.0")?r+="\ninit({\n  ...".concat(JSON.stringify(a),",\n  clearColor: ").concat(a.clearColor?function(){var e=a.clearColor;return JSON.stringify({r:e[0],g:e[1],b:e[2],a:e[3]})}():"undefined","\n});\n  "):r+="\nkaboom({\n  ...".concat(JSON.stringify(a),",\n  global: true,\n  plugins: [ peditPlugin, asepritePlugin, kbmspritePlugin ],\n});\n"),e.t0=Re,e.next=13,Promise.all(["scenes","sprites","sounds"].map(t.readDir));case 13:if(e.t1=e.sent,c=(0,e.t0)(e.t1,3),u=c[0],l=c[1],s=c[2],l.error){e.next=36;break}for(f=!0,d=!1,p=void 0,e.prev=20,v=l.children[Symbol.iterator]();!(f=(h=v.next()).done);f=!0)m=h.value,g=JSON.stringify((0,b.eb)(m.filename)),y=JSON.stringify("sprites/".concat(m.filename)),(0,Ie.H)(a.version,"0.4.0")?m.filename.endsWith(".pedit")?r+="loadPedit(".concat(g,", ").concat(y,");\n"):m.filename.endsWith(".kbmsprite")?r+="loadKbmsprite(".concat(g,", ").concat(y,");\n"):r+="loadSprite(".concat(g,", ").concat(y,");\n"):r+="loadSprite(".concat(g,", ").concat(y,");\n");e.next=28;break;case 24:e.prev=24,e.t2=e.catch(20),d=!0,p=e.t2;case 28:e.prev=28,e.prev=29,f||null==v.return||v.return();case 31:if(e.prev=31,!d){e.next=34;break}throw p;case 34:return e.finish(31);case 35:return e.finish(28);case 36:if(s.error){e.next=54;break}for(w=!0,x=!1,k=void 0,e.prev=38,S=s.children[Symbol.iterator]();!(w=(E=S.next()).done);w=!0)C=E.value,O=JSON.stringify((0,b.eb)(C.filename)),Z=JSON.stringify("sounds/".concat(C.filename)),r+="loadSound(".concat(O,", ").concat(Z,");\n");e.next=46;break;case 42:e.prev=42,e.t3=e.catch(38),x=!0,k=e.t3;case 46:e.prev=46,e.prev=47,w||null==S.return||S.return();case 49:if(e.prev=49,!x){e.next=52;break}throw k;case 52:return e.finish(49);case 53:return e.finish(46);case 54:if(u.error){e.next=84;break}return e.next=57,Promise.all(u.children.map((function(e){var n=e.filename;return Promise.all([(0,b.eb)(n),t.readFile("scenes/".concat(n))])})));case 57:j=e.sent,A=!0,I=!1,P=void 0,e.prev=59,T=j[Symbol.iterator]();case 61:if(A=(D=T.next()).done){e.next=70;break}if(R=D.value,_=Re(R,2),N=_[0],!(L=_[1]).error){e.next=66;break}return e.abrupt("continue",67);case 66:r+="scene(".concat(JSON.stringify(N),", (args = {}) => {\n").concat(L.content.toString(),"\n});\n");case 67:A=!0,e.next=61;break;case 70:e.next=76;break;case 72:e.prev=72,e.t4=e.catch(59),I=!0,P=e.t4;case 76:e.prev=76,e.prev=77,A||null==T.return||T.return();case 79:if(e.prev=79,!I){e.next=82;break}throw P;case 82:return e.finish(79);case 83:return e.finish(76);case 84:for(r+="start(".concat(JSON.stringify(a.startScene),");\n"),U=["kaboom.js"],(0,Ie.h)(a.version,"0.1.0")?(U.push("kit/physics.js"),U.push("kit/starter.js"),U.push("kit/level.js")):(0,Ie.H)(a.version,"0.4.0")&&(U.push("plugins/aseprite.js"),U.push("plugins/pedit.js")),F=!0,B=!1,M=void 0,e.prev=88,z=U[Symbol.iterator]();!(F=(H=z.next()).done);F=!0)V=H.value,n+='<script src="https://kaboomjs.com/lib/'.concat(encodeURIComponent(a.version),"/").concat(encodeURI(V),'"><\/script>\n');e.next=96;break;case 92:e.prev=92,e.t5=e.catch(88),B=!0,M=e.t5;case 96:e.prev=96,e.prev=97,F||null==z.return||z.return();case 99:if(e.prev=99,!B){e.next=102;break}throw M;case 102:return e.finish(99);case 103:return e.finish(96);case 104:return(0,Ie.H)(a.version,"0.4.0")&&(n+='<script src="https://kaboomjs.com/pub/legacy/kbmsprite.js"><\/script>\n'),e.abrupt("return",'\n<!DOCTYPE html>\n\n<html>\n\n<head>\n  <title>kaboom</title>\n  <meta charset="utf-8">\n  <style>\n    * {\n      margin: 0;\n    }\n    html,\n    body {\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n    }\n    canvas {\n      display: block;\n    }\n  </style>\n</head>\n\n<body>\n'.concat(n,"\n  <script>\n").concat(r,"\n  <\/script>\n</body>\n\n</html>\n"));case 106:case"end":return e.stop()}}),e,null,[[20,24,28,36],[29,,31,35],[38,42,46,54],[47,,49,53],[59,72,76,84],[77,,79,83],[88,92,96,104],[97,,99,103]])})))).apply(this,arguments)}var Fe=n(9440),Be=n(41951),Me=n(923),ze=n(83633),He=n.n(ze);function Ve(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}var Ge;function Xe(e){var t=e.container,n=e.beforeRun,r=(0,y.Z)(),o=Me.Z.Idle,a=new Date(0),c=!1;r.on(Me.z.TEST_RESULT,(function(e){c=c&&"passed"===e.body}));var l=function(e){r.emit(Me.z.STATE_CHANGED,e),o=e},s=function(){var e,t=(e=i().mark((function e(t,n){var o,a,c,s,f,d,p,v,h,m,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Be.api.Payload.fromObject(n),!(a=Be.api.Payload.verify(o))){e.next=4;break}throw a;case 4:return c=new(He())((function(e){var t=Be.api.Response.fromObject(e),n=Be.api.Response.verify(t);if(n)M.Tb(new TypeError("invalid payload received"),(function(r){return r.setExtras({validationError:n,payload:o,message:e,response:t})}));else switch(t.body){case"error":return r.emit(Me.z.ERROR,t.error);case"instructionResult":return r.emit(Me.z.INSTRUCTION_RESULT,t.instructionResult);case"testResult":return r.emit(Me.z.TEST_RESULT,t.testResult);case"status":switch(t.status){case Be.api.Status.Ready:return l(Me.Z.Ready);case Be.api.Status.Building:return l(Me.Z.Building);case Be.api.Status.Running:return l(Me.Z.Running)}}})),s=t.onCommand((function(e){if(e.output)try{c.submit(e.output)}catch(t){M.Tb(new SyntaxError("invalid response received from i/o testing binary"),(function(n){return n.setExtras({err:t,payload:o,cmd:e})}))}})),f=t.request({exec:{args:["io-tester"],splitStderr:!0,lifecycle:u.api.Exec.Lifecycle.STDIN,splitLogs:!0}}),e.next=9,new Promise((function(e,t){var n,o=function(){n(),e()};r.once(Me.z.STATE_CHANGED,o);var i=setTimeout((function(){n(),t(new Error("timeout while waiting for iotester to start"))}),2e4);n=function(){clearTimeout(i),r.off(Me.z.STATE_CHANGED,o)}}));case 9:return e.next=11,t.request({input:JSON.stringify(o)+"\n"});case 11:if((d=e.sent).ok){e.next=17;break}throw v=new Error(null!==(p=d.error)&&void 0!==p?p:"unexpected error occurred while sending input to i/o testing binary"),M.Tb(v,(function(e){return e.setExtra("status",d)})),v;case 17:return e.next=19,f;case 19:(h=e.sent).ok||(g=new Error(null!==(m=h.error)&&void 0!==m?m:"unexpected error occurred while executing i/o testing binary"),M.Tb(g,(function(e){return e.setExtra("result",h)}))),s();case 22:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ve(i,r,o,a,c,"next",e)}function c(e){Ve(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();return{run:function(e){if(o!==Me.Z.Idle)throw new Error("iotester already running");return l(Me.Z.Starting),a=new Date,c=!0,n().then((function(){return new Promise((function(n,r){var o=t.openChannel({service:"exec"},(function(t){if(t.error)return r(t.error),o;var i="",a="",c=t.channel.onCommand((function(e){e.log?i+=e.log:e.stderr&&(a+=e.stderr)}));return n(s(t.channel,e).finally((function(){c(),o(),(a||i)&&M.Tb(new Error("logs received from io tseter"),(function(t){return t.setExtras({logs:i,stderr:a,payload:e})}))}))),o}))}))})).catch((function(e){return c=!1,Promise.reject(e)})).finally((function(){return l(Me.Z.Idle)}))},get lastRunAt(){return a},get state(){return o},get lastRunDidPass(){return c},onInstructionResult:function(e){return r.on(Me.z.INSTRUCTION_RESULT,e),function(){r.off(Me.z.INSTRUCTION_RESULT,e)}},onStateChanged:function(e){return r.on(Me.z.STATE_CHANGED,e),function(){r.off(Me.z.STATE_CHANGED,e)}},onTestResult:function(e){return r.on(Me.z.TEST_RESULT,e),function(){r.off(Me.z.TEST_RESULT,e)}},onError:function(e){return r.on(Me.z.ERROR,e),function(){r.off(Me.z.ERROR,e)}}}}function We(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function Je(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){We(i,r,o,a,c,"next",e)}function c(e){We(i,r,o,a,c,"throw",e)}a(void 0)}))}}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qe(e,t,n[t])}))}return e}!function(e){e.ANCHORS_ADDED="ANCHORS_ADDED",e.ANCHORS_REMOVED="ANCHORS_REMOVED",e.PORTAL_UPDATED="PORTAL_UPDATED",e.THREAD_CREATED="THREADS_CREATED",e.CODE_EXPLAINED="CODE_EXPLAINED"}(Ge||(Ge={}));var Ye=n(90361),Ke=n(81700),Qe=n.n(Ke);function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tt(i,r,o,a,c,"next",e)}function c(e){tt(i,r,o,a,c,"throw",e)}a(void 0)}))}}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){return Qe()(e,{extended:!0,globstar:!0}).test(t)}function ct(e,t){return e&&t?e.globPattern===t.globPattern&&(JSON.stringify(e.startCommand)===JSON.stringify(t.startCommand)&&(JSON.stringify(e.startCommand)===JSON.stringify(t.startCommand)&&(e.initializationOptionsJson===t.initializationOptionsJson&&e.configurationJson===t.configurationJson))):Boolean(e)===Boolean(t)}function ut(e){return lt.apply(this,arguments)}function lt(){return lt=nt(i().mark((function e(t){var n,r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:0,e.next=3,t.exec("pwd");case 3:if(null===(r=e.sent).error){e.next=8;break}if(!(n>5)){e.next=7;break}return e.abrupt("return",{error:new Error("Could not get cwd "+r.error),workingDirectory:null});case 7:return e.abrupt("return",ut(t,n+1));case 8:return e.abrupt("return",{error:null,workingDirectory:r.output.replace("\n","")});case 9:case"end":return e.stop()}}),e)}))),lt.apply(this,arguments)}function st(e){var t=e.container,n=e.dotReplit,r=e.allowNonNix,o=void 0!==r&&r,i=function(e){var t=s[e];if(!t)throw new Error("languageId was never configured");var n=t.client;if(n){t.client=null,n.destroy();var r=!0,o=!1,i=void 0;try{for(var a,u=c[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var f=it(a.value,2),d=f[0],p=f[1];if(l.get(d)===n){l.delete(d);var v=!0,h=!1,m=void 0;try{for(var g,y=p[Symbol.iterator]();!(v=(g=y.next()).done);v=!0){(0,g.value)(null)}}catch(b){h=!0,m=b}finally{try{v||null==y.return||y.return()}finally{if(h)throw m}}}}}catch(b){o=!0,i=b}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}t.closeChannel(),delete s[e]},a=function(e,t){if(s[e])throw new Error("languageId is already configured");s[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rt(e,t,n[t])}))}return e}({client:null,closeChannel:function(){}},t),f(e)},c=new Map,l=new Map,s={};function f(e){if(!s[e])throw new Error("No config found for language");var n=s[e],r=n.client,i=(n.closeChannel,ot(n,["client","closeChannel"]));if(r)throw new Error("A client is already set for language");var a=[],d=t.openChannel({service:"lsp2",skip:function(e){if(o)return!1;var t=e.repl.language;return!t.startsWith("nix")&&!t.startsWith("html")}},(function(n){var r=n.channel;if(r){r.send({startLSP:{language:e}});var o=null,p=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.forEach((function(e){return e()})),null===o||void 0===o||o.destroy(),s[e].client===o&&(s[e].client=null),t||d();var n=!0,r=!1,i=void 0;try{for(var u,f=c[Symbol.iterator]();!(n=(u=f.next()).done);n=!0){var p=it(u.value,2),v=p[0],h=p[1],m=l.get(v);if(m===o){l.delete(v);var g=!0,y=!1,b=void 0;try{for(var w,x=h[Symbol.iterator]();!(g=(w=x.next()).done);g=!0){var k=w.value;k(null)}}catch(S){y=!0,b=S}finally{try{g||null==x.return||x.return()}finally{if(y)throw b}}}}}catch(S){r=!0,i=S}finally{try{n||null==f.return||f.return()}finally{if(r)throw i}}};return a.push(r.onCommand((function(t){t.state===u.api.State.Stopped&&(p(),f(e))}))),ut(t).then((function(t){if(ct(s[e],i)&&"open"===r.status&&!t.error){var n;if(o=Oe({channel:r,languageId:e,isSupportedFile:function(e){return at(i.globPattern,e)},getWorkspaceConfiguration:function(){if(!i.configurationJson)return null;var e=null;try{e=JSON.parse(i.configurationJson)}catch(t){ve.kg.error("Failed to parse LSP workspace configuration",{configurationJson:i.configurationJson})}return e}}),i.initializationOptionsJson)try{n=JSON.parse(i.initializationOptionsJson)}catch(u){ve.kg.error("Failed to parse LSP initializationOptions",{initializationOptionsJson:i.initializationOptionsJson})}o.initialize({pwd:t.workingDirectory,initializationOptions:n}),a.push(o.onServerStateChange((function(t){if("open"===r.status&&o&&ct(s[e],i)&&t===he.aL.INITIALIZED){s[e].client=o;var n=!0,a=!1,u=void 0;try{for(var f,d=c[Symbol.iterator]();!(n=(f=d.next()).done);n=!0){var p=it(f.value,2),v=p[0],h=p[1];if(at(i.globPattern,v)&&!l.has(v)){l.set(v,o);var m=!0,g=!1,y=void 0;try{for(var b,w=h[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){(0,b.value)(o)}}catch(x){g=!0,y=x}finally{try{m||null==w.return||w.return()}finally{if(g)throw y}}}}}catch(x){a=!0,u=x}finally{try{n||null==d.return||d.return()}finally{if(a)throw u}}}})))}})),function(t){var n=t.willReconnect;p(n),n||ve.kg.error("LSP server unexpectedly disconnected",{languageId:e,appService:"lspnix"})}}}));s[e].closeChannel=d}return n.watch((function(e){if(e.error){if(e.error===Ye.Y.NotFound){var t=!0,n=!1,r=void 0;try{for(var o,c=Object.keys(s)[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var u=o.value;i(u)}}catch(M){n=!0,r=M}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}}}else if(e.config.languages){var l={},f=!0,d=!1,p=void 0;try{for(var v,h=Object.entries(e.config.languages)[Symbol.iterator]();!(f=(v=h.next()).done);f=!0){var m,g,y=it(v.value,2),b=y[0],w=y[1];if(w.pattern&&w.languageServer&&w.languageServer.startCommand)l[b]={globPattern:w.pattern,startCommand:w.languageServer.startCommand,initializationOptionsJson:null!==(m=w.languageServer.initializationOptionsJson)&&void 0!==m?m:void 0,configurationJson:null!==(g=w.languageServer.configurationJson)&&void 0!==g?g:void 0}}}catch(M){d=!0,p=M}finally{try{f||null==h.return||h.return()}finally{if(d)throw p}}var x=!0,k=!1,S=void 0;try{for(var E,C=Object.keys(s)[Symbol.iterator]();!(x=(E=C.next()).done);x=!0){var O=E.value;l[O]||i(O)}}catch(M){k=!0,S=M}finally{try{x||null==C.return||C.return()}finally{if(k)throw S}}var Z=!0,j=!1,A=void 0;try{for(var I,P=Object.keys(l)[Symbol.iterator]();!(Z=(I=P.next()).done);Z=!0){var T=I.value,D=s[T],R=l[T];D?ct(D,R)||(i(T),a(T,R)):a(T,R)}}catch(M){j=!0,A=M}finally{try{Z||null==P.return||P.return()}finally{if(j)throw A}}}else{var _=!0,N=!1,L=void 0;try{for(var U,F=Object.keys(s)[Symbol.iterator]();!(_=(U=F.next()).done);_=!0){var B=U.value;i(B)}}catch(M){N=!0,L=M}finally{try{_||null==F.return||F.return()}finally{if(N)throw L}}}})),{onClient:function(e,t){var n;c.has(e)||c.set(e,[]),null===(n=c.get(e))||void 0===n||n.push(t);var r=l.get(e);if(r)t(r);else{var o=!0,i=!1,a=void 0;try{for(var u,f=Object.values(s)[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var d=u.value;if(at(d.globPattern,e)){d.client&&t(d.client);break}}}catch(p){i=!0,a=p}finally{try{o||null==f.return||f.return()}finally{if(i)throw a}}}return function(){c.set(e,(c.get(e)||[]).filter((function(e){return e!==t})))}}}}function ft(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function dt(e){var t=e.onUnrecoverableError,n=(0,a.Z)({onUnrecoverableError:t}),r=function(){var e=function(e){x()(s,e)||(s=e,n.emit(C.z.SESSION_STATE_CHANGED,s))},t=function(e,t){var n=t||s.openFiles.length;if(e<0||e>=n||!Number.isInteger(e))throw new Error("Invalid index: ".concat(e,". Index must be an integer between 0 and ").concat(n))},n=(0,y.Z)();n.setMaxListeners(20);var r=null,o=null,i=null,a=[],c=!1,u=!1,l={column:1,lineNumber:1,offset:0},s={openFiles:[],activeTab:0},f={isMonitoring:!0,interval:C.u,utilization:null};return{onResourceMonitoringStateChanged:function(e){return n.on(C.z.RESOURCE_MONITORING_STATE_CHANGED,e),function(){n.removeListener(C.z.RESOURCE_MONITORING_STATE_CHANGED,e)}},setResourceMonitoringState:function(e){x()(f,e)||(f=e,n.emit(C.z.RESOURCE_MONITORING_STATE_CHANGED,f))},getResourceMonitoringState:function(){return f},onSessionStateChanged:function(e){return n.on(C.z.SESSION_STATE_CHANGED,e),function(){n.removeListener(C.z.SESSION_STATE_CHANGED,e)}},onPreviewedFileChanged:function(e){return n.on(C.z.PREVIEWED_FILE_CHANGED,e),function(){n.removeListener(C.z.PREVIEWED_FILE_CHANGED,e)}},onPreviewedYoutubeVideoChanged:function(e){return n.on(C.z.PREVIEWED_YOUTUBE_VIDEO_CHANGED,e),function(){n.removeListener(C.z.PREVIEWED_YOUTUBE_VIDEO_CHANGED,e)}},onCursorPositionChanged:function(e){return n.on(C.z.CURSOR_POSITION_CHANGED,e),function(){n.removeListener(C.z.CURSOR_POSITION_CHANGED,e)}},onCommandBarToggled:function(e){return n.on(C.z.COMMAND_BAR_TOGGLED,e),function(){n.removeListener(C.z.COMMAND_BAR_TOGGLED,e)}},onHiddenFileVisibilityToggled:function(e){return n.on(C.z.CONFIG_FILE_VISIBILITY_TOGGLED,e),function(){n.removeListener(C.z.CONFIG_FILE_VISIBILITY_TOGGLED,e)}},onDeeplinkUpdated:function(e){return n.on(C.z.DEEPLINK_CHANGED,e),i&&(e(i),i=null),function(){n.removeListener(C.z.DEEPLINK_CHANGED,e)}},onEditorFocused:function(e){return n.on(C.z.EDITOR_FOCUSED,e),function(){n.removeListener(C.z.EDITOR_FOCUSED,e)}},closeTab:function(n){t(n);var r=s.openFiles.slice(),o=s.activeTab;n<=s.activeTab&&0!==s.activeTab&&o--,r.splice(n,1),e({openFiles:r,activeTab:o})},openFile:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.tabIndex,i=r.newTab,c=a.indexOf(n);if(-1!==c?(a.splice(c),a.unshift(n)):(a.unshift(n),a.length>5&&a.pop()),void 0===o)if(s.openFiles.includes(n))e(j({},s,{activeTab:s.openFiles.indexOf(n)}));else{var u=s.openFiles.slice();if(i){var l=0===u.length?0:s.activeTab+1;return u.splice(l,0,n),void e({openFiles:u,activeTab:l})}var f=s.activeTab;u.splice(f,1,n),e({openFiles:u,activeTab:f})}else{t(o,s.openFiles.length+1);var d=s.openFiles.slice(),p=s.openFiles.indexOf(n);if(-1===p)return d.splice(o,1,n),void e({openFiles:d,activeTab:d.indexOf(n)});if(p===o)return void e(j({},s,{activeTab:d.indexOf(n)}));d.splice(p,1),d.splice(o,0,n);var v=d.indexOf(n);e({openFiles:d,activeTab:v})}},moveFile:function(t,n){var r=s.openFiles.map((function(e){return e===t?n:(0,O.yr)(t,e)?(0,O.hk)(t,n,e):e}));e(j({},s,{openFiles:r}))},deleteFile:function(t){var n=s.openFiles[s.activeTab],r=s.openFiles.filter((function(e){return e!==t&&!(0,O.yr)(t,e)})),o=r.includes(n)?r.indexOf(n):r.length-1,i=Math.max(0,o),c=a.findIndex((function(e){return e===t}));c&&a.splice(c,1),e({openFiles:r,activeTab:i})},updateDeeplink:function(e){n.emit(C.z.DEEPLINK_CHANGED,e),i=e},focusEditor:function(){n.emit(C.z.EDITOR_FOCUSED)},getActiveFile:function(){var e=s.openFiles,t=s.activeTab;if(0!==e.length)return e[t]},getCursorPosition:function(){return l},getRecentFiles:function(){return a},setPreviewedFile:function(e){r!==e&&(r=e,n.emit(C.z.PREVIEWED_FILE_CHANGED,e))},setCursorPosition:function(e){x()(e,l)||(l=e,n.emit(C.z.CURSOR_POSITION_CHANGED,e))},setIsCommandBarOpen:function(e){c!==e&&(c=e,n.emit(C.z.COMMAND_BAR_TOGGLED,c))},setAreHiddenFilesVisible:function(e){u!==e&&(u=e,n.emit(C.z.CONFIG_FILE_VISIBILITY_TOGGLED,u))},setPreviewedYoutubeVideo:function(e){o!==e&&(o=e,n.emit(C.z.PREVIEWED_YOUTUBE_VIDEO_CHANGED,e))},getPreviewedFile:function(){return r},getPreviewedYoutubeVideo:function(){return o},getIsCommandBarOpen:function(){return c},getAreHiddenFilesVisible:function(){return u},getState:function(){return s}}}(),o=(0,R.Z)({container:n}),l=E({container:n}),s=(0,pe.Z)({container:n,fs:o}),f=(0,c.Z)({container:n,dotReplit:s}),d=function(e){var t=e.container,n=(0,y.Z)(),r=null,o=[],a=[];function c(){return u.apply(this,arguments)}function u(){return(u=T(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:return e.abrupt("return",new Promise((function(e){n.once(A.MESSAGES_LOADED,(function(){e(r)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.openChannel({service:"chat",name:"chatter"},(function(e){var t=e.channel;if(!e.error){if(!t)throw new Error("Expected channel");return t.onCommand((function(e){switch(e.body){case"chatMessage":var i=e.chatMessage;if(!i||!i.username||!i.text)throw new Error("expected a chat message in the response");o.push(i),n.emit(A.MESSAGE_RECEIVED,{text:i.text,username:i.username});break;case"chatTyping":var c=e.chatTyping;if(!c||!c.username)return;var u=c.username,l=c.typing;l&&!a.includes(u)&&a.push(u),!l&&a.includes(u)&&a.splice(a.indexOf(u),1),n.emit(A.USER_TYPING_UPDATED,{username:u,isTyping:Boolean(l)});break;case"chatScrollback":var s=e.chatScrollback;if(!(null===s||void 0===s?void 0:s.scrollback))return;s.scrollback.forEach((function(e){return o.push(e)})),r=t,n.emit(A.MESSAGES_LOADED,o)}})),function(){r=null}}})),{sendMessage:function(e){return T(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:r=t.sent,o.push(e),r.send({chatMessage:e}),n.emit(A.MESSAGE_SENT,e);case 6:case"end":return t.stop()}}),t)})))()},onMessageReceived:function(e){return n.on(A.MESSAGE_RECEIVED,e),function(){n.removeListener(A.MESSAGE_RECEIVED,e)}},onMessageSent:function(e){return n.on(A.MESSAGE_SENT,e),function(){n.removeListener(A.MESSAGE_SENT,e)}},updateUserTyping:function(e){return T(i().mark((function t(){var n,r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:n=t.sent,r=e.username,o=e.isTyping,n.send({chatTyping:{username:r,typing:o}});case 5:case"end":return t.stop()}}),t)})))()},onUserTypingUpdated:function(e){return n.on(A.USER_TYPING_UPDATED,e),function(){n.removeListener(A.USER_TYPING_UPDATED,e)}},onMessagesLoaded:function(e){return n.on(A.MESSAGES_LOADED,e),function(){n.removeListener(A.MESSAGES_LOADED,e)}},getMessages:function(){return o},getUsersTyping:function(){return a}}}({container:n}),p=function(){var e,t=(e=i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("kaboom"!==(null===(t=n.getContext())||void 0===t?void 0:t.repl.language)){e.next=4;break}return e.next=4,_e(o);case 4:return e.next=6,o.flush();case 6:return e.next=8,(0,Fe.Z)(n,s);case 8:if(!e.sent){e.next=11;break}return e.next=11,f.installPackages();case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ft(i,r,o,a,c,"next",e)}function c(e){ft(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),v=(0,I.Z)({container:n,beforeRun:p}),h=function(e){var t=e.container,n=e.beforeRun,r=(0,F.u)(null);return{mainClient:r,connect:function(){return new Promise((function(e,o){r.current||t.openChannel({service:"debugger"},(function(t){if(!t.error)return r.current=se({channel:t.channel,beforeRun:n}),e(null),function(){r.current=null};o(t.error)}))}))}}}({container:n,beforeRun:p}),m=(0,N.Z)({beforeRun:p,getMainFileContents:function(e){return(0,_.Z)({language:e,fs:o})}}),g=U({container:n}),b=function(e){var t=e.container,n=function(e){o!==e&&(o=e,r.emit(he.zW.ON_CLIENT,o))},r=(0,y.Z)(),o=null,i=!1,a=0,c=null,l=function(){n(null)},s=!1,f={start:function(){s||(s=!0,l=t.openChannel({service:"lsp",skip:function(e){if(e.repl.language.startsWith("nix")||e.repl.language.startsWith("html"))return!0;var t=ge().get(e.repl.language).entrypoint;return!je(t)||!ge().supportsLSP(e.repl.language)}},(function(e){if(!e.error){var r=!1,o=function(){},l=ge().get(e.context.repl.language).entrypoint,s=je(l);if(!s)throw new Error("Expected languageId");var d=Oe({channel:e.channel,languageId:s,isSupportedFile:function(e){var t=je(e);return t===s||"replit-ts"===s&&"replit-js"===t||"replit-js"===s&&"replit-ts"===t}});t.exec("pwd").then((function(e){if(!r){var t=e.output?e.output.replace(/\n/,""):null;if(!t)throw new Error("Expected pwd");if(!d)throw new Error("Expected client");d.initialize({pwd:t}),o=d.onServerStateChange((function(e){r||e===he.aL.INITIALIZED&&n(d)}))}}));var p=e.channel.onCommand((function(e){e.output||e.state===u.api.State.Stopped&&(a++,f.stop(),c=setTimeout((function(){return f.start()}),1e3*Math.pow(2,a)))}));return function(e){var t=e.willReconnect;d&&(d.destroy(),n(null)),r=!0,o(),p(),i?i=!1:t||ve.kg.error("LSP server unexpectedly disconnected",{languageId:s,appService:"lsp"})}}})))},getClient:function(){return o},onClient:function(e){return r.on(he.zW.ON_CLIENT,e),function(){r.removeListener(he.zW.ON_CLIENT,e)}},stop:function(){if(i=!0,s=!1,null!==c&&clearTimeout(c),o){var e=o.onServerStateChange((function(t){t===he.aL.EXITED&&(e(),l())}));return o.destroy(),void n(null)}l()}};return f}({container:n}),w=st({container:n,dotReplit:s}),k=Xe({container:n,beforeRun:p}),S=function(e){var t=e.fs,n={},r={},o={},a=(0,y.Z)();function c(e){return u.apply(this,arguments)}function u(){return u=Je(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map(function(){var e=Je(i().mark((function e(n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,new Promise((function(e){r=t.watchOtFile(n.path,{onReady:function(t){var o=t.transformSelection,i=t.version;if(r(),i===n.otVersion)return e({indexStart:n.indexStart,indexEnd:n.indexEnd,version:n.otVersion});e(o({indexStart:n.indexStart,indexEnd:n.indexEnd,versionFrom:n.otVersion,versionTo:i}))}})}));case 3:return o=e.sent,a=$e({},n,{indexStart:o.indexStart,indexEnd:o.indexEnd,otVersion:o.version}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}return{onAnchorPortalSet:function(e,t){var n=function(n){n.id===e&&t(n)};return a.on(Ge.PORTAL_UPDATED,n),function(){a.removeListener(Ge.PORTAL_UPDATED,n)}},addAnchors:function(e){return Je(i().mark((function t(){var o,u,l,s,f,d,p,v,h,m,g,y,b;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=!0,u=!1,l=void 0,t.prev=1,s=e[Symbol.iterator]();!(o=(f=s.next()).done);o=!0)d=f.value,n[d.id]=d;t.next=9;break;case 5:t.prev=5,t.t0=t.catch(1),u=!0,l=t.t0;case 9:t.prev=9,t.prev=10,o||null==s.return||s.return();case 12:if(t.prev=12,!u){t.next=15;break}throw l;case 15:return t.finish(12);case 16:return t.finish(9);case 17:return t.next=19,c(e);case 19:for(p=t.sent,v=!0,h=!1,m=void 0,t.prev=21,g=p[Symbol.iterator]();!(v=(y=g.next()).done);v=!0)b=y.value,r[b.id]=b;t.next=29;break;case 25:t.prev=25,t.t1=t.catch(21),h=!0,m=t.t1;case 29:t.prev=29,t.prev=30,v||null==g.return||g.return();case 32:if(t.prev=32,!h){t.next=35;break}throw m;case 35:return t.finish(32);case 36:return t.finish(29);case 37:a.emit(Ge.ANCHORS_ADDED,p);case 38:case"end":return t.stop()}}),t,null,[[1,5,9,17],[10,,12,16],[21,25,29,37],[30,,32,36]])})))()},removeAnchors:function(e){return Je(i().mark((function t(){var c,u,l,s,f,d,p;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=[],u=!0,l=!1,s=void 0,t.prev=2,f=e[Symbol.iterator]();case 4:if(u=(d=f.next()).done){t.next=15;break}if(p=d.value,n[p]){t.next=8;break}return t.abrupt("continue",12);case 8:c.push(n[p]),delete o[p],delete r[p],delete n[p];case 12:u=!0,t.next=4;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),l=!0,s=t.t0;case 21:t.prev=21,t.prev=22,u||null==f.return||f.return();case 24:if(t.prev=24,!l){t.next=27;break}throw s;case 27:return t.finish(24);case 28:return t.finish(21);case 29:a.emit(Ge.ANCHORS_REMOVED,c);case 30:case"end":return t.stop()}}),t,null,[[2,17,21,29],[22,,24,28]])})))()},getAnchors:function(e){return Je(i().mark((function t(){var o,a,u,l,s,f,d,p;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object.values(n).filter((function(t){return t.path===e})),t.next=3,c(o);case 3:for(a=t.sent,u=!0,l=!1,s=void 0,t.prev=5,f=a[Symbol.iterator]();!(u=(d=f.next()).done);u=!0)p=d.value,r[p.id]=p;t.next=13;break;case 9:t.prev=9,t.t0=t.catch(5),l=!0,s=t.t0;case 13:t.prev=13,t.prev=14,u||null==f.return||f.return();case 16:if(t.prev=16,!l){t.next=19;break}throw s;case 19:return t.finish(16);case 20:return t.finish(13);case 21:return t.abrupt("return",a);case 22:case"end":return t.stop()}}),t,null,[[5,9,13,21],[14,,16,20]])})))()},createThread:function(e){a.emit(Ge.THREAD_CREATED,e)},explainCode:function(e){a.emit(Ge.CODE_EXPLAINED,e)},onThreadCreated:function(e){return a.on(Ge.THREAD_CREATED,e),function(){a.off(Ge.THREAD_CREATED,e)}},onCodeExplained:function(e){return a.on(Ge.CODE_EXPLAINED,e),function(){a.off(Ge.CODE_EXPLAINED,e)}},onAnchorsAdded:function(e){return a.on(Ge.ANCHORS_ADDED,e),function(){a.removeListener(Ge.ANCHORS_ADDED,e)}},onAnchorsRemoved:function(e){return a.on(Ge.ANCHORS_REMOVED,e),function(){a.removeListener(Ge.ANCHORS_REMOVED,e)}},setAnchorPortal:function(e){n[e.id]&&r[e.id]&&(o[e.id]=e,a.emit(Ge.PORTAL_UPDATED,e))}}}({fs:o});return{session:r,presence:l,packager:f,container:n,fs:o,chat:d,runner:v,debuggest:h,replbox:m,broadcast:g,dotReplit:s,lsp:b,lspnix:w,iotester:k,anchorer:S}}},923:function(e,t,n){var r,o;n.d(t,{z:function(){return r},Z:function(){return o}}),function(e){e.INSTRUCTION_RESULT="INSTRUCTION_RESULT",e.TEST_RESULT="TEST_RESULT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED"}(r||(r={})),function(e){e[e.Idle=0]="Idle",e[e.Starting=1]="Starting",e[e.Ready=2]="Ready",e[e.Building=3]="Building",e[e.Running=4]="Running"}(o||(o={}))},82053:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(60172),o=n(39453),i=n(37510);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var n=[];if(!e.length)return n;var a=r.xv.of(t.split("\n"));if(1===e.length){var u=c(e,1)[0],l=u.range,s=l.start,f=l.end,d=u.newText;if(0===(0,o.R)(a,s))if((0,o.R)(a,f)===a.length)return(0,i.sQ)(t,d)}var p=!0,v=!1,h=void 0;try{for(var m,g=e[Symbol.iterator]();!(p=(m=g.next()).done);p=!0){var y=m.value,b=y.range,w=y.newText,x=[],k=(0,o.R)(a,b.start);k>0&&x.push(k);var S=(0,o.R)(a,b.end);S>k&&x.push({d:S-k}),w.length>0&&x.push(w),n=(0,i.qC)(n,(0,i.vs)(x,n,"right"))}}catch(E){v=!0,h=E}finally{try{p||null==g.return||g.return()}finally{if(v)throw h}}return n}},24865:function(e,t,n){var r,o,i,a;n.d(t,{zW:function(){return r},aL:function(){return a}}),function(e){e.ON_CLIENT="ON_CLIENT"}(r||(r={})),function(e){e[e.Invoked=1]="Invoked",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=3]="TriggerForIncompleteCompletions"}(o||(o={})),function(e){e[e.None=0]="None",e[e.Full=1]="Full",e[e.Incremental=2]="Incremental"}(i||(i={})),function(e){e.OFFLINE="OFFLINE",e.INITIALIZING="INITIALIZING",e.INITIALIZED="INITIALIZED",e.EXITING="EXITING",e.EXITED="EXITED"}(a||(a={}))},39185:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(67294),o=n(30617),i=n(85133);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var t=(0,i.Z)(),n=(0,o.Z)(),a=n.lsp,u=n.lspnix,l=c(r.useState(null),2),s=l[0],f=l[1];return r.useEffect((function(){if(null===t||void 0===t?void 0:t.language){var n,r;if(t.language.startsWith("nix")||t.language.startsWith("html"))n=u.onClient(e,f);else(null===(r=a.getClient())||void 0===r?void 0:r.isSupportedFile(e))?f(a.getClient()):f(null),n=a.onClient((function(t){(null===t||void 0===t?void 0:t.isSupportedFile(e))?f(t):f(null)}));return function(){n(),f(null)}}}),[a,u,e,null===t||void 0===t?void 0:t.language]),s}},49337:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(67294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){var t=e.presence,n=i(r.useState(t.getActiveUsers()),2),o=n[0],a=n[1];return r.useEffect((function(){return a(t.getActiveUsers()),t.onActiveUsersChange((function(e){return a(e)}))}),[t]),o}},39550:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(67294),o=n(30617);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){var e=(0,o.Z)().presence,t=a(r.useState(e.getFollowedUser()),2),n=t[0],i=t[1];return r.useEffect((function(){return i(e.getFollowedUser()),e.onFollowedUserChanged(i)}),[e]),n}},90039:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(39550);function o(){var e=(0,r.Z)();return e?e.color:null}},87947:function(e,t,n){var r;n.d(t,{z:function(){return r},u:function(){return o}}),function(e){e.COMMAND_BAR_TOGGLED="COMMAND_BAR_TOGGLED",e.DEEPLINK_CHANGED="DEEPLINK_CHANGED",e.EDITOR_FOCUSED="EDITOR_FOCUSED",e.SESSION_STATE_CHANGED="SESSION_STATE_CHANGED",e.PREVIEWED_FILE_CHANGED="PREVIEWED_FILE_CHANGED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED",e.CURSOR_POSITION_CHANGED="CURSOR_POSITION_CHANGED",e.PREVIEWED_YOUTUBE_VIDEO_CHANGED="PREVIEWED_YOUTUBE_VIDEO_CHANGED",e.CONFIG_FILE_VISIBILITY_TOGGLED="CONFIG_FILE_VISIBILITY_TOGGLED",e.RESOURCE_MONITORING_STATE_CHANGED="RESOURCE_MONITORING_STATE_CHANGED"}(r||(r={}));var o=2e3},93577:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(39809);function o(){var e=(0,r.Z)(),t=e.openFiles,n=e.activeTab;return t[n]?t[n]:null}},60818:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(30617),o=n(93577),i=n(67294),a=n(55982);function c(){var e=(0,r.Z)(),t=e.session,n=e.fs,c=(0,o.Z)(),u=(0,i.useCallback)((function(e){var r=e.code,o=e.insertAt,i=e.newLine,u=void 0===i||i;if(!c||(0,a.T3)(c)||(0,a.sL)(c)||(0,a.IQ)(c))throw new Error("Invalid file, this should never happen");if(0!==r.length)var l=n.watchOtFile(c,{onReady:function(e){var i,a=e.initialContent,c=e.writeOps,s=a.toString(),f=t.getCursorPosition().offset;i="end"===o?s.length:"number"===typeof o?o:f;var d=r;u&&(0!==i&&i!==s.length&&-1===(i=s.indexOf("\n",i))&&(i=s.length),0!==i&&"\n"!==s[i-1]&&(d="\n"+d),"\n"!==s[i]&&(d+="\n"));var p=[d];i>0&&p.unshift(i),c(p),n.flush().finally((function(){l()}))}})}),[c,t,n]);return!c||(0,a.T3)(c)||(0,a.sL)(c)?null:u}},39809:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(67294),o=n(30617);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){var e=(0,o.Z)().session,t=a(r.useState(e.getState()),2),n=t[0],i=t[1];return r.useEffect((function(){return i(e.getState()),e.onSessionStateChanged(i)}),[e]),n}},90002:function(e,t,n){n.d(t,{X:function(){return i},z:function(){return a}});var r=n(67294),o=r.createContext(null);function i(){return r.useContext(o)}var a=o.Provider},26967:function(e,t,n){n.d(t,{rk:function(){return g},xW:function(){return S},e$:function(){return y}});var r=n(35944),o=n(88768),i=n(67294),a=n(90002),c=n(14646),u=n(26535),l=n(53128),s=n(7177);function f(){var e=(0,a.X)();if(!e)return null;var t=e.activeStep,n=e.goto,o=e.steps,i=e.done;return(0,r.tZ)(s.Z,{preventClose:!0,isOpen:Boolean(t.isModal),onRequestClose:function(){},centered:!0,maxWidth:"fit-content",noPadding:!0,children:(0,r.tZ)(l.Z,{title:t.title,content:t.content,onDismiss:function(){i()},currentStepIndex:o.findIndex((function(e){return t.id===e.id})),onCurrentStepChange:n,totalSteps:o.length})})}var d=n(25108);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t,n=e.children,l=e.tour,s=e.isDoneInitialOverride,p=e.onStep,g=e.onDone,y=function(){P(!0),null===g||void 0===g||g(S.id)},b=function(e){D.current=S,null===p||void 0===p||p(e.id),E(e)},w=function(e){var t;if("number"===typeof e)t=e;else{var n=e;t=l.steps.findIndex((function(e){return n===e.id}))}if(!(t<0||t>=l.steps.length)){for(var r=l.steps[t],o=t<T;!O[r.id]&&r.autoSkipIfNoTarget;){if((t=o?t-1:t+1)<0||t>=l.steps.length)return;r=l.steps[t]}b(r)}},x=function(){w(0),P(!1)},k=(0,i.useState)(l.steps[0]),S=k[0],E=k[1],C=(0,i.useState)({}),O=C[0],Z=C[1],j=function(e,t){var n,r=(0,o.PpL)({variables:{tours:e}}),a=r.data,c=r.loading,u=m((0,o.oep)({variables:{name:e},optimisticResponse:{markTourAsSeen:{__typename:"TourSeen",id:e,seen:!0}}}),1)[0],l=(0,i.useState)(t),s=l[0],f=l[1],d=Boolean(null===a||void 0===a||null===(n=a.currentUser)||void 0===n?void 0:n.toursSeen[0].seen);return"boolean"===typeof s&&(d=s),{isLoading:c,isDone:d,setIsDone:function(e){f(e),e&&u()}}}(l.id,s),A=j.isDone,I=j.isLoading,P=j.setIsDone,T=l.steps.findIndex((function(e){return S.id===e.id}));if(-1===T)throw new Error("Current tour step is not in tour steps");var D=(0,i.useRef)(),R=(0,i.useCallback)((function(e,t){var n=l.steps.findIndex((function(t){return e===t.id}));if(-1===n)throw new Error("Invalid step id");if(l.steps[n].isModal)throw new Error("Trying to set a target element for a modal step");Z((function(n){return n[e]===t?n:h({},n,v({},e,t))}))}),[l]),_=O[S.id],N=!A&&!I;window.startTour=function(){d.log("starting tour:",l.id,"from",l.steps[0].id),x()};var L=l.steps.filter((function(e){return!e.autoSkipIfNoTarget||Boolean(O[e.id])})),U=L.findIndex((function(e){return S.id===e.id}));return(0,r.BX)(a.z,{value:h({},l,{setStepTargetElement:R,activeStep:S,next:function(){var e=l.steps[T+1];if(e&&e.autoSkipIfNoTarget)for(var t=T+1;e&&e.autoSkipIfNoTarget&&!O[e.id];)t++,e=l.steps[t];e?b(e):y()},prev:function(){var e=l.steps[T-1];if(e&&e.autoSkipIfNoTarget)for(var t=T-1;e&&e.autoSkipIfNoTarget&&!O[e.id];)t--,e=l.steps[t];e&&b(e)},goto:w,isDone:A,isLoading:I,done:y,restart:x}),children:[N&&S.isModal?(0,r.tZ)(f,{}):null,N&&_?(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.w,{targetElement:_}),(0,r.tZ)(u.k,{targetElement:_,activeStep:S,currentStepIndex:U,done:y,goto:function(e){w(e+T-U)},totalSteps:L.length,disableAnimation:Boolean(0===T||(null===(t=D.current)||void 0===t?void 0:t.isModal))})]}):null,n]})}function y(e){var t=(0,a.X)(),n=(0,i.useCallback)((function(n){null===t||void 0===t||t.setStepTargetElement(e,n)}),[e,null===t||void 0===t?void 0:t.setStepTargetElement]);return t&&t.steps.some((function(t){return t.id===e}))?{delegateTooltip:n,isActive:!t.isLoading&&!t.isDone&&t.activeStep.id===e,activeStep:t.activeStep,done:t.done,goto:t.goto,id:t.id,isDone:t.isDone,isLoading:t.isLoading,next:t.next,prev:t.prev,restart:t.restart,steps:t.steps}:null}var b=n(59864),w=(0,n(54929).K)("span");function x(e){return 1===i.Children.count(e)&&!b.isFragment(e)&&b.isElement(e)&&("string"===typeof e.type||b.isForwardRef(e))}var k=function(){};function S(e){var t=e.stepId,n=e.children,o=y(t),a=o?o.delegateTooltip:k,c=(0,i.useCallback)((function(e){if(a(e),x(n)){var t=i.Children.only(n),r=t.ref||t.props.ref;r&&("function"===typeof r?r(e):"object"===typeof r&&"current"in r&&(r.current=e))}}),[a,n]);if(!n||0===i.Children.count(n))return(0,r.tZ)(r.HY,{children:n});if(!o)return(0,r.tZ)(r.HY,{children:n});if(x(n)){var u=i.Children.only(n);return(0,i.cloneElement)(u,{ref:c})}return(0,r.tZ)(w,{ref:c,children:n})}},56718:function(e,t,n){var r;n.d(t,{z:function(){return r}}),function(e){e.FileNode="FILE_NODE",e.FileHeaderTab="FILE_HEADER_TAB",e.Code="CODE"}(r||(r={}))},15602:function(e,t){t.Z={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",gold:"#FFC700",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"}}},88353:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(35944),o=(n(67294),n(47240));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(0,r.BX)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e,{children:[(0,r.tZ)("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},428:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(35944),o=(n(67294),n(47240));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(0,r.tZ)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M16 4H18C18.5304 4 19.0391 4.21071 19.4142 4.58579C19.7893 4.96086 20 5.46957 20 6V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V6C4 5.46957 4.21071 4.96086 4.58579 4.58579C4.96086 4.21071 5.46957 4 6 4H8M9 2H15C15.5523 2 16 2.44772 16 3V5C16 5.55228 15.5523 6 15 6H9C8.44772 6 8 5.55228 8 5V3C8 2.44772 8.44772 2 9 2Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}},7477:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(35944),o=(n(67294),n(47240));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(0,r.tZ)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8M14 2L20 8M14 2V8H20M12 18V12M9 15H15",strokeLinecap:"round",strokeLinejoin:"round"})}))}},28774:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(35944),o=(n(67294),n(47240));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(0,r.tZ)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M22.9999 4.00001V10M22.9999 10H16.9999M22.9999 10L18.3699 5.64001C16.9905 4.25975 15.1999 3.3652 13.2678 3.09116C11.3358 2.81711 9.36705 3.17843 7.65823 4.12065C5.94942 5.06288 4.59313 6.53496 3.79374 8.31508C2.99436 10.0952 2.79519 12.0869 3.22625 13.9901C3.6573 15.8932 4.69524 17.6047 6.18363 18.8667C7.67203 20.1286 9.53026 20.8726 11.4783 20.9866C13.4263 21.1006 15.3586 20.5783 16.984 19.4985C18.6094 18.4187 19.8399 16.8399 20.4899 15",strokeLinecap:"round",strokeLinejoin:"round"})}))}},81970:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(35944),o=(n(67294),n(47240));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(0,r.BX)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e,{children:[(0,r.tZ)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.tZ)("path",{d:"M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50054 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15V15Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},47845:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(35944),o=(n(67294),n(47240));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(0,r.tZ)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14M9 9H9.01M15 9H15.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}},85486:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function u(e){return function(e){if(Array.isArray(e))return e}(e)||a(e)||s(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return r(e)}(e)||a(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function f(e,t){if("split"===e.type){var n=f(e.left,t);if(n)return["left"].concat(n);var r=f(e.right,t);if(r)return["right"].concat(r)}else if("tabs"===e.type)for(var o=0;o<e.tabs.length;o++){var i=f(e.tabs[o],t);if(i)return["tabs",o].concat(i)}else if("pane"===e.type&&e.pud===t)return[];return null}function d(e,t){for(var n=0;n<e.floating.length;n++)if(e.floating[n]===t)return["floating",n];var r=f(e.tiling,t);return r?["tiling"].concat(r):null}function p(e,t){return!!d(e,t)}function v(e,t,n){if("split"===e.type){var r=v(e.left,t,n);if(r)return["left"].concat(r);var o=v(e.right,t,n);if(o)return["right"].concat(o)}else if("tabs"===e.type)for(var i=0;i<e.tabs.length;i++){var a=v(e.tabs[i],t,n);if(a)return["tabs",i].concat(a)}else if("pane"===e.type){if(t[e.pud].type===n)return[];if(e.header&&t[e.header.pud].type===n)return["header"]}return null}function h(e,t,n){var r=v(e.tiling,t,n);return r?["tiling"].concat(r):null}function m(){return["tiling"]}function g(){return["floating"]}function y(e,t,n,r,o){if("inside"===n){if(1!==r.length||"floating"!==r[0])throw new Error("position 'inside' should only be used for the path ['floating']");return o&&o.once&&e.floating.includes(t)?{path:["floating"],to:e.floating}:{path:["floating"],to:e.floating.concat(t)}}var i={type:"split"};if("undefined"!==typeof o?"undefined"!==typeof o.position?i=c({},i,{fixed:!!o.fixed,position:o.position||50}):"undefined"!==typeof o.leftSize?i=c({},i,{leftSize:o.leftSize}):"undefined"!==typeof o.rightSize&&(i=c({},i,{rightSize:o.rightSize})):i=c({},i,{fixed:!1,position:50}),"leftOf"===n)i=c({},i,{stacked:!1,right:w(e,r),left:{type:"pane",pud:t}});else if("rightOf"===n)i=c({},i,{stacked:!1,right:{type:"pane",pud:t},left:w(e,r)});else if("above"===n)i=c({},i,{stacked:!0,left:{type:"pane",pud:t},right:w(e,r)});else{if("below"!==n)throw new Error("unsupported new plugin type");i=c({},i,{stacked:!0,right:{type:"pane",pud:t},left:w(e,r)})}return{path:r.map((function(e){return e.toString()})),to:i}}function b(e,t){var n,r=d(e,t);if(!r)return{path:["tiling"],to:e.tiling};if("floating"===r[0]){var o=e.floating.indexOf(t);return{path:["floating"],to:e.floating.slice(0,o).concat(e.floating.slice(o+1))}}if("split"!==w(e,r.slice(0,-1)).type)throw new Error("remove only supports splits right now");return n="left"===r[r.length-1]?"right":"left",{path:r.slice(0,-1).map((function(e){return e.toString()})),to:w(e,r.slice(0,-1).concat(n))}}n.d(t,{e$:function(){return p},$T:function(){return y},Od:function(){return b},PP:function(){return h},Bp:function(){return d},Jz:function(){return m},cV:function(){return g},i3:function(){return x},QK:function(){return w},Il:function(){return k},J9:function(){return S},JU:function(){return E}});var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(0===t.length)return e;var n=u(t),r=n[0],o=n.slice(1);return w(e[r],o)};function x(e,t){return e.length!==t.length&&(e=e.slice(0,t.length),t=t.slice(0,e.length)),e.join()===t.join()?e:0===e.length?null:x(e.slice(0,-1),t.slice(0,-1))}function k(e){return e.slice(0,-1)}function S(e){return l(e.slice(0,-1)).concat(["left"===e[e.length-1]?"right":"left"])}function E(e){return"tabs"===e.slice(0,-1).pop()}},6763:function(e,t,n){function r(e){return e.startsWith("/")?e:null}function o(e){var t=r(e);if(null===t)throw new Error("Expected an absolute path but got ".concat(e));return t}function i(e){return e.startsWith("/home/runner/")?e.split("/").slice(4).join("/"):null}n.d(t,{IT:function(){return r},ZF:function(){return o},om:function(){return i}})},58646:function(e,t,n){function r(e,t){if("dev"===e)return!0;if("dev"===t)return!1;for(var n=function(e){var t=[0,0,0];return e.split(".").map(Number).forEach((function(n,r){if("number"!==typeof n||isNaN(n))throw new Error("invalid version: ".concat(e));t[r]=n})),t},r=n(e),o=n(t),i=0;i<3;i++){if(o[i]>r[i])return!1;if(r[i]>o[i])return!0}return!0}function o(e,t){return!r(e,t)}n.d(t,{H:function(){return r},h:function(){return o}})},17875:function(e,t,n){n.d(t,{Z:function(){return Wi}});var r=n(35944),o=n(65988),i=n.n(o),a=n(67294),c=n(86261),u=n(30617),l=n(90039),s=n(34051),f=n.n(s),d=n(24865),p=n(39185);function v(e){var t,n=e.getServerCapabilities();return{isAutoCompleteSupported:Boolean(null===n||void 0===n?void 0:n.completionProvider),isCompletionItemResolveSupported:Boolean(null===n||void 0===n||null===(t=n.completionProvider)||void 0===t?void 0:t.resolveProvider),isFindReferencesSupported:Boolean(null===n||void 0===n?void 0:n.referencesProvider),isFindDefinitionSupported:Boolean(null===n||void 0===n?void 0:n.definitionProvider),isFindTypeDefinitionSupported:Boolean(null===n||void 0===n?void 0:n.typeDefinitionProvider),isFindImplementationSupported:Boolean(null===n||void 0===n?void 0:n.implementationProvider),isTextDocumentSyncSupported:Boolean(null===n||void 0===n?void 0:n.textDocumentSync),isHoverSupported:Boolean(null===n||void 0===n?void 0:n.hoverProvider),isRenameSupported:Boolean(null===n||void 0===n?void 0:n.renameProvider),isCodeActionsSupported:Boolean(null===n||void 0===n?void 0:n.codeActionProvider),isSignatureHelpSupported:Boolean(null===n||void 0===n?void 0:n.signatureHelpProvider)}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t=m(a.useState(null),2),n=t[0],r=t[1];return a.useEffect((function(){if(e)return r(v(e)),e.onServerCapabilitiesChange((function(){r(v(e))}));r(null)}),[e]),n}var y=n(36793),b=n(73935),w=n(3606),x=n(78120),k=n(34790),S=n(47421),E=n(73599),C=n(39453);function O(e){if(!e)return"";if(Array.isArray(e)){var t="",n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){t+=O(i.value)+"\n\n"}}catch(c){r=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}return"string"===typeof e?e:"language"in e?"```"+e.language+"\n"+e.value+"\n```":e.value}var Z=n(3204),j=n(60001);function A(e,t,n){if("effects"in e){var r=!0,o=!1,i=void 0;try{for(var a,c=e.effects[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value;u.is(t)&&n(u)}}catch(v){o=!0,i=v}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}else{var l=!0,s=!1,f=void 0;try{for(var d,p=e.transactions[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){A(d.value,t,n)}}catch(v){s=!0,f=v}finally{try{l||null==p.return||p.return()}finally{if(s)throw f}}}}var I=n(54929);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,c,"next",e)}function c(e){T(i,r,o,a,c,"throw",e)}a(void 0)}))}}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=x.Py.define(),r=x.QQ.define({create:function(){return t},update:function(t,r){return A(r,n,(function(n){t=e(n.value,t)})),t}});return{effect:n,state:r}}(),N=x.Py.define(),L=x.QQ.define({create:function(){return null},update:function(e,t){if(!t.isUserEvent("input.type"))return null;if(t.changes.empty)return e;var n="";return t.changes.iterChanges((function(e,t,r,o,i){n=i.sliceString(0,1)})),n||null}});function U(e){var t=e.lspClient,n=e.path,o=document.createElement("div"),i={};function a(e,t){return c.apply(this,arguments)}function c(){return(c=D(f().mark((function e(r,o){var i,a,c,l,s,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=(null===(i=t.getServerCapabilities())||void 0===i||null===(a=i.signatureHelpProvider)||void 0===a?void 0:a.triggerCharacters)||[]){e.next=4;break}return e.abrupt("return",null);case 4:if(l=r.field(u,!1),s=r.field(L,!1),l||null!=s&&c.includes(s)){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,M(r,o,t,n);case 10:if((d=e.sent)&&d.signatures.length){e.next=13;break}return e.abrupt("return",null);case 13:return e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=x.QQ.define({create:function(){return null},update:function(e,t){return t.isUserEvent("select.pointer")?null:(t.selection||A(t,_.effect,(function(n){var a=n.value;e=a?{pos:t.state.selection.main.from,create:function(){return function(e){var t=0,n=function(n){b.render((0,r.tZ)(F,{help:e,index:t}),o,n)};return n(),i.dom=o,i.update=function(r){A(r,N,(function(o){t=(t+o.value+e.signatures.length)%e.signatures.length,n((function(){(0,E.E2)(r.view)}))}))},i}(a)},above:!0}:null})),e)},provide:function(e){return E.hJ.from(e)}}),l=S.lg.define((function(){var e=(0,w.Z)(function(){var e=D(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state.selection.main).empty){e.next=7;break}return e.next=4,a(t.state,n.from);case 4:(r=e.sent)&&(0,k._B)(t),t.dispatch({effects:_.effect.of(r)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),0);return{update:function(t){t.transactions.some((function(e){return e.selection}))&&t.state.selection.main.empty&&e(t.view)}}})),s=function(e){return function(t){return!!function(e){var t=e.state.field(_.state,!1);return null!=t&&t.signatures.length>1}(t)&&(t.dispatch({effects:N.of(e)}),!0)}},d=[{key:"ArrowDown",run:s(1)},{key:"ArrowUp",run:s(-1)},{key:"Escape",run:function(e){return!!e.state.field(_.state,!1)&&(e.dispatch({effects:_.effect.of(null)}),!0)}}];return[u,_.state,L,l,x.Wl.high(S.$f.of(d))]}var F=function(e){var t,n,o=e.help,i=e.index,a="1px solid ".concat(Z.TV.outlineDimmest),c="min(425px, 80vw)",u=o.signatures[i],l=o.signatures.length>1;if(!u)return null;var s=u.documentation,f=null!=o.activeParameter&&(null===(t=u.parameters)||void 0===t||null===(n=t[o.activeParameter])||void 0===n?void 0:n.documentation);return(0,r.BX)(I.Z,{css:Z.l0.flex.row,children:[l&&(0,r.tZ)(I.Z,{css:[Z.l0.flex.row,Z.l0.pl(4),{borderRight:a,paddingBottom:5}],children:(0,r.BX)("span",{css:[{alignSelf:"flex-end"},Z.l0.p(4)],children:[i+1,"/",o.signatures.length]})}),(0,r.BX)(I.Z,{children:[(0,r.tZ)(I.Z,{css:[Z.l0.py(4),Z.l0.pl(l?4:8),Z.l0.pr(8),Z.l0.maxHeight(100),Z.l0.overflowY("scroll"),Z.l0.font.code,{lineHeight:Z.TV.lineHeightSmall,maxWidth:c}],children:(0,r.tZ)(B,{signature:u,activeParameter:o.activeParameter})}),Boolean(s||f)&&(0,r.BX)(I.Z,{css:[Z.l0.px(l?4:8),Z.l0.py(2),Z.l0.maxHeight(200),Z.l0.overflow("scroll"),{borderTop:a,maxWidth:c}],children:[f?(0,r.tZ)(I.Z,{children:(0,r.tZ)(j.Z,{children:O(f)})}):null,s?(0,r.tZ)(I.Z,{children:(0,r.tZ)(j.Z,{children:O(s)})}):null]})]})]})};function B(e){var t,n=e.signature,o=n.label,i=n.parameters,a=e.activeParameter;if(null==a||!i)return(0,r.tZ)("span",{children:o});var c=null===(t=i[a])||void 0===t?void 0:t.label;if(!c)return(0,r.tZ)("span",{children:o});var u=R("string"===typeof c?[o.indexOf(c),o.indexOf(c)+c.length]:c,2),l=u[0],s=u[1];return(0,r.BX)("div",{children:[(0,r.tZ)("span",{children:o.slice(0,l)}),(0,r.tZ)("strong",{children:c}),(0,r.tZ)("span",{children:o.slice(s)})]})}function M(e,t,n,r){return z.apply(this,arguments)}function z(){return(z=D(f().mark((function e(t,n,r,o){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.request.signatureHelp(o,(0,C.s)(t.doc,n));case 2:if(!("error"in(i=e.sent))){e.next=5;break}throw new Error("Something went wrong fetching signature help results: ".concat(i.error.message));case 5:return e.abrupt("return",i.result);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=n(94670);function V(e){var t=e.lspClient,n=e.path;return S.tk.updateListener.of((function(e){var r;if(e.docChanged){var o=null===(r=t.getServerCapabilities())||void 0===r?void 0:r.textDocumentSync;if(o!==H.TextDocumentSyncKind.None&&t.isOpen(n))if(o!==H.TextDocumentSyncKind.Full)t.notify.didChange(n,function(e,t){var n=[],r=t;return e.iterChanges((function(e,t,o,i,a){var c=a.sliceString(0),u=t-e,l=u+o;n.push({range:{start:(0,C.s)(r,o),end:(0,C.s)(r,l)},rangeLength:u,text:c}),r=r.replace(o,l,a)})),n}(e.changes,e.startState.doc));else{var i=e.view.state.doc.toString();t.notify.didChange(n,[{text:i}])}}}))}var G=n(91674),X=n(28519);function W(e){var t=e.lspClient,n=e.path;return S.lg.define((function(e){var r=t.onDiagnostics((function(t){if(t.path===n){var r=function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value,l=(0,C.R)(t.doc,u.range.start),s=(0,C.R)(t.doc,u.range.end);if(l===s){var f=t.wordAt(s);if(f)l=f.from,s=f.to;else{if(!(s<t.doc.length))continue;s+=1}}var d="info";switch(u.severity){case G.DiagnosticSeverity.Error:d="error";break;case G.DiagnosticSeverity.Warning:d="warning";break;case G.DiagnosticSeverity.Hint:case G.DiagnosticSeverity.Information:d="info"}n.push({from:l,to:s,severity:d,message:u.message,source:u.source})}}catch(p){o=!0,i=p}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t.diagnostics,e.state);e.dispatch((0,X.p0)(e.state,r))}}));return{destroy:function(){r()}}}))}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,c,"next",e)}function c(e){q(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}var te=/(\w|\.|:)+$/;function ne(e,t){var n,r=e.state,o=e.pos,i=e.explicit,a=r.doc.lineAt(o),c=H.CompletionTriggerKind.Invoked;return!i&&(null===t||void 0===t?void 0:t.includes(a.text[o-a.from-1]))&&(c=H.CompletionTriggerKind.TriggerCharacter,n=a.text[e.pos-a.from-1]),c!==H.CompletionTriggerKind.Invoked||e.matchBefore(te)?{triggerKind:c,triggerCharacter:n}:null}function re(e){var t=document.createElement("div");return b.render("string"===typeof e?(0,r.tZ)(I.Z,{css:Z.l0.font.code,children:e}):(0,r.tZ)(j.Z,{children:O(e)}),t),t}var oe=Object.entries(G.CompletionItemKind).reduce((function(e,t){var n=Q(t,2),r=n[0];return K(Y({},n[1],r.toLowerCase()),e)}),{});function ie(e){var t,n=e.view,r=e.item,o=e.from,i=e.to,a=n.state,c=a.doc,u=a.selection,l=[];if(r.textEdit){var s=r.textEdit,f=s.range,d=s.newText,p=(0,C.R)(c,f.start),v=(0,C.R)(c,f.end);if(null===p||null===v)return;l.push({from:p,insert:d,to:Math.max(v,u.main.to)})}else{var h=r.insertText||r.label;l.push({from:o,to:i,insert:h})}var m=Q(l,1)[0],g="";null===(t=r.additionalTextEdits)||void 0===t||t.forEach((function(e){var t=function(e,t){var n=(0,C.R)(e.state.doc,t.range.start),r=(0,C.R)(e.state.doc,t.range.end);if(null!==n&&null!==r)return{from:n,to:r,insert:t.newText}}(n,e);t&&("insert"in t&&"from"in t&&"from"in m&&t.from===m.from&&(g=t.insert),l.push(t))}));var y=i-o;u.ranges.forEach((function(e){if(e!==u.main){if(!("insert"in m)||!m.insert)throw new Error("Expexted insert in mainChange");var t=e.from-y,n=g+m.insert;l.push({from:t,to:e.to,insert:n})}}));var b=x.as.of(l,c.length),w=u.ranges.map((function(e){return e.map(b)}));return{changes:b,selection:x.jT.create(w,u.mainIndex)}}function ae(e,t,n){var r=t.map((function(e){var t,r=e.additionalTextEdits,o={label:e.label,detail:e.detail,apply:function(t,n,o,i){var a=ie({view:t,item:K({},e,{additionalTextEdits:r}),to:i,from:o});a&&t.dispatch({changes:a.changes,selection:a.selection,annotations:k.Jv.of(n)})},type:e.kind&&oe[e.kind],filterText:(null!==(t=e.filterText)&&void 0!==t?t:e.label).toLowerCase(),sortText:e.sortText||e.label},i=v(n).isCompletionItemResolveSupported;return n&&i?o.info=$(f().mark((function t(){var o,i,a,c;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.request.resolveCompletionItem(e);case 2:if(o=t.sent,i="cancelled"in o&&o.cancelled,a="result"in o?o.result:null,!i&&a){t.next=7;break}return t.abrupt("return",null);case 7:if(a.additionalTextEdits&&(r=a.additionalTextEdits),c=[],a.detail&&a.detail!==e.detail&&a.detail!==e.label&&c.push(a.detail),a.documentation&&c.push(a.documentation),c.length){t.next=13;break}return t.abrupt("return",null);case 13:return t.abrupt("return",re(c));case 14:case"end":return t.stop()}}),t)}))):e.documentation&&(o.info=function(){return e.documentation?re(e.documentation):null}),o})),o=Q(function(e){var t=Object.create(null),n=Object.create(null),r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value.label;t[u[0]]=!0;for(var l=1;l<u.length;l++)n[u[l]]=!0}}catch(f){o=!0,i=f}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}var s=ee(t)+ee(n)+"*$";return[new RegExp("^"+s),new RegExp(s)]}(r),2),i=o[0],a=o[1],c=e.matchBefore(a),u=e.pos;if(c){u=c.from;var l=c.text.toLowerCase();/^\w+$/.test(l)&&(r=r.filter((function(e){return e.filterText.startsWith(l)})).sort((function(e,t){var n=e.sortText,r=t.sortText;return n.startsWith(c.text)&&!r.startsWith(c.text)?-1:!n.startsWith(c.text)&&r.startsWith(c.text)?1:0})))}return{from:u,options:r,span:i}}function ce(e,t,n,r){return ue.apply(this,arguments)}function ue(){return(ue=$(f().mark((function e(t,n,r,o){var i,a,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request.completion(n,(0,C.s)(o.state.doc,o.pos),r);case 2:if(!("error"in(i=e.sent))){e.next=5;break}throw new Error("Something went wrong fetching autocompletion results: ".concat(i.error.message));case 5:if(a=i.result,!o.aborted){e.next=8;break}return e.abrupt("return",null);case 8:if(a){e.next=10;break}return e.abrupt("return",null);case 10:return c=Array.isArray(a)?a:a.items,e.abrupt("return",ae(o,c,t));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=n(95694);function se(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de="hover-tooltip-content",pe=".rendered-markdown .".concat(de);function ve(e){var t,n,r=e.hover,o=e.doc,i=e.offset,a=e.setHoverTooltipParams;return!Array.isArray(r.contents)&&"string"!==typeof r.contents||0!==r.contents.length?(r.range?(t=(0,C.R)(o,r.range.start),n=(0,C.R)(o,r.range.end)):(t=i,n=i+1),{pos:t,end:n,create:function(){var e=document.createElement("div");e.classList.add("hover-tooltip"),e.style.padding="0";var t=O(r.contents);return setTimeout((function(){a({dom:e,content:t,className:de})})),{dom:e,mount:function(e){var t;t=function(){(0,E.E2)(e)},[0,50,200,1e3].forEach((function(e){return setTimeout(t,e)}))}}},above:!0}):(a(null),null)}function he(e){var t,n=e.lspClient,r=e.path,o=e.setHoverTooltipParams,i=(0,E.bF)(function(){var e,t=(e=f().mark((function e(t,i){var a,c,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,C.s)(t.state.doc,i),e.next=3,n.request.hover(r,a);case 3:if(!("error"in(c=e.sent))){e.next=7;break}throw o(null),new Error("Something went wrong fetching hover results: ".concat(c.error.message));case 7:if(null!==(u=c.result)){e.next=11;break}return o(null),e.abrupt("return",null);case 11:return e.abrupt("return",ve({hover:u,offset:i,doc:t.state.doc,setHoverTooltipParams:o}));case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){se(i,r,o,a,c,"next",e)}function c(e){se(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}());return[i,S.tk.theme((fe(t={},"".concat(pe," p"),{fontSize:"calc(".concat(le.TV.fontSizeDefault," + 1px)"),padding:"".concat(le.TV.space2," ").concat(le.TV.space8),lineHeight:1.4,marginBottom:0}),fe(t,"".concat(pe," p:last-child"),{marginBottom:"".concat(le.TV.space4," !important")}),fe(t,"".concat(pe," pre"),{margin:"".concat(le.TV.space2," ").concat(le.TV.space8," ").concat(le.TV.space2," ").concat(le.TV.space4)}),fe(t,"".concat(pe," pre + p"),{borderTop:"1px solid ".concat(le.TV.outlineDimmest),paddingTop:le.TV.space4}),t))]}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=x.Py.define();function xe(e){var t=e.setLspTooltipProps,n=e.lspClient,r=e.path,o=x.Py.define(),i=x.Py.define(),a=S.tk.updateListener.of(function(){var e,t=(e=f().mark((function e(t){var a,c,u,l,s,d,p,h,m,g,y,b,w,x,k,S,E,O,Z,j,A,I,P,T,D,R,_,N,L,U;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x=function(){t.view.dispatch({effects:i.of(null)})},a=null,c=!0,u=!1,l=void 0,e.prev=3,s=t.transactions[Symbol.iterator]();case 5:if(c=(d=s.next()).done){e.next=27;break}for(p=d.value,h=!0,m=!1,g=void 0,e.prev=8,y=p.effects[Symbol.iterator]();!(h=(b=y.next()).done);h=!0)(w=b.value).is(we)&&(a=w.value);e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),m=!0,g=e.t0;case 16:e.prev=16,e.prev=17,h||null==y.return||y.return();case 19:if(e.prev=19,!m){e.next=22;break}throw g;case 22:return e.finish(19);case 23:return e.finish(16);case 24:c=!0,e.next=5;break;case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(3),u=!0,l=e.t1;case 33:e.prev=33,e.prev=34,c||null==s.return||s.return();case 36:if(e.prev=36,!u){e.next=39;break}throw l;case 39:return e.finish(36);case 40:return e.finish(33);case 41:if(a){e.next=43;break}return e.abrupt("return");case 43:if(k=v(n),S=t.state.doc,E=(0,C.s)(S,a),!k.isFindReferencesSupported){e.next=53;break}return e.next=50,n.request.findReferences(r,E,{includeDeclaration:!1});case 50:e.t2=e.sent,e.next=54;break;case 53:e.t2={result:null};case 54:if(O=e.t2,!k.isFindDefinitionSupported){e.next=61;break}return e.next=58,n.request.findDefinitions(r,E);case 58:e.t3=e.sent,e.next=62;break;case 61:e.t3={result:null};case 62:if(Z=e.t3,!("error"in O)){e.next=65;break}throw new Error("Something went wrong fetching references: ".concat(O.error.message));case 65:if(!("error"in Z)){e.next=67;break}throw new Error("Something went wrong fetching definition: ".concat(Z.error.message));case 67:if(j=O.result,A=Z.result,I=j&&j.length>0,P=A&&A.length>0,I||P){e.next=74;break}return x(),e.abrupt("return");case 74:T=[],D=[],j&&j.length>0&&(R=T).push.apply(R,be(j)),A&&A.length>0&&(_=D).push.apply(_,be(A)),N=be(T).concat(be(D)).map((function(e){return n.documentUriToPath(e.uri)})).filter((function(e){return e!==r})),L=be(new Set(N)),U=S.toJSON().join("\n"),t.view.dispatch({effects:o.of({references:T,definitions:D,currentFile:r,currentFileContents:U,files:L})});case 82:case"end":return e.stop()}}),e,null,[[3,29,33,41],[8,12,16,24],[17,,19,23],[34,,36,40]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ge(i,r,o,a,c,"next",e)}function c(e){ge(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),c=x.QQ.define({create:function(){return null},update:function(e,t){var n=e,r=!0,a=!1,c=void 0;try{for(var u,l=t.effects[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var s=u.value;s.is(o)&&(n=s.value),s.is(i)&&(n=null)}}catch(f){a=!0,c=f}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}return n},provide:function(e){return E.hJ.compute([e],(function(n){var r=n.field(e);if(!r)return t(null),null;var o=n.selection.asSingle().main;return{pos:o.from,end:o.to,create:function(e){var n=document.createElement("div");return n.classList.add("cm-lsp-tooltip"),n.classList.add("replit-tooltip"),n.style.padding="0",t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ye(e,t,n[t])}))}return e}({},r,{onClose:function(){e.dispatch({effects:i.of(null)})},dom:n})),{dom:n}}}}))}});return[a,c]}var ke=x.Py.define();function Se(e){var t=e.lspClient,n=e.path,r=e.setLspTooltipProps,o=e.setRenameInputParams,i=e.setHoverTooltipParams,a=v(t),c=[V({lspClient:t,path:n}),W({lspClient:t,path:n})];return a.isAutoCompleteSupported&&c.push(function(e){var t=e.lspClient,n=e.path;function r(){return(r=$(f().mark((function e(r){var o,i,a,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getServerCapabilities()){e.next=4;break}return e.abrupt("return",null);case 4:if(a=(null===i||void 0===i||null===(o=i.completionProvider)||void 0===o?void 0:o.triggerCharacters)||[],c=ne(r,a)){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",ce(t,n,c,r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,k.ys)({defaultKeymap:!1,override:[(0,k.eC)(["LineComment","BlockComment","String"],(function(e){return r.apply(this,arguments)}))]})}({lspClient:t,path:n})),a.isSignatureHelpSupported&&c.push(U({lspClient:t,path:n})),a.isHoverSupported&&c.push(he({setHoverTooltipParams:i,lspClient:t,path:n})),(a.isFindDefinitionSupported||a.isFindReferencesSupported)&&c.push(xe({setLspTooltipProps:r,lspClient:t,path:n})),a.isRenameSupported&&c.push(function(e){return x.QQ.define({create:function(){return null},update:function(e,t){var n=e,r=!0,o=!1,i=void 0;try{for(var a,c=t.effects[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value;u.is(ke)&&(n=u.value)}}catch(l){o=!0,i=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n},provide:function(t){return E.hJ.compute([t],(function(n){var r=n.field(t);if(null===r)return e(null),null;var o=n.wordAt(r);return o?{pos:r,create:function(){var t=document.createElement("div");t.classList.add("cm-lsp-rename-tooltip"),t.classList.add("replit-tooltip"),t.style.padding="0";var i=n.sliceDoc(o.from,o.to);return e({position:r,variable:i,dom:t}),{dom:t}}}:null}))}})}(o)),c}var Ee=n(90601),Ce=n(32181),Oe=n(82053),Ze=n(46846),je=n(71291);function Ae(e){var t=e.path,n=e.fs,r=e.edits,o=!1,i=n.watchOtFile(t,{onReady:function(e){var t=e.writeOps,n=e.initialContent;t((0,Oe.Z)(r,n.toString())),o=!0},onStatusChange:function(e){e===Ze.KF.Clean&&o&&i()}})}function Ie(e){var t=e.edit,n=e.fs,r=e.client,o=t.documentChanges,i=t.changes;if(o&&o.forEach((function(e){if("textDocument"in e){var t=e.edits,o=e.textDocument;Ae({path:r.documentUriToPath(o.uri),fs:n,edits:t})}else switch(e.kind){case"create":var i=r.documentUriToPath(e.uri),a=e.options,c=Boolean((null===a||void 0===a?void 0:a.overwrite)||!(null===a||void 0===a?void 0:a.ignoreIfExists)),u=function(){n.writeFile(i,je.Z.from("")).then((function(e){if(e.error)throw new Error("Something went wrong writing to a file")}))};if(c){u();break}n.stat(i).then((function(e){e.exists||u()}));break;case"delete":var l=r.documentUriToPath(e.uri),s=e.options,f=Boolean(null===s||void 0===s?void 0:s.recursive),d=Boolean(null===s||void 0===s?void 0:s.ignoreIfNotExists);n.stat(l).then((function(e){if(!e.exists)throw new Error("Expected file to exist");if(e.type===Ze.Tv.Directory&&!f)throw new Error("Trying to delete a directory without recursive option enabled");n.deleteFile(l).then((function(e){var t=e.error;if((t!==Ze.Df.NotFound||!d)&&t)throw new Error("Something went wrong deleting the file")}))}));break;case"rename":var p=r.documentUriToPath(e.oldUri),v=r.documentUriToPath(e.newUri),h=e.options,m=Boolean((null===h||void 0===h?void 0:h.overwrite)||!(null===h||void 0===h?void 0:h.ignoreIfExists)),g=function(){n.moveFile(p,v).then((function(e){if(e.error)throw new Error("Something went wrong moving the file")}))};if(m){g();break}n.stat(v).then((function(e){e.exists||g()}))}})),i)for(var a in i){var c=r.documentUriToPath(a),u=i[a];Ae({path:c,fs:n,edits:u})}}var Pe=n(53451);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function Re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){De(i,r,o,a,c,"next",e)}function c(e){De(i,r,o,a,c,"throw",e)}a(void 0)}))}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(){return(Ne=Re(f().mark((function e(t){var n,r,o,i,a,c,u,l,s,d,p,h,m,g,y,b,w,x;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,r=t.view,o=t.client,i=t.session,a=t.filePath,c=t.requestIdRef,(0,Ee.jh)(n)){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=5;break}throw new Error("Expected view");case 5:if(u=n.clientX,l=n.clientY,null!==(s=r.posAtCoords({x:u,y:l}))){e.next=9;break}return e.abrupt("return");case 9:if(o){e.next=11;break}throw new Error("Expected LSP Client");case 11:if(a){e.next=13;break}throw new Error("Expected filePath");case 13:if(v(o).isFindDefinitionSupported){e.next=16;break}return e.abrupt("return");case 16:return c.current&&o.notify.cancelRequest(c.current),c.current=o.generateId(),d=(0,C.s)(r.state.doc,s),e.next=21,o.request.findDefinitions(a,d,c.current);case 21:if(p=e.sent,c.current=null,!("error"in p)){e.next=25;break}throw new Error("Something went wrong fetching definition location: ".concat(p.error.message));case 25:if(h=p.result,!p.cancelled&&h&&0!==h.length){e.next=28;break}return e.abrupt("return");case 28:m=_e(h,1),g=m[0],y=g.uri,b=g.range,w=b.start,x=o.documentUriToPath(y),i.updateDeeplink({path:x,line:w.line+1,col:w.character});case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){var t=e.view,n=e.filePath,r=e.isLoading,o=(0,y.Z)().preferences.codeIntelligence,i=(0,u.Z)().session,c=(0,p.Z)(n),l=g(c),s=_e(a.useState(null),2),h=s[0],m=s[1],b=_e(a.useState(null),2),w=b[0],x=b[1],k=_e(a.useState(null),2),E=k[0],O=k[1];!function(e){var t=e.filePath,n=(0,u.Z)().fs,r=(0,p.Z)(t);a.useEffect((function(){if(r)return r.onWorkspaceEdit((function(e){return Ie({edit:e.edit,fs:n,client:r}),{applied:!0}}))}),[n,r])}({filePath:n}),function(e){var t=e.filePath,n=(0,u.Z)().fs,r=(0,p.Z)(t);a.useEffect((function(){if(r&&v(r).isTextDocumentSyncSupported)return n.watchOtFile(t,{onFlush:function(){r.isOpen(t)&&r.notify.didSave(t)}})}),[n,t,r])}({filePath:n});var Z=function(e){var t=e.view,n=e.filePath,r=e.renameInputParams,o=a.useRef(null),i=(0,u.Z)().fs,c=(0,p.Z)(n),l=a.useCallback(function(){var e=Re(f().mark((function e(a){var u,l,s,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Expected view");case 2:if(c){e.next=4;break}throw new Error("Expected client");case 4:if(n){e.next=6;break}throw new Error("Expected non-null file path");case 6:if(r){e.next=8;break}throw new Error("Expected rename input params");case 8:return u=(0,C.s)(t.state.doc,r.position),o.current&&c.notify.cancelRequest(o.current),l=c.generateId(),o.current=l,e.next=14,(0,Pe.M)(t,c.request.rename(n,u,a,l));case 14:if(s=e.sent,o.current=null,!("error"in s)){e.next=18;break}throw new Error("Something went wrong renaming ".concat(s.error.message));case 18:if(!s.cancelled){e.next=20;break}return e.abrupt("return");case 20:if(d=s.result){e.next=23;break}return e.abrupt("return");case 23:Ie({edit:d,fs:i,client:c}),t.dispatch({effects:[ke.of(null)]});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,t,n,i,r]);return{onRename:l,closeRenameInput:a.useCallback((function(){if(!t)throw new Error("Expected view");t.dispatch({effects:[ke.of(null)]}),t.focus()}),[t])}}({view:t,filePath:n,renameInputParams:E}),j=Z.onRename,A=Z.closeRenameInput,I=(0,Ce.Z)({view:t});return a.useEffect((function(){if(!r&&o&&t&&c&&l&&c.isSupportedFile(n)){c.notify.didOpen(n,t.state.doc.toString());var e=l.isFindDefinitionSupported,a={current:null};return t.dispatch({effects:I.reconfigure([Se({lspClient:c,path:n,setLspTooltipProps:m,setRenameInputParams:O,setHoverTooltipParams:x}),e?S.tk.domEventHandlers({click:function(e){return function(e){Ne.apply(this,arguments)}({event:e,view:t,filePath:n,client:c,session:i,requestIdRef:a}),!1}}):[]])}),function(){c.getServerState()===d.aL.INITIALIZED&&c.isOpen(n)&&c.notify.didClose(n),t.dispatch({effects:I.reconfigure([])})}}}),[c,t,l,I,n,r,i,o,m,O,x]),{lspTooltipProps:h,hoverTooltipParams:w,renameInputParams:E,closeRenameInput:A,onRename:j}}var Ue=n(31284),Fe=n(29737),Be=n(80382),Me=n(6763);function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e){return He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},He(e)}function Ve(e,t){return!t||"object"!==Xe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}var Xe=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function We(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}var Je=new(function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(n,e);var t=We(n);function n(){return ze(this,n),t.apply(this,arguments)}return n.prototype.toDOM=function(){return document.createTextNode("\u25cf")},n}(Fe.SJ)),qe=x.Py.define({}),$e=x.Py.define({}),Ye=S.p.line({attributes:{class:"cm-debuggerLine"}}),Ke=x.Py.define({}),Qe=x.QQ.define({create:function(){return null},update:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t.effects[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;if(c.is(Ke))return c.value}}catch(u){r=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e}});function et(e){var t=new Be.f_,n=e.state.field(Qe);if(null!==n){var r=e.state.doc.line(n);t.add(r.from,r.from,Ye)}return t.finish()}var tt=S.lg.fromClass(function(){function e(t){ze(this,e),this.decorations=et(t)}return e.prototype.update=function(e){this.decorations=et(e.view)},e}(),{decorations:function(e){return e.decorations}});function nt(e,t){e.dispatch({effects:$e.of({pos:t})})}var rt=x.QQ.define({create:function(){return Be.Xs.empty},update:function(e,t){e=e.map(t.changes);var n=!0,r=!1,o=void 0;try{for(var i,a=function(n,r){var o=r.value;if(o.is($e)){var i=!1;e.between(o.value.pos,o.value.pos+1,(function(){i=!0})),e=i?e.update({filter:function(e){return e!==o.value.pos}}):e.update({add:[Je.range(o.value.pos)]})}o.is(qe)&&(e=Be.Xs.of(o.value.lines.map((function(e){return Je.range(t.state.doc.line(e).from)})),!0))},c=t.effects[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)a(0,i)}catch(u){r=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return e}});function ot(e,t){var n;return e&&0!==e.length?null===t||(null===(n=e[0].source)||void 0===n?void 0:n.path)!==t?null:e[0].line:null}var it=n(85133);function at(e){var t=e.view,n=e.debuggest,r=e.filePath,o=e.isLoading,i=(0,u.Z)().fs,c=(0,it.Z)(),l=(0,Ue.Z)(n.mainClient),s=(0,Ce.Z)({view:t});a.useEffect((function(){if(!o&&c&&l&&t){var e=(0,Me.ZF)("/home/runner/".concat(c.slug,"/").concat(r)),n=function(e,t,n,r){var o,i=[];i.push(t.breakpoints.subscribe((function(t){var r=t.get(n);r&&e.dispatch({effects:qe.of({lines:r.map((function(e){return e.line}))})})})));var a=S.tk.updateListener.of((function(o){o.transactions.forEach((function(o){o.effects.forEach((function(o){if(o.is($e)){var i=(0,Me.om)(n);if(!i)throw new Error("Expected relative path");t.toggleBreakpoint(n,{line:e.state.doc.lineAt(o.value.pos).number,otVersion:r.getOTVersion(i),otIndex:o.value.pos})}}))}))}));i.push(t.stackFrames.subscribe((function(t){var r=ot(t,n);e.dispatch({effects:Ke.of(r)})})));var c=(0,Fe.v5)({class:"cm-breakpoint-gutter",markers:function(e){return e.state.field(rt)},initialSpacer:function(){return Je},domEventHandlers:{mousedown:function(e,t){return nt(e,t.from),!0}}}),u=(null===(o=t.breakpoints.current.get(n))||void 0===o?void 0:o.map((function(e){return e.line})))||[];return{extensions:[x.Wl.highest(c),rt.init((function(e){return Be.Xs.of(u.filter((function(t){return t<=e.doc.lines})).map((function(t){return Je.range(e.doc.line(t).from)})),!0)})),a,S.tk.baseTheme({".cm-breakpoint-gutter .cm-gutterElement":{color:Z.TV.accentPrimaryDefault,paddingLeft:Z.TV.space4,paddingRight:Z.TV.space2,cursor:"default"}}),Qe.init((function(){return ot(t.stackFrames.current,n)})),tt,S.tk.baseTheme({".cm-debuggerLine":{backgroundColor:Z.TV.accentPrimaryDimmest,borderRadius:Z.TV.borderRadius4,marginRight:Z.TV.space4}})],dispose:function(){return i.forEach((function(e){return e()}))}}}(t,l,e,i),a=n.extensions,u=n.dispose;return t.dispatch({effects:s.reconfigure(a)}),function(){t.dispatch({effects:s.reconfigure([])}),u()}}}),[l,t,c,r,o,i,s])}var ct,ut=n(60172),lt=n(51281),st=n(35060),ft=n(66970),dt=n(32378),pt=n(35864),vt=n(67938),ht=n(13475);function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gt(i,r,o,a,c,"next",e)}function c(e){gt(i,r,o,a,c,"throw",e)}a(void 0)}))}}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){bt(e,t,n[t])}))}return e}function xt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||Et(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Et(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){if(e){if("string"===typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}function Ct(e){var t=e.dom,n=xt(e,["dom"]);return b.createPortal((0,r.tZ)(Zt,wt({},n)),t)}function Ot(e){var t=e.matchesMap,n=e.fileToContents,o=e.type,i=e.onClose,a=Object.keys(t),c=(0,u.Z)().session;if(0===a.length){var l=o===ct.REFERENCES?"No references found":"No definitions found";return(0,r.tZ)(vt.x,{color:"dimmer",css:[Z.l0.pl(4),Z.l0.py(8)],children:l})}return(0,r.tZ)(I.Z,{children:a.map((function(e){var o=t[e],u=n[e],l=(0,pt.Z)(o,u);return(0,r.tZ)(I.Z,{css:[Z.l0.p(4)],children:(0,r.tZ)(dt.Vw,{path:e,extensions:[l],doc:u,numMatches:o.length,initiallyExpanded:1===a.length,onNavigateToCode:function(t){if(null!==t)c.updateDeeplink({path:e,line:t.line+1,col:t.character});else{var n=kt(o,1)[0],r=u.lineAt(n.from),a=n.from-r.from;c.updateDeeplink({path:e,line:r.number,col:a})}i()}})},e)}))})}function Zt(e){var t=e.files,n=e.onClose,o=e.references,i=e.definitions,c=e.currentFile,l=e.currentFileContents,s=function(e,t){if(!v)throw new Error("Expected LSP Client");var n=v.documentUriToPath(e.uri),r=e.range,o=r.start,i=r.end;n in t||(t[n]=[]);var a=g[n],c=a.line(o.line+1),u=a.line(i.line+1);t[n].push({from:c.from+o.character,to:u.from+i.character})},d=(0,u.Z)().fs,v=(0,p.Z)(c),h=(0,ht.Z)(n,[]),m=kt(a.useState(bt({},c,ut.xv.of(l.split("\n")))),2),g=m[0],y=m[1];a.useEffect((function(){if(t.length){var e=!1;return function(){n.apply(this,arguments)}(),function(){e=!0}}function n(){return n=yt(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={},n.next=3,Promise.all(t.map(function(){var e=yt(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.readFile(t);case 2:if(!(n=e.sent).error){e.next=5;break}throw new Error("Something went wrong reading file with path ".concat(t,". Received error: ").concat(n.error));case 5:r[t]=ut.xv.of(n.content.toString().split("\n"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:if(!e){n.next=5;break}return n.abrupt("return");case 5:y((function(e){return wt({},e,r)}));case 6:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}}),[d,t]);var b=St(o).concat(St(i));if(!v||b.some((function(e){return!(v.documentUriToPath(e.uri)in g)})))return(0,r.tZ)(I.Z,{style:{width:Z.TV.space128,height:Z.TV.space128,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.tZ)(ft.Z,{style:{padding:"10px auto",width:"35px",height:"35px"}})});var w={},x={};return o.forEach((function(e){s(e,w)})),i.forEach((function(e){s(e,x)})),(0,r.BX)(I.Z,{innerRef:h,css:[Z.l0.minWidth("375px"),Z.l0.maxWidth("500px"),Z.l0.pt(4)],children:[(0,r.tZ)(I.Z,{css:{borderBottom:"1px solid var(--background-highest)"},children:(0,r.BX)(I.Z,{css:[Z.l0.p(4)],children:[(0,r.BX)(I.Z,{css:[Z.l0.flex.row,Z.l0.justify.spaceBetween,Z.l0.align.center,Z.l0.pr(4)],children:[(0,r.tZ)(vt.h,{level:2,variant:"subheadDefault",css:[Z.l0.p(4),Z.l0.pl(8)],children:"Definitions"}),(0,r.tZ)(lt.Z,{filled:!1,border:!1,onClick:n,children:(0,r.tZ)(st.Z,{})})]}),(0,r.tZ)(Ot,{matchesMap:x,fileToContents:g,type:ct.DEFINITION,onClose:n})]})}),(0,r.tZ)(I.Z,{children:(0,r.BX)(I.Z,{css:[Z.l0.p(4)],children:[(0,r.tZ)(vt.h,{level:2,variant:"subheadDefault",css:[Z.l0.p(4),Z.l0.pl(8)],children:"References"}),(0,r.tZ)(Ot,{matchesMap:w,fileToContents:g,type:ct.REFERENCES,onClose:n})]})})]})}!function(e){e.DEFINITION="DEFINITION",e.REFERENCES="REFERENCES"}(ct||(ct={}));var jt=n(47240);function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e){return(0,r.tZ)(jt.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){At(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M6 16C6 17.1046 6.89543 18 8 18H16C17.1046 18 18 17.1046 18 16V8C18 7.49278 17.8112 7.02965 17.5 6.67709C17.1335 6.26188 16.5973 6 16 6M9 19C9 20.1046 9.89543 21 11 21H19C20.1046 21 21 20.1046 21 19V11C21 10.4928 20.8112 10.0297 20.5 9.67709C20.1335 9.26188 19.5973 9 19 9M5 15H13C14.1046 15 15 14.1046 15 13V5C15 3.89543 14.1046 3 13 3H5C3.89543 3 3 3.89543 3 5V13C3 14.1046 3.89543 15 5 15Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}var Pt=n(88503),Tt=n(5383),Dt=n(57170),Rt=n(34996),_t=n(46253);function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e){return(0,r.tZ)(jt.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nt(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M15 17L6 2M9 17L10.5 14.5M13.8 9L18 2M10 19.5C10 20.8807 8.88071 22 7.5 22C6.11929 22 5 20.8807 5 19.5C5 18.1193 6.11929 17 7.5 17C8.88071 17 10 18.1193 10 19.5ZM19 19.5C19 20.8807 17.8807 22 16.5 22C15.1193 22 14 20.8807 14 19.5C14 18.1193 15.1193 17 16.5 17C17.8807 17 19 18.1193 19 19.5Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}var Ut=n(71841),Ft=n(428),Bt=n(34860),Mt=n(66552),zt=n(24506),Ht=n(85567),Vt=n(19826);function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e){return(0,r.tZ)(jt.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gt(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M9 19H15M10 22H14M6 8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8C18 11.5 15 12 15 16H9C9 12 6 11.5 6 8Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}var Wt=n(44262),Jt=n(16733),qt=n(40802),$t=n(77070),Yt=n(1517),Kt=n(27464),Qt=n(16108),en=n(63051),tn=n(93577),nn=n(38880);function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e){var t=e.view,n=e.metadata,o=e.closeMenu,i=n.text,c=n.icon,l=(0,nn.Z)().showError,s=a.useRef(!1),f=on(a.useState(!1),2),d=f[0],v=f[1],h=on(a.useState(null),2),m=h[0],g=h[1],y=(0,u.Z)().fs,b=(0,tn.Z)(),w=(0,p.Z)(b||"");return a.useEffect((function(){if(w&&b&&d&&!s.current){var e=t.state,n=e.selection.main,r={start:(0,C.s)(e.doc,n.from),end:(0,C.s)(e.doc,n.to)};s.current=!0,w.request.codeActions(b,r).then((function(e){if((0,$t.j)($t.U3.EDITOR_CONTEXT_MENU_CODE_ACTIONS_REQUESTED,{success:!("error"in e),numActions:"result"in e&&e.result?e.result.length:null}),"error"in e)return s.current=!1,g([]),l("Something went wrong fetching code actions"),void qt.Tb(new Error(e.error.message));null!==e.result&&0!==e.result.length?g(e.result):g([])}))}}),[w,d,b,m,t,l]),(0,r.BX)(I.Z,{tag:"li",onClick:function(e){e.stopPropagation(),v((function(e){return!e}))},children:[(0,r.BX)(I.Z,{css:[zt.gU.listItem,Z.l0.p(8),Z.l0.flex.row,Z.l0.align.center],children:[c,(0,r.tZ)(I.Z,{css:[Z.l0.pl(8)],children:(0,r.tZ)(vt.x,{children:i})}),(0,r.tZ)(I.Z,{css:[Z.l0.position.absolute,Z.l0.right(4)],children:(0,r.tZ)(Kt.Z,{alt:"Toggle Code Actions",tooltipHidden:!0,onClick:function(){return v((function(e){return!e}))},children:(0,r.tZ)(en.Z,{rotate:d?90:0,style:{transition:"200ms ease"}})})})]}),d&&!m?(0,r.BX)(I.Z,{css:[Z.l0.p(8),Z.l0.flex.row,Z.l0.align.center],children:[(0,r.tZ)(vt.x,{color:"dimmer",children:"Loading actions..."}),(0,r.tZ)(I.Z,{css:[Z.l0.align.center,Z.l0.justify.center,Z.l0.position.absolute,Z.l0.right(4),Z.l0.width(24),Z.l0.height(24)],children:(0,r.tZ)(Yt.Z,{})})]}):null,d&&m&&w?(0,r.BX)(I.Z,{tag:"ul",children:[m.map((function(e,t){return(0,r.tZ)(I.Z,{tag:"li",onClick:function(t){if(t.stopPropagation(),G.Command.is(e))return w.request.executeCommand(e.command,e.arguments),void o();var n=e.edit,r=e.command;n&&Ie({edit:n,fs:y,client:w}),r&&w.request.executeCommand(r.command,r.arguments),o()},children:(0,r.tZ)(I.Z,{css:[zt.gU.listItem,Z.l0.p(8),Z.l0.flex.row,Z.l0.align.center],children:(0,r.BX)(I.Z,{css:[Z.l0.flex.row,Z.l0.justify.spaceBetween,Z.l0.width("100%")],children:[(0,r.tZ)(vt.x,{css:[Z.l0.maxWidth("90%")],children:e.title}),(0,r.tZ)(I.Z,{tag:"span",children:(0,r.tZ)(Qt.Z,{size:12})})]})})},t)})),0===m.length?(0,r.tZ)(I.Z,{css:[Z.l0.p(8),Z.l0.flex.row,Z.l0.align.center],children:(0,r.tZ)(vt.x,{color:"dimmer",children:"No actions available"})}):null]}):null]})}var cn=n(28614);function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fn,dn,pn="Divider";!function(e){e.Cut="Cut",e.Copy="Copy",e.Paste="Paste",e.JumpToDefinition="JumpToDefinition",e.JumpToTypeDefinition="JumpToTypeDefinition",e.JumpToImplementation="JumpToImplementation",e.FindReferences="FindReferences",e.Rename="Rename",e.SelectAllOccurrences="SelectAllOccurrences",e.CodeActions="CodeActions",e.CopyLinkToPos="CopyLinkToPos",e.ToggleBreakpoint="ToggleBreakpoint",e.StartThread="StartThread",e.ExplainCode="ExplainCode",e.LookForErrors="LookForErrors"}(fn||(fn={}));var vn=(ln(dn={},fn.Cut,{text:"Cut",icon:(0,r.tZ)(Lt,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"X"}}),ln(dn,fn.Copy,{text:"Copy",icon:(0,r.tZ)(Ut.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"C"}}),ln(dn,fn.Paste,{text:"Paste",icon:(0,r.tZ)(Ft.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"V"}}),ln(dn,fn.JumpToDefinition,{text:"Jump to definition",icon:(0,r.tZ)(Bt.Z,{}),keyboardShortcut:{cmdOrCtrlKey:!0,key:"F12"}}),ln(dn,fn.JumpToTypeDefinition,{text:"Jump to type definition",icon:(0,r.tZ)(Wt.Z,{})}),ln(dn,fn.JumpToImplementation,{text:"Jump to implementation",icon:(0,r.tZ)(Jt.Z,{})}),ln(dn,fn.FindReferences,{text:"Find references",icon:(0,r.tZ)(Pt.Z,{}),keyboardShortcut:{shiftKey:!0,key:"F12"}}),ln(dn,fn.Rename,{text:"Rename all occurrences",icon:(0,r.tZ)(Tt.Z,{}),keyboardShortcut:{key:"F2"}}),ln(dn,fn.SelectAllOccurrences,{text:"Select all occurrences",icon:(0,r.tZ)(It,{}),keyboardShortcut:{key:"F2",cmdOrCtrlKey:!0}}),ln(dn,fn.CodeActions,{text:"Code actions",icon:(0,r.tZ)(Xt,{})}),ln(dn,fn.CopyLinkToPos,{text:"Copy link to position",icon:(0,r.tZ)(Dt.Z,{})}),ln(dn,fn.ToggleBreakpoint,{text:"Toggle breakpoint",icon:(0,r.tZ)(Rt.Z,{})}),ln(dn,fn.StartThread,{text:"Start thread",icon:(0,r.tZ)(_t.Z,{}),keyboardShortcut:{key:"/",altKey:!0}}),ln(dn,fn.LookForErrors,{text:"Look for errors",icon:(0,r.tZ)(cn.Z,{})}),ln(dn,fn.ExplainCode,{text:"Explain code",icon:(0,r.tZ)(Vt.Z,{})}),dn);function hn(e){return e===pn}function mn(e){var t=e.dom,n=e.actions,r=e.coords,o=0;n.forEach((function(e){var t=hn(e)?1:35;o+=t}));var i=r.x,a=r.y,c=t.getBoundingClientRect().bottom;if(a+o>c){var u=a-o;return u<0?{x:i+5,y:0}:{x:i,y:u}}return{x:i,y:a}}function gn(e){var t=e.view,n=e.coords,o=e.closeMenu,i=e.actions,c=e.onAction,u=t.dom,l=(0,ht.Z)(o,[]),s=sn(a.useState(mn({dom:u,actions:i,coords:n})),2),f=s[0],d=f.x,p=f.y,v=s[1];return a.useEffect((function(){v(mn({dom:u,actions:i,coords:n}))}),[n,i,u]),(0,r.tZ)(Mt.Z,{innerRef:l,background:"higher",className:"cm-custom-context-menu",css:[Z.l0.position.fixed,Z.l0.flex.column,Z.l0.justify.center,Z.l0.borderRadius(8),Z.l0.shadow(1),Z.l0.width(275),Z.l0.zIndex(101),{border:"1px solid ".concat(Z.TV.outlineDimmest)},{left:d,top:p}],children:(0,r.tZ)(I.Z,{tag:"ul",children:i.map((function(e,n){return hn(e)?(0,r.tZ)(I.Z,{css:[{borderBottom:"1px solid var(--background-highest)"}]},n):e===fn.CodeActions?(0,r.tZ)(an,{view:t,closeMenu:o,metadata:vn[e]},e):(0,r.tZ)(I.Z,{tag:"li",onClick:function(t){t.stopPropagation(),c(e),o()},children:(0,r.tZ)(yn,{item:e,isFirst:0===n,isLast:n===i.length-1})},e)}))})})}function yn(e){var t=e.item,n=e.isFirst,o=e.isLast,i=vn[t],a=i.text,c=i.icon,u=i.keyboardShortcut;return(0,r.BX)(I.Z,{css:[zt.gU.listItem,Z.l0.p(8),Z.l0.flex.row,Z.l0.align.center,n&&{borderTopLeftRadius:4,borderTopRightRadius:4},o&&{borderBottomLeftRadius:4,borderBottomRightRadius:4}],children:[c,(0,r.tZ)(I.Z,{css:[Z.l0.pl(8)],children:(0,r.tZ)(vt.x,{children:a})}),u?(0,r.tZ)(I.Z,{css:[Z.l0.position.absolute,Z.l0.right(4)],children:(0,r.tZ)(Ht.Z,{shortcut:u,small:!0,hideBorder:!0})}):null]})}var bn=n(12596),wn=n(33108),xn=n(92704),kn=n(8286);function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Cn(e){var t=e.dom,n=En(e,["dom"]);return b.createPortal((0,r.tZ)(On,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Sn(e,t,n[t])}))}return e}({},n)),t)}function On(e){var t=e.onRename,n=e.closeInput,o=e.variable,i=(0,ht.Z)(n,[]),c=(0,wn.Y)(o,(function(e){return e?e===o?{message:"Must pick a new name"}:void 0:{message:"New name can't be empty"}}));return a.useEffect((function(){var e=function(e){"Escape"===e.key&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]),a.useEffect((function(){setTimeout((function(){c.ref.current&&c.ref.current.focus()}))}),[c]),(0,r.tZ)(I.Z,{innerRef:i,css:[Z.l0.backgroundColor.backgroundDefault,Z.l0.flex.column,Z.l0.justify.center,Z.l0.borderRadius(4),Z.l0.shadow(2),Z.l0.width(200)],children:(0,r.tZ)("form",{onSubmit:function(e){e.preventDefault(),c.error||(n(),t(c.value))},children:(0,r.BX)(I.Z,{css:[Z.l0.justify.center],children:[(0,r.BX)(I.Z,{css:[Z.l0.flex.row,Z.l0.align.center,Z.l0.pr(4)],children:[(0,r.tZ)(vt.h,{level:2,variant:"subheadDefault",css:[Z.l0.p(4),Z.l0.pl(8)],children:"Rename"}),(0,r.tZ)(vt.h,{level:2,variant:"subheadDefault",color:"dimmer",css:[Z.l0.maxWidth(100),Z.l0.overflow("hidden"),{whiteSpace:"nowrap",textOverflow:"ellipsis"}],children:o}),(0,r.tZ)(Kt.Z,{alt:"Close rename input",tooltipHidden:!0,onClick:n,css:[Z.l0.position.absolute,Z.l0.top(4),Z.l0.right(4)],children:(0,r.tZ)(st.Z,{})})]}),(0,r.tZ)(I.Z,{css:[Z.l0.justify.center,Z.l0.align.center,Z.l0.p(8),Z.l0.pt(4)],children:(0,r.tZ)(bn.ZP,{name:"rename",ref:c.ref,onBlur:c.handleBlur,onChange:function(e){return c.setValue(e.target.value)},value:c.value,placeholder:"New name",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",autoComplete:"off",validationResults:c.error?[{message:c.error.message,state:"error"}]:void 0,style:{padding:Z.TV.space4,borderRadius:Z.TV.borderRadius4}})}),(0,r.tZ)(I.Z,{css:[Z.l0.flex.rowReverse,Z.l0.p(8),Z.l0.pt(0)],children:(0,r.tZ)(xn.ZP,{type:"submit",text:"Rename",colorway:"primary",iconLeft:(0,r.tZ)(kn.Z,{}),disabled:Boolean(c.error)||!c.value})})]})})})}var Zn=n(27740),jn=n.n(Zn),An=n(89431),In=n(45193),Pn=n(60818),Tn=n(88768),Dn=n(44054),Rn=n(70917),_n=n(5426);function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e){var t=e.name,n=e.children,o=e.onClick;return(0,r.BX)(I.Z,{onClick:function(){return o()},css:[Z.l0.p(16),Z.l0.borderRadius(8),{cursor:"pointer",border:"1px solid transparent",":hover":{borderColor:Z.TV.accentPrimaryDefault}}],children:[(0,r.tZ)(vt.x,{variant:"subheadBig",css:Z.l0.pb(16),children:t}),n]})}var Un="@media (min-width: ".concat(Dn.j.tabletMax,"px)"),Fn=(0,Rn.iv)(Nn({},Un,{width:"50%",flex:"0 0 auto"}));function Bn(e){var t,n=e.children;return(0,r.tZ)(I.Z,{css:[Z.l0.pt(16),Z.l0.pb(16),Z.l0.pr(8),Z.l0.pl(8),(t={},Nn(t,Un,[Z.l0.flex.row,Z.l0.p(16)]),Nn(t,"color",Z.TV.foregroundDefault),t)],children:n})}function Mn(e){var t=e.mainFile,n=e.examples,o=e.onSelect;return(0,r.BX)(Bn,{children:[(0,r.tZ)(I.Z,{css:Fn,children:n.slice(0,(n.length+1)/2).map((function(e){return(0,r.tZ)(Ln,{name:e.name,onClick:function(){return o(e)},children:(0,r.tZ)(_n.Z,{hideGutter:!0,filePath:t,code:e.code,fontSize:12})},e.name)}))}),(0,r.tZ)(I.Z,{css:Fn,children:n.slice((n.length+1)/2).map((function(e){return(0,r.tZ)(Ln,{name:e.name,onClick:function(){return o(e)},children:(0,r.tZ)(_n.Z,{hideGutter:!0,filePath:t,code:e.code,fontSize:12})},e.name)}))})]})}function zn(e){var t=e.replId,n=e.onSelect,o=(0,Tn.h6q)({variables:{replId:t}}),i=o.data,a=o.loading,c=o.error;if(a)return(0,r.tZ)(Bn,{children:"Loading..."});if(c)return(0,r.tZ)(Bn,{children:c.message});var u="Repl"===(null===i||void 0===i?void 0:i.repl.__typename)?i.repl:null;if(!u)return null;var l=u.deprecatedLanguageConfig,s=l.mainFile,f=l.examples;return(null===f||void 0===f?void 0:f.length)?(0,r.tZ)(Mn,{mainFile:s,examples:f,onSelect:n}):(0,r.tZ)(Bn,{children:"Sorry, this language doesnt have any examples. Want to add some? Contact us!"})}var Hn=n(5560),Vn=n(26967),Gn=n(44660);function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e){var t=e.onRequestClose,n=(0,Vn.e$)(Gn.H.Examples),o=(0,Vn.e$)(Gn.H.Editor),i=Jn(a.useState(!1),2),c=i[0],u=i[1],l=(0,Pn.Z)(),s=(0,Hn.Z)(),f=a.useRef(null===n||void 0===n?void 0:n.isActive),d=a.useRef();d.current=null===n||void 0===n?void 0:n.isActive;var p=a.useRef(null===n||void 0===n?void 0:n.goto);return p.current=null===n||void 0===n?void 0:n.goto,a.useEffect((function(){return function(){var e;d.current&&(null===(e=p.current)||void 0===e||e.call(p,Gn.H.Editor))}}),[]),a.useEffect((function(){(null===o||void 0===o?void 0:o.isActive)&&!f.current&&(c?o.goto(Gn.H.Examples):u(!0))}),[o,t,c]),a.useEffect((function(){(null===n||void 0===n?void 0:n.isActive)?f.current=!0:f.current&&t(null)}),[null===n||void 0===n?void 0:n.isActive]),l?(0,r.tZ)("div",{ref:null===n||void 0===n?void 0:n.delegateTooltip,children:(0,r.tZ)(zn,{replId:s,onSelect:function(e){l({code:e.code,insertAt:0}),t({exampleName:e.name})}})}):(0,r.tZ)("div",{children:"Please make sure you have a file open"})}var $n=function(){var e=(0,it.Z)(),t=Jn(a.useState(!1),2),n=t[0],o=t[1],c=(null===e||void 0===e?void 0:e.language)||"",u=jn().getDocs(c),l=(0,An.Z)("flag-editor-community-link"),s=a.useCallback((function(t){(0,$t.j)($t.U3.LANGUAGE_EXAMPLES_VIEWED,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Wn(e,t,n[t])}))}return e}({language:null===e||void 0===e?void 0:e.language,replId:null===e||void 0===e?void 0:e.id},t)),o(!1)}),[e]);return(0,r.BX)("div",{className:"jsx-761223062c9d62b5 placeholder",children:[(0,r.tZ)(In.Z,{width:"large",isOpen:n,onRequestClose:function(){return s(null)},children:(0,r.tZ)(qn,{onRequestClose:s})}),"Not sure what to do? Run some"," ",(0,r.tZ)("span",{"data-cy":"ws-editor-examples",onClick:function(){o(!0)},className:"jsx-761223062c9d62b5 link",children:"examples"}),u&&(0,r.BX)(r.HY,{children:[", ",l?"":"or ","view"," ",(0,r.tZ)("a",{target:"_blank",href:u,className:"jsx-761223062c9d62b5 link",children:"documentation"})]}),l&&(0,r.BX)(r.HY,{children:[", or check out some"," ",(0,r.tZ)("a",{target:"_blank",href:"/apps/".concat(c),className:"jsx-761223062c9d62b5 link",children:"community repls"})]})," ","(start typing to dismiss)",(0,r.tZ)(i(),{id:"761223062c9d62b5",children:".placeholder.jsx-761223062c9d62b5{font-family:var(--font-family-code);color:var(--foreground-dimmest)}.link.jsx-761223062c9d62b5{cursor:pointer;pointer-events:all;color:var(--accent-primary-default);text-decoration:none}.link.jsx-761223062c9d62b5:hover{text-decoration:underline}"})]})};function Yn(e){var t=e.dom;return b.createPortal((0,r.tZ)($n,{}),t)}var Kn=n(63805),Qn=n(73433);function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tr(e){return(0,r.tZ)(jt.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){er(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M9 14L4 9M4 9L9 4M4 9H16C17.0609 9 18.0783 9.42143 18.8284 10.1716C19.5786 10.9217 20 11.9391 20 13V20",strokeLinecap:"round",strokeLinejoin:"round"})}))}var nr=n(52945);function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function or(e){return function(e){if(Array.isArray(e))return rr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ir=function(e){var t=e.buttons,n=e.onClick,o=e.onUndo,a=(0,An.Z)("flag-mobile-undo");return(0,r.BX)("nav",{className:"jsx-43582faf24448cbd",children:[t.map((function(e){return(0,r.tZ)("button",{onClick:function(t){t.stopPropagation(),t.preventDefault(),n(e)},className:"jsx-43582faf24448cbd",children:void 0!==e.label?e.label:e.value},e.value)})),a&&(0,r.tZ)("button",{onClick:function(e){e.stopPropagation(),e.preventDefault(),o()},className:"jsx-43582faf24448cbd",children:(0,r.tZ)(tr,{})}),(0,r.tZ)(i(),{id:"43582faf24448cbd",children:'nav.jsx-43582faf24448cbd{font-family:Monaco,Menlo,"Ubuntu Mono",Consolas,source-code-pro,monospace;height:48px;background-color:var(--background-root);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}button.jsx-43582faf24448cbd{color:var(--foreground-default);padding:10px;font-family:inherit;font-size:16px;background-color:transparent;border:0 none;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}'})]})},ar=[{value:"{}",cursorOffset:1},{value:"()",cursorOffset:1},{value:'""',cursorOffset:1}],cr=function(e){var t=e.path,n=or(ar).concat([{value:"= ",cursorOffset:0}]);return t.endsWith(".html")&&(n.unshift({value:"<>",cursorOffset:1}),n.unshift({label:"div",value:"<div></div>",cursorOffset:5})),n};function ur(e){var t=e.view,n=e.filePath,o=e.isLoading,i=(0,Qn.Z)(),c=Boolean(window.navigator.userAgent.match(/iPhone|iPad|iPod/i));if(a.useEffect((function(){i&&t&&t.requestMeasure({read:function(){return{cursor:t.coordsAtPos(t.state.selection.main.head),scroller:t.scrollDOM.getBoundingClientRect()}},write:function(e){var n=e.cursor,r=e.scroller;if(n){var o=(n.top+n.bottom)/2,i=(r.top+r.bottom)/2;Math.abs(o-i)>5&&(t.scrollDOM.scrollTop+=o-i+(c?50:0))}}})}),[i,t,c]),!i||o)return null;if(!(0,Kn.isMobile)({tablet:!1}))return null;var u=(0,r.tZ)(ir,{onUndo:function(){t&&(0,nr.Yw)(t)},onClick:function(e){if(t){var n,r=null!==(n=t.state.selection.ranges[0].from)&&void 0!==n?n:0;t.dispatch({changes:{from:r,insert:e.value},selection:{anchor:r+e.cursorOffset}}),t.focus()}},buttons:cr({path:n})});return c?u:(0,r.tZ)(I.Z,{css:[Z.l0.position.fixed,Z.l0.width("100%"),Z.l0.zIndex(100),Z.l0.bottom(0),Z.l0.left(0)],children:u})}var lr=n(52295);function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){sr(e,t,n[t])}))}return e}function dr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function pr(e){var t=e.dom,n=dr(e,["dom"]);return b.createPortal((0,r.tZ)(vr,fr({},n)),t)}function vr(e){var t=e.className,n=e.content;return(0,r.tZ)(I.Z,{css:[Z.l0.maxWidth(400),Z.l0.maxHeight(190),Z.l0.minHeight(33),Z.l0.overflowY("auto"),Z.l0.borderRadius(4),Z.l0.backgroundColor.backgroundDefault],children:(0,r.tZ)(j.Z,{className:t,components:{code:function(e){return(0,r.tZ)(lr.Z,fr({minimal:!0,disableCopy:!0},e))}},children:n})})}var hr=n(49892);function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return mr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yr=x.Py.define();var br=n(89957),wr=n(6529),xr=n(85252);function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e){return e>500?"large":e>350?"medium":"small"}var Cr=(0,I.K)("div");function Or(e){var t=e.view,n=function(){if(!t)throw new Error("Expected view");(0,hr.g)(t),D<=1||P((function(e){if(null===e){var n=t.state.selection.main,r=C.findIndex((function(e){return e.from===n.from&&e.to===n.to}));return-1===r?1:r+1}return e>=D?1:e+1}))},o=function(){if(!t)throw new Error("Expected view");(0,hr.a7)(t),D<=1||P((function(e){if(null===e){var n=t.state.selection.main,r=C.findIndex((function(e){return e.from===n.from&&e.to===n.to}));return-1===r?1:r+1}return e<=1?D||1:e-1}))},i=function(e){var n=e;return!!t&&(0,S.$1)(t,n,"search-panel")},c=Sr(a.useState(!1),2),u=c[0],l=c[1],s=Sr(a.useState(!1),2),f=s[0],d=s[1],p=Sr(a.useState(!1),2),v=p[0],h=p[1],m=Sr(a.useState(""),2),g=m[0],y=m[1],b=Sr(a.useState(""),2),w=b[0],k=b[1],E=Sr(a.useState([]),2),C=E[0],O=E[1],j=Sr(a.useState(null),2),A=j[0],P=j[1],T=a.useRef(new hr.Jb({search:""})),D=C.length,R=a.useCallback((function(e){e.eq(T.current)||(y(e.search),k(e.replace),d(e.caseSensitive),h(e.regexp),T.current=e)}),[]),_=a.useCallback((function(){l(!0)}),[]);!function(e){var t=e.view,n=e.onSearchQuery,r=e.onExpandSearchPanel;a.useEffect((function(){t&&t.dispatch({effects:x.Py.appendConfig.of([S.tk.updateListener.of((function(e){e.transactions.forEach((function(e){e.effects.forEach((function(e){e.is(hr.ql)&&n(e.value),e.is(yr)&&r()}))}))}))])})}),[t,n,r])}({view:t,onSearchQuery:R,onExpandSearchPanel:_}),a.useEffect((function(){if(t){var e=(0,hr.uP)(t.state);y(e.search),k(e.replace),d(e.caseSensitive),h(e.regexp),T.current=e}}),[t]),a.useEffect((function(){if(t){var e=new hr.Jb({search:g,replace:w,caseSensitive:f,regexp:v}),n=T.current;e.eq(n)||(T.current=e,t.dispatch({effects:hr.ql.of(e)}),O(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;if(!e.valid)return[];for(var r=[],o=e.getCursor(t),i=o.next();!i.done&&r.length<n;)r.push(i.value),i=o.next();return r}(e,t.state.doc)),P(null))}}),[t,g,w,f,v]);var N=Sr(a.useState(Er(0)),2),L=N[0],U=N[1],F=(0,xr.Z)((function(e){e.width&&U(Er(e.width))}));if(!t)return null;var B=D>0,M=B?"".concat(A||1," / ").concat(D):null,z=M?8*M.length:null,H=(0,r.BX)(I.Z,{css:[Z.l0.flex.row,Z.l0.align.center,Z.l0.rowWithGap(8)],children:[(0,r.tZ)(wr.Z,{id:"Match case",name:"case",checked:f,onChange:function(){d((function(e){return!e}))}}),(0,r.tZ)(vt.x,{variant:"small",color:f?"default":"dimmer",children:"Match case"}),(0,r.tZ)(wr.Z,{id:"Regexp",name:"re",checked:v,onChange:function(){h((function(e){return!e}))}}),(0,r.tZ)(vt.x,{variant:"small",color:v?"default":"dimmer",children:"Regexp"})]});return(0,r.tZ)(Cr,{ref:F,onKeyDown:function(e){i(e)&&e.preventDefault()},children:(0,r.BX)(Mt.Z,{elevated:!0,css:[Z.l0.rowWithGap(8),Z.l0.px(4),Z.l0.py(8),{borderBottom:"1px solid",borderColor:Z.TV.outlineDimmest}],children:[(0,r.tZ)(I.Z,{css:[Z.l0.center,Z.l0.height(28)],children:(0,r.tZ)(Kt.Z,{alt:u?"Close replace panel":"Show replace panel",onClick:function(){l((function(e){return!e}))},children:(0,r.tZ)(en.Z,{rotate:u?90:0,style:{transition:"200ms ease"}})})}),(0,r.BX)(I.Z,{css:[Z.l0.flex.growAndShrink(1),Z.l0.colWithGap(16)],children:[(0,r.BX)(I.Z,{css:["large"===L?Z.l0.rowWithGap(16):Z.l0.colWithGap(8)],children:[(0,r.BX)(I.Z,{css:[Z.l0.flex.growAndShrink(1),"small"===L?Z.l0.colWithGap(8):[Z.l0.rowWithGap(8),Z.l0.align.center]],children:[(0,r.BX)(I.Z,{css:[Z.l0.flex.growAndShrink(1),Z.l0.position.relative],children:[(0,r.tZ)(br.ZP,{css:[Z.l0.p(4),z&&{paddingRight:z}],placeholder:"Find",value:g,name:"search",onKeyDown:function(e){e.metaKey&&"f"===e.key?e.currentTarget.select():"enter"===e.key.toLowerCase()&&(i(e)||(e.preventDefault(),e.shiftKey?o():n()))},onChange:function(e){y(e.target.value)}}),B?(0,r.tZ)(I.Z,{css:[Z.l0.position.absolute,Z.l0.top(0),Z.l0.right(0),Z.l0.height("100%"),Z.l0.center,Z.l0.pr(4)],children:(0,r.tZ)(vt.x,{variant:"small",color:"dimmest",children:M})}):null]}),(0,r.BX)(I.Z,{css:[Z.l0.rowWithGap(4),Z.l0.align.center],children:[(0,r.tZ)(Kt.Z,{alt:"Previous",onClick:function(){o()},children:(0,r.tZ)(en.Z,{rotate:-90})}),(0,r.tZ)(Kt.Z,{alt:"Next",onClick:function(){n()},children:(0,r.tZ)(en.Z,{rotate:90})}),(0,r.tZ)(xn.ZP,{small:!0,text:"Select all",onClick:function(){(0,hr.i3)(t),t.focus()}})]})]}),H]}),u?(0,r.BX)(I.Z,{css:["small"===L?Z.l0.colWithGap(8):[Z.l0.rowWithGap(8),Z.l0.align.center,{marginRight:"large"===L?162:-19}]],children:[(0,r.tZ)(I.Z,{css:[Z.l0.flex.growAndShrink(1)],children:(0,r.tZ)(br.ZP,{css:[Z.l0.p(4)],placeholder:"Replace",name:"replace",value:w,onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(i(e)||(e.preventDefault(),(0,hr.K9)(t)))},onChange:function(e){k(e.target.value)}})}),(0,r.BX)(I.Z,{css:[Z.l0.rowWithGap(4),Z.l0.align.center],children:[(0,r.tZ)(xn.ZP,{small:!0,text:"Replace",onClick:function(){(0,hr.K9)(t)}}),(0,r.tZ)(xn.ZP,{small:!0,text:"Replace all",onClick:function(){(0,hr.ko)(t)}})]})]}):null]}),(0,r.tZ)(I.Z,{css:[Z.l0.center,Z.l0.height(28)],children:(0,r.tZ)(Kt.Z,{alt:"Close Search Panel",tooltipHidden:!0,onClick:function(){(0,hr.N$)(t)},children:(0,r.tZ)(st.Z,{})})})]})})}function Zr(e){var t=e.dom,n=e.view;return b.createPortal((0,r.tZ)(Or,{view:n}),t)}var jr=n(55982),Ar=n(98647),Ir=n(44215),Pr=n(74125),Tr=n(54098),Dr=n.n(Tr),Rr=n(42650),_r=n(17632),Nr=n(47845);function Lr(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fr(e){return Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fr(e)}function Br(e,t){return!t||"object"!==zr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mr(e,t){return Mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mr(e,t)}var zr=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Hr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fr(e);if(t){var o=Fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Br(this,n)}}var Vr=x.Py.define({map:function(e,t){return e.map(t)}});function Gr(e){var t=e.isLoading,n=e.close,o=(0,a.useState)(!1),i=o[0],c=o[1];return(0,r.BX)(le.Tg,{background:"higher",css:[le.l0.height(50),le.l0.px(4),le.l0.rowWithGap(0),le.l0.justify.spaceBetween,le.l0.align.center,{borderTop:"1px solid",borderBottom:"1px solid",borderColor:le.TV.outlineDimmer}],children:[(0,r.BX)(le.G7,{css:[le.l0.rowWithGap(16),le.l0.align.center],children:[(0,r.tZ)(Rr.Z,{}),(0,r.tZ)(le.h4,{level:3,children:"Look for Errors"}),t?(0,r.tZ)(Yt.Z,{}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(le.xv,{variant:"small",children:"Is this guess useful?"}),i?(0,r.tZ)(le.zx,{disabled:!0,iconLeft:(0,r.tZ)(Nr.Z,{}),onClick:function(){},small:!0,text:"Thanks!"}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(le.zx,{iconLeft:(0,r.tZ)(st.Z,{}),text:"No",onClick:function(){return c(!0)}}),(0,r.tZ)(le.zx,{iconLeft:(0,r.tZ)(kn.Z,{}),text:"Yes",colorway:"positive",onClick:function(){return c(!0)}})]})]})]}),(0,r.BX)(le.G7,{css:[le.l0.rowWithGap(16),le.l0.align.center],children:[(0,r.tZ)("a",{href:"https://blog.replit.com/codex",target:"_blank",css:le.l0.color.foregroundDefault,children:(0,r.tZ)(le.hU,{alt:"Learn more",tooltipDelay:0,tooltipText:"This beta feature uses Codex by OpenAI. Click to learn more.",type:"button",children:(0,r.tZ)(_r.Z,{color:le.TV.foregroundDefault})})}),(0,r.tZ)(le.hU,{alt:"Close",onClick:function(){n()},children:(0,r.tZ)(st.Z,{})})]})]})}var Xr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mr(e,t)}(n,e);var t=Hr(n);function n(e){var r,o=e.close,i=e.isLoading;return Ur(this,n),(r=t.call(this)).isLoading=i,r.close=o,r}return n.prototype.toDOM=function(){var e=document.createElement("div");return b.render((0,r.tZ)(Gr,{isLoading:this.isLoading,close:this.close}),e),e},n}(S.l9),Wr=x.Py.define({map:function(e,t){return e.map(t)}}),Jr=x.QQ.define({create:function(){return S.p.none},update:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t.effects[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;if(c.is(Wr))return c.value}}catch(u){r=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t.docChanged?e.map(t.changes):e},provide:function(e){return S.tk.decorations.from(e)}}),qr=S.lg.fromClass(function(){function e(t){Ur(this,e),this.view=t,this.lastRequestRef=null,this.missedChanges=null}var t=e.prototype;return t.update=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e.transactions[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,c=!0,u=!1,l=void 0;try{for(var s,f=a.effects[Symbol.iterator]();!(c=(s=f.next()).done);c=!0){var d=s.value;if(d.is(Vr))return void this.onLookupRange(d.value,e.state.doc)}}catch(p){u=!0,l=p}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}catch(p){n=!0,r=p}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}e.docChanged&&this.missedChanges&&(this.missedChanges=this.missedChanges.compose(e.changes))},t.onLookupRange=function(e,t){var n,r=this;return(n=f().mark((function n(){var o,i,a,c,u,l,s,d,p,v,h,m,g,y,b,w,k,E,C,O,Z,j,A,I,P;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(o=new Be.f_,i=e.from;i<=e.to;)a=t.lineAt(i),i===e.from&&o.add(a.from,a.from,S.p.widget({widget:new Xr({isLoading:!0,close:function(){r.lastRequestRef=null,r.missedChanges=null,r.view.dispatch({effects:Wr.of(S.p.none)})}}),block:!0})),o.add(a.from,a.from,S.p.line({attributes:{style:"background: "+le.TV.backgroundHigher+";"}})),i=a.to+1;return c=Wr.of(o.finish()),setTimeout((function(){r.view.dispatch({effects:c})})),r.missedChanges=x.as.empty(t.length),u={},r.lastRequestRef=u,n.next=9,Dr()("https://codex-error-highlighting.govindit.repl.co/",{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:r.view.state.doc.sliceString(e.from,e.to)})}).then((function(e){return e.json()}));case 9:if(l=n.sent,u===r.lastRequestRef){n.next=12;break}return n.abrupt("return");case 12:if(s=r.missedChanges,r.lastRequestRef=null,r.missedChanges=null,l.length){n.next=18;break}return r.view.dispatch({effects:Wr.of(S.p.none)}),n.abrupt("return");case 18:for(d=[],p=e.map(s),d.push(S.p.widget({widget:new Xr({isLoading:!1,close:function(){r.lastRequestRef=null,r.missedChanges=null,r.view.dispatch({effects:Wr.of(S.p.none)})}}),block:!0}).range(r.view.state.doc.lineAt(p.from).from)),v=p.from;v<=p.to;)h=r.view.state.doc.lineAt(v),d.push(S.p.line({attributes:{style:"background: "+le.TV.backgroundHigher+";"}}).range(h.from)),v=h.to+1;m=t.lineAt(e.from),g=m.number,y=m.from,b=!0,w=!1,k=void 0,n.prev=24,E=l[Symbol.iterator]();case 26:if(b=(C=E.next()).done){n.next=39;break}if(0!==(O=C.value).weight){n.next=30;break}return n.abrupt("continue",36);case 30:Z=1===O.start.line?e.from-y:0,j=t.line(g+O.start.line-1),A=s.mapPos(j.from+O.start.character-1+Z),I=t.line(g+O.end.line-1),P=s.mapPos(I.from+O.end.character-1+Z),d.push(S.p.mark({attributes:{title:"".concat(Math.floor(O.weight),"% chance of inaccuracy"),style:"background: green; background: hsl(0, 100%, ".concat(Math.max(100-O.weight,20),"%);")}}).range(A,P));case 36:b=!0,n.next=26;break;case 39:n.next=45;break;case 41:n.prev=41,n.t0=n.catch(24),w=!0,k=n.t0;case 45:n.prev=45,n.prev=46,b||null==E.return||E.return();case 48:if(n.prev=48,!w){n.next=51;break}throw k;case 51:return n.finish(48);case 52:return n.finish(45);case 53:r.view.dispatch({effects:Wr.of(Be.Xs.of(d,!0))});case 54:case"end":return n.stop()}}),n,null,[[24,41,45,53],[46,,48,52]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){Lr(i,r,o,a,c,"next",e)}function c(e){Lr(i,r,o,a,c,"throw",e)}a(void 0)}))})()},e}());function $r(e){!function(e){var t=e.view;(0,Ce.Z)({view:t,initialExtension:[qr,Jr]})}({view:e.view})}var Yr=n(13649);function Kr(e){var t=e.activeFile,n=e.view,r=e.event,o=e.clipboardText,i=function(){r||(a.main.empty?n.dispatch({changes:[{from:a.main.from,insert:o}]}):n.dispatch(n.state.replaceSelection(o||"")))};if(t&&"md"===(0,jr.r6)(t)){var a=n.state.selection;if(a.ranges.length>1)i();else if(a.main.from!==a.main.to)if(o&&(0,Yr.Z)(o)){r&&r.preventDefault();var c=n.state.sliceDoc(a.main.from,a.main.to),u="[".concat(c,"](").concat(o,")");n.dispatch({changes:{from:a.main.from,to:a.main.to,insert:u}})}else i();else i()}else i()}function Qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eo(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function to(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){eo(i,r,o,a,c,"next",e)}function c(e){eo(i,r,o,a,c,"throw",e)}a(void 0)}))}}function no(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e){var t=e.view,n=e.filePath,r=(0,p.Z)(n),o=a.useRef(null),i=a.useRef(0),c=(0,u.Z)(),l=c.anchorer,s=c.session,d=c.fs,v=no(a.useState(null),2),h=v[0],m=v[1],y=(0,Hn.Z)(),b=(0,Pr.Z)({filePath:n,replId:y}),w=function(e){var t,n=e.filePath,r=e.replId,o=(0,Tn.$sK)({variables:{replId:r},skip:!n.endsWith(".py")}).data;return"Repl"===(null===o||void 0===o?void 0:o.repl.__typename)&&o.repl.hasExplainCode&&(null===(t=o.currentUser)||void 0===t?void 0:t.hasLookForErrors)&&n.endsWith(".py")}({filePath:n,replId:y}),k=(0,tn.Z)(),E=a.useCallback((function(){m(null)}),[]);a.useEffect((function(){var e=function(e){"Escape"===e.key&&m(null)};if(h)return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[h]),a.useEffect((function(){if(t&&h)return t.scrollDOM.addEventListener("scroll",E),function(){t.scrollDOM.removeEventListener("scroll",E)}}),[t,h,E]);var O=(0,xr.Z)((function(){if(t&&h){var e=t.coordsAtPos(i.current);m((function(t){return e?{x:e.left,y:e.top}:t}))}}),{type:"throttle",wait:25}),Z=a.useCallback(function(){var e=to(f().mark((function e(i){var a,c,u,p,v,h,m,g,y,b,w,x,S,E,O,Z,j;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v=function(e){return h.apply(this,arguments)},h=function(){return(h=to(f().mark((function e(t){var i,c,l,d,p,v,h,m,g;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("Expected client");case 2:return o.current&&r.notify.cancelRequest(o.current),o.current=r.generateId(),i=(0,C.s)(a.doc,u),e.next=7,t(n,i,o.current);case 7:if(c=e.sent,o.current=null,!("error"in c)){e.next=11;break}throw new Error("Something went wrong fetching location: ".concat(c.error.message));case 11:if(l=c.result,!c.cancelled&&l&&0!==l.length){e.next=14;break}return e.abrupt("return");case 14:d=no(l,1),p=d[0],v=p.uri,h=p.range,m=h.start,g=r.documentUriToPath(v),s.updateDeeplink({path:g,line:m.line+1,col:m.character});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},t){e.next=4;break}throw new Error("Expected view");case 4:a=t.state,c=a.selection.main,u=c.head,p=function(){return{path:n,indexStart:c.from,indexEnd:c.empty?Math.min(c.to+1,a.doc.length):c.to,otVersion:d.getOTVersion(n)}},(0,$t.j)($t.U3.EDITOR_CONTEXT_MENU_ACTION_RAN,{action:i}),e.t0=i,e.next=e.t0===fn.Cut?14:e.t0===fn.Copy?18:e.t0===fn.Paste?21:e.t0===fn.JumpToDefinition?34:e.t0===fn.JumpToTypeDefinition?39:e.t0===fn.JumpToImplementation?44:e.t0===fn.FindReferences?49:e.t0===fn.Rename?51:e.t0===fn.SelectAllOccurrences?53:e.t0===fn.CodeActions?61:e.t0===fn.ToggleBreakpoint?62:e.t0===fn.StartThread?65:e.t0===fn.ExplainCode?67:e.t0===fn.LookForErrors?69:e.t0===fn.CopyLinkToPos?71:77;break;case 14:return m=a.doc.sliceString(c.from,c.to),(0,Ar.Z)(m),t.dispatch(a.replaceSelection("")),e.abrupt("break",78);case 18:return g=a.doc.sliceString(c.from,c.to),(0,Ar.Z)(g),e.abrupt("break",78);case 21:return y="",e.prev=22,e.next=25,window.navigator.clipboard.readText();case 25:y=e.sent,e.next=32;break;case 28:return e.prev=28,e.t1=e.catch(22),Ir.kg.error("CodeMirror context menu paste failed",{message:e.t1.message}),e.abrupt("break",78);case 32:return Kr({activeFile:k,view:t,clipboardText:y}),e.abrupt("break",78);case 34:if(r){e.next=36;break}throw new Error("Expected client");case 36:return e.next=38,v(r.request.findDefinitions);case 38:return e.abrupt("break",78);case 39:if(r){e.next=41;break}throw new Error("Expected client");case 41:return e.next=43,v(r.request.findTypeDefinitions);case 43:return e.abrupt("break",78);case 44:if(r){e.next=46;break}throw new Error("Expected client");case 46:return e.next=48,v(r.request.findImplementations);case 48:return e.abrupt("break",78);case 49:return t.dispatch({effects:[we.of(u)]}),e.abrupt("break",78);case 51:return t.dispatch({effects:[ke.of(u)]}),e.abrupt("break",78);case 53:if(!a.selection.main.empty){e.next=58;break}if(b=a.wordAt(u)){e.next=57;break}return e.abrupt("return");case 57:t.dispatch({selection:b});case 58:return(0,hr.tm)(t),t.focus(),e.abrupt("break",78);case 61:return e.abrupt("break",78);case 62:return w=a.doc.lineAt(u),nt(t,w.from),e.abrupt("break",78);case 65:return l.createThread(p()),e.abrupt("break",78);case 67:return l.explainCode(p()),e.abrupt("break",78);case 69:return t.dispatch({effects:Vr.of(t.state.selection.main)}),e.abrupt("break",78);case 71:x=(0,C.s)(a.doc,u),S=x.line,E=x.character,O=window.location.href,Z=O.includes("#")?O.indexOf("#"):O.length,j="".concat(O.slice(0,Z),"#").concat(n,":").concat(S+1,":").concat(E);try{(0,Ar.Z)(window.encodeURI(j))}catch(A){(0,Ar.Z)(j)}return e.abrupt("break",78);case 77:throw new Error("Unexpected action: ".concat(i));case 78:case"end":return e.stop()}}),e,null,[[22,28]])})));return function(t){return e.apply(this,arguments)}}(),[t,r,n,s,l,d]),j=no(a.useState(!1),2),A=j[0],I=j[1];(0,Ce.Z)({view:t,initialExtension:S.tk.updateListener.of((function(e){e.transactions.some((function(e){return e.reconfigured}))&&I("undefined"!==typeof e.view.state.field(rt,!1))}))});var P=g(r),T=a.useMemo((function(){if(!t)return[];var e=[];return P&&(P.isFindDefinitionSupported&&e.push(fn.JumpToDefinition),P.isFindTypeDefinitionSupported&&e.push(fn.JumpToTypeDefinition),P.isFindImplementationSupported&&e.push(fn.JumpToImplementation),(P.isFindDefinitionSupported||P.isFindReferencesSupported)&&e.push(fn.FindReferences),P.isRenameSupported&&e.push(fn.Rename),P.isCodeActionsSupported&&e.push(fn.CodeActions)),e.push(fn.SelectAllOccurrences),e.push(pn),e.push(fn.CopyLinkToPos),A&&e.push(fn.ToggleBreakpoint),e.push(fn.StartThread),w&&e.push(fn.LookForErrors),b&&e.push(fn.ExplainCode),e.push(pn),e.push(fn.Cut),e.push(fn.Copy),window.navigator.clipboard&&"readText"in window.navigator.clipboard&&e.push(fn.Paste),e}),[t,P,A,b]),D=(0,Ce.Z)({view:t});return a.useEffect((function(){if(t){var e=T.filter((function(e){return!hn(e)})).filter((function(e){return"keyboardShortcut"in vn[e]})).filter((function(e){return e!==fn.Cut&&e!==fn.Copy&&e!==fn.Paste})).map((function(e){var t=vn[e].keyboardShortcut,n={key:t.key,preventDefault:!0,run:function(){return Z(e),!0}};return t.altKey&&(n.key="Alt-".concat(n.key)),t.shiftKey&&(n.key="Shift-".concat(n.key)),t.cmdOrCtrlKey&&(n.key="Mod-".concat(n.key)),n}));return t.dispatch({effects:D.reconfigure(S.$f.of(e))}),function(){t.dispatch({effects:D.reconfigure([])})}}}),[t,Z,T,D]),{onAction:Z,actions:T,contextMenuCoords:h,onContextMenu:function(e){if(!(0,Kn.isMobile)({tablet:!1})&&t){e.preventDefault();var r=e.clientX,o=e.clientY,a=t.state.selection.main,c=t.posAtCoords({x:r,y:o}),u=t.state.doc.length,l=null===c?u:c;if(i.current=l,l<a.from||l>a.to){var s=x.jT.cursor(l);t.dispatch({selection:s})}var f=(0,jr.r6)(n);(0,$t.j)($t.U3.EDITOR_CONTEXT_MENU_OPENED,{ext:f}),m({x:r,y:o})}},closeMenu:E,resizeRef:O}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e){var t=e.view,n=e.filePath,r=e.isLoading,o=function(e){var t=e.replId,n=(0,Tn._Lw)({variables:{replId:t}}).data;return"Repl"===(null===n||void 0===n?void 0:n.repl.__typename)?n.repl.deprecatedLanguageConfig:null}({replId:(0,Hn.Z)()}),i=io(a.useState(null),2),c=i[0],u=i[1],l=(0,Ce.Z)({view:t});return a.useEffect((function(){if(t&&o&&!r&&n===o.mainFile){var e=document.createElement("div");return u(e),t.dispatch({effects:l.reconfigure((0,S.W$)(e))}),function(){t.dispatch({effects:l.reconfigure([])}),u(null)}}}),[t,o,n,r,l]),c}var co=n(6119);function uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function so(e){return function(e){if(Array.isArray(e))return uo(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fo=S.tk.baseTheme({".replit-code-anchor":{background:"var(--accent-purple-dimmest)"}}),po=x.Py.define(),vo=x.Py.define(),ho=x.Py.define(),mo=function(e){var t={};return x.QQ.define({create:function(){return[]},update:function(e,t){t.changes.empty||(e=e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lo(e,t,n[t])}))}return e}({},e,{indexStart:t.changes.mapPos(e.indexStart),indexEnd:t.changes.mapPos(e.indexEnd)})})));var n=!0,r=!1,o=void 0;try{for(var i,a=function(t,n){var r=n.value;if(r.is(po))e=r.value;else if(r.is(vo))e=so(e).concat(so(r.value.filter((function(t){return!e.find((function(e){return e.id===t.id}))}))));else if(r.is(ho)){var o=r.value.map((function(e){return e.id}));e=e.filter((function(e){return!o.includes(e.id)}))}else r.is(co.R)&&(e=so(e))},c=t.effects[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)a(0,i)}catch(u){r=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return e},provide:function(n){return[S.tk.decorations.compute([n],(function(e){var t=e.field(n);return S.p.set(t.map((function(e){return t=e.id,n=e.indexStart,r=e.indexEnd,n===r?null:S.p.mark({class:"replit-code-anchor ".concat(t),id:t}).range(n,r);var t,n,r})).filter((function(e){return null!==e})),!0)})),E.hJ.computeN([n],(function(r){return r.field(n).map((function(n){var r,o,i=n.id;return{pos:Math.min(n.indexStart,n.indexEnd),above:!0,create:(r=i,o=function(t){var r=document.createElement("div");r.classList.add("cm-anchor","cm-anchor-".concat(i));var o=document.createElement("div");o.classList.add("cm-anchor-portal"),o.style.position="absolute",r.appendChild(o);var a={id:i,dom:o,getEditorRight:function(){return t.dom.getBoundingClientRect().right},getContent:function(){return t.state.doc.sliceString(n.indexStart,n.indexEnd)}};return e.setAnchorPortal(a),{dom:r,update:function(){e.setAnchorPortal(a)}}},t[r]||(t[r]=o),t[r])}}))}))]}})};var go=n(86578),yo=n(91898),bo=n(90202);function wo(e){var t=e.view,n=e.filePath,r=e.isLoading,o=function(){var e=(0,a.useContext)(yo.Z);if(!e)throw new Error("Expected codemirror state to be in codemirror state context");return e}(),i=(0,Ce.Z)({view:t});(0,a.useEffect)((function(){if(t&&!r){var e,a=o.current.fileMap.get(n);if(a&&t.state.doc.eq(a.doc)){if(t.state.field(nr.cE,!1))throw new Error("History was preconfigured on this view, if you want to use state cache, please make sure history is not already configured for this view");var c=[];a.foldedRanges.between(0,t.state.doc.length,(function(e,t){c.push(bo.SW.of({from:e,to:t}))})),t.dispatch({effects:c,selection:a.selection}),t.scrollDOM.scrollTop=a.scrollTop,e=[nr.cE.init((function(){return a.history})),(0,nr.m8)()]}else e=(0,nr.m8)();t.dispatch({effects:i.reconfigure([e,S.tk.updateListener.of((function(e){o.current.fileMap.set(n,{history:e.state.field(nr.cE,!1),foldedRanges:(0,bo.q2)(e.state),scrollTop:t.scrollDOM.scrollTop,selection:e.state.selection,doc:e.state.doc})}))])});var u=o.current.fileMap.get(n);return function(){u&&(u.scrollTop=t.scrollDOM.scrollTop),t.dispatch({effects:i.reconfigure([])})}}}),[t,n,o,r,i])}var xo=n(37510),ko=/\r\n?|\n/;function So(e){return e.replace(new RegExp(ko,"g"),"\n")}function Eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return e.slice(t,n+1).split(/\r\n/g).length-1}function Co(e,t){var n=t,r=0,o=0;do{o=Eo(e,r,n),r=n,n+=o}while(o);return n}function Oo(e,t){var n=[],r=t;return e.iterChanges((function(e,o,i,a,c){var u=[];i>0&&u.push(Co(r,i)),e<o&&u.push({d:Co(t,o)-Co(t,e)}),c.length&&u.push(c.sliceString(0)),r=(0,xo.nn)(r,u),n=(0,xo.qC)(n,u)})),n}function Zo(e,t){var n=[],r=0,o=0,i=!0,a=!0,c=!1,u=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var f=l.value;if("string"===typeof f){var d=f;if(f.endsWith("\r")&&"\n"===t.slice(r,r+1)&&0===(d=f.slice(0,-1)).length)continue;if(d=So(d),i)n.push({from:o,insert:d});else{var p=n[n.length-1];p.insert=p.insert?p.insert+d:d}i=!1}else if("number"===typeof f){var v=Eo(t,r,r+f);r+=f,o+=f-v,i=!0}else if("object"===typeof f&&"number"===typeof f.d){var h=f.d;if("\r\n"===t.slice(r-1,r+1)&&(o+=1,h-=1),(h-=Eo(t,r,r+f.d))>0)if(i)n.push({from:o,to:o+h});else{var m=n[n.length-1];m.insert&&!m.to?m.to=o+h:m.to&&(m.to+=h)}r+=f.d,o+=h,i=!1}}}catch(g){c=!0,u=g}finally{try{a||null==s.return||s.return()}finally{if(c)throw u}}return n}var jo=x.q6.define();function Ao(e,t){var n=t;return S.tk.updateListener.of((function(t){if(t.docChanged){var r=[],o=!0,i=!1,a=void 0;try{for(var c,u=t.transactions[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,s=Oo(l.changes,n);n=(0,xo.nn)(n,s),l.annotation(x.YW.remote)||l.annotation(jo)||(r=(0,xo.qC)(r,s))}}catch(f){i=!0,a=f}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}r.length&&e(r,n)}}))}var Io=x.QQ.define({create:function(){return 0},update:function(e,t){var n=t.annotation(jo);return n?n.version:e}}),Po=n(57923);function To(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function Do(e){var t=e.view,n=e.fs,r=e.filePath,o=function(e,n){if(!d.current.has(r)&&t){var o=t.state.doc.toString();e===o||(d.current.add(r),Ir.kg.error("Mismatch between otClient and codemirror",{otcrlf:e.indexOf("\r")>-1,ot:e,cm:o,path:r,changeSource:n}))}},i=(0,a.useState)(null),c=i[0],u=i[1],l=(0,Po.Z)(),s=(0,Ce.Z)({view:t}),d=(0,a.useRef)(new Set),p=(0,a.useRef)("");return(0,a.useEffect)((function(){if(t&&n&&r){var e=n.watchOtFile(r,{onChange:function(){var e,t=(e=f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.latestContent,p.current=n;case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){To(i,r,o,a,c,"next",e)}function c(e){To(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()});return e}}),[t,r,n]),(0,a.useEffect)((function(){if(t){var e="",i=n.watchOtFile(r,{onReady:function(n){var i=n.initialContent,a=n.writeOps,c=n.version;t.dispatch({changes:{from:0,to:t.state.doc.length,insert:So(i.toString())},annotations:[x.YW.addToHistory.of(!1),x.YW.remote.of(!0)]}),t.dispatch({effects:s.reconfigure([Io.init((function(){return c})),Ao((function(t,n){e=n,a(t),o(p.current,"CODEMIRROR")}),i.toString())])}),e=i.toString(),u(r)},onChange:function(n){var r=n.ops,i=n.changeSource,a=n.version,c=n.latestContent;t.dispatch(function(e){var t=e.ops,n=e.version,r=e.changeSource;return{changes:Zo(t,e.replitDoc),annotations:[x.YW.remote.of(r===Ze.Fl.Container),x.YW.addToHistory.of(r===Ze.Fl.Local),jo.of({ops:t,version:n,changeSource:r})]}}({ops:r,changeSource:i,version:a,replitDoc:e})),e=c,o(c,i)},onError:function(){t.dispatch({effects:s.reconfigure([])})},onMoveOrDelete:function(){t.dispatch({effects:s.reconfigure([])})}});return function(){i(),t.dispatch({effects:[s.reconfigure([])]}),l.current&&u(null)}}}),[t,r,n,l,s]),{loadedFile:c}}var Ro=n(49337);function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){No(e,t,n[t])}))}return e}function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fo={"#1BC47D":"rgba(27, 196, 125, 0.2)","#EF5533":"rgba(239, 85, 51, 0.2)","#18A0FB":"rgba(24, 160, 251, 0.2)","#FFC700":"rgba(255, 199, 0, 1)","#907CFF":"rgba(144, 124, 255, 0.2)","#00B5CE":"rgba(0, 181, 206, 0.2)","#EE46D3":"rgba(238, 70, 211, 0.2)"};var Bo=x.Py.define(),Mo=x.Py.define(),zo=x.Py.define();function Ho(e){return{pos:e.position,strictSide:!0,above:!0,create:e.createCursorTooltipFunction}}var Vo=x.QQ.define({create:function(){return{}},update:function(e,t){if(!t.changes.empty){var n={},r=!0,o=!1,i=void 0;try{for(var a,c=Object.values(e)[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value;n[u.id]=Lo({},u,{position:t.changes.mapPos(u.position),selectionStart:t.changes.mapPos(u.selectionStart),selectionEnd:t.changes.mapPos(u.selectionEnd)})}}catch(h){o=!0,i=h}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}e=n}var l=!0,s=!1,f=void 0;try{for(var d,p=function(n,r){var o=r.value;if(o.is(co.R)&&(e=Lo({},e)),o.is(Bo)&&o.value.position<=t.newDoc.length&&((e=Lo({},e))[o.value.id]=Lo({},o.value,{createCursorTooltipFunction:function(e){var t=o.value,n=document.createElement("div");n.textContent=t.username,n.style.backgroundColor=t.color.cursor,n.style.color="white",n.classList.add("multiplayer-label");var r=document.createElement("div");r.style.backgroundColor=t.color.cursor,r.classList.add("multiplayer-cursor");var i=document.createElement("div");return i.classList.add("multiplayer-tooltip"),i.appendChild(r),i.appendChild(n),{dom:i,overlap:!0,positioned:function(){r.style.height=e.defaultLineHeight+"px"}}}})),o.is(Mo)&&(e=Lo({},e),o.is(Mo)&&delete e[o.value]),o.is(zo)){e=Lo({},e);var i=!0,a=!1,c=void 0;try{for(var u,l=Object.entries(e)[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var s=Uo(u.value,2),f=s[0];s[1].username===o.value&&delete e[f]}}catch(h){a=!0,c=h}finally{try{i||null==l.return||l.return()}finally{if(a)throw c}}}},v=t.effects[Symbol.iterator]();!(l=(d=v.next()).done);l=!0)p(0,d)}catch(h){s=!0,f=h}finally{try{l||null==v.return||v.return()}finally{if(s)throw f}}return e},provide:function(e){return[E.hJ.computeN([e],(function(t){return Object.values(t.field(e)).map(Ho)})),S.tk.decorations.computeN([e],(function(t){var n=t.field(e);return Object.values(n).map((function(e){var t=e.selectionStart<e.selectionEnd?e.selectionStart:e.selectionEnd,n=e.selectionStart>e.selectionEnd?e.selectionStart:e.selectionEnd;return t===n?null:S.p.set(S.p.mark({attributes:{style:"background-color: ".concat(e.color.selection,"; display: inline-block;")},cursor:e}).range(t,n))})).filter((function(e){return null!==e}))}))]}});function Go(e){return S.tk.updateListener.of((function(t){var n=t.state.selection;n!==t.startState.selection&&(t.transactions.every((function(e){return e.annotation(x.YW.remote)}))||e(n.ranges.map((function(e){var n=t.state.doc.lineAt(e.head);return{position:e.head,line:n.number,column:e.head-n.from+1,selectionStart:e.from,selectionEnd:e.to}})),n.mainIndex))}))}function Xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wo(e){var t=e.view,n=e.presence,r=e.session,o=e.fs,i=e.filePath,c=(0,a.useState)(null),u=c[0],l=c[1],s=(0,Ro.Z)({presence:n}),f=(0,a.useRef)({}),d=(0,Po.Z)();(0,a.useEffect)((function(){var e=s.reduce((function(e,t){return t.username&&t.color?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xo(e,t,n[t])}))}return e}({},e,Xo({},t.username,t.color)):e}),{});f.current=e}),[s]);var p=(0,Ce.Z)({view:t});return(0,a.useEffect)((function(){if(t){var e=n.onUserLeave((function(e){t.dispatch({effects:zo.of(e.username)})})),a=o.watchOtFile(i,{onReady:function(e){var n=e.updateSelections;t.dispatch({effects:p.reconfigure([Vo,Go((function(e,t){n(e);var o=e[t];o&&r.setCursorPosition({column:o.column,lineNumber:o.line,offset:o.position})}))])}),l(i)},onCursor:function(e){var n=function(e){var t,n=e.cursor,r=e.usernameColorsMap,o=null===(t=n.user)||void 0===t?void 0:t.name;if(o){var i,a=n.id,c=n.position,u=n.selectionStart,l=n.selectionEnd,s=r[o];if(s&&a&&"number"===typeof c&&"number"===typeof u&&"number"===typeof l)return Bo.of({id:a,username:o,position:c,color:{cursor:s,selection:(i=s,Fo[i]||"")},selectionStart:u,selectionEnd:l})}}({cursor:e,usernameColorsMap:f.current});n&&t.dispatch({effects:n})},onRemoveCursor:function(e){t.dispatch({effects:Mo.of(e)})},onError:function(){t.dispatch({effects:p.reconfigure([])})},onMoveOrDelete:function(){t.dispatch({effects:p.reconfigure([])})}});return function(){e(),a(),t.dispatch({effects:p.reconfigure([])}),d.current&&l(null)}}}),[t,i,o,n,r,p]),{loadedFile:u}}var Jo=n(39550);function qo(e){var t=e.view,n=e.presence,r=e.session,o=e.fs,i=e.filePath,c=Do({view:t,fs:o,filePath:i}).loadedFile,l=Wo({view:t,fs:o,filePath:i,presence:n,session:r}).loadedFile;!function(e){var t=e.view,n=(0,u.Z)().presence,r=(0,Jo.Z)(),o=(0,Ce.Z)({view:t});a.useEffect((function(){if(r&&t){var e=function(){n.getFollowedUser()&&n.unfollowUser()};return t.dispatch({effects:o.reconfigure(S.tk.domEventHandlers({wheel:e,keydown:e,click:e}))}),function(){t.dispatch({effects:o.reconfigure([])})}}}),[r,t,n,o]);var i=(0,Ce.Z)({view:t});a.useEffect((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t){var n=x.jT.cursor(e);t.dispatch({effects:[S.tk.scrollIntoView(n,{x:"center",y:"center"})]})}};if(t&&r){var n=t.state.field(Vo,!1);if(n){var o=Object.values(n).find((function(e){return e.username===r.username}));o&&e(o.position)}return t.dispatch({effects:i.reconfigure(S.tk.updateListener.of((function(t){var n,o=!0,i=!1,a=void 0;try{for(var c,u=t.transactions[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,s=!0,f=!1,d=void 0;try{for(var p,v=l.effects[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){var h=p.value;h.is(Bo)&&h.value.username===r.username&&(n=h.value)}}catch(m){f=!0,d=m}finally{try{s||null==v.return||v.return()}finally{if(f)throw d}}}}catch(m){i=!0,a=m}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}n&&e(n.position)})))}),function(){t.dispatch({effects:i.reconfigure([])})}}}),[t,r,i])}({view:t});var s=i!==c||i!==l,f=(0,Ce.Z)({view:t});return(0,a.useEffect)((function(){t&&t.dispatch({effects:f.reconfigure([S.tk.editable.of(!s),x.yy.readOnly.of(s)])})}),[t,s,f]),{isLoading:s}}var $o=n(12603),Yo=n(43421),Ko=n(56718);function Qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ni=[{img:"/public/images/kaboomdraw/rect.png",code:"\ndrawRect({\n\tpos: vec2(80, 80),\n\twidth: 120,\n\theight: 80,\n\tcolor: rgb(250, 242, 164),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/triangle.png",code:"\ndrawTriangle({\n\tpos: vec2(100, 100),\n\tp1: vec2(0, -48),\n\tp2: vec2(-60, 48),\n\tp3: vec2(60, 48),\n\tcolor: rgb(164, 250, 204),\n})\n  ".trim()},{img:"/public/images/kaboomdraw/circle.png",code:"\ndrawCircle({\n\tpos: vec2(100, 100),\n\tradius: 48,\n\tcolor: rgb(181, 164, 250),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/ellipse.png",code:"\ndrawEllipse({\n\tpos: vec2(120, 100),\n\tradiusX: 64,\n\tradiusY: 40,\n\tcolor: rgb(164, 209, 250),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/polygon.png",code:"\ndrawPolygon({\n\tpos: vec2(100, 100),\n\tpts: [\n\t\tvec2(0, -48),\n\t\tvec2(-64, 0),\n\t\tvec2(-32, 64),\n\t\tvec2(32, 64),\n\t\tvec2(64, 0),\n\t],\n\tcolor: rgb(250, 164, 226),\n})\n    ".trim()},{img:"/public/images/kaboomdraw/text.png",code:'\ndrawText({\n\ttext: "hi",\n\tpos: vec2(60, 60),\n})\n    '.trim()}],ri=function(e){var t=e.img,n=e.code,o=ti((0,Yo.c)({item:{type:Ko.z.Code,code:n},type:Ko.z.Code}),2)[1];return(0,r.tZ)("img",{ref:o,src:t,css:[Z.l0.p(12),{userDrag:"none",height:"100%",cursor:"pointer",transition:"0.1s transform",":hover":{transform:"scale(1.2)"}}]})},oi=function(){return(0,r.tZ)(I.Z,{css:[Z.l0.flex.row,Z.l0.justify.spaceEvenly,Z.l0.backgroundColor.backgroundHigher,Z.l0.borderRadius(8),Z.l0.width("calc(100% - 32px)"),Z.l0.height("64px"),Z.l0.position.absolute,Z.l0.overflow("scroll"),{zIndex:5,left:16,bottom:16,border:"solid 1px var(--outline-dimmest)"}],children:ni.map((function(e){return(0,r.tZ)(ri,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ei(e,t,n[t])}))}return e}({},e),e.img)}))})},ii=n(11163),ai=n(73345),ci=n(43552),ui=n(14646),li=n(26535),si=n(90002);function fi(e){var t=e.shortcut;return(0,r.tZ)(I.Z,{css:[Z.l0.py(2),Z.l0.px(8),{border:"1px solid ".concat(Z.TV.accentPrimaryDimmer),borderRadius:Z.TV.borderRadius8,textAlign:"center"}],children:(0,r.tZ)(vt.x,{color:"dimmer",children:t})})}var di={id:"CodeMirror",title:"Introducing CodeMirror!",content:function(){var e="1px solid ".concat(Z.TV.accentPrimaryDimmer),t=[{display:"list-item"},Z.l0.py(4)],n=window.navigator.userAgent.includes("Chrome")?"calc(100% - 20px)":"calc(100% - 14px)";return(0,r.BX)(I.Z,{children:[(0,r.tZ)(vt.x,{multiline:!0,children:"You might notice that the editor looks different and feels faster! That's because we've switched from Monaco to CodeMirror 6."}),(0,r.BX)(I.Z,{css:[Z.l0.py(8),Z.l0.my(8),{borderTop:e,borderBottom:e}],children:[(0,r.tZ)(vt.x,{css:[Z.l0.py(8)],children:"What's different:"}),(0,r.BX)(I.Z,{tag:"ul",css:{listStyle:"inside"},children:[(0,r.tZ)(I.Z,{tag:"li",css:t,children:(0,r.tZ)(vt.x,{multiline:!0,children:"Improved Syntax Highlighting and Font"})}),(0,r.tZ)(I.Z,{tag:"li",css:t,children:(0,r.tZ)(vt.x,{multiline:!0,children:'Threads and "Explain Code" have moved to the Context Menu'})}),(0,r.tZ)(I.Z,{tag:"li",css:t,children:(0,r.BX)(I.Z,{css:[{display:"inline-flex",flexDirection:"row",justifyContent:"space-between"},Z.l0.width(n)],children:[(0,r.tZ)(vt.x,{multiline:!0,children:"Improved Context Menu"}),(0,r.tZ)(fi,{shortcut:"Right Click"})]})}),(0,r.tZ)(I.Z,{tag:"li",css:t,children:(0,r.BX)(I.Z,{css:[{display:"inline-flex",flexDirection:"row",justifyContent:"space-between"},Z.l0.width(n)],children:[(0,r.tZ)(vt.x,{multiline:!0,children:"Improved Search Panel"}),(0,r.tZ)(fi,{shortcut:"".concat(Ee.UE.cmdOrCtrlKey," + F")})]})}),(0,r.tZ)(I.Z,{tag:"li",css:t,children:(0,r.BX)(I.Z,{css:[{display:"inline-flex",flexDirection:"row",justifyContent:"space-between"},Z.l0.width(n)],children:[(0,r.tZ)(vt.x,{multiline:!0,children:"Add a new cursor"}),(0,r.tZ)(fi,{shortcut:"".concat(Ee.UE.altKey," + Click")})]})}),(0,r.tZ)(I.Z,{tag:"li",css:t,children:(0,r.BX)(I.Z,{css:[{display:"inline-flex",flexDirection:"row",justifyContent:"space-between"},Z.l0.width(n)],children:[(0,r.tZ)(vt.x,{multiline:!0,children:"Jump to definition"}),(0,r.tZ)(fi,{shortcut:"".concat(Ee.UE.cmdOrCtrlKey," + Click")})]})})]})]}),(0,r.tZ)(vt.x,{multiline:!0,children:"We hope you enjoy a faster and more native coding experience!"}),(0,r.tZ)(I.Z,{css:[Z.l0.pt(8),Z.l0.flex.rowReverse],children:(0,r.tZ)(ai.Co,{text:"Learn More",colorway:"primary",css:[Z.l0.width(96)],href:"https://blog.replit.com/code-editors",target:"_blank"})})]})}};function pi(e){var t=e.children,n=e.element,o=(0,ii.useRouter)(),i=(0,si.X)(),c=(0,ci.Z)("workspace","codemirror-explorers-banner"),u=c.shouldDisplay,l=c.register,s=c.dismiss,f=(0,Tn.AxF)().data,d=null===f||void 0===f?void 0:f.currentUser,p=(null===d||void 0===d?void 0:d.timeCreated)>="2022-02-01",v="/replEnvironment"===o.pathname,h=i&&!i.isDone;return a.useEffect((function(){v&&(p||(h?s():l()))}),[l,v,h,s,p]),u?(0,r.BX)(r.HY,{children:[(0,r.tZ)(ui.w,{targetElement:n}),(0,r.tZ)(li.k,{targetElement:n,activeStep:di,currentStepIndex:0,done:s,goto:function(){},totalSteps:1,disableAnimation:!0}),t]}):(0,r.tZ)(r.HY,{children:t})}var vi=n(62808);function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gi=/vec2\((?<x>-?\b\d+\.?\d*\b)\s*(,\s*(?<y>-?\b\d+\.?\d*\b))?\)/,yi=/rgb\((?<r>\d+)\s*,\s*(?<g>\d+)\s*,\s*(?<b>\d+)\)/,bi={regexp:/-?\b\d+\.?\d*\b/g,cursor:"ew-resize",onDrag:function(e,t,n){var r=Number(e)+n.movementX;isNaN(r)||t(r.toString())}},wi={regexp:/true|false/g,cursor:"pointer",onClick:function(e,t){switch(e){case"true":return t("false");case"false":return t("true")}}},xi={regexp:/vec2\(-?\b\d+\.?\d*\b\s*(,\s*-?\b\d+\.?\d*\b)?\)/g,cursor:"move",onDrag:function(e,t,n){var r,o,i=gi.exec(e),a=Number(null===i||void 0===i||null===(r=i.groups)||void 0===r?void 0:r.x),c=Number(null===i||void 0===i||null===(o=i.groups)||void 0===o?void 0:o.y);isNaN(a)||(isNaN(c)&&(c=a),t("vec2(".concat(a+n.movementX,", ").concat(c+n.movementY,")")))}},ki={regexp:/rgb\(.*\)/g,cursor:"pointer",onClick:function(e,t){var n,r,o,i=yi.exec(e),a=Number(null===i||void 0===i||null===(n=i.groups)||void 0===n?void 0:n.r),c=Number(null===i||void 0===i||null===(r=i.groups)||void 0===r?void 0:r.g),u=Number(null===i||void 0===i||null===(o=i.groups)||void 0===o?void 0:o.b),l=document.createElement("input");l.type="color",isNaN(a+c+u)||(l.value=function(e,t,n){return"#"+e.toString(16)+t.toString(16)+n.toString(16)}(a,c,u)),l.addEventListener("input",(function(e){var n=e.target;if(n.value){var r=mi(function(e){var t=parseInt(e.substring(1),16);return[t>>16&255,t>>8&255,255&t]}(n.value),3),o=r[0],i=r[1],a=r[2];t("rgb(".concat(o,", ").concat(i,", ").concat(a,")"))}})),l.click()}},Si={regexp:/https?:\/\/[^\s)"]+/g,cursor:"pointer",onClick:function(e){(0,Yr.Z)(e)&&window.open(e,"_blank")}};var Ei=n(51739),Ci=n(42166),Oi=n(96076);function Zi(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function ji(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Zi(i,r,o,a,c,"next",e)}function c(e){Zi(i,r,o,a,c,"throw",e)}a(void 0)}))}}var Ai=/_(?<num>\d+)$/;function Ii(e,t){return Pi.apply(this,arguments)}function Pi(){return(Pi=ji(f().mark((function e(t,n){var r,o,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,jr.Il)(n),e.next=3,t.readDir(r||".");case 3:if(!(o=e.sent).error){e.next=6;break}return e.abrupt("return",n);case 6:return a=(i=function(e){if(o.children.find((function(t){return"FILE"===t.type&&t.filename===e}))){var t,n=(0,jr.eb)(e),r=(0,jr.r6)(e),a=n.match(Ai);if(null===a||void 0===a||null===(t=a.groups)||void 0===t?void 0:t.num){var c=Number(a.groups.num);return i("".concat(n.replace(Ai,""),"_").concat(c+1,".").concat(r))}return i("".concat(n,"_2.").concat(r))}return e})((0,jr.UO)(n)),e.abrupt("return",r?r+"/"+a:a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ti(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}var Di=function(){var e,t=(e=f().mark((function e(t,n,r){var o,i,a,c,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=encodeURI(t.name),i=(0,jr.Il)(r),e.next=4,Ii(n,i?i+"/"+o:o);case 4:return a=e.sent,e.next=7,(0,Oi.pV)(t);case 7:return c=e.sent,e.next=10,n.writeFile(a,je.Z.from(c));case 10:return u=(0,jr.eb)(t.name),l=(0,jr.UO)(a),e.abrupt("return","![".concat(u,"](").concat(l,")"));case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ti(i,r,o,a,c,"next",e)}function c(e){Ti(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ri(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e){return Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ni(e)}function Li(e,t){return!t||"object"!==Fi(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ui(e,t){return Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ui(e,t)}var Fi=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Bi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ni(e);if(t){var o=Ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Li(this,n)}}var Mi=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(n,e);var t=Bi(n);function n(e,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this)).src=e,o.pos=r,o}var r=n.prototype;return r.eq=function(e){return this.src===e.src&&this.pos===e.pos},r.toDOM=function(){var e=document.createElement("img");return e.src=this.src,e.dataset.pos=this.pos.toString(),e.style.maxHeight="64px",e.style.maxWidth="256px",e},r.ignoreEvent=function(){return!1},n}(S.l9),zi=/"data:image\/\w+;base64,[^"\s]+"/g,Hi=Number.MAX_VALUE,Vi=S.lg.define((function(e){var t=new S.Y1({regexp:zi,decoration:function(e,t,n){if(void 0===e[0])throw new Error("Failed to match image");var r=e[0].substring(1,e[0].length-1);return S.p.replace({widget:new Mi(r,n)})},maxLength:Hi});return{matcher:t,deco:t.createDeco(e),update:function(e){e.docChanged&&(this.deco=t.updateDeco(e,this.deco))}}}),{decorations:function(e){return e.deco},provide:S.BF.atomicRanges.from((function(e){return e.deco}))});function Gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gi(e,t,n[t])}))}return e}function Wi(e){var t=e.filePath,n=e.onType,o=e.onRun,s=e.autoFocus,f=(0,u.Z)(),d=f.fs,p=f.debuggest,v=f.presence,h=f.session,m=(0,l.Z)(),g=(0,go.Z)({filePath:t,hasExtraPadding:!0,noHistory:!0}),y=g.view,b=g.ref,w=g.dom,k=qo({view:y,presence:v,session:h,fs:d,filePath:t}).isLoading;!function(e){var t=e.view,n=e.isLoading,r=e.autoFocus;a.useEffect((function(){r&&t&&(n||t.focus())}),[t,n,r])}({view:y,autoFocus:s,isLoading:k}),wo({view:y,filePath:t,isLoading:k}),function(e){var t=e.view,n=(0,u.Z)().session;a.useEffect((function(){if(t)return n.onEditorFocused((function(){t.focus()}))}),[n,t])}({view:y});var E=Le({view:y,filePath:t,isLoading:k}),C=E.lspTooltipProps,O=E.hoverTooltipParams,Z=E.renameInputParams,j=E.onRename,A=E.closeRenameInput;!function(e){var t=e.view,n=e.filePath,r=e.isLoading,o=(0,u.Z)().anchorer;(0,Ce.Z)({view:t,initialExtension:[fo,mo(o)]}),a.useEffect((function(){if(!r&&t&&n){var e=!1;o.getAnchors(n).then((function(n){if(e)return!0;t.dispatch({effects:[po.of(n)]})}));var i=o.onAnchorsAdded((function(e){var r=e.filter((function(e){return e.path===n}));t.dispatch({effects:vo.of(r)})})),a=o.onAnchorsRemoved((function(e){t.dispatch({effects:ho.of(e)})}));return function(){e=!0,i(),a()}}}),[r,n,t])}({view:y,filePath:t,fs:d,isLoading:k}),at({view:y,debuggest:p,filePath:t,isLoading:k});var I=ro({view:y,filePath:t}),P=I.onAction,T=I.actions,D=I.contextMenuCoords,R=I.onContextMenu,_=I.closeMenu,N=I.resizeRef,L=ao({view:y,filePath:t,isLoading:k}),U=function(e){var t=e.view,n=gr(a.useState(null),2),r=n[0],o=n[1],i=(0,Ce.Z)({view:t});return a.useEffect((function(){if(t){var e=document.createElement("div");return o(e),t.dispatch({effects:i.reconfigure([(0,hr.yC)({createPanel:function(){return{top:!0,pos:80,dom:e,mount:function(){var t=e.querySelector("[name=search]");t&&(t.focus(),t.select())}}}}),S.$f.of([{win:"Ctrl-h",linux:"Ctrl-h",preventDefault:!0,run:function(){return t.dispatch({effects:yr.of(null)}),(0,hr.nx)(t)}}])])}),function(){t.dispatch({effects:i.reconfigure([])}),o(null)}}}),[t,i]),r}({view:y});!function(e){var t=e.filePath,n=e.view,r=e.isLoading,o=(0,u.Z)().session;a.useEffect((function(){if(n&&!r)return o.onDeeplinkUpdated((function(e){var r=e.path,o=e.line,i=e.col;if(r===t&&o){var a=n.state.doc,c=Math.min(o,a.lines),u=a.line(c),l=u.to,s=u.from,f=i||0,d=Math.min(s+f,l),p=x.jT.cursor(d);n.focus(),n.dispatch({selection:p,scrollIntoView:!0})}}))}),[o,n,t,r])}({filePath:t,view:y,isLoading:k}),function(e){var t=e.view,n=e.onType,r=e.filePath,o=(0,Ce.Z)({view:t});a.useEffect((function(){if(t&&n&&r)return t.dispatch({effects:o.reconfigure(S.tk.updateListener.of((function(e){e.docChanged&&(e.transactions.some((function(e){return e.annotation(x.YW.remote)}))||n((0,jr.r6)(r)))})))}),function(){t.dispatch({effects:o.reconfigure([])})}}),[t,n,r,o])}({view:y,onType:n,filePath:t}),function(e){var t=e.view,n=e.onRun,r=(0,Ce.Z)({view:t});a.useEffect((function(){if(t&&n)return t.dispatch({effects:r.reconfigure(S.$f.of([{key:"Mod-Enter",run:function(){return n(),!0}}]))}),function(){t.dispatch({effects:r.reconfigure([])})}}),[t,n,r])}({view:y,onRun:o}),function(e){var t=e.view,n=(0,Ce.Z)({view:t}),r=(0,$o.xZ)();a.useEffect((function(){if(t){var e=r?[bi,wi,xi,ki,Si]:[];return e.push(Si),t.dispatch({effects:n.reconfigure((0,vi.Z)({rules:e}))}),function(){t.dispatch({effects:n.reconfigure([])})}}}),[t,n,r])}({view:y}),function(e){var t=e.view,n=(0,Ce.Z)({view:t}),r=(0,u.Z)().fs,o=(0,tn.Z)(),i=(0,$o.xZ)();a.useEffect((function(){if(t)return t.dispatch({effects:n.reconfigure(S.tk.domEventHandlers({paste:function(e){var n,a=null===e||void 0===e||null===(n=e.clipboardData)||void 0===n?void 0:n.files,c=function(e){var n=t.state.selection.main.head;t.dispatch({changes:{from:n,insert:e},selection:{anchor:n,head:n+e.length}})};if(a){var u=!0,l=!1,s=void 0;try{for(var f,d=a[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var p=f.value;i?(0,Oi.L0)(p).then((function(e){return c('"'+e+'"')})):(null===o||void 0===o?void 0:o.endsWith(".md"))&&Di(p,r,o).then(c)}}catch(v){l=!0,s=v}finally{try{u||null==d.return||d.return()}finally{if(l)throw s}}}}}))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,o,r,i])}({view:y}),function(e){var t=e.view,n=(0,Ce.Z)({view:t}),r=(0,tn.Z)();a.useEffect((function(){if(t)return t.dispatch({effects:n.reconfigure(S.tk.domEventHandlers({paste:function(e){var n;Kr({activeFile:r,view:t,event:e,clipboardText:null===(n=e.clipboardData)||void 0===n?void 0:n.getData("Text")})}}))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,r])}({view:y}),function(e){var t=e.view,n=(0,Ce.Z)({view:t}),r=(0,$o.f6)();a.useEffect((function(){if(t&&r)return t.dispatch({effects:n.reconfigure(Vi)}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,n,r])}({view:y}),function(e){var t=e.view,n=(0,Ce.Z)({view:t}),r=(0,u.Z)().session;a.useEffect((function(){var e=function(){return r.setIsCommandBarOpen(!0),!0};if(t)return t.dispatch({effects:n.reconfigure(S.$f.of([{key:"Mod-Shift-p",run:e,preventDefault:!0},{key:"F1",run:e,preventDefault:!0}]))}),function(){t.dispatch({effects:n.reconfigure([])})}}),[t,r,n])}({view:y});var F=function(e){var t=e.view,n=(0,u.Z)().fs,r=(0,tn.Z)(),o=(0,$o.xZ)();return _i((0,Ei.L)({accept:[Ko.z.Code,Ci.FILE],drop:function(e,i){if(t){var a=i.getClientOffset(),c=a?t.posAtCoords(a):null;if(null!==c){var u=function(e){t.focus(),t.dispatch({changes:{from:c,insert:e},selection:{anchor:c,head:c+e.length}})};if(e.type===Ko.z.Code)u(e.code);else{var l=!0,s=!1,f=void 0;try{for(var d,p=e.files[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var v=d.value;o?(0,Oi.L0)(v).then((function(e){return u('"'+e+'"')})):(null===r||void 0===r?void 0:r.endsWith(".md"))&&Di(v,n,r).then(u)}}catch(h){s=!0,f=h}finally{try{l||null==p.return||p.return()}finally{if(s)throw f}}}}}}}),2)[1]}({view:y}),B=(0,$o.xZ)();return $r({view:y}),(0,r.tZ)(Vn.xW,{stepId:Gn.H.Editor,children:(0,r.BX)("div",{className:i().dynamic([["e4a1e412fcdf4925",[m?"0 3px 0 3px ".concat(m):"0"]]])+" root",children:[(0,r.tZ)(ur,{view:y,filePath:t,isLoading:k}),(0,r.tZ)(pi,{element:w,children:(0,r.BX)("div",{ref:N,className:i().dynamic([["e4a1e412fcdf4925",[m?"0 3px 0 3px ".concat(m):"0"]]])+" editor",children:[k&&(0,r.tZ)("div",{className:i().dynamic([["e4a1e412fcdf4925",[m?"0 3px 0 3px ".concat(m):"0"]]])+" loader",children:(0,r.tZ)(c.Z,{})}),(0,r.tZ)("div",{ref:function(e){b(e),F(e)},onContextMenu:R,className:i().dynamic([["e4a1e412fcdf4925",[m?"0 3px 0 3px ".concat(m):"0"]]])}),C?(0,r.tZ)(Ct,Xi({},C)):null,D&&y?(0,r.tZ)(gn,{view:y,coords:D,actions:T,closeMenu:_,onAction:P}):null,Z?(0,r.tZ)(Cn,{dom:Z.dom,variable:Z.variable,onRename:j,closeInput:A}):null,L?(0,r.tZ)(Yn,{dom:L}):null,O?(0,r.tZ)(pr,Xi({},O)):null,U?(0,r.tZ)(Zr,{dom:U,view:y}):null]})}),B&&(0,r.tZ)(oi,{}),(0,r.tZ)(i(),{id:"e4a1e412fcdf4925",dynamic:[m?"0 3px 0 3px ".concat(m):"0"],children:".root.__jsx-style-dynamic-selector{position:relative;overflow-y:auto;width:100%;height:100%;font-size:14px;background-color:var(--background-default);z-index:3;-webkit-box-shadow:".concat(m?"0 3px 0 3px ".concat(m):"0",";-moz-box-shadow:").concat(m?"0 3px 0 3px ".concat(m):"0",";box-shadow:").concat(m?"0 3px 0 3px ".concat(m):"0","}.editor.__jsx-style-dynamic-selector{position:relative;overflow-y:auto;width:100%;height:100%;font-size:14px;background-color:var(--background-default)}.editor.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;width:100%;height:100%}.editor.__jsx-style-dynamic-selector>div.__jsx-style-dynamic-selector>.cm-editor{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:100%}.loader.__jsx-style-dynamic-selector{position:absolute;left:0;top:0;height:100%;width:100%;overflow:hidden;z-index:5}")})]})})}},32310:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(34051),o=n.n(r),i=n(35944),a=n(67294),c=n(3606),u=n(82820),l=n(88768),s=n(49337),f=n(39550),d=n(71291);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(e,t,n){var r;if(!e)return[];var o=t(e.getSceneElementsIncludingDeleted()),i=e.getAppState();return(r=n.reduce((function(e,t){var n,r,a;return t.id===(null===(n=i.editingElement)||void 0===n?void 0:n.id)||t.id===(null===(r=i.resizingElement)||void 0===r?void 0:r.id)||t.id===(null===(a=i.draggingElement)||void 0===a?void 0:a.id)||(o[t.id]&&o[t.id].version>t.version?(e.push(o[t.id]),delete o[t.id]):o[t.id]&&o[t.id].version===t.version&&o[t.id].versionNonce!==t.versionNonce?(o[t.id].versionNonce<t.versionNonce?e.push(o[t.id]):e.push(t),delete o[t.id]):(e.push(t),delete o[t.id])),e}),[])).concat.apply(r,v(Object.values(o)))},m=function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n},g=n(54929),y=n(3204);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,c,"next",e)}function c(e){w(i,r,o,a,c,"throw",e)}a(void 0)}))}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function Z(e){var t,r=e.fs,p=e.presence,v=e.broadcast,b=e.filePath,w=(0,a.useState)(void 0),k=w[0],O=w[1],Z=(0,a.useRef)((function(e){return C(e)})),j=(0,a.useRef)((function(e){return-1})),A=(0,a.useRef)((function(e){return{}})),I=(0,a.useRef)({readyPromise:m()}),P=(0,a.useRef)({promise:null});(0,a.useEffect)((function(){Promise.all([n.e(2738),n.e(4474)]).then(n.t.bind(n,74474,23)).then((function(e){Z.current=e.getSyncableElements,j.current=e.getSceneVersion,A.current=e.getElementMap,O(e.default)}))}),[]);var T=function(){return I.current},D=(0,l.K1s)({ssr:!1}),R=D.data,_=D.loading,N=(null===R||void 0===R||null===(t=R.currentUser)||void 0===t?void 0:t.username)||"",L=(0,u.Fg)(),U=(0,s.Z)({presence:p}),F=(0,f.Z)(),B=null===F||void 0===F?void 0:F.color,M=(0,a.useState)(new Map),z=M[0],H=M[1],V=(0,a.useState)(-1),G=V[0],X=V[1];(0,a.useEffect)((function(){function e(){return(e=x(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R&&R.currentUser){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I.current.readyPromise;case 4:t=T().getAppState().collaborators,n=new Map,U.forEach((function(e){var r;if(e.username!==(null===R||void 0===R||null===(r=R.currentUser)||void 0===r?void 0:r.username)){var o=t.get(e.username)||{};n.set(e.username,S({},o,{username:e.username,color:{background:e.color,foreground:e.color}}))}})),T().updateScene({collaborators:n});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[R,U]);var W=function(){var e=x(o().mark((function e(t,n){var r,i,a,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n||(t=t.filter((function(e){return!z.has(e.id)||e.version>z.get(e.id)}))),r=!0,i=!1,a=void 0,e.prev=2,c=t[Symbol.iterator]();!(r=(u=c.next()).done);r=!0)l=u.value,z.set(l.id,l.version),H(new Map(z));e.next=10;break;case 6:e.prev=6,e.t0=e.catch(2),i=!0,a=e.t0;case 10:e.prev=10,e.prev=11,r||null==c.return||c.return();case 13:if(e.prev=13,!i){e.next=16;break}throw a;case 16:return e.finish(13);case 17:return e.finish(10);case 18:v.broadcastMessage({text:JSON.stringify({elements:t,path:b})});case 19:case"end":return e.stop()}}),e,null,[[2,6,10,18],[11,,13,17]])})));return function(t,n){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){if(v){var e=v.onBroadcastReceived((function(e){var t=e.username,n=e.text,r=JSON.parse(n);if(r.path===b)if(r.collaborator&&I.current){var o=T().getAppState().collaborators;o.set(t,S({},o.get(t),r.collaborator,{username:t})),T().updateScene({collaborators:o})}else if(r.elements){var i=h(T(),A.current,r.elements);X(j.current(i)),T().updateScene({elements:i})}}));return function(){e()}}}),[v,b]),(0,a.useEffect)((function(){function e(){return e=x(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&r){e.next=2;break}return e.abrupt("return");case 2:P.current.promise=new Promise(function(){var e=x(o().mark((function e(t){var n,i,a,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=E,e.next=3,Promise.all([r.readFile(b),I.current.readyPromise]);case 3:e.t1=e.sent,n=(0,e.t0)(e.t1,1),"content"in(i=n[0])&&(a=i.content.toString(),c=JSON.parse(a||"{}"),u=T().getAppState(),c.appState=S({},u),c.scrollToContent=!0,t(c));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b,r]);var J=(0,a.useCallback)((0,c.Z)(function(){var e=x(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filter((function(e){return!e.isDeleted})),!b){e.next=4;break}return e.next=4,r.writeFile(b,d.Z.from(JSON.stringify({elements:n})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),350),[b]);return(0,i.tZ)(g.Z,{css:{position:"relative",height:"100%",width:"100%",flex:1,boxShadow:B?"0 3px 0 3px ".concat(B):"none",backgroundColor:y.TV.backgroundDefault,"& .excalidraw [title~=Library]":{display:"none"},"& .excalidraw .App-menu_top":{gridTemplateColumns:"0 auto 1fr !important",gridGap:"none !important"},"& .excalidraw .App-menu_bottom":{transform:"none !important",paddingLeft:"var(--space-4) !important"}},children:k&&!_&&(0,i.tZ)(k,{zenModeEnabled:!0,ref:I,isCollaborating:!0,theme:L===u.V2.replitLight?"light":"dark",initialData:P.current.promise,onPointerUpdate:function(e){var t=e.pointer;if(T().getAppState().collaborators.size>0){var n=T().getAppState().selectedElementIds||{};v.broadcastMessage({text:JSON.stringify({collaborator:{pointer:t,selectedElementIds:n},path:b})})}},onChange:function(e){T().getAppState().collaborators.size>0?function(e){j.current(e)>G&&(G>-1&&W(Z.current(e),!1),X(j.current(e)))}(e):X(j.current(e)),j.current(e)>G&&J(e)},user:{name:N}})})}function j(e){var t=e.fs,n=e.presence,r=e.broadcast,o=e.filePath;return(0,i.tZ)(Z,{fs:t,presence:n,broadcast:r,filePath:o},o)}},22963:function(e,t,n){n.d(t,{Z:function(){return Ce}});var r,o=n(34051),i=n.n(o),a=n(35944),c=n(65988),u=n.n(c),l=n(67294),s=n(46846),f=n(41045),d=n(30617),p=n(40425),v=n(11542),h=n(48507),m=n(37156),g=n(71291),y=n(69987),b=n(89431),w=n(77070),x=n(55877),k=n.n(x),S=n(96076);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){C(i,r,o,a,c,"next",e)}function c(e){C(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function I(){return I=O(i().mark((function e(t){var n,o,a,c,u,l,s,f,d,p,v,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentPath,o=t.overwrite,a=t.fs,c=t.files,u=t.shouldUseFileTransferAPI,l=t.onStart,s=t.onUpload,f=t.onError,d=t.onDone,p=function(){var e=O(i().mark((function e(t){var n,c,l,d,p,v,h,m,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.targetPath,c=t.file,l=t.progress,o){e.next=9;break}return e.next=4,a.stat(n);case 4:if(!e.sent.exists){e.next=9;break}return d={file:c,path:n,error:r.AlreadyExists},f(d),e.abrupt("return",d);case 9:return p=k()(),v=Date.now(),(0,w.j)(w.U3.WS_FILE_UPLOAD_STARTED,{uploadID:p,size:c.size}),h=null,e.prev=13,e.next=16,(0,S.pV)(c);case 16:h=e.sent,e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(13),m={file:c,path:n,error:r.FileRead},f(m),e.abrupt("return",m);case 24:if(y=g.Z.from(h),!u){e.next=30;break}return e.next=28,a.transferFile(n,y,(function(e,t){l.current=t/e}));case 28:e.next=32;break;case 30:return e.next=32,a.writeFile(n,y);case 32:return(0,w.j)(w.U3.WS_UPLOADED_FILE,{uploadID:p,size:c.size,elapsedMillis:Date.now()-v}),s({file:c,path:n}),e.abrupt("return",{path:n,file:c});case 35:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t){return e.apply(this,arguments)}}(),v=c.map((function(e){var t=e.path||e.webkitRelativePath||e.name;return{targetPath:n?n+"/"+t:t,progress:(0,y.u)(0),file:e}})),l(v),e.next=6,Promise.all(v.map(p));case 6:h=e.sent,d({parentPath:n,uploads:h.filter((function(e){return!("error"in e)})),errors:h.reduce((function(e,t){return"error"in t?j(e).concat([t]):e}),[])});case 8:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function P(e){var t=e.fs,n=e.onDone,r=Z(l.useState([]),2),o=r[0],i=r[1],a=l.useRef(n);l.useEffect((function(){a.current=n}),[n]);var c=(0,b.Z)("flag-transfer-files"),u=l.useCallback((function(e){var n=e.parentPath,r=e.files;!function(e){I.apply(this,arguments)}({overwrite:e.overwrite,parentPath:n,files:r.filter(Boolean),fs:t,shouldUseFileTransferAPI:c,onStart:function(e){return i((function(t){return j(t).concat(j(e))}))},onUpload:function(e){i((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onError:function(e){i((function(t){return t.filter((function(t){return t.targetPath!==e.path}))}))},onDone:function(e){a.current&&a.current(e)}})}),[t,i,c]);return{uploadFiles:u,pendingUploads:o}}!function(e){e.AlreadyExists="ALREADY_EXIST",e.FileRead="FILE_READ",e.Network="NETWORK"}(r||(r={}));var T=n(51281),D=n(8996),R=n(58458);function _(e){var t=e.filename,n=e.entityType,r=e.onCancel,o=e.onConfirm;return(0,a.BX)("div",{className:"jsx-51eb3ff7fd210752 content",children:[(0,a.BX)(D.gC,{spacing:4,children:[(0,a.BX)(D.gC,{spacing:1,children:[(0,a.BX)(p.Z,{level:3,children:["Delete ",t,"?"]}),(0,a.BX)(R.Z,{foreground:2,children:["Are you sure you want to delete this ",n,"? This cannot be undone."]})]}),(0,a.BX)(D.Ug,{spacing:1,children:[(0,a.tZ)(T.Z,{autoFocus:!0,onClick:r,children:"Cancel"}),(0,a.BX)(T.Z,{color:"negative",filled:!0,onClick:o,children:["Yes, delete this ",n]})]})]}),(0,a.tZ)(u(),{id:"51eb3ff7fd210752",children:".content.jsx-51eb3ff7fd210752{padding:var(--space-32)}"})]})}var N=n(91510),L=n(64182);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(){var e=(0,d.Z)().session,t=F(l.useState(e.getAreHiddenFilesVisible()),2),n=t[0],r=t[1];return l.useEffect((function(){return r(e.getAreHiddenFilesVisible()),e.onHiddenFileVisibilityToggled(r)}),[e]),n}var M=n(5560),z=n(58864);function H(e){var t=e.onDownloadZip,n=(0,z.y)().uploadFiles,r=l.useRef(null),o=l.useRef(null),i=B(),c=(0,M.Z)(),s=(0,d.Z)().session,f=l.useMemo((function(){if("undefined"===typeof document)return[];var e=document.createElement("input"),t="webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e,n=[L.s.UploadFile];return t&&n.push(L.s.UploadFolder),n.push(L.s.DownloadZip),n.push(i?L.s.HideHiddenFiles:L.s.ShowHiddenFiles),n}),[i]);return(0,a.BX)(a.HY,{children:[(0,a.tZ)("input",{ref:r,type:"file",onChange:function(e){var t=e.target.files;t&&n({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,a.tZ)("input",{ref:o,type:"file",onChange:function(e){var t=e.target.files;t&&n({files:Array.from(t)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,a.tZ)(L.Z,{actions:f,onAction:function(e){switch(e){case L.s.UploadFile:if(!r.current)return;return r.current.click(),void(0,N.Z)({replId:c,action:"upload"});case L.s.UploadFolder:if(!o.current)return;return o.current.click(),void(0,N.Z)({replId:c,action:"upload"});case L.s.DownloadZip:return t(),void(0,N.Z)({replId:c,action:"download"});case L.s.ShowHiddenFiles:return void s.setAreHiddenFilesVisible(!0);case L.s.HideHiddenFiles:s.setAreHiddenFilesVisible(!1)}}}),(0,a.tZ)(u(),{id:"2ff4f6cb1b2dc3a5",children:"input.jsx-2ff4f6cb1b2dc3a5{display:none}"})]})}var V=n(95694);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e){return e/1024/1024}function J(e){var t,n,r,o,i,c,u,s,f,p,v=e.callToAction,h=(0,d.Z)().session,m=X(l.useState(h.getResourceMonitoringState()),2),g=m[0],y=m[1];return l.useEffect((function(){return h.onResourceMonitoringStateChanged((function(e){y(e)}))}),[h,y]),(0,a.tZ)(V.G7,{css:[V.l0.p(8),V.l0.backgroundColor.backgroundDefault,{borderTop:"1px solid ".concat(V.TV.backgroundHigher)}],children:(0,a.tZ)(V.w3,{callToAction:v,cpuTotal:100,cpuCurrent:null!==(c=null===g||void 0===g||null===(t=g.utilization)||void 0===t?void 0:t.cpuUtilPercent)&&void 0!==c?c:0,ramTotal:W(null!==(u=null===g||void 0===g||null===(n=g.utilization)||void 0===n?void 0:n.memoryLimitBytes)&&void 0!==u?u:0),ramCurrent:W(null!==(s=null===g||void 0===g||null===(r=g.utilization)||void 0===r?void 0:r.memoryUsageBytes)&&void 0!==s?s:0),diskTotal:W(null!==(f=null===g||void 0===g||null===(o=g.utilization)||void 0===o?void 0:o.storageTotalBytes)&&void 0!==f?f:0),diskCurrent:W(null!==(p=null===g||void 0===g||null===(i=g.utilization)||void 0===i?void 0:i.storageUsedBytes)&&void 0!==p?p:0)})})}var q=n(45193),$=n(93226),Y=n(38880),K=n(49602),Q=n(7477),ee=n(74627),te=n(93577),ne=n(88768),re=n(44660),oe=n(26967),ie=n(90361),ae=n(81700),ce=n.n(ae),ue=n(57923);function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fe=n(55982);function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pe(e,t,n[t])}))}return e}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var me=/\(copy\)( \d+)?$/,ge=/\d+$/;function ye(e,t){for(var n=(0,fe.r6)(e),r=(0,fe.eb)(e),o=me.test(r)?e:"".concat(r," (copy)").concat(n.length>0?".".concat(n):""),i=1;i<=t.size;i++){if(!t.has(o))return o;var a=(0,fe.eb)(o),c=a.split(" ");ge.test(a)&&c.pop(),o="".concat(c.join(" ")," ").concat(i),n.length>0&&(o+=".".concat(n))}return o}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ke(i,r,o,a,c,"next",e)}function c(e){ke(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e){var t=(0,Y.Z)().showError,n=(0,M.Z)(),o=Ee(l.useState(null),2),c=o[0],g=o[1],y=(0,b.Z)("flag-monitor-repl-resources"),w=(0,d.Z)(),x=w.session,k=w.presence,S=w.fs,E=function(){var e=(0,d.Z)().dotReplit,t=(0,ue.Z)(),n=se(l.useState([]),2),r=n[0],o=n[1];return l.useEffect((function(){return e.watch((function(e){t.current&&(e.error?e.error===ie.Y.NotFound&&o([]):e.config.hidden?o(e.config.hidden.map((function(e){return ce()(e,{extended:!0,globstar:!0})}))):o([]))}))}),[e]),r}(),C=function(){var e=(0,d.Z)().dotReplit,t=(0,ue.Z)(),n=we(l.useState(null),2),r=n[0],o=n[1];return l.useEffect((function(){return e.watch((function(e){var n;t.current&&(e.error?e.error===ie.Y.NotFound&&o(null):o(null!==(n=e.config.entrypoint)&&void 0!==n?n:null))}))}),[e]),r}(),O=Ee(l.useState(null),2),Z=O[0],j=O[1],A=(0,te.Z)(),I=B(),R=function(e){var t=he(l.useState(null),2),n=t[0],r=t[1],o=he(l.useState(null),2),i=o[0],a=o[1];return l.useEffect((function(){if(i){var t=!1;return"rename"===i.type?(i.fileType===s.Tv.File?e.moveFile(i.path,i.to):e.moveDir(i.path,i.to)).then((function(e){t||(a(null),e.error&&r(e.error))})):(i.fileType===s.Tv.File?e.deleteFile(i.path):e.deleteDir(i.path)).then((function(e){t||(a(null),e.error&&r(e.error))})),function(){t=!0}}r(null)}),[i,e]),{renameNode:function(e){return a(ve({},e,{type:"rename"}))},deleteNode:function(e){return a(ve({},e,{type:"delete"}))},currentOp:i,error:n}}(S),L=R.renameNode,U=R.deleteNode,F=R.currentOp,G=R.error;l.useEffect((function(){G&&t("Something went wrong trying to move or remove a file.")}),[G,t]);var X=(0,ne.aEG)({variables:{replId:n}}).data,W="Repl"===(null===X||void 0===X?void 0:X.repl.__typename)?X.repl:void 0,ae=W?W.url:void 0,le=function(e){var t;if(!e)return V.Jd.Nothing;var n="Repl"===(null===e||void 0===e?void 0:e.repl.__typename)?e.repl:void 0,r=(null===e||void 0===e?void 0:e.currentUser)?e.currentUser:void 0;if(void 0===n||void 0===r)return V.Jd.Nothing;if("User"===(null===(t=n.owner)||void 0===t?void 0:t.__typename)){var o,i;if(r.id!==(null===(o=n.owner)||void 0===o?void 0:o.id))return V.Jd.Nothing;if(!(null===(i=r.capabilities)||void 0===i?void 0:i.canBoost))return V.Jd.Upgrade;if(!n.isBoosted)return V.Jd.Boost}return V.Jd.Nothing}(X),de="Repl"===(null===X||void 0===X?void 0:X.repl.__typename)?X.repl.language:void 0,pe="Repl"===(null===X||void 0===X?void 0:X.repl.__typename)&&(X.repl.isProjectFork||X.repl.isModelSolution||X.repl.isModelSolutionFork),me=l.useCallback((function(){var e=(ae||window.location.pathname)+".zip";window.open(e,"_blank")}),[ae]),ge=l.useCallback(function(){var e=Se(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(t),!t||!Z){e.next=6;break}return e.next=4,S.stat(Z);case 4:e.sent.exists||j(A||null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A,Z,S]),be=Ee(l.useState(null),2),xe=be[0],ke=be[1];l.useEffect((function(){A!==Z&&j(A)}),[A]);var Ce=P({onDone:function(e){var n=e.parentPath,o=e.errors;if(o.length){var i=o.filter((function(e){return e.error===r.AlreadyExists}));i.length&&ke({parentPath:n,errors:i});var a=o.filter((function(e){return e.error!==r.AlreadyExists}));a.length&&t("There was an error uploading: ".concat(a.map((function(e){return e.path})).join(", ")))}},fs:S}),Oe=Ce.uploadFiles,Ze=Ce.pendingUploads,je=Ee(l.useState(null),2),Ae=je[0],Ie=je[1],Pe=Ee(l.useState(null),2),Te=Pe[0],De=Pe[1];return(0,a.tZ)(z.i.Provider,{value:{fs:S,activePath:Z,pendingFileType:c,setPendingFileType:ge,pendingUploads:Ze,uploadFiles:Oe,getNodeType:function(){var e=Se(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.readFile(t);case 2:return n=e.sent,e.abrupt("return",n.error===s.Df.IsDirectory?s.Tv.Directory:s.Tv.File);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),transformChildren:de?(0,K.Z)({language:de,entrypointFile:C,shouldHideHiddenFiles:!I,hiddenFiles:E,isProjectFork:pe}):void 0,downloadFile:function(){var e=Se(i().mark((function e(n,r){var o,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.readFile(n);case 2:if(!(o=e.sent).error){e.next=6;break}return t(o.error),e.abrupt("return");case 6:a=(0,fe.yC)(n),(c=document.createElement("a")).setAttribute("href","data:".concat(a,";base64,").concat(o.content.toString("base64"))),c.setAttribute("download",r),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),currentRenamePath:Ae,setCurrentRenamePath:Ie,pendingDelete:Te,setPendingDelete:De,renameNode:L,deleteNode:U,currentOp:F,nodeOpError:G,overwriteNode:function(){var e=Se(i().mark((function e(n,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.type===s.Tv.Directory?S.deleteDir:S.deleteFile,e.next=3,o(r.path);case 3:if(!e.sent.error){e.next=7;break}return t("Something went wrong trying to move: ".concat(n)),e.abrupt("return");case 7:L({path:n,fileType:r.type,to:r.path});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),duplicateFile:function(){var e=Se(i().mark((function e(n,r){var o,a,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=ye((0,fe.UO)(n),new Set(r)),a=(0,fe.Il)(n),c=a?"".concat(a,"/").concat(o):o,e.next=5,S.copyFile(n,c);case 5:if(!(u=e.sent).error){e.next=9;break}return t(u.error),e.abrupt("return");case 9:Ie(c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},children:(0,a.tZ)(m.Z,{children:(0,a.tZ)(oe.xW,{stepId:re.H.Sidepane,children:(0,a.BX)("div",{className:u().dynamic([["ef696de586867faf",[e.minHeight?e.minHeight:"auto"]]])+" filetree",children:[(0,a.BX)(D.Ug,{align:"center",wrap:"nowrap",spacing:0,className:"filetree-header",children:[(0,a.tZ)("div",{className:u().dynamic([["ef696de586867faf",[e.minHeight?e.minHeight:"auto"]]])+" heading",children:(0,a.tZ)(p.Z,{level:4,children:"Files"})}),(0,a.tZ)(T.Z,{border:!1,Icon:Q.Z,className:"add-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)",onClick:function(){(0,N.Z)({replId:n,action:"create",source:"filetree"}),ge(s.Tv.File)},"aria-label":"Add file","data-microtip-position":"bottom",role:"tooltip"}),(0,a.tZ)("div",{className:u().dynamic([["ef696de586867faf",[e.minHeight?e.minHeight:"auto"]]])+" filetree-action-separator"}),(0,a.tZ)(T.Z,{border:!1,Icon:ee.Z,className:"add-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)",onClick:function(){(0,N.Z)({replId:n,action:"create",source:"filetree"}),ge(s.Tv.Directory)},"aria-label":"Add folder","data-microtip-position":"bottom",role:"tooltip"}),(0,a.tZ)(H,{onDownloadZip:me})]}),(0,a.tZ)(v.Z,{height:1}),(0,a.tZ)(h.Z,{siblings:[],onClick:function(){return null},onNodeClick:function(e){var t=e.path,r=e.type,o=e.newTab;(j(t),r!==s.Tv.Directory)&&((0,N.Z)(o?{replId:n,action:"newTab",source:"filetree"}:{replId:n,action:"select",source:"filetree"}),x.openFile(t,{newTab:o}),k.getFollowedUser()&&k.unfollowUser())},path:f.Q}),y?(0,a.tZ)(J,{callToAction:le}):null,(0,a.tZ)(q.Z,{isOpen:Boolean(xe),onRequestClose:function(){return ke(null)},children:xe?(0,a.tZ)($.Z,{paths:xe.errors.map((function(e){return e.path})),onCancel:function(){return ke(null)},onConfirm:function(){Oe({overwrite:!0,parentPath:xe.parentPath,files:xe.errors.map((function(e){return e.file}))}),ke(null)}}):null}),(0,a.tZ)(q.Z,{isOpen:Boolean(Te),onRequestClose:function(){return De(null)},children:Te?(0,a.tZ)(_,{filename:Te.path,entityType:Te.type===s.Tv.File?"file":"folder",onCancel:function(){return De(null)},onConfirm:function(){De(null),U({fileType:Te.type,path:Te.path})}}):null}),(0,a.tZ)(u(),{id:"ef696de586867faf",dynamic:[e.minHeight?e.minHeight:"auto"],children:".filetree.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;overflow:hidden;-webkit-border-top-right-radius:var(--border-radius-4);-moz-border-radius-topright:var(--border-radius-4);border-top-right-radius:var(--border-radius-4);-webkit-border-bottom-right-radius:var(--border-radius-4);-moz-border-radius-bottomright:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);background-color:var(--background-default);min-height:".concat(e.minHeight?e.minHeight:"auto","}.filetree.__jsx-style-dynamic-selector .filetree-header{padding:var(--space-8);background-color:var(--background-default);position:-webkit-sticky;position:sticky;top:0;z-index:1}.filetree-action-separator.__jsx-style-dynamic-selector{height:6px;width:0;border-right:1px solid var(--foreground-dimmest)}.add-button:hover{color:var(--foreground-default)!important}.heading.__jsx-style-dynamic-selector{margin-right:auto}")})]})})})})}},97811:function(e,t,n){n.d(t,{Z:function(){return me}});var r=n(35944),o=n(96544),i=n(65988),a=n.n(i),c=n(67294),u=n(94184),l=n.n(u),s=n(35060),f=n(94157),d=n(50553),p=n(30617),v=n(51281),h=n(57923),m=n(43552),g=n(34051),y=n.n(g),b=n(77070);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,c,"next",e)}function c(e){x(i,r,o,a,c,"throw",e)}a(void 0)}))}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){return t.some((function(t){var n,r;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())===(null===(r=e.name)||void 0===r?void 0:r.toLowerCase())}))}var C=n(40802),O=n(90652);function Z(e){var t=e.searchPackagesFn,n=e.query,r=e.packagerType,o=(0,c.useState)([]),i=o[0],a=o[1],u=(0,c.useState)(),l=u[0],s=u[1],f=(0,c.useState)(!1),d=f[0],p=f[1],v=(0,O.Z)(n,400);return(0,c.useEffect)((function(){if(s(null),""===v)return p(!1),void a([]);p(!0),(0,b.j)(b.U3.PACKAGES_SEARCHED,{query:v,packagerType:r});var e=!1;return t(v).then((function(t){e||a(t)})).catch((function(t){C.Tb(t),e||s(t)})).finally((function(){e||p(!1)})),function(){e=!0}}),[t,v]),{searchResults:i,isLoading:d,error:l}}var j=n(88503);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e){var t=e.combobox,n=e.inputValue,o=e.setInputValue,i=e.isLoading,u=e.isDisplayingInstalledPackages,s=T(c.useState(!1),2),f=s[0],d=s[1];return(0,r.BX)("div",P({},t.getComboboxProps(),{className:"jsx-2d4a219fe90c6295 "+(l()("pkgsearch-search-bar",{focused:f})||""),children:[(0,r.tZ)("input",P({},t.getInputProps({type:"text",placeholder:"search to install packages",value:n,onFocus:function(){d(!0)},onBlur:function(){d(!1)},onChange:function(e){o(e.currentTarget.value)},autoFocus:!0}),{className:"jsx-2d4a219fe90c6295"})),(0,r.tZ)("div",{className:"jsx-2d4a219fe90c6295 pkgsearch-search-bar-icon",children:(0,r.tZ)(R,{onXIcon:function(){return o("")},isDisplayingInstalledPackages:u,isSearchLoading:i})}),(0,r.tZ)(a(),{id:"2d4a219fe90c6295",children:".pkgsearch-search-bar.jsx-2d4a219fe90c6295{width:-webkit-calc(100% - 24px);width:-moz-calc(100% - 24px);width:calc(100% - 24px);margin:0 12px 12px 12px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid var(--foreground-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.pkgsearch-search-bar.focused.jsx-2d4a219fe90c6295{border-color:var(--accent-primary-default)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295::-webkit-input-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295:-moz-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295::-moz-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295:-ms-input-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295::-ms-input-placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295::placeholder{color:var(--foreground-dimmer)}.pkgsearch-search-bar.jsx-2d4a219fe90c6295 input.jsx-2d4a219fe90c6295{padding:var(--space-8);font-size:var(--font-size-default);border:0;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;outline:none;background-color:transparent;color:var(--foreground-default)}.pkgsearch-search-bar-icon.jsx-2d4a219fe90c6295{padding-right:var(--space-8);margin-right:8px;width:14px;height:14px;vertical-align:middle}"})]}))}function R(e){var t=e.isDisplayingInstalledPackages,n=e.isSearchLoading,o=e.onXIcon;return n?(0,r.BX)("div",{className:"jsx-72a78eaf553adb92",children:[(0,r.tZ)("div",{className:"jsx-72a78eaf553adb92 pkgsearch-search-loading"}),(0,r.tZ)(a(),{id:"72a78eaf553adb92",children:".pkgsearch-search-loading.jsx-72a78eaf553adb92{display:block;width:14px!important;height:14px!important;background-image:url(/public/images/loading_dots.gif);background-position:center center;background-repeat:no-repeat;-webkit-background-size:contain;-moz-background-size:contain;-o-background-size:contain;background-size:contain}"})]}):t?(0,r.tZ)(j.Z,{color:"var(--foreground-dimmer)",style:{display:"block"}}):(0,r.BX)("div",{onClick:o,className:"jsx-a8c1e8780f7b9ee0",children:[(0,r.tZ)(s.Z,{color:"var(--foreground-dimmer)",style:{display:"block"}}),(0,r.tZ)(a(),{id:"a8c1e8780f7b9ee0",children:"div.jsx-a8c1e8780f7b9ee0{cursor:pointer}"})]})}var _=n(94590),N=n(58375),L=n(1517);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){var t=e.focused,n=e.searching,o=e.onActionClick,i=e.actionAltText,u=e.isAlreadyInstalled,s=e.isPackagerRunning,f=e.isIconLoading,p=e.statusComponent,h=e.itemName,m=e.itemDescription,g=void 0===m?"This package has no description.":m,y=e.itemVersion,b=e.itemHomepageURL,w=e.itemLicense,x=e.itemAuthor,k=e.itemDependencies,S=F(c.useState(!1),2),E=S[0],C=S[1];return(0,r.BX)("div",{className:"jsx-209430e794998c42 "+(l()("pkgsearch-details",t&&"pkgsearch-details-hover")||""),children:[(0,r.BX)("div",{className:"jsx-209430e794998c42 pkgsearch-details-header",children:[(0,r.BX)("div",{onClick:function(){return C(!E)},className:"jsx-209430e794998c42 pkgsearch-details-header-title",children:[(0,r.tZ)("div",{className:"jsx-209430e794998c42 pkgsearch-details-libname",children:h}),y&&!E&&!n&&(0,r.tZ)("div",{className:"jsx-209430e794998c42 pkgsearch-details-header-version",children:y}),E&&(0,r.tZ)(v.Z,{border:!1,className:"collapse",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)","aria-label":"Collapse","data-microtip-position":"bottom",role:"tooltip",onClick:function(){return C(!E)},children:(0,r.tZ)(d.Z,{})})]}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 pkgsearch-details-cta",children:(0,r.tZ)(v.Z,{border:!1,"aria-label":i,className:"add-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)","data-microtip-position":"bottom-left",role:"tooltip",onClick:function(e){e.currentTarget.blur(),o()},children:(0,r.tZ)(M,{isAlreadyInstalled:u,isPackagerRunning:s,isIconLoading:f})})})]}),p,(0,r.BX)("div",{className:"jsx-209430e794998c42 pkgsearch-details-metadata",children:[(0,r.BX)("div",{onClick:function(){n&&!E&&C(!0)},className:"jsx-209430e794998c42 "+("details-meta-item "+(E?"":"closed ")+(n?"show-in-search ":"")||0),children:[y&&(0,r.BX)("div",{className:"jsx-209430e794998c42 label",children:["version ",y]}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:s&&!g?"loading...":g})]}),b&&(0,r.BX)("div",{className:"jsx-209430e794998c42 "+("details-meta-item "+(E?"":"closed ")||0),children:[(0,r.tZ)("div",{className:"jsx-209430e794998c42 label",children:"Website"}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:(0,r.tZ)("a",{href:b,rel:"noreferer noopener",target:"_blank",className:"jsx-209430e794998c42",children:b})})]}),w&&(0,r.BX)("div",{className:"jsx-209430e794998c42 "+("details-meta-item "+(E?"":"closed ")||0),children:[(0,r.tZ)("div",{className:"jsx-209430e794998c42 label",children:"License"}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:w})]}),x&&(0,r.BX)("div",{className:"jsx-209430e794998c42 "+("details-meta-item "+(E?"":"closed ")||0),children:[(0,r.tZ)("div",{className:"jsx-209430e794998c42 label",children:"Author"}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:x})]}),k&&k.length>0?(0,r.BX)("div",{className:"jsx-209430e794998c42 "+("details-meta-item pkgsearch-details-deps"+(E?"":"closed ")||0),children:[(0,r.BX)("div",{className:"jsx-209430e794998c42 label",children:[k.length," dependencies"]}),(0,r.tZ)("div",{className:"jsx-209430e794998c42 value",children:(0,r.tZ)("ul",{className:"jsx-209430e794998c42 pkgsearch-details-deps-list",children:k.map((function(e){return(0,r.tZ)("li",{className:"jsx-209430e794998c42",children:e},e||"")}))})})]}):null]}),(0,r.tZ)(a(),{id:"209430e794998c42",children:".pkgsearch-details.jsx-209430e794998c42{padding:var(--space-8)var(--space-8)var(--space-8)12px;height:100%;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;overflow:visible;color:var(--foreground-dimmer);cursor:pointer;border-top:1px solid var(--background-highest);position:relative}.pkgsearch-details-hover.jsx-209430e794998c42{z-index:99}.pkgsearch-details-header.jsx-209430e794998c42{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pkgsearch-details-header-title.jsx-209430e794998c42{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:2;-webkit-flex-grow:2;-moz-box-flex:2;-ms-flex-positive:2;flex-grow:2;height:32px;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.pkgsearch-details-libname.jsx-209430e794998c42{color:var(--foreground-default);font-size:var(--font-size-small);font-weight:var(--font-weight-medium);word-wrap:break-word}.pkgsearch-details-header-version.jsx-209430e794998c42{padding-left:4px;vertical-align:text-bottom;color:var(--foreground-dimmer);font-size:var(--font-size-small)}.pkgsearch-details-metadata.jsx-209430e794998c42:not(:empty){}.details-meta-item.jsx-209430e794998c42{padding:var(--space-8)0;width:100%}.details-meta-item.closed.jsx-209430e794998c42{display:none}.details-meta-item.closed.show-in-search.jsx-209430e794998c42{display:block;padding:var(--space-8)0}.details-meta-item.jsx-209430e794998c42 .label.jsx-209430e794998c42{margin-bottom:4px;color:var(--foreground-dimmer);font-size:var(--font-size-small)}.details-meta-item.jsx-209430e794998c42 .value.jsx-209430e794998c42{line-height:20px;word-wrap:break-word;font-size:var(--font-size-default);color:var(--foreground-default);overflow:hidden}.pkgsearch-details-deps-list.jsx-209430e794998c42{list-style:none}.pkgsearch-search-result-li.jsx-209430e794998c42{overflow:visible;position:relative;z-index:99}"})]})}function M(e){var t=e.isPackagerRunning,n=e.isAlreadyInstalled;return e.isIconLoading?(0,r.BX)("div",{className:"jsx-465bfe593a07b572 loadingIconRotate",children:[(0,r.tZ)(L.Z,{}),(0,r.tZ)(a(),{id:"465bfe593a07b572",children:".loadingIconRotate.jsx-465bfe593a07b572{-webkit-animation:rotate 1s linear infinite;-moz-animation:rotate 1s linear infinite;-o-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite}@keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):n?t?(0,r.tZ)(N.Z,{color:"var(--foreground-dimmest)"}):(0,r.tZ)(N.Z,{}):t?(0,r.tZ)(_.Z,{color:"var(--foreground-dimmest)"}):(0,r.tZ)(_.Z,{})}var z=n(88942),H=n(11935),V=n(54929),G=n(3204);function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}function q(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){var t=e.filesAffected,n=$(c.useState(""),2),o=n[0],i=n[1],u=(0,p.Z)(),l=u.packager,s=u.session,d=function(e){var t=e.packager,n=S(c.useState(!1),2),r=n[0],o=n[1],i=S(c.useState(!1),2),a=i[0],u=i[1],l=S(c.useState("package name"),2),s=l[0],f=l[1],d=S(c.useState([]),2),p=d[0],v=d[1];c.useEffect((function(){o(!0);var e=!1;return t.listSpecfile().then((function(t){e||(t.error?v([]):t.packages&&v(t.packages),o(!1))})),function(){e=!0}}),[t]);var h=c.useCallback(function(){var e=k(y().mark((function e(n){var i,a,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:if((0,b.j)(b.U3.PACKAGES_INSTALLING,{package:n.name}),n.name){e.next=5;break}throw new Error("Package has no name");case 5:if(!E(n,p)){e.next=7;break}return e.abrupt("return");case 7:return o(!0),e.next=10,t.addPackages([{name:n.name}]);case 10:return e.next=12,t.listSpecfile();case 12:i=e.sent,a=i.packages,c=i.error,a&&v(a),c&&v([]),o(!1);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,p,r]),m=c.useCallback(function(){var e=k(y().mark((function e(n){var i,a,c;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:if(n.name){e.next=4;break}return e.abrupt("return");case 4:if(E(n,p)){e.next=6;break}return e.abrupt("return");case 6:return o(!0),e.next=9,t.removePackages([n.name]);case 9:return e.next=11,t.listSpecfile();case 11:i=e.sent,a=i.packages,c=i.error,a&&(v(a),u(!0),f(n.name)),c&&v([]),o(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,p,r]),g=c.useCallback((function(e){return E(e,p)}),[p]);return{install:h,uninstall:m,installedPackages:p,isInstalled:g,isRunning:r,showDeletedTooltip:a,packageDeletedName:s,setDeletedTooltip:u}}({packager:l}),h=Z({searchPackagesFn:l.searchPackages,query:o,packagerType:"upm"}),g=h.searchResults,w=h.isLoading,x=""===o,C=x?d.installedPackages:g,O=(0,z.Kb)({inputValue:o,items:C,defaultHighlightedIndex:0,itemToString:function(e){return(null===e||void 0===e?void 0:e.name)?e.name:""}}),j=(0,m.Z)("packager","show_packager_about_tooltip"),A=j.shouldDisplay,I=j.register,P=j.dismiss;c.useEffect((function(){I()}),[I]);var T=(0,m.Z)("packager","show_packager_import_tooltip"),R=T.shouldDisplay,_=T.register,N=T.dismiss;c.useEffect((function(){_()}),[_]);return(0,r.BX)("div",{className:"jsx-97a1ea8580a20cde pkgsearch-search",children:[(0,r.tZ)(D,{combobox:O,inputValue:o,setInputValue:i,isLoading:w,isDisplayingInstalledPackages:x}),d.showDeletedTooltip&&(0,r.tZ)(V.Z,{css:G.l0.p(8),children:(0,r.tZ)(H.Z,{colorway:"positive",closable:!0,closeAction:function(){return d.setDeletedTooltip(!1)},text:"Uninstalled "+d.packageDeletedName+"."})}),(0,r.BX)("div",{className:"jsx-97a1ea8580a20cde pkgsearch-installed-header",children:[w?"Working\u2026":x?0===C.length?"No packages installed.":"Installed packages":""!==o?0===C.length?"No packages found":C.length+" packages found":" ",x&&C.length>0&&t.length>0&&(0,r.tZ)(v.Z,{border:!1,Icon:f.Z,className:"package-button",textColor:"var(--foreground-dimmer)",backgroundColor:"var(--background-default)","aria-label":"Open "+t[0],"data-microtip-position":"bottom-left",role:"tooltip",onClick:function(){s.openFile(t[0])}})]}),x&&0===C.length&&(0,r.BX)("div",{className:"jsx-97a1ea8580a20cde no-packages-text",children:["You don't have any packages installed. Try searching for a package to install, or ","",(0,r.tZ)("a",{href:"https://docs.replit.com/repls/packages",className:"jsx-97a1ea8580a20cde",children:"learn more about packages here."})]}),(0,r.tZ)("div",J({},O.getMenuProps(),{className:"jsx-97a1ea8580a20cde",children:C.length>0&&(0,r.tZ)("ul",{className:"jsx-97a1ea8580a20cde "+("pkgsearch-search-result "+(!x&&"pkgsearch-search-result-searching")||0),children:C.map((function(e,n){return(0,r.tZ)("li",J({},O.getItemProps({key:e.name||"Unknown"+n,item:e,index:n}),{className:"jsx-97a1ea8580a20cde",children:(0,r.tZ)(K,{packager:l,pkg:e,filesAffected:t,focused:O.highlightedIndex===n,searching:!x,isPackagerRunning:d.isRunning,isAlreadyInstalled:d.isInstalled(e),installPackage:d.install,uninstallPackage:d.uninstall})}))}))})})),A&&""===o&&(0,r.BX)(Q,{title:"What are Packages?",expandable:!0,expanded:!1,needsMargin:!0,backgroundColor:"var(--background-default)",foregroundColor:"var(--foreground-default)",strokeColor:"var(--foreground-dimmest)",onClose:function(){return P()},children:["Packages are collections of code that can extend the functionality of your programs. For example, you could add a package to make adding image carousels easier on websites, or a package to manage currency comparisons."," ",(0,r.tZ)("a",{href:"https://docs.replit.com/repls/packages",className:"jsx-97a1ea8580a20cde",children:"Learn more about packages"})]}),x&&R&&""===o&&(0,r.tZ)(Q,{title:"Tip\u2014Auto Import",expandable:!0,expanded:!1,needsMargin:!0,backgroundColor:"var(--background-default)",foregroundColor:"var(--foreground-default)",strokeColor:"var(--foreground-dimmest)",onClose:function(){return N()},children:"If you know which packages you want to use, you can just import and use them in your files as if they were already installed, and they will be installed automatically the next time you run the repl."}),(0,r.tZ)(a(),{id:"97a1ea8580a20cde",children:".pkgsearch-search.jsx-97a1ea8580a20cde{position:relative;width:100%;height:100%;overflow-y:scroll;min-height:0;color:var(--foreground-default)}.no-packages-text.jsx-97a1ea8580a20cde{margin:0 12px;font-size:var(--font-size-default);line-height:20px}.pkgsearch-installed-header.jsx-97a1ea8580a20cde{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0px var(--space-8)12px 12px;font-size:var(--font-size-subhead-default);font-weight:var(--font-weight-medium)}.pkgsearch-search-result.jsx-97a1ea8580a20cde{list-style:none;position:relative;overflow:visible;z-index:2;border-bottom:1px solid var(--background-highest);-webkit-overflow-scrolling:touch;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;min-height:0}.pkgsearch-search-result-searching.jsx-97a1ea8580a20cde{overflow:scroll}"})]})}function K(e){var t=e.isPackagerRunning,n=e.isAlreadyInstalled,o=e.installPackage,i=e.uninstallPackage,a=e.packager,u=e.focused,l=e.searching,s=e.filesAffected,f=q(e,["isPackagerRunning","isAlreadyInstalled","installPackage","uninstallPackage","packager","focused","searching","filesAffected"]),d=function(e){var t=e.packager,n=e.pkg,r=S(c.useState(!1),2),o=r[0],i=r[1],a=S(c.useState(null),2),u=a[0],l=a[1];return c.useEffect((function(){if(n.name){var e=!1;return t.fetchPackageInfo(n.name).then((function(t){e||(l(t||null),i(!1))})),function(){e=!0}}l(null)}),[t,n.name]),{isLoading:o,packageInfo:u}}({packager:a,pkg:f.pkg}).packageInfo,p=(0,h.Z)(),v=$(c.useState(!1),2),m=v[0],g=v[1],y=$(c.useState(!1),2),b=y[0],w=y[1],x=d||f.pkg,k=function(){return t?{colorway:void 0,text:"Packager is working on "+x.name+". Check the Console tab for details",status:"Working\u2026"}:n?{colorway:"positive",text:x.name+" was successfully installed to "+s[0],status:"Remove Package"}:{colorway:"negative",text:x.name+" was not installed. There may have been an error \u2014\xa0check the Console tab for details.",status:"Install Package"}},E=b?(0,r.tZ)(H.Z,{colorway:k().colorway,closable:!0,closeAction:function(){return w(!1)},text:k().text}):null,C="dependencies"in x&&x.dependencies&&x.dependencies.length>0?x.dependencies.map((function(e){return e.name})):null;return(0,r.tZ)(B,{focused:u,searching:l,onActionClick:function(){t||(w(!0),g(!0),n?i(x).then((function(){p.current&&(g(!1),w(!1))})):o(x).then((function(){p.current&&(g(!1),w(!0))})))},actionAltText:k().status,isAlreadyInstalled:n,isPackagerRunning:t,isIconLoading:m,statusComponent:E,itemName:x.name,itemDescription:x.description,itemVersion:x.version,itemHomepageURL:x.homepageURL,itemLicense:x.license,itemAuthor:x.author,itemDependencies:C})}function Q(e){var t=e.title,n=e.children,o=e.expanded,i=e.expandable,u=e.needsMargin,f=e.backgroundColor,p=e.strokeColor,v=e.foregroundColor,h=e.onClose,m=$(c.useState(o),2),g=m[0],y=m[1];return(0,r.BX)("div",{style:{backgroundColor:f},className:a().dynamic([["c40e6a57f0bf13ab",[p,v,v]]])+" "+(l()("pkgsearch-tooltip",u&&"needs-margin")||""),children:[(0,r.BX)("div",{className:a().dynamic([["c40e6a57f0bf13ab",[p,v,v]]])+" pkgsearch-tooltip-header",children:[(0,r.BX)("div",{onClick:function(){i&&y(!g)},className:a().dynamic([["c40e6a57f0bf13ab",[p,v,v]]])+" "+(l()("pkgsearch-tooltip-title",i&&"expandable")||""),children:[(0,r.tZ)("span",{className:a().dynamic([["c40e6a57f0bf13ab",[p,v,v]]])+" pkgsearch-tooltip-title-text",children:t}),i&&(0,r.tZ)(d.Z,{color:v,rotate:g?0:-90})]}),(0,r.tZ)("div",{className:a().dynamic([["c40e6a57f0bf13ab",[p,v,v]]])+" pkgsearch-tooltip-close",children:(0,r.tZ)(s.Z,{onClick:h,color:v})})]}),g&&(0,r.tZ)("p",{className:a().dynamic([["c40e6a57f0bf13ab",[p,v,v]]])+" pkgsearch-tooltip-content",children:n}),(0,r.tZ)(a(),{id:"c40e6a57f0bf13ab",dynamic:[p,v,v],children:".pkgsearch-tooltip.__jsx-style-dynamic-selector{-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:-webkit-calc(100%);width:-moz-calc(100%);width:calc(100%);padding:var(--space-8);margin:var(--space-4)0;border:1px solid ".concat(p,"}.pkgsearch-tooltip.needs-margin.__jsx-style-dynamic-selector{width:-webkit-calc(100% - 24px);width:-moz-calc(100% - 24px);width:calc(100% - 24px);margin:12px}.pkgsearch-tooltip-header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:top;-webkit-box-align:top;-ms-flex-align:top;align-items:top}.pkgsearch-tooltip-title.__jsx-style-dynamic-selector{font-size:var(--font-size-small);font-weight:var(--font-weight-medium);-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;opacity:.85}.expandable.__jsx-style-dynamic-selector{cursor:pointer}.pkgsearch-tooltip-title-text.__jsx-style-dynamic-selector{padding-right:4px;color:").concat(v,"}.pkgsearch-tooltip-close.__jsx-style-dynamic-selector{cursor:pointer;opacity:.7;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:8px}.pkgsearch-tooltip-content.__jsx-style-dynamic-selector:not(:empty){padding-top:var(--space-8);line-height:20px;font-size:var(--font-size-default);color:").concat(v,";opacity:.85}")})]})}var ee=n(54098),te=n.n(ee),ne=n(46846);function re(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){re(i,r,o,a,c,"next",e)}function c(e){re(i,r,o,a,c,"throw",e)}a(void 0)}))}}var ie,ae="index.html";function ce(e){return ue.apply(this,arguments)}function ue(){return(ue=oe(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",te()("/data/cdnjs/search/".concat(encodeURIComponent(t)),{credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return se.apply(this,arguments)}function se(){return se=oe(y().mark((function e(t){var n,r,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fs,r=t.session,o=t.lib,(0,b.j)(b.U3.PACKAGES_SELECTED,{package:o.name}),e.abrupt("return",new Promise(function(){var e=oe(y().mark((function e(t){var i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.stat(ae);case 2:if(e.sent.exists){e.next=5;break}return e.abrupt("return",t(ie.IndexNotFound));case 5:i=n.watchOtFile(ae,{onReady:function(e){var a=e.initialContent,c=e.writeOps;if(!o.include)return i(),void t(ie.InvalidLib);var u='<script src="'.concat(o.include,'"><\/script>'),l=a.toString("utf8"),s=!0,f=!1,d=void 0;try{for(var p,v=l.split("\n")[Symbol.iterator]();!(s=(p=v.next()).done);s=!0){if(p.value.includes(u))return i(),void t(ie.AlreadyInstalled)}}catch(g){f=!0,d=g}finally{try{s||null==v.return||v.return()}finally{if(f)throw d}}var h=l.indexOf("<script");-1===h&&(h=l.indexOf("</body>"));var m=[u+"\n"];h>0&&m.unshift(h),c(m),n.flush().then((function(){t(ie.Success)})).catch((function(){t(ie.UnknownError)})).finally((function(){i(),r.openFile(ae)}))},onError:function(e){t(e.code===ne.Df.NotFound?ie.IndexNotFound:ie.UnknownError)}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function fe(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void n(l)}c.done?t(u):Promise.resolve(u).then(r,o)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){de(e,t,n[t])}))}return e}function ve(){var e=(0,p.Z)(),t=e.fs,n=e.session,o=(0,c.useState)(""),i=o[0],u=o[1],l=(0,c.useState)(!1),s=l[0],f=l[1],d=Z({searchPackagesFn:ce,query:i,packagerType:"html"}),v=d.searchResults,h=d.isLoading,m=d.error,g=(0,z.Kb)({inputValue:i,items:v,defaultHighlightedIndex:0,itemToString:function(e){return(null===e||void 0===e?void 0:e.name)?e.name:""}});return(0,r.BX)("div",{className:"jsx-cccac1ca9eaa7559 pkgsearch-search",children:[(0,r.tZ)(D,{combobox:g,inputValue:i,setInputValue:u,isLoading:h,isDisplayingInstalledPackages:!0}),(0,r.tZ)("div",{className:"jsx-cccac1ca9eaa7559 pkgsearch-installed-header",children:h?"Working\u2026":""!==i?m?"Sorry, there was a problem searching. Try again.":0===v.length?"No packages found":v.length+" packages found":" "}),(0,r.tZ)("div",pe({},g.getMenuProps(),{className:"jsx-cccac1ca9eaa7559",children:v.length>0&&(0,r.tZ)("ul",{className:"jsx-cccac1ca9eaa7559 pkgsearch-search-result pkgsearch-search-result-searching",children:v.map((function(e,o){return(0,r.tZ)("li",pe({},g.getItemProps({key:e.name||"Unknown"+o,item:e,index:o}),{className:"jsx-cccac1ca9eaa7559",children:(0,r.tZ)(he,{lib:e,focused:g.highlightedIndex===o,install:(i=y().mark((function r(){return y().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return f(!0),r.abrupt("return",le({fs:t,session:n,lib:e}).finally((function(){f(!1)})));case 2:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){fe(o,n,r,a,c,"next",e)}function c(e){fe(o,n,r,a,c,"throw",e)}a(void 0)}))}),isInstalling:s})}));var i}))})})),(0,r.tZ)(a(),{id:"cccac1ca9eaa7559",children:".pkgsearch-search.jsx-cccac1ca9eaa7559{position:relative;width:100%;height:100%;overflow-y:scroll;min-height:0;color:var(--foreground-default)}.pkgsearch-installed-header.jsx-cccac1ca9eaa7559{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0px var(--space-8)12px 12px;font-size:var(--font-size-subhead-default);font-weight:var(--font-weight-medium)}.pkgsearch-search-result.jsx-cccac1ca9eaa7559{list-style:none;position:relative;overflow:visible;z-index:2;border-bottom:1px solid var(--background-highest);-webkit-overflow-scrolling:touch;-webkit-flex-shrink:1;-ms-flex-negative:1;flex-shrink:1;min-height:0}.pkgsearch-search-result-searching.jsx-cccac1ca9eaa7559{overflow:scroll}"})]})}function he(e){var t=e.lib,n=e.focused,o=e.install,i=e.isInstalling,a=(0,c.useState)(null),u=a[0],l=a[1],s=(0,c.useState)(!1),f=s[0],d=s[1],p=(0,h.Z)(),v=u?(0,r.tZ)("div",{children:u}):null;return(0,r.tZ)(B,{focused:n,searching:!0,onActionClick:function(){i||f||(d(!0),o(t).then((function(e){p.current&&(e===ie.Success?l("".concat(t.name," was successfully added to index.html")):e===ie.IndexNotFound?l("".concat(t.name," was not added. There is no index.html file.")):e===ie.AlreadyInstalled?l("".concat(t.name," was already added to index.html.")):l("".concat(t.name," was not added. Try adding it manually.")))})).catch((function(e){C.Tb(e),p.current&&l("".concat(t.name," was not added. Try adding it manually."))})).finally((function(){d(!1)})))},actionAltText:"Add Library",isAlreadyInstalled:!1,isPackagerRunning:i,isIconLoading:f,statusComponent:v,itemName:t.name,itemDescription:t.description,itemVersion:t.version,itemHomepageURL:t.link})}function me(){var e=(0,o.x)();return e?"html"===e.language?(0,r.tZ)(ve,{}):(0,r.tZ)(Y,{filesAffected:e.packagerFiles}):null}!function(e){e[e.Success=0]="Success",e[e.IndexNotFound=1]="IndexNotFound",e[e.AlreadyInstalled=2]="AlreadyInstalled",e[e.InvalidLib=3]="InvalidLib",e[e.UnknownError=4]="UnknownError"}(ie||(ie={}))},96544:function(e,t,n){n.d(t,{x:function(){return v}});var r=n(67294),o=n(62991),i=n.n(o),a=n(27740),c=n.n(a),u=n(85133),l=n(90361),s=n(30617);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={nodejs:["package.json","package-lock.json","yarn.lock","node_modules"],python:["poetry.lock","pyproject.toml","requirements.txt",".venv/",".local"],ruby:["Gemfile","Gemfile.lock"],java:["pom.xml","target"]};function p(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},e,{packagerFiles:d[e.language]||[]})}function v(){var e=(0,r.useState)(null),t=e[0],n=e[1],o=(0,u.Z)(),a=(0,s.Z)().dotReplit;return(0,r.useEffect)((function(){if(o)if("html"!==o.language&&"html_beta"!==o.language){var e,t=(e=o.language,["python3_classroom","python3_classroom_beta","python3","python3_beta","pygame","pygame_beta"].includes(e)?"python":["nodejs","nodejs_beta","nodejs_prybar","nodejs_prybar_beta","reason_nodejs","nodejs_static"].includes(e)?"nodejs":["ruby","ruby_beta","ruby_classroom","ruby_classroom_beta","rails","rails_beta"].includes(e)?"ruby":c().supportsPackager3(e)?e:null);if(t)n(p({language:t,packageSearch:!0,guessImports:!0}));else if(("nix"===o.language||"nix_beta"===o.language)&&o.flagOwnerDotReplitPackager)return a.watch((function(e){e.error?e.error===l.Y.NotFound&&n(null):n((function(t){var n,r,o;if(!(null===(n=e.config.packager)||void 0===n?void 0:n.language))return null;var a=p({language:e.config.packager.language,guessImports:Boolean(null===(r=e.config.packager.features)||void 0===r?void 0:r.guessImports),packageSearch:Boolean(null===(o=e.config.packager.features)||void 0===o?void 0:o.packageSearch)});return i()(t,a)?t:a}))}))}else n(p({language:"html",packageSearch:!0,guessImports:!1}))}),[o,a]),t}},71895:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(35944),o=n(9008),i=n(5560),a=n(93577),c=n(88768);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){var e,t=(0,a.Z)(),n=(0,i.Z)(),u=(0,c.I1C)({variables:{replId:n}}),s=u.data||u.previousData,f="Repl"===(null===s||void 0===s||null===(e=s.repl)||void 0===e?void 0:e.__typename)?s.repl:null,d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(t.filter(Boolean)).concat(["Replit"]).join(" - ")}(t,null===f||void 0===f?void 0:f.title);return(0,r.tZ)(o.default,{children:(0,r.tZ)("title",{children:d},"title")})}},57082:function(e,t,n){n.d(t,{Y:function(){return f},r:function(){return d}});var r=n(35944),o=n(67294),i=n(93577),a=n(88353),c=n(38402),u=n(12603),l=n(58830),s=new Set(["draw.js"]);function f(e,t){var n=(0,u.f6)(),r=(0,i.Z)(),a=o.useCallback((function(e,n){var r,o;null===(r=t.current)||void 0===r||null===(o=r.contentWindow)||void 0===o||o.postMessage({action:"FILE_UPDATE",file:e,content:n},"*")}),[t]);o.useEffect((function(){if(t.current&&n){var r=!0,o=!1,i=void 0;try{for(var c,u=function(n,r){var o=r.value;t.current.onload=function(){e.readFile(o).then((function(e){e.error||a(o,e.content.toString())}))}},l=s[Symbol.iterator]();!(r=(c=l.next()).done);r=!0)u(0,c)}catch(f){o=!0,i=f}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}}}),[e,a,t,n]),o.useEffect((function(){if(n&&r&&s.has(r))return e.watchOtFile(r,{onReady:function(e){var t=e.initialContent;return a(r,t.toString())},onChange:function(e){var t=e.latestContent;return a(r,t)}})}),[e,r,a,n])}var d=function(e){var t=e.iframe;return o.useEffect((function(){var e=function(e){if("DOWNLOAD"===e.data.action){var t=document.createElement("a");document.body.appendChild(t),t.setAttribute("style","display: none"),t.href=e.data.url,t.download=e.data.filename,t.click(),document.body.removeChild(t)}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[]),(0,r.BX)(r.HY,{children:[(0,r.tZ)(l.J,{alt:"Save image",onClick:function(){var e,n;null===(e=t.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage({action:"REQUEST_SCREENSHOT"},"*")},children:(0,r.tZ)(a.Z,{})}),(0,r.tZ)(l.J,{alt:"Toggle Record",onClick:function(){var e,n;null===(e=t.current)||void 0===e||null===(n=e.contentWindow)||void 0===n||n.postMessage({action:"REQUEST_TOGGLE_RECORD"},"*")},children:(0,r.tZ)(c.Z,{filled:!0,css:{transform:"scale(0.8)"}})})]})}},58830:function(e,t,n){n.d(t,{J:function(){return _},Z:function(){return L}});var r=n(35944),o=n(67294),i=n(5383),a=n(28774),c=n(34860),u=n(35060),l=n(65988),s=n.n(l),f=n(94184),d=n.n(f),p=n(88768),v=n(51281),h=n(12596);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t=e.repl,n=e.onCancel,i=e.onLink,a=(0,o.useState)(null),c=a[0],u=a[1],l=g((0,p.T9I)(),2),f=l[0],m=l[1],y=(0,o.useRef)(null),w=(0,o.useState)(""),x=w[0],k=w[1];(0,o.useEffect)((function(){m.data&&"Repl"===m.data.linkReplDomain.__typename&&i()}),[m.data,i]);var S=x.includes(".")&&x.split(".")[0].length>0&&x.split(".")[1].length>0,E=t.hostedUrl.replace(/^https:\/\//,"");return(0,r.BX)("div",{className:"jsx-6505cf76223b0e60 edit-domain",children:[(0,r.tZ)("div",{className:"jsx-6505cf76223b0e60 title",children:"Link An Existing Domain"}),(0,r.BX)("div",{className:"jsx-6505cf76223b0e60 subtitle",children:["Learn more"," ",(0,r.tZ)("a",{href:"https://docs.replit.com/repls/web-hosting#custom-domains",target:"_blank",className:"jsx-6505cf76223b0e60",children:"here"}),"."]}),(0,r.BX)("ol",{className:"jsx-6505cf76223b0e60 steps",children:[(0,r.tZ)("li",{className:"jsx-6505cf76223b0e60",children:(0,r.BX)("div",{className:"jsx-6505cf76223b0e60",children:[(0,r.tZ)("label",{className:"jsx-6505cf76223b0e60",children:"Enter Your Domain:"}),(0,r.tZ)(h.ZP,{disabled:"loading"===c,required:!0,value:x,onChange:function(e){k(e.target.value)},placeholder:"example.com"})]})}),S?(0,r.tZ)("li",{className:"jsx-6505cf76223b0e60",children:(0,r.BX)("div",{className:"jsx-6505cf76223b0e60",children:[(0,r.BX)("div",{className:"jsx-6505cf76223b0e60",children:["Add a ",(0,r.tZ)("code",{className:"jsx-6505cf76223b0e60",children:"CNAME"})," record to your domain pointing at:"]}),(0,r.BX)("div",{className:"jsx-6505cf76223b0e60 cname-url",children:[(0,r.tZ)(h.ZP,{readOnly:!0,ref:y,onChange:function(){return null},value:E,onClick:function(){y.current&&y.current.select()}}),(0,r.tZ)(v.Z,{onClick:function(){y.current&&(y.current.select(),document.execCommand("copy"))},children:"Copy"})]})]})}):null,"loading"===c||"error"===c?(0,r.tZ)("li",{className:"jsx-6505cf76223b0e60",children:(0,r.tZ)("div",{className:"jsx-6505cf76223b0e60",children:(0,r.tZ)(b,{replId:t.id,domain:x,onVerified:function(){return u("verified")},onError:function(){return u("error")}})})}):null,"verified"===c?(0,r.tZ)("li",{className:"jsx-6505cf76223b0e60",children:"Your domain is configured correctly. Linking could take a few minutes. Please don't leave this page."}):null]}),(0,r.BX)("div",{className:"jsx-6505cf76223b0e60 controls",children:[(0,r.tZ)(v.Z,{onClick:n,children:"Close"}),(0,r.tZ)("div",{className:"jsx-6505cf76223b0e60 "+(d()("next",{"show-next":S&&"loading"!==c})||""),children:"verified"===c?(0,r.tZ)(v.Z,{color:"primary",loading:m.loading,onClick:function(){m.loading||f({variables:{replId:t.id,domain:x}})},children:m.loading?"Linking...":"Link Domain"}):(0,r.tZ)(v.Z,{color:"primary",onClick:function(){return u("loading")},children:"Next"})})]}),(0,r.tZ)(s(),{id:"6505cf76223b0e60",children:".edit-domain.jsx-6505cf76223b0e60{display:grid;grid-row-gap:var(--space-16)}.title.jsx-6505cf76223b0e60{font-size:20px}.subtitle.jsx-6505cf76223b0e60,.label.jsx-6505cf76223b0e60{font-size:18px}li.jsx-6505cf76223b0e60{margin-bottom:var(--space-16)}li.jsx-6505cf76223b0e60>div.jsx-6505cf76223b0e60{display:grid;grid-row-gap:var(--space-8)}.cname-url.jsx-6505cf76223b0e60{display:grid;grid-column-gap:var(--space-8);grid-template-columns:1fr auto}.controls.jsx-6505cf76223b0e60{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.next.jsx-6505cf76223b0e60{visibility:hidden}.next.show-next.jsx-6505cf76223b0e60{visibility:visible}"})]})}function b(e){var t,n,i=e.domain,a=e.replId,c=e.onVerified,u=e.onError,l=(0,p.ZUY)({variables:{replId:a,domain:i},pollInterval:1e3}),f=l.data,d=l.stopPolling;return(0,o.useEffect)((function(){if(f&&"Repl"===f.repl.__typename){var e=f.repl;if(e.checkDomain){var t=e.checkDomain,n=t.retry,r=t.verified;r||n?(!r&&n||d(),r&&c()):u()}}}),[f,d,c,u]),"Repl"===(null===f||void 0===f?void 0:f.repl.__typename)&&(null===(t=f.repl.checkDomain)||void 0===t?void 0:t.status)&&f.repl.checkDomain.retry?(0,r.BX)("div",{className:"jsx-2c30d385bf371d24 verify-domain",children:[(0,r.tZ)("div",{className:"jsx-2c30d385bf371d24 loading"}),(0,r.tZ)("div",{className:"jsx-2c30d385bf371d24",children:f.repl.checkDomain.status}),(0,r.tZ)(s(),{id:"2c30d385bf371d24",children:".verify-domain.jsx-2c30d385bf371d24{display:grid;grid-template-columns:auto 1fr;grid-column-gap:var(--space-8);-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.loading.jsx-2c30d385bf371d24{width:20px;height:20px;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;border:solid 3px#eee;border-top:solid 3px#888;-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-ms-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg);-webkit-animation:linear domain-loading 1s infinite;-moz-animation:linear domain-loading 1s infinite;-o-animation:linear domain-loading 1s infinite;animation:linear domain-loading 1s infinite}@keyframes domain-loading{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):"Repl"!==(null===f||void 0===f?void 0:f.repl.__typename)||(null===(n=f.repl.checkDomain)||void 0===n?void 0:n.retry)?null:(0,r.tZ)(r.HY,{children:"We ran into an internal error while checking the domain. Please try again later."})}function w(e){var t=e.replId,n=e.domain,i=e.onCancel,a=e.onUnlink,c=g((0,p.pCu)({variables:{input:{id:t,domain:null}}}),2),u=c[0],l=c[1];return(0,o.useEffect)((function(){l.data&&l.data.updateRepl.repl&&a()}),[l.data,a]),(0,r.BX)("div",{className:"jsx-9c9f3ce2c14a8eb1 unlink-domain",children:[(0,r.BX)("div",{className:"jsx-9c9f3ce2c14a8eb1",children:["Your repl is being served at"," ",(0,r.tZ)("a",{target:"_blank",rel:"noopener",href:"https://"+n,className:"jsx-9c9f3ce2c14a8eb1",children:n})]}),(0,r.BX)("div",{className:"jsx-9c9f3ce2c14a8eb1 controls",children:[(0,r.tZ)(v.Z,{onClick:i,children:"Close"}),(0,r.tZ)(v.Z,{color:"negative",onClick:function(){l.loading||u()},children:l.loading?"Unlinking...":"Unlink Domain"})]}),(0,r.tZ)(s(),{id:"9c9f3ce2c14a8eb1",children:".unlink-domain.jsx-9c9f3ce2c14a8eb1{display:grid;grid-row-gap:var(--space-24)}.controls.jsx-9c9f3ce2c14a8eb1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}"})]})}function x(e){var t=e.replId,n=e.onCancel,o=e.onUnlink,i=e.onLink,a=(0,p.KG0)({variables:{replId:t}}),c=a.data,u=null;if(a.loading)u=(0,r.tZ)(r.HY,{children:"loading..."});else if(c&&"Repl"===c.repl.__typename){var l=c.repl;u=l.config.domain?(0,r.tZ)(w,{replId:l.id,domain:l.config.domain,onUnlink:o,onCancel:n}):(0,r.tZ)(y,{repl:l,onLink:i,onCancel:n})}else c&&"ReplRedirect"===c.repl.__typename?u=(0,r.BX)("div",{children:["This repl has moved to"," ",(0,r.tZ)("a",{href:c.repl.replUrl,children:c.repl.replUrl})]}):c&&"SubscriptionExpiredError"===c.repl.__typename&&(u=(0,r.tZ)("div",{children:"Subscription expired"}));return(0,r.BX)("div",{className:"jsx-942ea2263fe0260d",children:[u,(0,r.tZ)(s(),{id:"942ea2263fe0260d",children:"div.jsx-942ea2263fe0260d{padding:var(--space-16);color:var(--foreground-default)}"})]})}var k=n(27464),S=n(54929),E=n(3204),C=n(57082),O=n(47240);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(0,r.tZ)(O.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M14.7 6.29998C14.5168 6.48691 14.4141 6.73823 14.4141 6.99998C14.4141 7.26173 14.5168 7.51305 14.7 7.69998L16.3 9.29998C16.4869 9.48321 16.7382 9.58584 17 9.58584C17.2617 9.58584 17.513 9.48321 17.7 9.29998L21.47 5.52998C21.9728 6.64117 22.1251 7.87921 21.9064 9.07913C21.6878 10.279 21.1087 11.3838 20.2463 12.2463C19.3838 13.1087 18.279 13.6878 17.0791 13.9064C15.8792 14.1251 14.6412 13.9728 13.53 13.47L6.61998 20.38C6.22215 20.7778 5.68259 21.0013 5.11998 21.0013C4.55737 21.0013 4.0178 20.7778 3.61998 20.38C3.22215 19.9822 2.99866 19.4426 2.99866 18.88C2.99866 18.3174 3.22215 17.7778 3.61998 17.38L10.53 10.47C10.0271 9.35879 9.87489 8.12075 10.0935 6.92083C10.3121 5.72092 10.8913 4.61614 11.7537 3.7537C12.6161 2.89127 13.7209 2.31215 14.9208 2.09352C16.1207 1.8749 17.3588 2.02714 18.47 2.52998L14.71 6.28998L14.7 6.29998Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}var A=n(88341),I=n(89957),P=n(70917);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(e){return(0,r.tZ)(k.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}({className:e.className,css:{color:"var(--foreground-dimmest)",":hover":{color:"var(--foreground-default)"}}},e))},N=(0,P.F4)("from{transform:rotate(0deg);}to{transform:rotate(359deg);}");function L(e){var t=R(o.useState(!1),2),n=t[0],l=t[1];return(0,r.BX)(S.Z,{css:[E.l0.rowWithGap(8),E.l0.p(8),E.l0.align.center],children:[(0,r.tZ)(_,{alt:e.refreshing?"Refreshing...":"Refresh",onClick:e.onRefresh,css:e.refreshing&&{animation:"".concat(N," infinite 0.5s")},children:(0,r.tZ)(a.Z,{})}),(0,r.tZ)(I.ZP,{css:[E.l0.px(4),E.l0.py(2),E.l0.flex.growAndShrink(1),E.l0.fontSize(12)],value:e.url,type:"text",onFocus:function(t){e.trackUrlSelect(),t.currentTarget.select()},readOnly:!0}),(0,r.BX)(S.Z,{css:[E.l0.rowWithGap(4)],children:[e.canEditDomain&&(0,r.BX)(A.Z,{maxWidth:520,isOpen:n,onClickOutside:function(){return l(!1)},growToMaxWidth:!0,children:[(0,r.tZ)(_,{alt:"Custom domain",onClick:function(){return l(!n)},children:(0,r.tZ)(i.Z,{})}),(0,r.tZ)(x,{onCancel:function(){return l(!1)},onLink:function(){return l(!1)},onUnlink:function(){return l(!1)},replId:e.replId})]}),e.onToggleDevtools&&(0,r.tZ)(_,{alt:"Toggle developer tools",onClick:e.onToggleDevtools,children:(0,r.tZ)(j,{})}),(0,r.tZ)("a",{href:e.url,css:{color:"inherit"},target:"_blank",children:(0,r.tZ)(_,{alt:"Open in a new tab",children:(0,r.tZ)(c.Z,{})})}),e.isKaboomDraw&&e.iframe&&(0,r.tZ)(C.r,{iframe:e.iframe}),e.canBeClosed&&(0,r.tZ)(_,{alt:"Close web view",onClick:e.closeCallback,children:(0,r.tZ)(u.Z,{})})]})]})}},89011:function(e,t,n){var r=n(35944),o=n(67294),i=n(40802),a=n(88768),c=n(5560),u=n(85264),l=n(54929),s=n(3204),f=n(12603),d=n(58830),p=n(57082),v=n(77070);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e,t){var n,m,g=e.fs,y=e.canBeClosed,b=e.trackUrlSelect,w=e.onClose,x=(0,c.Z)(),k=(0,a.I5$)({variables:{id:x}}).data,S="Repl"===(null===k||void 0===k?void 0:k.repl.__typename)?k.repl:null,E=(0,o.useContext)(u.F),C=(0,o.useRef)(null),O=(0,o.useState)(!1),Z=O[0],j=O[1],A=(0,f.f6)();(0,p.Y)(g,C);var I=null!==(m=null===k||void 0===k||null===(n=k.currentUser)||void 0===n?void 0:n.hasFlagDevtoolsWebview)&&void 0!==m&&m;(0,o.useEffect)((function(){var e=function(e){var t;if(new URL(e.origin).hostname.endsWith(".id.repl.co")&&"object"===typeof e.data&&"event"===(null===(t=e.data)||void 0===t?void 0:t.type)){var n=e.data,r=n.event,o=n.payload;"error"===r?i.Tb(o):(0,v.j)(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({},o,{replId:x}))}};if(I)return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[I,x]);var P=function(){j(!0),g.flush().then((function(){C.current&&(C.current.src+="")})).finally((function(){j(!1)}))};return(0,o.useImperativeHandle)(t,(function(){return{refresh:P}})),S?(0,r.BX)(l.Z,{css:[s.l0.backgroundColor.backgroundDefault,s.l0.height("100%"),s.l0.borderRadius(4),{overflow:"hidden"}],children:[(0,r.tZ)(d.Z,{canEditDomain:S.currentUserPermissions.linkDomain,anon:S.devUrl.includes("--five-nine.repl.co"),url:S.config.domain?"https://".concat(S.config.domain):S.prodUrl,trackUrlSelect:function(){b&&b(S.devUrl)},replId:x,refreshing:Z,onRefresh:P,canBeClosed:y,isKaboomDraw:A,iframe:C,closeCallback:function(){w&&w()},onToggleDevtools:I?function(){var e;(null===(e=C.current)||void 0===e?void 0:e.contentWindow)&&C.current.contentWindow.postMessage("toggleDevtools","*")}:void 0}),E?(0,r.tZ)(u.Y,{}):(0,r.tZ)("iframe",{"data-cy":"ws-webview",sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals allow-downloads",ref:C,src:S.devUrl,css:[s.l0.flex.growAndShrink(1),{border:"none",display:"block",backgroundColor:s.TV.white}]})]}):null};t.Z=(0,o.forwardRef)(m)},44269:function(e,t,n){n.d(t,{eC:function(){return i},UP:function(){return a}});var r=n(55982),o={js:"javascript",jsx:"javascript",ts:"javascript",tsx:"javascript",py:"python",java:"java"};function i(e,t){if(!e)return!1;var n=(0,r.r6)(e);return!(!t&&"java"===n)&&Boolean(o[n])}function a(e){var t=(0,r.r6)(e);return o[t]?o[t]:"unknown"}},60149:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(67294),o=n(62774),i=n(77070),a=n(77012),c=n(51968);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){var t=e.autoFocus,n=e.onShellKey,u=e.container,s=e.createXtermProps,f=l((0,a.Z)({createXtermProps:s}),2),d=f[0],p=f[1],v=(0,o.Z)({service:"shell",container:u});return r.useEffect((function(){if(v.channel&&d){var e=d.onKey((function(e){var t=e.key,r=e.domEvent;"\r"===t&&(0,i.j)(i.U3.SHELL_COMMAND_EVALED),n&&n(r)})),t=d.onData((function(e){if(v.channel&&"closed"!==v.channel.status){var t=(0,c.I)(e);v.channel.send({input:t})}}));v.channel.onCommand((function(e){e.output&&d.write(e.output)}));var r=function(){v.channel&&"open"===v.channel.status&&v.channel.send({resizeTerm:d.getSize()})},o=d.onResize(r);return r(),function(){e.dispose(),t.dispose(),o.dispose()}}}),[v.channel,d,n]),r.useEffect((function(){t&&d&&d.focus()}),[t,d]),[d,p]}}}]);
//# sourceMappingURL=3612-fe797b54470da11f.js.map