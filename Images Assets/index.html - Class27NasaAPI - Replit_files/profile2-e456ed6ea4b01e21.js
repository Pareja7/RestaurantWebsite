(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2910,6088,3308],{78083:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile2",function(){return r(17365)}])},31724:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(34051),o=r.n(n),i=r(35944),l=r(65988),a=r.n(l),c=r(67294),u=r(8996),s=r(29594),d=r(90860),f=r(44054),p=r(38956),h=r(38880),m=r(33717);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t,r,n,o,i,l){try{var a=e[i](l),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t=e.currentUser,r=e.onChange,n=(0,h.Z)(),l=n.showError,v=n.showConfirm,g=y(c.useState(t.image),2),Z=g[0],w=g[1];c.useEffect((function(){return w(t.image)}),[t.image]);var x=(0,p.Z)({onUpload:function(e){var t=e.id;return r({imageId:t})},onUploadPreview:function(e){var t=e.dataUrl;w(t),v("Uploading profile image")},onError:function(e){return l(e.message)}}),C=function(){var e,t=(e=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function l(e){b(i,n,o,l,a,"next",e)}function a(e){b(i,n,o,l,a,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,i.BX)("div",{className:a().dynamic([["78011e95f8bc743d",[f.j.mobileMax]]])+" profile-image",children:[(0,i.tZ)(u.gC,{align:"center",spacing:2,children:(0,i.BX)("div",{onDrop:function(e){var t,r;e.preventDefault();var n=null===(t=e.dataTransfer)||void 0===t||null===(r=t.files)||void 0===r?void 0:r[0];n&&(n.type.startsWith("image/")?x.uploadImage(n):l("Expected an image file"))},onDragOver:C,className:a().dynamic([["78011e95f8bc743d",[f.j.mobileMax]]])+" drop-target",children:[(0,i.tZ)(s.Z,{size:"inherit",url:Z}),(0,i.BX)("label",{className:a().dynamic([["78011e95f8bc743d",[f.j.mobileMax]]]),children:[(0,i.tZ)("input",{accept:m.W.join(","),type:"file",onChange:function(e){var t=e.target,r=t.validity,n=t.files;r.valid&&(null===n||void 0===n?void 0:n.length)&&x.uploadImage(n[0])},className:a().dynamic([["78011e95f8bc743d",[f.j.mobileMax]]])}),(0,i.BX)(u.gC,{align:"center",spacing:1,children:[(0,i.tZ)(d.Z,{size:24}),(0,i.tZ)("span",{className:a().dynamic([["78011e95f8bc743d",[f.j.mobileMax]]]),children:"Drag or upload"})]})]})]})}),(0,i.tZ)(a(),{id:"78011e95f8bc743d",dynamic:[f.j.mobileMax],children:".drop-target.__jsx-style-dynamic-selector{position:relative;width:128px;text-align:center}.drop-target.__jsx-style-dynamic-selector:hover label.__jsx-style-dynamic-selector{opacity:1}label.__jsx-style-dynamic-selector{opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;color:var(--foreground-default);background-color:var(--background-overlay);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;font-size:var(--font-size-default)}input.__jsx-style-dynamic-selector{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.error.__jsx-style-dynamic-selector{text-align:center;font-size:var(--font-size-default);color:var(--accent-negative-default)}@media screen and (min-width:".concat(f.j.mobileMax,"px){.profile-image.__jsx-style-dynamic-selector{width:128px}}")})]})}},83308:function(e,t,r){"use strict";r.d(t,{a:function(){return U},Z:function(){return _}});var n=r(34051),o=r.n(n),i=r(35944),l=r(65988),a=r.n(l),c=r(67294),u=r(3606),s=r(48966),d=r(48010);function f(e,t,r,n,o,i,l){try{var a=e[i](l),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function l(e){f(i,n,o,l,a,"next",e)}function a(e){f(i,n,o,l,a,"throw",e)}l(void 0)}))}}var h={isEmail:[[s.isEmail,"Invalid email address"]],email:[[s.isEmail,"Invalid email address"],[function(){var e=p(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.uz)("/data/user/exists",{email:t});case 2:return r=e.sent.exists,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"Email already in use"]],username:[[function(e){return(0,s.isByteLength)(e,2,15)},"Your username must be between 2 and 15 characters"],[function(e){return!!e.match(/^[0-9a-zA-Z]+$/)},"Your username can only contain alphanumeric characters (letters A-Z, numbers 0-9)"],[function(){var e=p(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.uz)("/data/user/exists",{username:t});case 2:return r=e.sent.exists,e.abrupt("return",!r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"Username is taken"]],name:[[function(e){return(0,s.isByteLength)(e,1,255)},"Your name must be at least 1 character long"]],classroomName:[[function(e){return(0,s.isByteLength)(e,1,255)},"Classroom name must be at least 1 character long"]],replTitle:[[function(e){return(0,s.isByteLength)(e,1,60)},"Titles must be between 1 and 60 characters"]],replDescription:[[function(e){return(0,s.isByteLength)(e,0,255)},"Description should not be longer than 255 characters"]],notEmpty:[[function(e){return!(0,s.isEmpty)(e)},"Cannot be empty"]],postTitle:[[function(e){return(0,s.isByteLength)(e,1,100)&&!!e.match(/[0-9a-zA-Z]+/)},"Your post title must be less than 100 characters and contain at least one alphanumeric character"]],replTag:[[function(e){return(0,s.isByteLength)(e,2,15)},"Tag must be between 2 and 15 characters"],[function(e){return!!e.match(/^[0-9a-zA-Z_]+$/)},"Tag must be alphanumeric characters"]],replFolderName:[[function(e){return(0,s.isByteLength)(e.trim(),1,60)},"Folder name must be between 1 and 60 characters"],[function(e){return!e.match(/[/*?"\\]+/)},'Folder name cannot contain /, *, ", ? \\']]},m=r(66970),v=r(12596);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,r,n,o,i,l){try{var a=e[i](l),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t,r){return t&&w(e.prototype,t),r&&w(e,r),e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){C(e,t,r[t])}))}return e}function k(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function P(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?y(e):t}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return P(this,r)}}var _=function(e){S(r,e);var t=B(r);function r(){return Z(this,r),t.apply(this,arguments)}return x(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,r=t.error,n=t.isLoading,o=k(t,["error","isLoading"]),l=r?[{message:r,state:"error"}]:void 0;return(0,i.BX)("div",{className:"jsx-ac5406405936ddf form-input-with-ui",children:[(0,i.tZ)(v.ZP,j({},o,{validationResults:l,ref:function(t){return e.input=t}})),n?(0,i.tZ)(m.Z,{style:{right:"8px",top:"12px",height:"16px",width:"16px",position:"absolute"}}):null,(0,i.tZ)(a(),{id:"ac5406405936ddf",children:".form-input-with-ui.jsx-ac5406405936ddf{position:relative;width:100%}"})]})}}]),r}(c.Component);C(_,"defaultProps",{isLoading:!1,type:"text",value:"",required:!1});var U=function(e){S(r,e);var t=B(r);function r(e){var n;Z(this,r),C(y(n=t.call(this,e)),"onBlur",(function(e){n.props.onBlur&&n.props.onBlur(e),n.validateNow()})),C(y(n),"onChange",(function(e){n.props.onChange(e),n.clearErrTimeout=setTimeout((function(){return n.setState({error:null})}),200),n.validate()})),C(y(n),"validateNow",(function(){n.validate.cancel(),n._validate()}));var i,l=y(n);return C(y(n),"_validate",(i=o().mark((function e(){var t,r,n,i,a,c,u,s,d,f,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,r=l.props.validators||h[l.props.validator]){e.next=4;break}throw new Error("Please supply validators or a type of validator");case 4:n=!0,i=!1,a=void 0,e.prev=5,c=r[Symbol.iterator]();case 7:if(n=(u=c.next()).done){e.next=25;break}if(s=A(u.value,2),d=s[0],f=s[1],!(p=d(l.props.value)).then){e.next=16;break}return l.setState({isLoading:!0}),e.next=14,p;case 14:p=e.sent,l.setState({isLoading:!1});case 16:if(p){e.next=22;break}return l.props.onValidation(f),t=!1,l.setState({error:f}),l.clearErrTimeout&&clearTimeout(l.clearErrTimeout),e.abrupt("break",25);case 22:n=!0,e.next=7;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(5),i=!0,a=e.t0;case 31:e.prev=31,e.prev=32,n||null==c.return||c.return();case 34:if(e.prev=34,!i){e.next=37;break}throw a;case 37:return e.finish(34);case 38:return e.finish(31);case 39:t&&(l.setState({error:null}),l.props.onValidation(null));case 40:case"end":return e.stop()}}),e,null,[[5,27,31,39],[32,,34,38]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var o=i.apply(e,t);function l(e){g(o,r,n,l,a,"next",e)}function a(e){g(o,r,n,l,a,"throw",e)}l(void 0)}))})),C(y(n),"validate",(0,u.Z)((function(){return n._validate()}),n.props.debounceTime)),n.state={error:null,isLoading:!1},n}return x(r,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,r=(t.onValidation,t.validator,t.validators,t.debounceTime,j({},k(t,["onValidation","validator","validators","debounceTime"]),{onChange:this.onChange,onBlur:this.onBlur,ref:function(t){return e.input=t},error:this.state.error,isLoading:this.state.isLoading}));return(0,i.tZ)(_,j({},r))}}]),r}(c.Component);C(U,"defaultProps",{debounceTime:1e3})},99971:function(e,t,r){"use strict";var n=r(35944),o=(r(67294),r(3204)),i=r(54929),l=r(67938);t.Z=function(e){var t=e.text;return(0,n.BX)(i.Z,{css:[o.l0.flex.row,o.l0.align.center],children:[(0,n.tZ)(i.Z,{css:[o.l0.mr(8),{borderBottom:"1px solid ".concat(o.TV.backgroundHighest),width:o.TV.space8}]}),(0,n.tZ)(l.x,{css:[o.l0.color.foregroundDimmest],children:t}),(0,n.tZ)(i.Z,{css:[o.l0.ml(8),o.l0.flex.grow(2),{borderBottom:"1px solid ".concat(o.TV.backgroundHighest),width:o.TV.space16}]})]})}},40746:function(e,t,r){"use strict";function n(e,t){var r=t.existing,n=t.getKey,o=new Map,i=!0,l=!1,a=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var s=c.value;o.set(n(s),s)}}catch(j){l=!0,a=j}finally{try{i||null==u.return||u.return()}finally{if(l)throw a}}var d=new Set,f=[],p=!0,h=!1,m=void 0;try{for(var v,b=r[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){var y=n(v.value),g=o.get(y);g&&(f.push(g),d.add(y))}}catch(j){h=!0,m=j}finally{try{p||null==b.return||b.return()}finally{if(h)throw m}}var Z=!0,w=!1,x=void 0;try{for(var C,O=e[Symbol.iterator]();!(Z=(C=O.next()).done);Z=!0){var S=C.value;d.has(n(S))||f.push(S)}}catch(j){w=!0,x=j}finally{try{Z||null==O.return||O.return()}finally{if(w)throw x}}return f}r.d(t,{Z:function(){return n}})},13604:function(e,t,r){"use strict";r.d(t,{T:function(){return s}});var n=r(35944),o=r(67294),i=r(54929),l=r(3204),a=r(92704),c=r(20255),u=r(33717);function s(e){var t=e.onFile,r=e.text,s=(0,o.useRef)(null);return(0,n.BX)(i.Z,{css:[l.l0.position.relative],children:[(0,n.tZ)("input",{css:[[l.l0.coverContainer,{opacity:0,zIndex:-1}]],ref:s,accept:u.W.join(","),type:"file",onChange:function(e){var r=e.target,n=r.validity,o=r.files;if(n.valid){var i=o?o[0]:null;i&&t(i)}}}),(0,n.tZ)(a.zx,{outlined:!0,stretch:!0,text:r,iconLeft:(0,n.tZ)(c.Z,{}),onClick:function(){var e;return null===(e=s.current)||void 0===e?void 0:e.click()},type:"button"})]})}},17314:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(35944),o=r(67294),i=r(67938),l=r(66552),a=r(54929),c=r(3204),u=r(50553);function s(){var e=(0,o.useState)(!1),t=e[0],r=e[1];return(0,n.BX)(l.Z,{background:t?"higher":"default",css:[c.l0.borderRadius(8),c.l0.colWithGap(16),c.l0.p(8)],children:[(0,n.BX)(a.Z,{css:[c.l0.colWithGap(8)],children:[(0,n.BX)(a.Z,{onClick:function(){return r(!t)},css:[c.l0.rowWithGap(8),{cursor:"pointer"}],children:[(0,n.tZ)(i.x,{children:"Style your post with Markdown"}),(0,n.tZ)(u.Z,{rotate:t?0:270})]}),t?(0,n.tZ)(i.x,{color:"dimmer",multiline:!0,children:"You can style your post with a limited set of Markdown. Here are some supported content types:"}):null]}),t?(0,n.BX)(n.HY,{children:[(0,n.BX)(a.Z,{css:[c.l0.colWithGap(8)],children:[(0,n.tZ)(i.x,{children:"Bold Text"}),(0,n.tZ)(i.x,{color:"dimmer",children:"**bold**"})]}),(0,n.BX)(a.Z,{css:[c.l0.colWithGap(8)],children:[(0,n.tZ)(i.x,{children:"Italic Text"}),(0,n.tZ)(i.x,{color:"dimmer",children:"__italic__"})]}),(0,n.BX)(a.Z,{css:[c.l0.colWithGap(8)],children:[(0,n.tZ)(i.x,{children:"Links"}),(0,n.tZ)(i.x,{color:"dimmer",children:"[Link Name](https://yourlink.com)"})]}),(0,n.BX)(a.Z,{css:[c.l0.colWithGap(8)],children:[(0,n.tZ)(i.x,{children:"Images"}),(0,n.tZ)(i.x,{color:"dimmer",children:"![Image alt text](https://linktoyourimage.com)"})]}),(0,n.BX)(a.Z,{css:[c.l0.colWithGap(8)],children:[(0,n.tZ)(i.x,{children:"Code Blocks"}),(0,n.BX)(i.x,{color:"dimmer",children:["```",(0,n.tZ)("br",{}),"this is for large, multiline code blocks",(0,n.tZ)("br",{}),"```"]})]}),(0,n.BX)(a.Z,{css:[c.l0.colWithGap(8)],children:[(0,n.tZ)(i.x,{children:"Inline Code"}),(0,n.tZ)(i.x,{color:"dimmer",children:"`this is for code in the middle of sentences`"})]})]}):null]})}},98741:function(e,t,r){"use strict";r.d(t,{cX:function(){return S},_J:function(){return j},BP:function(){return k}});var n=r(35944),o=r(67294),i=r(88768),l=r(67938),a=r(89957),c=r(90652),u=r(9917),s=r(40746),d=r(53009),f=r(1517),p=r(54929),h=r(3204),m=r(88503),v=r(79162),b=r(45718),y=r(19815);function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){g(e,t,r[t])}))}return e}var w=(0,p.K)("div"),x=(0,p.K)("li"),C={searchValue:"",loading:!1,repls:[]};function O(e,t){switch(t.type){case"data":var r,n=(null===(r=t.data.currentUser)||void 0===r?void 0:r.publishableReplSearch)||[];return Z({},e,{loading:!1,repls:(0,s.Z)(n,{existing:e.repls,getKey:function(e){return e.id}})});case"loading":return Z({},e,{loading:!0});case"searchValue":return Z({},e,{searchValue:t.searchValue})}}function S(){var e=(0,o.useReducer)(O,C),t=e[0],r=e[1],n=(0,c.Z)(t.searchValue,200),l=(0,i.b1W)({variables:{search:n},notifyOnNetworkStatusChange:!0,onCompleted:function(e){r({type:"data",data:e})}}).loading;(0,o.useEffect)((function(){l&&r({type:"loading"})}),[l]);var a=(0,o.useCallback)((function(e){return r({type:"searchValue",searchValue:e})}),[]);return{repls:t.repls,loading:t.loading,searchValue:t.searchValue,setSearchValue:a}}function j(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}function k(e){var t,r=o.useRef(null);(0,y.rf)((function(){var t;e.selectedRepl&&(null===(t=r.current)||void 0===t||t.blur())}),[e.selectedRepl]);var i=(null===(t=e.selectedRepl)||void 0===t?void 0:t.iconUrl)&&e.inputValue&&j(e.selectedRepl)===e.inputValue?(0,n.tZ)(p.Z,{css:[h.l0.px(8),h.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:(0,n.tZ)(d.ZP,{alt:e.selectedRepl.title,iconUrl:e.selectedRepl.iconUrl,size:16})}):null;return(0,n.BX)(p.Z,{css:[{position:"relative"}],children:[(0,n.BX)(w,Z({},e.getComboboxProps(),{css:{position:"relative"},children:[i,(0,n.tZ)(a.ZP,Z({css:[h.l0.pr(32),i&&h.l0.pl(32)]},e.getInputProps({placeholder:"Search for a repl",onFocus:e.onFocus,ref:r}))),(0,n.tZ)(p.Z,{css:[h.l0.center,h.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:e.loading&&e.isOpen?(0,n.tZ)(f.Z,{}):(0,n.tZ)(m.Z,{})})]})),(0,n.tZ)(w,Z({},e.getMenuProps(),{css:{position:"relative"},children:e.isOpen?(0,n.BX)(v.Z,{children:[e.loading&&0===e.repls.length?(0,n.tZ)(x,{css:[h.l0.center,h.l0.py(32)],children:(0,n.tZ)(f.Z,{})}):null,e.loading||0!==e.repls.length?null:(0,n.tZ)(x,{css:[h.l0.center,h.l0.py(32)],children:(0,n.tZ)(l.x,{color:"dimmer",variant:"small",children:"No repls found"})}),e.repls.map((function(t,r){return(0,n.tZ)(x,Z({},e.getItemProps({item:t,index:r}),{children:(0,n.tZ)(b.Z,{filter:"",title:j(t),subtitle:(0,u.F)(t.timeUpdated),selected:e.selectedRepl===t,highlighted:e.highlightedIndex===r,icon:t.iconUrl?(0,n.tZ)(d.ZP,{iconUrl:t.iconUrl,alt:t.title,size:16}):void 0})}),t.id)}))]}):null}))]})}},69056:function(e,t,r){"use strict";r.d(t,{Z:function(){return W}});var n=r(35944),o=r(67294),i=r(54929),l=r(3204),a=r(27802),c=r(70917),u=r(66552),s=r(94590),d=r(67938),f=r(88942),p=r(88768),h=r(65577),m=r(85060),v=r(90652),b=r(40746);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=/^[0-9a-zA-Z]+$/,w=function(e){return e.id};function x(e){var t=e.onSelect,r=e.filter,n=void 0===r?function(){return!0}:r,i=(0,o.useState)(""),l=i[0],a=i[1],c=(0,v.Z)(l,100),u=(0,h.Z)(t),s=function(e){var t=e.search,r=e.filter,n=(0,p.zdu)({variables:{limit:t?10:3,search:t}}).data,i=(0,o.useState)({official:[],community:[]}),l=i[0],a=i[1],c=(0,o.useMemo)((function(){if(n){var e=[],o=[],i=new Set,l=!0,a=!1,c=void 0;try{for(var u,s=n.tagGroups.official[Symbol.iterator]();!(l=(u=s.next()).done);l=!0){var d=u.value;i.add(d.id.toLowerCase()),r(d)&&e.push(d)}}catch(g){a=!0,c=g}finally{try{l||null==s.return||s.return()}finally{if(a)throw c}}var f=!0,p=!1,h=void 0;try{for(var m,v=n.tagGroups.community[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var b=m.value;i.add(b.id.toLowerCase()),r(b)&&o.push(b)}}catch(g){p=!0,h=g}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}var y=t&&0===o.length&&!i.has(t.toLowerCase())?{id:t,isOfficial:!1,replCount:0}:void 0;return{official:e,community:o,newTag:y&&r(y)?y:void 0}}}),[n,r,t]);return(0,o.useEffect)((function(){if(c){var e=c.official,t=c.community,r=c.newTag;a((function(n){return{official:(0,b.Z)(e,{existing:n.official,getKey:w}),community:(0,b.Z)(t,{existing:n.community,getKey:w}),newTag:r}}))}}),[c]),{tagGroups:l,reset:function(){a({official:[],community:[]})}}}({search:c,filter:n}),d=s.tagGroups,y=s.reset,x=(0,f.Kb)({inputValue:l,items:d.newTag?[d.newTag]:g(d.official).concat(g(d.community)),defaultHighlightedIndex:0,itemToString:function(e){return e?e.id:""},onSelectedItemChange:function(e){e.selectedItem&&(y(),a(""),x.reset(),x.openMenu())}});return(0,m.Z)((function(){x.selectedItem&&u.current(x.selectedItem)}),[x.selectedItem]),{tagGroups:d,combobox:x,onChange:function(e){var t=e.currentTarget.value;t&&!Z.test(t)||t.length>30||a(t)}}}var C=r(24388),O=r(24506),S=r(79162),j=r(37466);function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){k(e,t,r[t])}))}return e}var I=(0,i.K)("ul"),A=(0,i.K)("li");function E(e){var t=e.children;return(0,n.tZ)(i.Z,{css:[l.l0.px(8),l.l0.pt(8)],children:(0,n.tZ)(d.x,{css:[{textTransform:"uppercase"}],variant:"small",color:"dimmer",children:t})})}function B(e){var t=e.highlighted,r=e.tag;return(0,n.BX)(i.Z,{css:[l.l0.rowWithGap(8),l.l0.p(8),t&&{backgroundColor:O.gU.listItem[":not([disabled])"][":active"].backgroundColor},{cursor:"pointer"}],children:[(0,n.BX)(i.Z,{css:[l.l0.flex.growAndShrink(1),l.l0.rowWithGap(4)],children:[(0,n.tZ)(d.x,{children:r.id}),r.isOfficial?(0,n.tZ)(j.Z,{}):null]}),r.replCount>0?(0,n.tZ)(d.x,{variant:"small",color:"dimmest",children:(0,C.d)(r.replCount)}):null]})}var _=o.memo((function(e){var t=e.getItemProps,r=e.highlightedIndex,o=e.data;return"newTag"===o.type?(0,n.tZ)(S.Z,{css:[l.l0.minWidth(200)],children:(0,n.BX)(A,{children:[(0,n.tZ)(E,{children:"Community Tags"}),(0,n.tZ)(d.x,{css:[l.l0.p(8),l.l0.pt(16)],color:"dimmest",children:"No tags found"}),(0,n.tZ)(I,{children:(0,n.tZ)(A,P({},t({item:o.newTag,index:0}),{css:[l.l0.p(8)],children:(0,n.BX)(u.Z,{elevated:!0,css:[l.l0.borderRadius(8),l.l0.p(8),{cursor:"pointer"}],children:['Create "',o.newTag.id,'" tag']})}))})]})}):(0,n.tZ)(S.Z,{css:[l.l0.minWidth(200)],children:o.sections.reduce((function(e,o){return e.sections.push((0,n.BX)(A,{children:[(0,n.tZ)(E,{children:o.title}),(0,n.tZ)(I,{css:[l.l0.pt(4),l.l0.pb(8)],children:o.tags.map((function(o){var i=e.itemIndex++;return(0,n.tZ)(A,P({},t({item:o,index:i}),{children:(0,n.tZ)(B,{tag:o,highlighted:r===i})}),o.id)}))})]},o.title)),e}),{sections:[],itemIndex:0}).sections})}));function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){U(e,t,r[t])}))}return e}var X=(0,i.K)("div"),L=(0,i.K)("input"),T=(0,c.iv)([l.l0.fontSize(12),l.l0.pl(24),l.l0.pr(8),l.l0.py(4)]);function M(){return(0,n.tZ)(d.x,{css:[l.l0.px(4),l.l0.flex.row,l.l0.align.center,l.l0.position.absolute,l.l0.height("100%"),l.l0.color.foregroundDefault,{top:0,left:4,pointerEvents:"none"}],children:(0,n.tZ)(s.Z,{size:12})})}function V(e){var t=e.text,r=e.children;return(0,n.BX)(u.Z,{elevated:!0,css:[l.l0.position.relative,l.l0.minWidth(30),l.l0.borderRadius(16),{border:"1px solid transparent","&:focus-within":{borderColor:l.TV.outlineDimmer,backgroundColor:"transparent"}}],children:[(0,n.tZ)(M,{}),(0,n.tZ)(d.x,{css:[{visibility:"hidden"},T],children:t}),r]})}function D(e){var t=e.onSelect,r=x({filter:e.filter,onSelect:t}),a=r.combobox,c=r.tagGroups,u=r.onChange,s=(0,o.useMemo)((function(){return function(e){if(e.newTag)return{type:"newTag",newTag:e.newTag};var t=[];return e.official.length&&t.push({title:"Official Tags",tags:e.official}),e.community.length&&t.push({title:"Community Tags",tags:e.community}),0===t.length?null:{type:"sections",sections:t}}(c)}),[c]),d="Add tag";return(0,n.BX)(i.Z,{children:[(0,n.tZ)(X,R({},a.getComboboxProps(),{css:[l.l0.flex.row],children:(0,n.tZ)(V,{text:a.inputValue||d,children:(0,n.tZ)(L,R({css:[l.l0.coverContainer,T,l.l0.color.foregroundDefault,{backgroundColor:"transparent","&::placeholder":l.l0.color.foregroundDefault,"&:focus::placeholder":l.l0.color.foregroundDimmest}]},a.getInputProps({placeholder:d,onChange:u,onFocus:function(){a.openMenu()}})))})})),(0,n.tZ)(X,R({},a.getMenuProps(),{css:[l.l0.position.relative],children:s&&a.isOpen?(0,n.tZ)(_,{getItemProps:a.getItemProps,highlightedIndex:a.highlightedIndex,data:s}):null}))]})}function W(e){var t=e.tags,r=e.max,o=void 0===r?5:r,c=e.onAdd,u=e.onRemove,s=t.map((function(e){return e.id}));return(0,n.BX)(i.Z,{css:[l.l0.flex.row,l.l0.flex.wrap,{margin:"calc(-1 * ".concat(l.TV.space4,")")}],children:[t.map((function(e,t){return(0,n.tZ)(i.Z,{css:[l.l0.m(4)],children:(0,n.tZ)(a.g,{small:!0,tag:e,onClick:function(){return u(t)}})},e.id)})),t.length<o?(0,n.tZ)(i.Z,{css:[l.l0.m(4)],children:(0,n.tZ)(D,{onSelect:c,filter:function(e){return!s.includes(e.id.toLowerCase())}})}):null]})}},78845:function(e,t,r){"use strict";function n(e){if(0===e.length)return"Adding tags helps others find your repl.";var t="Your Repl will be shared to";if(1===e.length)return"".concat(t," #").concat(e[0].id,".");if(2===e.length)return"".concat(t," #").concat(e[0].id," and #").concat(e[1].id,".");var r=e[e.length-1];return"".concat(t," ").concat(e.slice(0,-1).map((function(e){return"#".concat(e.id)})).join(", "),", and #").concat(r.id,".")}r.d(t,{Z:function(){return n}})},79236:function(e,t,r){"use strict";r.d(t,{c:function(){return p},Z:function(){return m}});var n=r(67294),o=r(11163),i=r(77070),l=r(88768),a=r(33108),c=r(65577);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return e?e.length>100?{message:"Title should not be more than ".concat(100," characters")}:void 0:{message:"Give your post a title"}}function f(e){return e?e.length>5e3?{message:"Post should not be more than ".concat(5e3," characters")}:void 0:{message:"Write something about this post"}}function p(e){var t,r=function(){if(!s.isValid)return null;if(x&&(!p.isValid||!h.isValid))return null;var e=s.value;if(null===e)throw new Error("Expected replId");var t=x?p.value:void 0,r=x?h.value:void 0;return{replId:e,iconUrl:m.value||void 0,title:t,body:r,tags:v.value.map((function(e){return e.id}))}},o=(0,n.useState)(!1),i=o[0],u=o[1],s=(0,a.Y)(e.replId||null,(function(e){return e?null:{message:"Select a Repl to share"}})),p=(0,a.Y)("",d),h=(0,a.Y)("",f),m=(0,a.Y)(null,(function(){return null})),v=(0,a.Y)([],(function(){return null})),b=(0,l.Nfb)({variables:{id:s.value||""},skip:!s.value}),y="Repl"===(null===(t=b.data)||void 0===t?void 0:t.repl.__typename)?b.data.repl:null,g=(0,c.Z)(v.setValue),Z=(0,c.Z)(m.setValue);(0,n.useEffect)((function(){y&&(g.current(y.tags),Z.current(y.iconUrl.endsWith(".svg")?null:y.iconUrl))}),[y,g,Z]);var w=(0,c.Z)([s.validate,p.validate,h.validate]);(0,n.useEffect)((function(){w.current.map((function(e){return e()}))}),[w]);var x=Boolean(i&&(p.value||h.value));return{replIdField:s,titleField:p,bodyField:h,replIconUrlField:m,tagsField:v,addPostIsExpanded:i,setAddPostIsExpanded:u,getInput:r,input:r(),inputError:function(){var e,t;return s.error?s.error.message:x?(null===(e=p.error)||void 0===e?void 0:e.message)||(null===(t=h.error)||void 0===t?void 0:t.message):void 0}(),selectedRepl:y}}function h(e){var t;if(null===e||void 0===e?void 0:e.error)return"Something went wrong";if(!(null===e||void 0===e?void 0:e.data))return null;var r=null===(t=e.data)||void 0===t?void 0:t.createReplPost2;return"UserError"===r.__typename||"NotFoundError"===r.__typename?r.message:null}function m(e){var t=e.source,r=(0,o.useRouter)(),n=s((0,l.HKC)({onCompleted:function(e){var n,o,l,a="Post"===e.createReplPost2.__typename?e.createReplPost2:null;a&&((0,i.j)(i.U3.POST_MADE,{source:t,isPublish:!1,title:a.title,description:null===(n=a.replComment)||void 0===n?void 0:n.body,isRemixed:Boolean(null===(o=a.repl)||void 0===o||null===(l=o.origin)||void 0===l?void 0:l.id),coverImage:!1}),r.push({pathname:"/postsFeed",query:{order:"new"}},{pathname:"/community/all",query:{order:"new"}}))}}),2),a=n[0],c=n[1];return{createReplPost:function(e){c.loading||a({variables:{input:e}})},error:h(c),loading:c.loading}}},12596:function(e,t,r){"use strict";r.d(t,{QE:function(){return S},ZP:function(){return j},P3:function(){return C}});var n=r(35944),o=r(65988),i=r.n(o),l=r(67294),a=r(94184),c=r.n(a),u=r(47240);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return(0,n.tZ)(u.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}({filled:!0},e,{children:(0,n.tZ)("circle",{cx:"12",cy:"12",r:"4"})}))}var f=r(8286),p=r(28614),h=r(58458),m=r(8996),v=r(11542),b=r(66970);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){g(e,t,r[t])}))}return e}function w(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C={default:"default",loading:"default",error:"negative",success:"positive"},O=l.forwardRef((function(e,t){var r,o,a,u=e.label,s=e.description,d=e.icon,y=e.onChange,g=e.large,O=e.placeholder,j=void 0===O?"":O,k=e.validationResults,P=w(e,["label","description","icon","onChange","large","placeholder","validationResults"]),I=x(l.useState(!1),2),A=I[0],E=I[1];(null===k||void 0===k?void 0:k.some((function(e){return"loading"===e.state})))?(r="loading",o=(0,n.tZ)(b.Z,{style:{width:"24px",height:"24px"}})):(null===k||void 0===k?void 0:k.some((function(e){return"error"===e.state})))?(r="error",a="var(--accent-negative-default)",o=(0,n.tZ)(p.Z,{})):(null===k||void 0===k?void 0:k.every((function(e){return"success"===e.state})))?(r="success",a="var(--accent-positive-default)",o=(0,n.tZ)(f.Z,{})):r="default";var B=C[r],_=g?"var(--font-size-subhead-default)":"var(--font-size-default)";return(0,n.BX)("div",{className:i().dynamic([["e3ba2db3d0d64fca",[a,_,P.monospace?"var(--font-family-code)":"var(--font-family-default)",_,d?"var(--space-24)":"auto"]]])+" container",children:[u&&(0,n.BX)(n.HY,{children:[P.required?(0,n.BX)(m.Ug,{spacing:"2px",children:[(0,n.tZ)(h.Z,{tag:"label",foreground:A?1:2,size:g?"small":"xsmall",children:u}),(0,n.tZ)("span",{className:i().dynamic([["e3ba2db3d0d64fca",[a,_,P.monospace?"var(--font-family-code)":"var(--font-family-default)",_,d?"var(--space-24)":"auto"]]])+" required",children:"*"})]}):(0,n.tZ)(h.Z,{tag:"label",foreground:A?1:2,size:g?"small":"xsmall",children:u}),(0,n.tZ)(v.Z,{height:"4px"})]}),(0,n.BX)("div",{className:i().dynamic([["e3ba2db3d0d64fca",[a,_,P.monospace?"var(--font-family-code)":"var(--font-family-default)",_,d?"var(--space-24)":"auto"]]])+" input-container",children:[d&&(0,n.tZ)("div",{className:i().dynamic([["e3ba2db3d0d64fca",[a,_,P.monospace?"var(--font-family-code)":"var(--font-family-default)",_,d?"var(--space-24)":"auto"]]])+" icon-container left",children:d}),(0,n.tZ)("input",Z({ref:t,"aria-label":u||"input",role:P.role||"search",required:P.required||!1,onChange:y,placeholder:j},P,{onFocus:function(e){E(!0),P.onFocus&&P.onFocus(e)},onBlur:function(e){E(!1),P.onBlur&&P.onBlur(e)},className:i().dynamic([["e3ba2db3d0d64fca",[a,_,P.monospace?"var(--font-family-code)":"var(--font-family-default)",_,d?"var(--space-24)":"auto"]]])+" "+(c()(B,P.className)||"")})),o&&(0,n.tZ)("div",{onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)},className:i().dynamic([["e3ba2db3d0d64fca",[a,_,P.monospace?"var(--font-family-code)":"var(--font-family-default)",_,d?"var(--space-24)":"auto"]]])+" icon-container right",children:o})]}),s&&(0,n.BX)(n.HY,{children:[(0,n.tZ)(v.Z,{height:"4px"}),(0,n.tZ)(h.Z,{tag:"span",foreground:3,size:g?"medium":"small",children:s})]}),(null===k||void 0===k?void 0:k.some((function(e){return!!e.message})))&&A&&(0,n.tZ)(S,{validationResults:k}),(0,n.tZ)(i(),{id:"e3ba2db3d0d64fca",dynamic:[a,_,P.monospace?"var(--font-family-code)":"var(--font-family-default)",_,d?"var(--space-24)":"auto"],children:".container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%}.required.__jsx-style-dynamic-selector{color:var(--accent-negative-default);font-size:var(--font-size-small)}.spacer.row.__jsx-style-dynamic-selector{width:var(--space-4)}.spacer.col.__jsx-style-dynamic-selector{height:var(--space-4)}.input-container.__jsx-style-dynamic-selector{position:relative}.icon-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;position:absolute;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);background-color:var(--background-default);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;padding:var(--space-4)}.icon-container.right.__jsx-style-dynamic-selector{right:var(--space-8);color:".concat(a,"}.icon-container.left.__jsx-style-dynamic-selector{left:var(--space-4);background-color:transparent;color:var(--foreground-dimmest)}input.__jsx-style-dynamic-selector{font-size:").concat(_,";font-family:").concat(P.monospace?"var(--font-family-code)":"var(--font-family-default)",";line-height:").concat(_,";background-color:var(--background-default);color:var(--foreground-default);padding:var(--space-8);padding-left:").concat(d?"var(--space-24)":"auto",";border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);outline:none;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:color.1s,background-color.1s;-moz-transition:color.1s,background-color.1s;-o-transition:color.1s,background-color.1s;transition:color.1s,background-color.1s}input.__jsx-style-dynamic-selector:disabled{opacity:.5}input.default.__jsx-style-dynamic-selector:hover{border-color:var(--accent-primary-dimmer)}input.success.__jsx-style-dynamic-selector{border-color:var(--accent-positive-stronger)}input.success.__jsx-style-dynamic-selector:hover{border-color:var(--accent-positive-dimmer)}input.negative.__jsx-style-dynamic-selector{border-color:var(--accent-negative-default)}input.negative.__jsx-style-dynamic-selector:hover{border-color:var(--accent-negative-dimmer)}input.__jsx-style-dynamic-selector:active,input.__jsx-style-dynamic-selector:focus{border-color:var(--accent-primary-default)}")})]})})),S=function(e){var t=e.validationResults;return(0,n.BX)("div",{className:"jsx-717f837fe0108fc4 container",children:[t.map((function(e,t){var r;switch(e.state){case"success":r=(0,n.tZ)(f.Z,{color:"var(--accent-positive-default)"});break;case"error":r=(0,n.tZ)(p.Z,{color:"var(--accent-negative-default)"});break;default:r=(0,n.tZ)(d,{color:"var(--foreground-dimmest)"})}return(0,n.BX)("div",{className:"jsx-717f837fe0108fc4 validation-row",children:[(0,n.tZ)("div",{className:"jsx-717f837fe0108fc4 validation-icon-container",children:r}),(0,n.tZ)(v.Z,{width:"4px"}),(0,n.tZ)(h.Z,{foreground:2,size:"small",children:e.message})]},e.state+t.toString())})),(0,n.tZ)(i(),{id:"717f837fe0108fc4",children:".container.jsx-717f837fe0108fc4{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:absolute;top:-webkit-calc(100% + var(--space-4));top:-moz-calc(100% + var(--space-4));top:calc(100% + var(--space-4));background-color:var(--background-default);padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);z-index:9999;-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2)}.validation-row.jsx-717f837fe0108fc4{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;width:100%;padding-bottom:var(--space-4)}.validation-icon-container.jsx-717f837fe0108fc4{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;padding-right:var(--space-4)}"})]})},j=O},88353:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(35944),o=(r(67294),r(47240));function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return(0,n.BX)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({},e,{children:[(0,n.tZ)("path",{d:"M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.tZ)("path",{d:"M12 17C14.2091 17 16 15.2091 16 13C16 10.7909 14.2091 9 12 9C9.79086 9 8 10.7909 8 13C8 15.2091 9.79086 17 12 17Z",strokeLinecap:"round",strokeLinejoin:"round"})]}))}},62246:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(35944),o=(r(67294),r(47240));function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return(0,n.tZ)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({},e,{children:(0,n.tZ)("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})}))}},10751:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(35944),o=(r(67294),r(47240));function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return(0,n.tZ)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({},e,{children:(0,n.tZ)("path",{d:"M21.8008 7.99963C21.8008 7.99963 21.6055 6.62073 21.0039 6.01526C20.2422 5.21838 19.3906 5.21448 19 5.1676C16.2031 4.96448 12.0039 4.96448 12.0039 4.96448H11.9961C11.9961 4.96448 7.79687 4.96448 5 5.1676C4.60938 5.21448 3.75781 5.21838 2.99609 6.01526C2.39453 6.62073 2.20312 7.99963 2.20312 7.99963C2.20312 7.99963 2 9.62073 2 11.2379V12.7535C2 14.3707 2.19922 15.9918 2.19922 15.9918C2.19922 15.9918 2.39453 17.3707 2.99219 17.9762C3.75391 18.7731 4.75391 18.7457 5.19922 18.8317C6.80078 18.984 12 19.0309 12 19.0309C12 19.0309 16.2031 19.0231 19 18.8239C19.3906 18.777 20.2422 18.7731 21.0039 17.9762C21.6055 17.3707 21.8008 15.9918 21.8008 15.9918C21.8008 15.9918 22 14.3746 22 12.7535V11.2379C22 9.62073 21.8008 7.99963 21.8008 7.99963ZM9.93359 14.5934V8.97229L15.3359 11.7926L9.93359 14.5934Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}},17365:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return rn}});var n=r(34051),o=r.n(n),i=r(35944),l=r(67294),a=r(12918),c=r(11163),u=r(92298),s=r(74545),d=r(66970),f=r(36526),p=r(75947),h=r(54929),m=r(7177),v=r(3204),b=r(66552),y=r(88768),g=r(67938),Z=r(94590),w=r(38334),x=r(30666),C=r(46258),O=r(74302),S=r(15985),j=r(77070),k=r(28747),P=r(92704);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){var t=e.onCancel,r=e.repl,n=e.onDelete,o=A((0,y.kEC)({variables:{id:r.id},onCompleted:function(){return n()}}),2),l=o[0],a=o[1];return(0,i.BX)(h.Z,{css:[v.l0.colWithGap(16)],children:[(0,i.BX)(g.h,{variant:"headerDefault",level:1,css:[v.l0.color.accentNegativeStronger],children:["Delete ",r.title]}),(0,i.tZ)(g.x,{variant:"subheadDefault",multiline:!0,children:"Are you sure you want to delete this Repl? This cannot be undone."}),(0,i.BX)(h.Z,{css:[v.l0.rowWithGap(8),{alignSelf:"flex-end"}],children:[(0,i.tZ)(P.ZP,{onClick:t,text:"Cancel"}),(0,i.tZ)(P.ZP,{onClick:function(){return l()},disabled:a.loading,text:"Yes, delete this Repl",colorway:"negative"})]})]})},B=r(22307),_=r(47240);function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){return(0,i.tZ)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){U(e,t,r[t])}))}return e}({},e,{children:(0,i.tZ)("path",{d:"M12 15.5H6C6 13.5 7.5 12 8.5 11V4L7.5 2H16.5L15.5 4V11C16.5 12 18 13.5 18 15.5H12ZM12 15.5V22",strokeLinecap:"round",strokeLinejoin:"round"})}))}var X=r(58375);function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){return(0,i.BX)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){L(e,t,r[t])}))}return e}({},e,{children:[(0,i.tZ)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.tZ)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.tZ)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}))}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){return(0,i.tZ)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){M(e,t,r[t])}))}return e}({},e,{children:(0,i.tZ)("path",{d:"M17 3C17.2626 2.73735 17.5744 2.52901 17.9176 2.38687C18.2608 2.24473 18.6286 2.17157 19 2.17157C19.3714 2.17157 19.7392 2.24473 20.0824 2.38687C20.4256 2.52901 20.7374 2.73735 21 3C21.2626 3.26264 21.471 3.57444 21.6131 3.9176C21.7553 4.26077 21.8284 4.62856 21.8284 5C21.8284 5.37143 21.7553 5.73923 21.6131 6.08239C21.471 6.42555 21.2626 6.73735 21 7L7.5 20.5L2 22L3.5 16.5L17 3Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}var D=r(71841);function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){return(0,i.BX)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){W(e,t,r[t])}))}return e}({},e,{children:[(0,i.tZ)("path",{d:"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.tZ)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",strokeLinecap:"round",strokeLinejoin:"round"})]}))}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"===typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}var H=[{label:"copy_link",icon:(0,i.tZ)(D.Z,{}),text:"Copy Link",color:"default"},{label:"spotlight",icon:(0,i.tZ)(z,{}),text:"Spotlight",color:"default"}],q=[{label:"edit",icon:(0,i.tZ)(V,{}),text:"Edit",color:"default"},{label:"unpin",icon:(0,i.tZ)(R,{}),text:"Unpin",color:"default"},{label:"delete",icon:(0,i.tZ)(X.Z,{}),text:"Delete",color:"var(--accent-negative-stronger)"}],$=function(e){var t=e.onSelect,r=e.showExtendedOptions,n=e.isOwner,o=N(l.useState([]),2),a=o[0],c=o[1];return l.useEffect((function(){c(Y(r?H:[]).concat(Y(n?q:[])))}),[r,n]),n||r?(0,i.tZ)(B.ZE,{cssProps:[{backgroundColor:"transparent"}],"aria-label":"more options",icon:(0,i.tZ)(T,{}),onAction:t,children:a.map((function(e){return(0,i.tZ)(B.ck,{"aria-label":e.label,children:(0,i.BX)(h.Z,{css:[v.l0.flex.row,v.l0.rowWithGap(8),{width:200,color:e.color}],children:[l.cloneElement(e.icon),(0,i.tZ)(g.x,{children:e.text})]})},e.label)}))}):null},K=r(79635),J=r(98647);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var te=function(e){var t=e.repl,r=ee(l.useState(!1),2),n=r[0],o=r[1];return(0,i.tZ)(K.ZP,{isOpen:n,placement:"bottom",tooltip:"Copied!",onOpenChange:function(){n&&setTimeout((function(){o(!1)}),2e3)},children:(0,i.tZ)(P.ZP,{text:"Copy Link",iconLeft:(0,i.tZ)(D.Z,{}),onClick:function(){(null===t||void 0===t?void 0:t.url)&&((0,J.Z)("https://replit.com".concat(t.url)),o(!0))}})})},re=r(73345);function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oe=function(e){var t=e.spotlightLinkProps;return(0,i.tZ)(re.Co,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ne(e,t,r[t])}))}return e}({text:"Spotlight",iconLeft:(0,i.tZ)(z,{})},t))},ie=r(46253),le=r(41664),ae=r(34860),ce=r(21555);function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var de=function(e){var t=e.spotlightLinkProps,r=e.repl,n=e.loading,o=e.comments,a=(0,c.useRouter)(),u=se(l.useState(!1),2),s=u[0],f=u[1];return r?(0,i.BX)(h.Z,{css:[v.l0.my(16),v.l0.flex.grow(2),v.l0.flex.shrink(2),v.l0.position.relative,v.l0.overflow("hidden")],children:[(0,i.BX)(h.Z,{css:[v.l0.center,v.l0.position.absolute,v.l0.height("100%"),v.l0.width(292),v.l0.zIndex(2),v.l0.top(0),v.l0.cursor.pointer],onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onClick:function(){return a.push(t.href,t.as)},children:[s&&(0,i.tZ)(h.Z,{css:[{backgroundColor:v.TV.backgroundHigher,opacity:.8,position:"absolute",top:0,width:"100%",height:"100%"}]}),s&&(0,i.BX)(h.Z,{css:[v.l0.center,v.l0.rowWithGap(8),v.l0.zIndex(3)],children:[(0,i.tZ)(ae.Z,{}),(0,i.tZ)(g.x,{children:"View all comments"})]})]}),n&&(0,i.tZ)(h.Z,{css:[v.l0.justify.center,v.l0.align.center],children:(0,i.tZ)(d.Z,{})}),r&&(0,i.tZ)(h.Z,{css:[v.l0.flex.row],children:(0,i.BX)(g.x,{variant:"small",color:"dimmer",children:["Recent comments (",r.commentCount,")"]})}),o.filter((function(e){return!e.isHidden})).map((function(e){return(0,i.BX)(h.Z,{css:[v.l0.flex.row,v.l0.mt(8)],children:[e.user&&(0,i.tZ)(h.Z,{children:(0,i.tZ)(ce.Yt,{user:e.user})}),(0,i.BX)(h.Z,{css:[v.l0.ml(8),v.l0.flex.shrink(2)],children:[e.user&&(0,i.tZ)(ce.wb,{user:e.user,timeCreated:e.timeCreated}),(0,i.tZ)(g.x,{multiline:!0,css:[v.l0.flex.shrink(2)],children:e.body})]})]},e.id)}))]}):null},fe=r(35013);function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){he(e,t,r[t])}))}return e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var be=function(e){var t,r,n,o,a,c,u,s=e.repl,d=ve(l.useState(!1),2),f=d[0],p=d[1],m=(0,y.ex8)({variables:{replId:s.id,count:6}}),b=m.data,Z=m.loading,w=m.refetch,x=!(null===(t=s.source)||void 0===t||null===(r=t.deployment)||void 0===r||null===(n=r.repl)||void 0===n?void 0:n.owner),C=(null===(o=s.source)||void 0===o||null===(a=o.deployment)||void 0===a?void 0:a.repl)&&(0,O.aq)(s.source.deployment.repl),S=(0,O.j3)(s),j="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)?b.repl:null,k=null!==(u=null===j||void 0===j||null===(c=j.comments)||void 0===c?void 0:c.items)&&void 0!==u?u:[];return(0,i.BX)(h.Z,{css:[v.l0.pl(8),v.l0.ml(8),{width:300,height:470}],children:[(x||!C)&&(0,i.BX)(g.x,{children:["Made with ",s.lang.displayName]}),!x&&C&&(0,i.BX)(g.x,{children:["Made with"," ",(0,i.tZ)(le.default,me({},C,{children:(0,i.tZ)("a",{children:s.templateInfo.label})}))]}),(0,i.tZ)(g.x,{css:[v.l0.pt(8)],multiline:!0,children:null===s||void 0===s?void 0:s.description}),(0,i.tZ)(de,{loading:Z,repl:j,comments:k,spotlightLinkProps:S}),(0,i.BX)(h.Z,{css:[{zIndex:2}],children:[(0,i.tZ)(h.Z,{css:[v.l0.width("100%"),v.l0.position.relative,v.l0.top(-10),{boxShadow:"0px -8px 12px 8px var(--background-default)",border:"1px solid var(--background-default)"}]}),f?(0,i.tZ)(fe.H,{autoFocus:!0,onCancel:function(){return p(!1)},onComment:function(){w()},replId:s.id,placeholder:s?"Say something about ".concat(s.title):""}):(0,i.tZ)(P.ZP,{text:"Leave a comment",iconLeft:(0,i.tZ)(ie.Z,{}),onClick:function(){return p(!0)}})]})]})};function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=function(e){var t=e.currentUser,r=e.user,n=e.refetchRepls,o=e.repl,a=e.width,u=(0,c.useRouter)(),s=Ze(l.useState(!1),2),d=s[0],f=s[1],p=Ze(l.useState(!1),2),P=p[0],I=p[1],A=Ze((0,k.Z)(),2),B=A[0],_=A[1].loading,U=Ze((0,y.gpq)({onCompleted:function(e){n(),(0,j.j)(j.U3.PINNED_REPL_UNPIN,{replId:e.unpinReplFromProfile.id})}}),1)[0],R=(0,O.aq)(o),X=(0,O.j3)(o),L=l.useCallback((function(){(null===o||void 0===o?void 0:o.url)&&(0,J.Z)("https://replit.com".concat(o.url))}),[o.url]),T=l.useCallback((function(e){switch(e){case"edit":u.push(R.href,R.as);break;case"delete":f(!0);break;case"unpin":U({variables:{replId:o.id}});break;case"copy_link":L();break;case"spotlight":u.push(X.href,X.as)}}),[L,R,X,u,o,U]),M=Ze(l.useState(0),2),V=M[0],D=M[1],W=Ze(l.useState(!0),2),z=W[0],G=W[1];l.useEffect((function(){a<900?(D(a/1.7),G(!1)):(D(a/2),G(!0))}),[a]);var N=(null===t||void 0===t?void 0:t.id)===r.id,Y=o.publishedAs===y.O2h.Template?{text:_?"Creating...":"Use Template",icon:(0,i.tZ)(Z.Z,{}),count:o.publicReleasesForkCount}:{text:_?"Forking...":"Fork repl",icon:(0,i.tZ)(w.Z,{}),count:o.publicForkCount},F=(0,i.tZ)(S.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ge(e,t,r[t])}))}return e}({},Y,{onClick:function(){var e,t;_||B({originId:o.id,replReleaseId:(null===(e=o.deployment)||void 0===e||null===(t=e.activeRelease)||void 0===t?void 0:t.id)||void 0,trackingData:{forkSource:"profileShowcase",isApp:o.publishedAs===y.O2h.App,isTemplate:o.publishedAs===y.O2h.Template}})},icon:(0,i.tZ)(w.Z,{}),colorway:"primary",onCountClick:function(){return I(!0)}}));return(0,i.BX)(b.Z,{background:"default",css:[v.l0.borderRadius(16),v.l0.colWithGap(16),v.l0.p(16),v.l0.width("100%")],children:[(0,i.BX)(h.Z,{css:[v.l0.flex.row,v.l0.justify.spaceBetween],children:[(0,i.tZ)(g.h,{variant:"headerDefault",level:2,children:o.title}),(0,i.BX)(h.Z,{css:[v.l0.rowWithGap(8)],children:[(N||!z)&&(0,i.tZ)($,{onSelect:T,showExtendedOptions:!z,isOwner:N}),z&&(0,i.tZ)(te,{repl:o}),z&&(0,i.tZ)(oe,{spotlightLinkProps:X}),z&&F]})]}),(0,i.BX)(h.Z,{css:[v.l0.flex.row],children:[(0,i.tZ)(h.Z,{css:[v.l0.flex.grow(2),v.l0.height(null!==V&&void 0!==V?V:470),v.l0.display.grid],children:(0,i.tZ)(C.Z,{currentUser:t||void 0,repl:o})}),z&&(0,i.tZ)(be,{repl:o})]}),!z&&(0,i.tZ)(h.Z,{css:[v.l0.align.end],children:F}),(0,i.tZ)(m.Z,{isOpen:d,onRequestClose:function(){return f(!1)},centered:!0,maxWidth:600,children:(0,i.tZ)(E,{repl:o,onCancel:function(){return f(!1)},onDelete:n})}),(0,i.tZ)(m.Z,{isOpen:P,onRequestClose:function(){return I(!1)},children:(0,i.tZ)(x.Z,{replId:o.id})})]})},xe=r(50553),Ce=r(27464),Oe=r(5383);function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Se(e,t,r[t])}))}return e}var ke={visibility:"hidden",opacity:0,pointerEvents:"none"},Pe=function(e){var t=e.dir,r=e.slider,n=e.currentSlide;if(!r)return null;var o="left"===t,l=r.details().size,a=(o?0===n:n===l-1)?ke:{},c=o?"-":"";return(0,i.tZ)(h.Z,{css:[v.l0.center,v.l0.backgroundColor.foregroundDimmest,v.l0.color.backgroundRoot,v.l0.position.absolute,v.l0.cursor.pointer,v.l0.width(36),v.l0.height(36),v.l0.top("50%"),v.l0.left(o?0:"auto"),v.l0.right(o?"auto":0),v.l0.zIndex(1),v.l0.borderRadius("full"),je({opacity:.75,transform:"translateX(".concat(c,"25%) translateY(-50%)"),transition:"background 0.1s, opacity 0.1s, transform 0.1s"},a,{":hover":{transform:"translateX(".concat(c,"25%) translateY(-50%) scale(1.2)"),background:"var(--foreground-dimmer)",opacity:1}})],onClick:function(){o?r.prev():r.next()},children:(0,i.tZ)(xe.Z,{size:24,rotate:o?90:-90})})},Ie=function(e){var t=e.slider,r=e.currentSlide,n=e.openPickModal,o=e.isOwner;if(!t)return null;var l=null===t||void 0===t?void 0:t.details().size;return(0,i.BX)(h.Z,{css:[v.l0.rowWithGap(16),v.l0.center],children:[(0,i.tZ)(h.Z,{css:[v.l0.rowWithGap(12),v.l0.align.center],children:Array.from({length:l},(function(e,n){var o=r===n;return(0,i.tZ)(h.Z,{css:[o?v.l0.cursor.default:v.l0.cursor.pointer,v.l0.width(16),v.l0.height(16),v.l0.justify.center,v.l0.align.center],onClick:function(){return e=n,void t.moveToSlide(e);var e},children:(0,i.tZ)(h.Z,{css:[o?v.l0.backgroundColor.accentPrimaryDefault:v.l0.backgroundColor.foregroundDimmest,v.l0.width(8),v.l0.height(8),v.l0.borderRadius("full")]})},n)}))}),o&&(0,i.tZ)(Ce.Z,{size:24,alt:"Add or remove pinned repls",onClick:n,children:(0,i.tZ)(Oe.Z,{})})]})},Ae=r(69047),Ee=r(38880),Be=r(37026);function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Re=function(e){var t=e.onSelect,r=e.showcasedRepls,n=(0,Ee.Z)(),o=n.showConfirm,l=n.showError,a=Ue((0,y.lr0)({onCompleted:function(e){o("Repl added to showcase"),t(),(0,j.j)(j.U3.PINNED_REPL_PIN,{replId:e.pinReplToProfile.id})},onError:function(e){l(e.message)}}),2),c=a[0],u=a[1],s=Ue((0,y.gpq)({onCompleted:function(e){o("Repl removed from showcase"),t(),(0,j.j)(j.U3.PINNED_REPL_UNPIN,{replId:e.unpinReplFromProfile.id})},onError:function(e){l(e.message)}}),2),d=s[0],f=s[1].loading||u.loading;return(0,i.BX)(h.Z,{css:[v.l0.colWithGap(16)],children:[(0,i.tZ)(g.h,{level:2,variant:"headerDefault",children:"Pick a Repl to showcase:"}),(0,i.tZ)(Ae.Z,{disabled:f,filter:function(e){return!r.find((function(t){return t.id===e.id}))},manualSelect:!0,onSelect:function(e){r.find((function(t){return t.id===e.id}))||c({variables:{replId:e.id}})}}),r.length>0?(0,i.BX)(h.Z,{css:[v.l0.pt(8),v.l0.colWithGap(8)],children:[(0,i.tZ)(g.h,{level:3,children:"Current Repls showcased:"}),r.map((function(e){return(0,i.BX)(b.Z,{background:"highest",css:[v.l0.flex.row,v.l0.justify.spaceBetween,v.l0.align.center,v.l0.p(8),v.l0.borderRadius(8)],children:[(0,i.BX)(h.Z,{css:[v.l0.rowWithGap(8)],children:[(0,i.tZ)(Be.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,i.tZ)(g.x,{css:[v.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],children:e.title})]}),(0,i.tZ)(P.ZP,{disabled:f,colorway:"primary",onClick:function(){return d({variables:{replId:e.id}})},text:"Remove"})]},e.id)}))]}):null]})},Xe=r(94184),Le=r.n(Xe),Te=r(85252),Me=r(58338),Ve=r(82730);function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function We(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){We(e,t,r[t])}))}return e}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return De(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ne=function(e){var t=e.currentUser,r=e.user,n=e.refetchRepls,o=r.pinnedRepls||[],a=Ge(l.useState(!1),2),c=a[0],u=a[1],s=Ge(l.useState(0),2),d=s[0],f=s[1],p=Ge(l.useState(0),2),b=p[0],y=p[1],g=Ge(l.useState(!1),2),Z=g[0],w=g[1],x=Ge((0,Ve.useKeenSlider)({controls:!Z,initial:0,slideChanged:function(e){var t=e.details().relativeSlide;f(t)}}),2),C=x[0],O=x[1],S=(0,Me.Z)(),j=(0,Te.Z)((function(e){O&&O.resize(),e.width&&(y(e.width),e.width<800?w(!1):w(!0))}));l.useEffect((function(){O&&(S(),O.refresh())}),[r.pinnedRepls,O,S]);var k=(null===t||void 0===t?void 0:t.id)===r.id;return(0,i.BX)(h.Z,{css:[v.l0.flex.grow(2)],children:[(0,i.BX)(h.Z,{tag:"div",css:[v.l0.width("100%"),v.l0.position.relative,v.l0.colWithGap(16)],innerRef:j,children:[Z&&(0,i.tZ)(Pe,{dir:"left",slider:O,currentSlide:d}),(0,i.tZ)("ul",{ref:C,className:"keen-slider",css:[{userSelect:"auto",touchAction:"auto",listStyleType:"none"}],children:o.map((function(t){return(0,i.tZ)("li",{className:Le()("keen-slider__slide"),children:(0,i.tZ)(we,ze({},e,{repl:t,width:b}))},t.id)}))}),Z&&(0,i.tZ)(Pe,{dir:"right",slider:O,currentSlide:d}),(0,i.tZ)(Ie,{isOwner:k,currentSlide:d,slider:O,openPickModal:function(){return u(!0)}})]}),(0,i.tZ)(m.Z,{isOpen:c,onRequestClose:function(){return u(!1)},centered:!0,maxWidth:600,children:(0,i.tZ)(Re,{onSelect:n,showcasedRepls:o})})]})},Ye=r(28428),Fe=r(87803),He=r(44778),qe=r(29594),$e=r(64326),Ke=r(63735),Je=r(45193),Qe=r(37424),et=r(31724),tt=r(89957),rt=r(33108),nt=r(99971);function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function it(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){it(e,t,r[t])}))}return e}function at(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ut="https://twitter.com/",st="https://www.linkedin.com/in/",dt="https://github.com/",ft="https://www.youtube.com/c/",pt=/[@/]/g,ht=function(e){var t=e.image,r=(0,Ee.Z)(),n=r.showError,o=r.showConfirm,l=ct((0,y.WPz)({onCompleted:function(){return o("Updated profile image")},onError:function(e){return n(e.message)}}),1)[0];return(0,i.tZ)(h.Z,{children:(0,i.tZ)(et.Z,{currentUser:{image:t},onChange:function(e){var t=e.imageId;return l({variables:{imageId:t}})}})})},mt=function(e){var t=e.label,r=e.multiline,n=void 0!==r&&r,o=at(e,["label","multiline"]),l=(0,Qe.H)()(t);return n?(0,i.BX)(h.Z,{css:[v.l0.colWithGap(8)],children:[(0,i.tZ)("label",{htmlFor:l,children:t}),(0,i.tZ)(tt.B,lt({id:l},o))]}):(0,i.BX)(h.Z,{css:[v.l0.colWithGap(8)],children:[(0,i.tZ)("label",{htmlFor:l,children:t}),(0,i.tZ)(tt.ZP,lt({id:l},o))]})},vt=function(e){var t,r,n=e.onUpdate,o=e.onRequestClose,a=(0,Ee.Z)().showConfirm,c=(0,rt.Y)("",(function(){return null})),u=(0,rt.Y)("",(function(){return null})),s=(0,rt.Y)("",(function(e){return(null===e||void 0===e?void 0:e.length)>140?{message:"Maximum length 140 characters"}:null})),f=(0,rt.Y)(void 0,(function(){return null})),p=(0,rt.Y)(void 0,(function(){return null})),m=(0,rt.Y)(void 0,(function(){return null})),b=(0,rt.Y)(void 0,(function(){return null})),Z=(0,rt.Y)(void 0,(function(){return null})),w=(0,rt.Y)(void 0,(function(){return null})),x=(0,y.t2E)(),C=x.data,O=x.error,S=x.loading,j=ct((0,y.J6S)({onCompleted:function(e){var t;"CurrentUser"===e.setUserSocials.__typename&&"CurrentUser"===(null===(t=e.updateCurrentUser)||void 0===t?void 0:t.__typename)&&(a("Updated profile"),n(),o())}}),2),k=j[0],I=j[1];l.useEffect((function(){var e,t,r,n,o,i,l,a,d,h,v;"CurrentUser"===(null===C||void 0===C||null===(e=C.currentUser)||void 0===e?void 0:e.__typename)&&(c.setValue(C.currentUser.firstName||""),u.setValue(C.currentUser.lastName||""),s.setValue(C.currentUser.bio||""),f.setValue(null===(t=C.currentUser.socials.find((function(e){return"twitter"===e.type})))||void 0===t||null===(r=t.url)||void 0===r?void 0:r.replace(ut,"")),m.setValue(null===(n=C.currentUser.socials.find((function(e){return"github"===e.type})))||void 0===n||null===(o=n.url)||void 0===o?void 0:o.replace(dt,"")),p.setValue(null===(i=C.currentUser.socials.find((function(e){return"linkedin"===e.type})))||void 0===i||null===(l=i.url)||void 0===l?void 0:l.replace(st,"")),b.setValue(null===(a=C.currentUser.socials.find((function(e){return"youtube"===e.type})))||void 0===a||null===(d=a.url)||void 0===d?void 0:d.replace(ft,"")),Z.setValue(null===(h=C.currentUser.socials.find((function(e){return"discord"===e.type})))||void 0===h?void 0:h.url),w.setValue(null===(v=C.currentUser.socials.find((function(e){return"website"===e.type})))||void 0===v?void 0:v.url))}),[null===C||void 0===C?void 0:C.currentUser]);var A=l.useCallback((function(){k({variables:{userInfoInput:{firstName:c.value,lastName:u.value,bio:s.value},socialInput:{socials:[{type:y.bkE.Twitter,url:f.value?"".concat(ut).concat(f.value.replace(ut,"").replace(pt,"")):void 0},{type:y.bkE.Github,url:m.value?"".concat(dt).concat(m.value.replace(dt,"").replace(pt,"")):void 0},{type:y.bkE.Linkedin,url:p.value?"".concat(st).concat(p.value.replace(st,"").replace(pt,"")):void 0},{type:y.bkE.Youtube,url:b.value?"".concat(ft).concat(b.value.replace(ft,"").replace(pt,"")):void 0},{type:y.bkE.Discord,url:Z.value},{type:y.bkE.Website,url:w.value}]}}})}),[c.value,u.value,s.value,w.value,Z.value,b.value,p.value,f.value,m.value]),E=C&&"CurrentUser"===(null===(t=C.currentUser)||void 0===t?void 0:t.__typename)&&C.currentUser;return(0,i.tZ)(h.Z,{css:[v.l0.p(16)],children:S?(0,i.tZ)(h.Z,{css:v.l0.align.center,children:(0,i.tZ)(d.Z,{})}):O?(0,i.tZ)(h.Z,{css:v.l0.align.center,children:(0,i.BX)(g.x,{children:["Something went wrong. Please"," ",(0,i.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"contact support"})]})}):E?(0,i.tZ)("form",{onSubmit:function(e){e.preventDefault(),A()},children:(0,i.BX)(h.Z,{css:[v.l0.colWithGap(24)],children:[(0,i.tZ)(g.h,{level:1,variant:"headerDefault",children:"Edit Profile"}),(0,i.tZ)(mt,{label:"First name",value:c.value,onChange:function(e){return c.setValue(e.target.value)}}),(0,i.tZ)(mt,{label:"Last name",value:u.value,onChange:function(e){return u.setValue(e.target.value)}}),(0,i.tZ)(mt,{label:"Bio",value:s.value,multiline:!0,onChange:function(e){return s.setValue(e.target.value)}}),(0,i.tZ)(nt.Z,{text:"Social Media Links"}),(0,i.tZ)(mt,{label:"Twitter username",value:f.value,onChange:function(e){return f.setValue(e.target.value)}}),(0,i.tZ)(mt,{label:"GitHub username",value:m.value,onChange:function(e){return m.setValue(e.target.value)}}),(0,i.tZ)(mt,{label:"LinkedIn username",value:p.value,onChange:function(e){return p.setValue(e.target.value)}}),(0,i.tZ)(mt,{label:"Discord username",value:Z.value,onChange:function(e){return Z.setValue(e.target.value)}}),(0,i.tZ)(mt,{label:"YouTube channel",value:b.value,onChange:function(e){return b.setValue(e.target.value)}}),(0,i.tZ)(mt,{label:"Website",value:w.value,onChange:function(e){return w.setValue(e.target.value)}}),I.error&&(0,i.tZ)(g.x,{multiline:!0,css:{color:v.TV.redStrongest},children:I.error.message}),I.data&&"UserError"===I.data.setUserSocials.__typename&&(0,i.tZ)(g.x,{multiline:!0,css:{color:v.TV.redStrongest},children:null===(r=I.data.setUserSocials)||void 0===r?void 0:r.message}),(0,i.BX)(h.Z,{css:[v.l0.justify.end,v.l0.rowWithGap(8)],children:[(0,i.tZ)(P.zx,{text:"Cancel",type:"button",disabled:I.loading,onClick:function(e){e.preventDefault(),o()}}),(0,i.tZ)(P.zx,{text:"Save",type:"submit",disabled:I.loading,colorway:"primary"})]})]})}):null})},bt=r(44054),yt=function(e){return"@media screen and (max-width: ".concat(bt.j[e],"px)")},gt=function(e){return"@media screen and (min-width: ".concat(bt.j[e],"px)")};function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ct=function(e){var t=e.user,r=e.isCurrentUser,n=e.onUpdate,o=(0,c.useRouter)(),a=xt(l.useState(!1),2),u=a[0],s=a[1],d=l.useCallback((function(){(0,j.j)(j.U3.UPGRADE_SELECTED,{source:"profile",planID:"hacker"}),o.push({pathname:"/pricing",query:{context:"upgrade-header-button",hasUpgradeLocationExperiment:!1}})}),[]);return(0,i.BX)(h.Z,{css:[{userSelect:"none"},wt({},gt("tabletMax"),{width:328})],children:[r&&(0,i.tZ)(Je.Z,{isOpen:u,onRequestClose:function(){return s(!1)},children:(0,i.tZ)(vt,{onUpdate:n,onRequestClose:function(){return s(!1)}})}),(0,i.BX)(h.Z,{css:[v.l0.flex.row,wt({},gt("tabletMax"),{flexDirection:"column"})],children:[(0,i.tZ)(h.Z,{css:[v.l0.mr(24)],children:r?(0,i.tZ)(ht,{image:t.image}):(0,i.tZ)(qe.Z,{size:"xl",url:t.image})}),(0,i.BX)(h.Z,{css:[v.l0.mt(16),v.l0.flex.growAndShrink(1),wt({},gt("tabletMax"),{marginTop:0})],children:[(0,i.BX)(h.Z,{children:[(0,i.BX)(h.Z,{css:[v.l0.flex.row,v.l0.flex.wrap,v.l0.align.start,v.l0.pt(16),v.l0.pb(8)],children:[(0,i.tZ)(g.h,{level:1,variant:"headerBig",css:[v.l0.mr(8),v.l0.mt(4),wt({width:"100%",maxWidth:"max-content"},gt("tabletMax"),{maxWidth:"min(max-content, 328px)",marginTop:0})],children:t.fullName||t.username}),(0,i.BX)(h.Z,{css:[v.l0.rowWithGap(8),v.l0.pt(8)],children:[t.isHacker&&(0,i.tZ)($e.Z,{name:"hacker",role:"hacker"}),t.roles.map((function(e){return(0,i.tZ)($e.Z,{role:e.key,name:e.name,tagline:e.tagline||void 0},e.id)}))]})]}),(0,i.BX)(g.x,{color:"dimmer",children:["@",t.username," ",(0,i.BX)("span",{title:"cycles",children:["(",t.karma,")"]})]})]}),(0,i.BX)(h.Z,{css:[v.l0.rowWithGap(8),v.l0.align.start,v.l0.mt(12)],children:[t.isLoggedIn&&(0,i.tZ)(P.ZP,{small:!0,iconLeft:(0,i.tZ)(Oe.Z,{}),text:"Edit",onClick:function(){return s(!0)}}),!t.isHacker&&t.isLoggedIn&&(0,i.tZ)(P.ZP,{small:!0,iconLeft:(0,i.tZ)(Ke.Z,{}),text:"Upgrade",onClick:d})]})]})]}),t.bio&&(0,i.tZ)(h.Z,{css:[v.l0.mt(16)],children:(0,i.tZ)(g.x,{multiline:!0,children:(0,i.tZ)(He.ZP,{properties:{rel:"nofollow"},children:t.bio})})})]})},Ot=r(66272),St=r(38696),jt=r(92329),kt=r(7163),Pt=r(25373),It=r(96175),At=r(89006),Et=r(15853),Bt=r(55435),_t=r(70917);function Ut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ut(e,t,r[t])}))}return e}var Xt=(0,_t.F4)("\n  from {transform: rotate(0deg);}\n  to {transform: rotate(5deg);}\n"),Lt=(0,_t.F4)("\n  0% {transform: rotate(0deg) translateX(clamp(45px, 10vw, 70px)) rotate(0deg) rotate(20deg);}\n  25% {transform: rotate(90deg) translateX(clamp(45px, 10vw, 70px)) rotate(-90deg) rotate(-20deg); }\n  50% {transform: rotate(180deg) translateX(clamp(45px, 10vw, 70px)) rotate(-180deg) rotate(20deg); }\n  75% {transform: rotate(270deg) translateX(clamp(45px, 10vw, 70px)) rotate(-270deg) rotate(-20deg); }\n  100% {transform: rotate(360deg) translateX(clamp(45px, 10vw, 70px)) rotate(-360deg) rotate(20deg); }\n"),Tt=" 7s linear infinite",Mt=function(e){var t=e.isOwnProfile;return(0,i.BX)(h.Z,{css:[v.l0.align.center,v.l0.colWithGap(64),v.l0.pt(32),v.l0.zIndex(2),Ut({},yt("tabletMin"),Rt({},v.l0.p(4),v.l0.colWithGap(32)))],children:[(0,i.BX)("div",{css:[v.l0.width("100%"),v.l0.maxWidth(436),v.l0.position.relative,{aspectRatio:"2.18 / 1"}],children:[(0,i.tZ)("img",{src:"/public/images/profile/wizard-cat.svg",alt:"a drawing of a cat wearing a lab coat and holding a wizard's wand",css:{position:"absolute",width:"46%",bottom:0,left:0,transformOrigin:"25% 100%",animation:Xt+" "+7/6+"s alternate infinite ease-out"}}),(0,i.tZ)("img",{src:"/public/images/profile/monitor.svg",alt:"a drawing of a monitor",css:{position:"absolute",width:"19%",top:44,right:56,animation:Lt+Tt}}),(0,i.tZ)("img",{src:"/public/images/profile/phone.svg",alt:"a drawing of a phone",css:{position:"absolute",width:"11%",top:51,right:68,animation:Lt+Tt,animationDelay:-7/3+"s"}}),(0,i.tZ)("img",{src:"/public/images/profile/coffee.svg",alt:"a drawing of a cup of coffee",css:{position:"absolute",width:"16%",top:56,right:64,animation:Lt+Tt,animationDelay:-14/3+"s"}})]}),(0,i.BX)(h.Z,{css:[v.l0.colWithGap(24),v.l0.align.center,v.l0.textAlign.center],children:[(0,i.tZ)(g.x,{variant:"subheadBig",multiline:!0,children:t?"This is where your repls would go... if you had any!":"This person does not have any repls yet!"}),t?(0,i.tZ)(h.Z,{css:{boxShadow:"0 0 16px rgba(87, 171, 255, 0.5)",borderRadius:8},children:(0,i.tZ)(Bt.Z,{trackingContext:"profile",children:(0,i.tZ)(P.ZP,{text:"Create your first repl",colorway:"primary"})})}):(0,i.tZ)(i.HY,{children:(0,i.tZ)(re.Co,{text:"Invite them to a repl",href:"/~"})})]})]})};function Vt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dt(e){return(0,i.tZ)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Vt(e,t,r[t])}))}return e}({},e,{children:(0,i.tZ)("path",{d:"M7.55016 21.75C16.6045 21.75 21.5583 14.2467 21.5583 7.74186C21.5583 7.53092 21.5536 7.3153 21.5442 7.10436C22.5079 6.40746 23.3395 5.54425 24 4.5553C23.1025 4.9546 22.1496 5.21538 21.1739 5.32874C22.2013 4.71291 22.9705 3.74547 23.3391 2.60577C22.3726 3.17856 21.3156 3.58261 20.2134 3.80061C19.4708 3.01156 18.489 2.48912 17.4197 2.31405C16.3504 2.13899 15.2532 2.32105 14.2977 2.8321C13.3423 3.34314 12.5818 4.15471 12.1338 5.14131C11.6859 6.12792 11.5754 7.23462 11.8195 8.2903C9.86249 8.19209 7.94794 7.6837 6.19998 6.7981C4.45203 5.91249 2.90969 4.66944 1.67297 3.14952C1.0444 4.23324 0.852057 5.51565 1.13503 6.73609C1.418 7.95654 2.15506 9.02345 3.19641 9.71999C2.41463 9.69517 1.64998 9.48468 0.965625 9.10592V9.16686C0.964925 10.3041 1.3581 11.4066 2.07831 12.2868C2.79852 13.167 3.80132 13.7706 4.91625 13.995C4.19206 14.1931 3.43198 14.222 2.69484 14.0794C3.00945 15.0574 3.62157 15.9129 4.44577 16.5263C5.26997 17.1398 6.26512 17.4806 7.29234 17.5012C5.54842 18.8711 3.39417 19.6141 1.17656 19.6106C0.783287 19.61 0.390399 19.5859 0 19.5384C2.25286 20.9837 4.87353 21.7514 7.55016 21.75Z"})}))}var Wt=r(62246);function zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gt(e){return(0,i.tZ)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){zt(e,t,r[t])}))}return e}({},e,{children:(0,i.tZ)("path",{d:"M22.2234 0H1.77187C0.792187 0 0 0.773438 0 1.72969V22.2656C0 23.2219 0.792187 24 1.77187 24H22.2234C23.2031 24 24 23.2219 24 22.2703V1.72969C24 0.773438 23.2031 0 22.2234 0ZM7.12031 20.4516H3.55781V8.99531H7.12031V20.4516ZM5.33906 7.43438C4.19531 7.43438 3.27188 6.51094 3.27188 5.37187C3.27188 4.23281 4.19531 3.30937 5.33906 3.30937C6.47813 3.30937 7.40156 4.23281 7.40156 5.37187C7.40156 6.50625 6.47813 7.43438 5.33906 7.43438ZM20.4516 20.4516H16.8937V14.8828C16.8937 13.5562 16.8703 11.8453 15.0422 11.8453C13.1906 11.8453 12.9094 13.2937 12.9094 14.7891V20.4516H9.35625V8.99531H12.7687V10.5609H12.8156C13.2891 9.66094 14.4516 8.70938 16.1813 8.70938C19.7859 8.70938 20.4516 11.0813 20.4516 14.1656V20.4516Z"})}))}var Nt=r(10751);function Yt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ft(e){return(0,i.BX)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Yt(e,t,r[t])}))}return e}({},e,{children:[(0,i.tZ)("path",{d:"M9.88804 10.068C9.20404 10.068 8.66404 10.668 8.66404 11.4C8.66404 12.132 9.21604 12.732 9.88804 12.732C10.572 12.732 11.112 12.132 11.112 11.4C11.124 10.668 10.572 10.068 9.88804 10.068ZM14.268 10.068C13.584 10.068 13.044 10.668 13.044 11.4C13.044 12.132 13.596 12.732 14.268 12.732C14.952 12.732 15.492 12.132 15.492 11.4C15.492 10.668 14.952 10.068 14.268 10.068Z"}),(0,i.tZ)("path",{d:"M20.1001 0H4.02006C2.66406 0 1.56006 1.104 1.56006 2.472V18.696C1.56006 20.064 2.66406 21.168 4.02006 21.168H17.6281L16.9921 18.948L18.5281 20.376L19.9801 21.72L22.5601 24V2.472C22.5601 1.104 21.4561 0 20.1001 0ZM15.4681 15.672C15.4681 15.672 15.0361 15.156 14.6761 14.7C16.2481 14.256 16.8481 13.272 16.8481 13.272C16.3561 13.596 15.8881 13.824 15.4681 13.98C14.8681 14.232 14.2921 14.4 13.7281 14.496C12.5761 14.712 11.5201 14.652 10.6201 14.484C9.93606 14.352 9.34806 14.16 8.85606 13.968C8.58006 13.86 8.28006 13.728 7.98006 13.56C7.94406 13.536 7.90806 13.524 7.87206 13.5C7.84806 13.488 7.83606 13.476 7.82406 13.464C7.60806 13.344 7.48806 13.26 7.48806 13.26C7.48806 13.26 8.06406 14.22 9.58806 14.676C9.22806 15.132 8.78406 15.672 8.78406 15.672C6.13206 15.588 5.12406 13.848 5.12406 13.848C5.12406 9.984 6.85206 6.852 6.85206 6.852C8.58006 5.556 10.2241 5.592 10.2241 5.592L10.3441 5.736C8.18406 6.36 7.18806 7.308 7.18806 7.308C7.18806 7.308 7.45206 7.164 7.89606 6.96C9.18006 6.396 10.2001 6.24 10.6201 6.204C10.6921 6.192 10.7521 6.18 10.8241 6.18C11.5561 6.084 12.3841 6.06 13.2481 6.156C14.3881 6.288 15.6121 6.624 16.8601 7.308C16.8601 7.308 15.9121 6.408 13.8721 5.784L14.0401 5.592C14.0401 5.592 15.6841 5.556 17.4121 6.852C17.4121 6.852 19.1401 9.984 19.1401 13.848C19.1401 13.848 18.1201 15.588 15.4681 15.672Z"})]}))}var Ht=r(57170);function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||Jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){if(e){if("string"===typeof e)return qt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qt(e,t):void 0}}var Qt=function(e){switch(e){case y.bkE.Twitter:return(0,i.tZ)(Dt,{filled:!0});case y.bkE.Discord:return(0,i.tZ)(Ft,{filled:!0});case y.bkE.Github:return(0,i.tZ)(Wt.Z,{filled:!0});case y.bkE.Linkedin:return(0,i.tZ)(Gt,{filled:!0});case y.bkE.Youtube:return(0,i.tZ)(Nt.Z,{filled:!0});case y.bkE.Website:return(0,i.tZ)(Ht.Z,{})}},er=[v.l0.mb(8),v.l0.p(4),v.l0.height("inherit"),v.l0.borderRadius(4),v.l0.backgroundColor.backgroundRoot,v.l0.color.foregroundDimmer,{border:"none","&:hover":{color:v.TV.foregroundDefault}}],tr=function(e){var t,r,n,o=e.user,a=$t(l.useState(!1),2),c=a[0],u=a[1];return o?(0,i.tZ)(h.Z,{css:[v.l0.pt(16),v.l0.rowWithGap(16),v.l0.flex.wrap,v.l0.justify.start,v.l0.align.start,(t={userSelect:"none"},r=gt("tabletMax"),n={maxWidth:328},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t)],children:o.socials.map((function(e){return"discord"===e.type?(0,i.tZ)(K.ZP,{isOpen:c,tooltip:"".concat(e.url," copied to clipboard"),placement:"bottom-end",children:(0,i.tZ)(P.ZP,{iconLeft:Qt(e.type),text:e.url,css:er,onClick:function(){(0,J.Z)(e.url),u(!0),setTimeout((function(){return u(!1)}),4e3)}},e.type)}):(0,i.tZ)(re.Co,{iconLeft:Qt(e.type),href:e.url,target:"_blank",text:e.type,css:Kt(er).concat([{textTransform:"capitalize"}])},e.type)}))}):null},rr=r(98741),nr=r(79236),or=r(56408),ir=r(88942),lr=r(69056),ar=r(52620),cr=r(11935),ur=r(59588),sr=r(28614),dr=r(87697),fr=r(53009),pr=r(35060),hr=r(13604),mr=r(78845),vr=r(17314),br=r(23573);function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){gr(e,t,r[t])}))}return e}function wr(e){return function(e){if(Array.isArray(e))return yr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return yr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xr=(0,h.K)("form"),Cr=function(){var e=(0,nr.c)({}),t=e.replIdField,r=e.titleField,n=e.bodyField,o=e.replIconUrlField,l=e.tagsField,a=e.getInput,c=e.inputError,u=e.selectedRepl,s=(0,rr.cX)(),d=(0,ir.Kb)({items:s.repls,initialHighlightedIndex:-1,onInputValueChange:function(e){var t=e.inputValue;s.setSearchValue(t)},onSelectedItemChange:function(e){(null===e||void 0===e?void 0:e.selectedItem)&&(t.setValue(e.selectedItem.id),d.closeMenu())},itemToString:rr._J}),f=(0,nr.Z)({source:"profile"}),p=f.createReplPost,m=f.error,y=f.loading,Z=Boolean(o.value&&!o.value.endsWith(".svg")),w=(0,or.W)(o.setValue);return(0,i.BX)(b.Z,{elevated:!0,css:[v.l0.p(16),v.l0.colWithGap(16),v.l0.borderRadius(8)],children:[(0,i.tZ)(g.x,{variant:"subheadBig",children:"Publish a Repl"}),(0,i.tZ)(ur.u,{icon:(0,i.tZ)(z,{}),text:"Publishing shares your work with the Replit community. Learn More.",href:"/postsFeed",as:"/community/all"}),(0,i.BX)(xr,{onSubmit:function(e){e.preventDefault();var t=a();t&&p(t)},css:[v.l0.colWithGap(24)],children:[(0,i.BX)(h.Z,{css:[v.l0.colWithGap(8)],children:[(0,i.tZ)(g.x,{color:"dimmer",children:"Repl"}),t.value&&u?(0,i.BX)(h.Z,{css:[v.l0.rowWithGap(8),v.l0.align.center],children:[(0,i.tZ)(Be.Z,{size:24,iconUrl:o.value||u.iconUrl,alt:u.title}),(0,i.tZ)(g.x,{variant:"subheadBig",children:u.title}),(0,i.tZ)(Ce.Z,{onClick:function(){d.reset(),t.setValue(null)},alt:"Remove Repl",children:(0,i.tZ)(pr.Z,{})})]}):null,t.value?null:(0,i.tZ)(rr.BP,{getComboboxProps:d.getComboboxProps,getInputProps:d.getInputProps,getItemProps:d.getItemProps,getMenuProps:d.getMenuProps,isOpen:d.isOpen,highlightedIndex:d.highlightedIndex,inputValue:d.inputValue,selectedRepl:d.selectedItem?Zr({},d.selectedItem,{iconUrl:o.value||d.selectedItem.iconUrl}):void 0,repls:s.repls,loading:s.loading,onFocus:function(e){d.selectedItem&&(e.preventDefault(),e.currentTarget.select(),s.setSearchValue("")),d.openMenu()}})]}),(0,i.BX)(h.Z,{css:[v.l0.colWithGap(12)],children:[(0,i.tZ)(g.x,{color:"dimmer",children:"Add more to your post"}),(0,i.tZ)(dr.Z,{headerContent:(0,i.BX)(g.x,{color:"dimmer",children:["Tags ",l.value.length,"/",5]}),children:(0,i.tZ)(h.Z,{css:[v.l0.pt(12),v.l0.colWithGap(8)],children:(0,i.BX)(h.Z,{css:[v.l0.colWithGap(4)],children:[(0,i.tZ)(lr.Z,{max:5,tags:l.value,onAdd:function(e){return l.setValue(wr(l.value).concat([e]))},onRemove:function(e){return l.setValue(wr(l.value.slice(0,e)).concat(wr(l.value.slice(e+1))))}}),(0,i.tZ)(g.x,{multiline:!0,color:"dimmest",variant:"small",children:(0,mr.Z)(l.value)})]})})}),(0,i.tZ)(dr.Z,{headerContent:(0,i.tZ)(g.x,{color:"dimmer",children:"Post Title & Description"}),children:(0,i.BX)(h.Z,{css:[v.l0.pt(8),v.l0.colWithGap(8)],children:[(0,i.tZ)(tt.ZP,{autoFocus:!0,value:r.value,onChange:function(e){return r.setValue(e.currentTarget.value)},placeholder:"Give your post a title"}),(0,i.tZ)(br.Z,{onChange:n.setValue,placeholder:"You can write a Post to explain why you are sharing your Repl in detail. Posts can be about project updates, bug fixes, launches, questions, and more."}),(0,i.tZ)(vr.Z,{})]})}),(0,i.tZ)(dr.Z,{headerContent:(0,i.tZ)(g.x,{color:"dimmer",children:"Custom Icon"}),children:(0,i.BX)(h.Z,{css:[v.l0.pt(8),v.l0.rowWithGap(8),v.l0.align.start],children:[(0,i.tZ)(fr.LN,{alt:"icon",size:84,iconUrl:w.previewUrl||o.value||(null===u||void 0===u?void 0:u.templateInfo.iconUrl),isLoading:Boolean(w.previewUrl)}),(0,i.BX)(h.Z,{css:[v.l0.colWithGap(8),v.l0.flex.growAndShrink(1)],children:[Z?(0,i.BX)(h.Z,{css:[v.l0.rowWithGap(8),v.l0.flex.growAndShrink(1)],children:[(0,i.tZ)(h.Z,{css:[v.l0.flex.growAndShrink(1)],children:(0,i.tZ)(hr.T,{text:"Change image",onFile:w.uploadImage})}),(0,i.tZ)(h.Z,{css:[v.l0.flex.growAndShrink(1)],children:(0,i.tZ)(P.ZP,{text:"Remove image",onClick:function(){return o.setValue(null)},outlined:!0,stretch:!0,iconLeft:(0,i.tZ)(pr.Z,{}),type:"button"})})]}):(0,i.tZ)(h.Z,{css:[v.l0.flex.growAndShrink(1)],children:(0,i.tZ)(hr.T,{text:"Upload custom image",onFile:w.uploadImage})}),w.error?(0,i.tZ)(h.Z,{children:(0,i.tZ)(cr.Z,{icon:(0,i.tZ)(sr.Z,{}),colorway:"negative",text:w.error,closable:!0,closeAction:w.clearError})}):null]})]})})]}),m?(0,i.tZ)(cr.Z,{colorway:"negative",icon:(0,i.tZ)(sr.Z,{}),text:m}):null,(0,i.tZ)(h.Z,Zr({},c?{"aria-label":c,"data-microtip-position":"bottom",role:"tooltip"}:{},{children:(0,i.tZ)(P.ZP,{iconLeft:(0,i.tZ)(ar.Z,{}),disabled:y||Boolean(c),colorway:"primary",text:y?"Publishing...":"Publish Repl",type:"submit",stretch:!0})}))]})]})},Or=r(89431),Sr=r(79744);function jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kr(e){return(0,i.tZ)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){jr(e,t,r[t])}))}return e}({},e,{children:(0,i.tZ)("path",{d:"M5 9L2 12M2 12L5 15M2 12H22M9 5L12 2M12 2L15 5M12 2V22M15 19L12 22M12 22L9 19M19 9L22 12M22 12L19 15",strokeLinecap:"round",strokeLinejoin:"round"})}))}var Pr=r(88353),Ir=r(38956),Ar=r(33717);function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _r=[["#C83625","#D7B02D"],["#00C9FF","#92FE9D"],["#0E55E0","#C36CEC"],["#CC4194","#EF967A"]],Ur=function(){var e=Math.floor(Math.random()*_r.length);return"linear-gradient(to right, ".concat(_r[e][0],", ").concat(_r[e][1],")")}(),Rr=function(e){return"touches"in e},Xr=function(e){var t=e.hasImage,r=e.onClick,n=[(0,i.tZ)(B.ck,{children:(0,i.BX)(h.Z,{css:[v.l0.flex.row,v.l0.rowWithGap(8),{width:200}],children:[(0,i.tZ)(ar.Z,{}),(0,i.tZ)(g.x,{children:"Upload profile image"})]})},"upload")];return t&&n.push((0,i.tZ)(B.ck,{children:(0,i.BX)(h.Z,{css:[v.l0.flex.row,v.l0.rowWithGap(8),{width:200}],children:[(0,i.tZ)(kr,{}),(0,i.tZ)(g.x,{children:"Position profile image"})]})},"position"),(0,i.tZ)(B.ck,{children:(0,i.BX)(h.Z,{css:[v.l0.flex.row,v.l0.rowWithGap(8),{width:200}],children:[(0,i.tZ)(X.Z,{}),(0,i.tZ)(g.x,{children:"Remove profile image"})]})},"remove")),(0,i.tZ)(B.ZE,{"aria-label":"update profile image",icon:(0,i.tZ)(Pr.Z,{}),onAction:function(e){return r(e)},children:n})},Lr=function(e){var t,r,n=e.username,o=e.isOwnProfile,a=(0,Ee.Z)(),c=a.showError,u=a.showConfirm,s=(0,y.YF_)({variables:{username:n},onCompleted:function(e){var t=e.user;(null===t||void 0===t?void 0:t.coverImage)&&(w(t.coverImage.url),k(t.coverImage.offsetY))}}).data,f=Br((0,y.jVI)({onCompleted:function(e){var t=e.setUserCoverImage;"CurrentUser"===t.__typename&&(t.coverImage?(w(t.coverImage.url),k(t.coverImage.offsetY)):(w(void 0),k(0))),u("Updated cover image")},onError:function(e){return c(e.message)}}),1)[0],p="User"===(null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.__typename)&&s.user,m="User"===(null===s||void 0===s||null===(r=s.user)||void 0===r?void 0:r.__typename)&&s.user.coverImage,b=(0,Ir.Z)({onUpload:function(e){var t=e.id,r=e.url;p&&f({variables:{input:{imageId:t,offsetY:0}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:p.id,coverImage:{url:r,offsetY:0}}}})},onUploadPreview:function(e){var t=e.dataUrl;return w(t)},onError:function(e){return c(e.message)}}),g=Br(l.useState(),2),Z=g[0],w=g[1],x=Br(l.useState(0),2),C=x[0],O=x[1],S=Br(l.useState(0),2),j=S[0],k=S[1],I=Br(l.useState(0),2),A=I[0],E=I[1],B=Br(l.useState(0),2),_=B[0],U=B[1],R=Br(l.useState(!1),2),X=R[0],L=R[1],T=l.useRef(null),M=l.useRef(null),V=l.useRef(),D=l.useRef(null),W=(0,Te.Z)((function(){V.current&&O(V.current.naturalHeight)})),z=l.useCallback((function(e){if(null!==e&&0!==e.length){var t=e.find((function(e){return e.type.startsWith("image/")}));t?b.uploadImage(t):c("Please select an image file")}}),[b,c]),G=l.useCallback((function(e){if(e.target===T.current&&null===D.current){e.preventDefault();var t=Rr(e)?e.touches[0].clientY:e.clientY;D.current=t}}),[]),N=l.useCallback((function(e){if(null!==D.current){e.preventDefault();var t=(Rr(e)?e.touches[0].clientY:e.clientY)-D.current,r=A+t;if(r<=0){if(C&&Math.abs(r)+200>C)return;U(t)}}}),[A,C]),Y=l.useCallback((function(e){null!==D.current&&(e.preventDefault(),E(A+_),U(0),D.current=null)}),[A,_]);return l.useEffect((function(){if(T.current&&X){var e=T.current;return e.addEventListener("mousedown",G),e.addEventListener("touchstart",G),window.addEventListener("mousemove",N),window.addEventListener("mouseup",Y),e.addEventListener("touchmove",N),e.addEventListener("touchend",Y),e.addEventListener("touchcancel",Y),function(){e&&(e.removeEventListener("mousedown",G),window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",Y),e.removeEventListener("touchstart",G),e.removeEventListener("touchmove",N),e.removeEventListener("touchend",Y),e.removeEventListener("touchcancel",Y))}}}),[T,X,G,N,Y]),p?(0,i.BX)(h.Z,{css:[{position:"absolute",height:200,width:"100%",userSelect:"none"},s&&!Z&&{backgroundImage:Ur}],children:[o&&(0,i.BX)(h.Z,{innerRef:T,css:[{position:"absolute",top:0,left:0,width:"100%",height:X?"100%":"auto",cursor:X?"move":"auto",zIndex:10}],children:[(0,i.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:M,accept:Ar.W.join(","),type:"file",onChange:function(e){var t=e.target,r=t.validity,n=t.files;r.valid&&z(n?Array.from(n):null)}}),(0,i.tZ)(h.Z,{css:[{position:"absolute",top:10,right:10,zIndex:99}],children:b.isLoading?(0,i.tZ)(h.Z,{css:[{margin:10,width:24,height:24}],children:(0,i.tZ)(d.Z,{})}):X?(0,i.BX)(h.Z,{css:[v.l0.rowWithGap(8)],children:[(0,i.tZ)(P.ZP,{text:"Cancel",onClick:function(e){e.stopPropagation(),E(0),U(0),L(!1)}}),(0,i.tZ)(P.ZP,{text:"Done",onClick:function(e){e.stopPropagation();var t=Math.floor(100*Math.abs(A/C));k(t),L(!1),p&&m&&f({variables:{input:{offsetY:t}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:p.id,coverImage:{url:m.url,offsetY:t}}}})}})]}):(0,i.tZ)(Xr,{hasImage:!!Z,onClick:function(e){var t;("remove"===e&&p&&(E(0),U(0),O(0),f({variables:{input:{remove:!0}},optimisticResponse:{setUserCoverImage:{__typename:"CurrentUser",id:p.id,coverImage:null}}})),"position"===e&&(L(!0),E(-Math.floor(C*(j/100))),U(0)),"upload"===e)&&(null===(t=M.current)||void 0===t||t.click())}})})]}),(0,i.tZ)(h.Z,{tag:"div",innerRef:W,css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}],children:Z&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(Sr.Z,{onLoad:function(e){V.current=e.target},onLoadingComplete:function(e){O(e.naturalHeight)},objectFit:"cover",objectPosition:"0 ".concat(X?A+_:C-j/100*C<200?0:-j/100*C,"px"),layout:"fill",src:Z,priority:!0}),(0,i.tZ)(h.Z,{css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.4))",backgroundRepeat:"no-repeat"}]})]})})]}):null},Tr=r(38402),Mr=r(9917),Vr=r(43552),Dr=r(14646),Wr=r(26535);var zr={id:"Profile",title:"New Replit Profile",content:function(){return(0,i.tZ)(h.Z,{children:(0,i.BX)("ul",{css:[v.l0.p(16),{listStyle:"disc",lineHeight:2}],children:[(0,i.tZ)("li",{children:"Appear online or offline"}),(0,i.tZ)("li",{children:"Repls are now part of your profile"}),(0,i.tZ)("li",{children:"Set a profile cover image"}),(0,i.tZ)("li",{children:"Add social media links to your profile"}),(0,i.tZ)("li",{children:"Show off Repl comment activity"})]})})}};function Gr(e){var t=e.targetElement,r=(0,Vr.Z)("announcement","learn-onboarding"),n=r.finished,o=r.register,a=(0,Vr.Z)("announcement","profile2"),c=a.shouldDisplay,u=a.register,s=a.dismiss;return l.useEffect((function(){o()}),[o]),l.useEffect((function(){u()}),[u]),!t||!n||!c?null:(0,i.BX)(i.HY,{children:[(0,i.tZ)(Dr.w,{targetElement:t}),(0,i.tZ)(Wr.k,{placement:"bottom-start",targetElement:t,activeStep:zr,currentStepIndex:0,done:s,goto:function(){},totalSteps:1,disableAnimation:!0})]})}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fr=function(e){var t,r,n,o,a,c,u,s,d=e.username,f=(0,y.bUN)({variables:{username:d},pollInterval:12e4}).data,p=(0,Ee.Z)().showError,m=l.useRef(null),b=Yr((0,y.Do3)({onCompleted:function(e){var t,r;"UserError"!==(null===(t=e.updateUserPrivacyPreferences)||void 0===t?void 0:t.__typename)&&"UnauthorizedError"!==(null===(r=e.updateUserPrivacyPreferences)||void 0===r?void 0:r.__typename)||p(e.updateUserPrivacyPreferences.message)},onError:function(e){return p(e.message)}}),1)[0],Z=null!=(null===f||void 0===f?void 0:f.user)&&(null===(t=f.user)||void 0===t?void 0:t.id)===(null===(r=f.currentUser)||void 0===r?void 0:r.id),w=null===(u=null===f||void 0===f||null===(n=f.currentUser)||void 0===n?void 0:n.showPresence)||void 0===u||u,x=l.useCallback((function(){var e;b({variables:{input:{show_presence:w?y.YHs.Never:y.YHs.WhenOnline}},optimisticResponse:{updateUserPrivacyPreferences:{__typename:"CurrentUser",id:(null===f||void 0===f||null===(e=f.currentUser)||void 0===e?void 0:e.id)||0,showPresence:!w}}})}),[null===f||void 0===f||null===(o=f.currentUser)||void 0===o?void 0:o.id,w,b]),C=(0,Me.Z)();if(l.useEffect((function(){return C()}),[C]),!f||(null===(a=f.user)||void 0===a?void 0:a.isPrivacyAccount)||!f.currentUser||!(null===f||void 0===f||null===(c=f.user)||void 0===c?void 0:c.presenceStatus))return null;var O=Z?w:null!==(s=f.user.presenceStatus.isOnline)&&void 0!==s&&s,S=O?v.l0.color.accentPositiveStronger:v.l0.color.foregroundDimmer,j=function(e){return e?"Online":"Offline"},k=!O&&!Z&&null!=f.user.presenceStatus.lastSeen&&"Last online ".concat((0,Mr.F)(f.user.presenceStatus.lastSeen)),P=[v.l0.rowWithGap(4),v.l0.p(4),v.l0.align.center];return Z?(0,i.BX)(i.HY,{children:[(0,i.tZ)(h.Z,{css:[v.l0.align.start,v.l0.pt(8)],children:(0,i.tZ)(B.ZE,{css:{backgroundColor:"transparent"},label:k||j(O),"aria-label":"update online presence",icon:(0,i.tZ)(Tr.Z,{size:6,filled:!0,css:[S]}),onAction:function(){return x()},innerRef:m,children:(0,i.BX)(B.ck,{children:[(0,i.BX)(g.x,{children:["Set yourself as ",j(!O).toLowerCase()]}),O&&(0,i.tZ)(g.x,{multiline:!0,color:"dimmer",variant:"small",children:"This will not affect your visibility within repls or teams."})]},"option")})}),(0,i.tZ)(Gr,{targetElement:m.current})]}):(0,i.BX)(h.Z,{css:P,children:[(0,i.tZ)(Tr.Z,{size:6,filled:!0,css:[S]}),(0,i.tZ)(g.x,{css:[S],children:k||j(O)})]})};function Hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $r=function(e){var t=e.refetchRepls,r=qr(l.useState(!1),2),n=r[0],o=r[1];return(0,i.BX)(h.Z,{css:[v.l0.flex.grow(2)],children:[(0,i.BX)(b.Z,{background:"higher",css:[v.l0.borderRadius(16),v.l0.width("100%"),v.l0.justify.center,v.l0.align.center,{height:240,position:"relative",overflow:"hidden"}],children:[(0,i.BX)(h.Z,{css:[v.l0.colWithGap(16),v.l0.align.center,v.l0.zIndex(2)],children:[(0,i.tZ)(g.x,{variant:"headerDefault",multiline:!0,children:"Pin a Repl to showcase it to others!"}),(0,i.tZ)(P.ZP,{colorway:"primary",text:"Pin a Repl",onClick:function(){return o(!0)},stretch:!1})]}),(0,i.tZ)(h.Z,{css:[{position:"absolute",top:68,left:"max(75%, 256px)",width:256}],children:(0,i.tZ)("img",{src:"/public/images/robot_holding_a_pen_512w.png",alt:"a drawing of a robot hand holding a pen"})})]}),(0,i.tZ)(m.Z,{isOpen:n,onRequestClose:function(){return o(!1)},centered:!0,maxWidth:600,children:(0,i.tZ)(Re,{onSelect:function(){t(),o(!1)},showcasedRepls:[]})})]})};function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jr(e,t,r,n,o,i,l){try{var a=e[i](l),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,o)}function Qr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);l=!0);}catch(c){a=!0,o=c}finally{try{l||null==r.return||r.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(){var e,t,r,n,o,f,m,b,g=(0,c.useRouter)(),Z=g.query,w=g.asPath,x=null===(e=Z.dialogReplId)||void 0===e?void 0:e.toString(),C=(null===(t=Z.username)||void 0===t?void 0:t.toString())||"",O=null!=Z.tab?Ot.e.find((function(e){var t;return e===(null===(t=Z.tab)||void 0===t?void 0:t.toString())})):void 0,S=Z.order?Z.order.toString():void 0,k=Z.count?parseInt(Z.count.toString(),10):void 0,I=(0,y.DCT)({variables:{username:C}}),A=I.data,E=I.loading,B=I.error,_=I.refetch,U=(0,Or.Z)("flag-profile-2-cover-image"),R=(0,Or.Z)("flag-profile-2-with-publish"),X=(0,Or.Z)("flag-showcase-2"),L=(0,Or.Z)("flag-profile-2-presence"),T=(0,Or.Z)("flag-new-pub-flow-profile-tab"),M=en(l.useState(!1),2),V=M[0],D=M[1],W=(0,Et.vT)(w),z=(0,Et.EZ)(W);if(B)return(0,i.tZ)(a.default,{statusCode:404});var G=null===A||void 0===A?void 0:A.currentUser,N=null===A||void 0===A?void 0:A.user,Y="string"===typeof Z.showcase?Number.parseInt(Z.showcase,10):void 0,F=E||!N||null==Y||Number.isNaN(Y)?void 0:N.pinnedRepls[Y],H=(null===G||void 0===G?void 0:G.username)===C,q=H?null===G||void 0===G?void 0:G.hasRepl:(null===N||void 0===N||null===(r=N.publicRepls)||void 0===r?void 0:r.items)&&(null===N||void 0===N||null===(n=N.publicRepls)||void 0===n||null===(o=n.items)||void 0===o?void 0:o.length)>0,$=(null===F||void 0===F?void 0:F.description)||(null===N||void 0===N?void 0:N.bio)||void 0,K=(null===F||void 0===F?void 0:F.imageUrl)||(null===N||void 0===N?void 0:N.image),J="";if(N){var Q=N.fullName?" (".concat(N.fullName,")"):"";J=N.username+Q,F&&(J="".concat(F.title," by ").concat(J))}var ee,te=N&&(X?(0,i.tZ)(Ne,{currentUser:G,refetchRepls:_,user:N}):(0,i.tZ)(Ye.Z,{currentUser:G,refetch:_,user:N}));return(0,i.BX)(u.Z,{description:$,image:K,title:J,children:[U&&(0,i.tZ)(Lr,{username:C,isOwnProfile:H}),E?(0,i.tZ)(d.Z,{style:{margin:"40px auto"}}):N?N.redirectToTeamDashboard?(0,i.tZ)(Fe.Z,{username:N.username}):(0,i.BX)(h.Z,{css:[v.l0.p(32),v.l0.rowWithGap(16),v.l0.width("100%"),v.l0.maxWidth(1400),Qr({margin:"0 auto",paddingTop:"96px"},yt("tabletMax"),{flexDirection:"column",padding:16,paddingTop:176})],children:[(0,i.BX)(h.Z,{css:[v.l0.pb(32),v.l0.position.relative,(ee={},Qr(ee,gt("tabletMin"),[v.l0.pr(24),v.l0.flex.column]),Qr(ee,gt("tabletMax"),[v.l0.position.sticky,v.l0.top(96),{alignSelf:"start"}]),Qr(ee,yt("tabletMax"),[v.l0.pb(0)]),ee)],children:[(0,i.tZ)(Ct,{user:N,isCurrentUser:(null===G||void 0===G?void 0:G.id)===N.id,onUpdate:_}),L&&(0,i.tZ)(Fr,{username:N.username}),(0,i.tZ)(tr,{user:N})]}),(0,i.tZ)(h.Z,{css:[v.l0.flex.grow(2),v.l0.flex.shrink(2),(null===(f=N.pinnedRepls)||void 0===f?void 0:f.length)<1&&!H&&v.l0.pt(128),Qr({},yt("tabletMax"),[(null===(m=N.pinnedRepls)||void 0===m?void 0:m.length)<1&&v.l0.pt(0)])],children:(0,i.tZ)(i.HY,{children:q?(0,i.BX)(h.Z,{css:[v.l0.colWithGap(16),v.l0.mt(16)],children:[(null===(b=N.pinnedRepls)||void 0===b?void 0:b.length)>0&&te,(null===G||void 0===G?void 0:G.id)===N.id&&N.pinnedRepls.length<1&&(0,i.tZ)($r,{refetchRepls:_}),(0,i.tZ)(Ot.Z,{currentTab:O,currentUser:G}),Z.tab?null:(0,i.BX)(h.Z,{children:[H&&(0,i.BX)(h.Z,{css:[v.l0.flex.row,v.l0.justify.spaceBetween,v.l0.align.center,v.l0.my(16)],children:[(0,i.tZ)(It.Z,{links:z,username:C}),R&&G&&(G.isAdmin||!G.isStudent&&!G.isPrivacyAccount)&&(0,i.tZ)(P.ZP,{iconLeft:(0,i.tZ)(ar.Z,{}),colorway:"primary",text:"Publish a Repl",onClick:function(){(0,j.j)(j.U3.PUBLISH_SELECTED,{source:"profile",isPublish:!1}),D(!0)}})]}),(0,i.tZ)(h.Z,{css:[v.l0.pb(128)],children:H?(0,i.tZ)(Pt.Z,{path:W,starred:Z.starred?!!Z.starred:void 0}):(0,i.tZ)(At.Z,{user:N})})]}),"posts"===O&&!T||("community"===O||"posts"===O)&&T?(0,i.tZ)(p.Z,{username:C,order:S,count:k}):null,"warnings"===O&&((null===G||void 0===G?void 0:G.isAdmin)||(null===G||void 0===G?void 0:G.isModerator))?(0,i.tZ)(jt.Z,{username:C}):null]}):(0,i.tZ)(Mt,{isOwnProfile:H})})})]}):(0,i.tZ)(s.Z,{}),(0,i.tZ)(Je.Z,{isOpen:null!=x,preventCloseOnRouteChange:!0,onRequestClose:function(){if(N){var e=(0,kt.Ru)(N,!0);g.push(e.href,e.as,{shallow:!0})}},width:"large",children:null!=x?(0,i.tZ)(St.Z,{replId:x}):null}),(0,i.tZ)(Je.Z,{isOpen:V,onRequestClose:function(){return D(!1)},children:(0,i.tZ)(Cr,{})})]})}tn.getInitialProps=function(){var e,t=(e=o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.req,n=t.store,e.next=3,(0,f.Z)(r,n);case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function l(e){Jr(i,n,o,l,a,"next",e)}function a(e){Jr(i,n,o,l,a,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();var rn=tn}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[5762,8350,3443,2240,4700,4012,2489,4778,4007,8966,9998,6354,9710,8944,3220,5930,7485,2448,1952,815,2317,1889,4072,2298,1,1575,6708,6950,2692,9742,5469,6258,8032,9341,5685,2435,9774,2888,179],(function(){return t(60964),t(78083)}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=profile2-e456ed6ea4b01e21.js.map