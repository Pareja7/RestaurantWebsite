(0,window.define)("idcta-v2/statusbar",["idcta-v2/idCookie","idcta-v2/id-config","idcta-v2/logger","idcta-v2/analytics"],(function(t,e,n,i){var a={};function c(t,i){return e.getConfigAsync().then((function(e){var n,a=i.getNameFromCookie(),c=e.translation_signedin;if(a){var s=a.substring(0,1).toUpperCase();14,c=(n=a).length>14?"".concat(n.substring(0,13),"â€¦"):n,t.element.className="".concat(t.element.className," idcta-avatar"),t.ctaLink.setAttribute("userInitial",s)}t.element.className="".concat(t.element.className," idcta-signedin"),t.ctaName.innerText=c})).catch((function(t){n.logCaughtError(t)}))}return a.Statusbar=function(i){try{if(this.id=null,this.element=null,this.ctaLink=null,this.ctaName=null,function(t){return!(!document.getElementById(t.id)||!t.blq&&!document.getElementById("idcta-link")||t.blq&&!document.getElementById(t["link-id"]))}(i)){this.id=i.id,this.element=document.getElementById(i.id),i.blq?(this.ctaLink=document.getElementById(i["link-id"])?document.getElementById(i["link-id"]):this.element.getElementsByTagName("a")[0],this.ctaName=i["name-id"]?document.getElementById(i["name-id"]):this.element.getElementsByTagName("span")[1]):(this.ctaLink=document.getElementById("idcta-link"),this.ctaName=this.element.getElementsByTagName("span")[0]);var a=this;!0===i.publiclyCacheable&&(t.getInstance().hasCookie()?e.getConfigAsync().then((function(e){e.status_url&&a.ctaLink.href!==e.status_url&&(a.ctaLink.href=e.status_url),c(a,t.getInstance())})):e.getConfigAsync().then((function(t){t.signin_url&&(a.ctaLink.href=t.signin_url),a.ctaName.innerText=t.translation_signedout})))}}catch(t){n.logCaughtError(t)}},a.updateForAuthorisedState=c,i.wrapModuleWithAnalytics(a,"statusbar"),a}));